"use strict";var Fk=Object.create;var hc=Object.defineProperty;var jk=Object.getOwnPropertyDescriptor;var Mk=Object.getOwnPropertyNames;var Uk=Object.getPrototypeOf,qk=Object.prototype.hasOwnProperty;var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Sp=(t,e)=>{for(var r in e)hc(t,r,{get:e[r],enumerable:!0})},fv=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Mk(e))!qk.call(t,a)&&a!==r&&hc(t,a,{get:()=>e[a],enumerable:!(s=jk(e,a))||s.enumerable});return t};var ae=(t,e,r)=>(r=t!=null?Fk(Uk(t)):{},fv(e||!t||!t.__esModule?hc(r,"default",{value:t,enumerable:!0}):r,t)),zk=t=>fv(hc({},"__esModule",{value:!0}),t);var xv=q((Q6,yv)=>{yv.exports=gv;gv.sync=Hk;var hv=require("fs");function Bk(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var s=0;s<r.length;s++){var a=r[s].toLowerCase();if(a&&t.substr(-a.length).toLowerCase()===a)return!0}return!1}function vv(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:Bk(e,r)}function gv(t,e,r){hv.stat(t,function(s,a){r(s,s?!1:vv(a,t,e))})}function Hk(t,e){return vv(hv.statSync(t),t,e)}});var Ev=q((X6,Sv)=>{Sv.exports=_v;_v.sync=Vk;var bv=require("fs");function _v(t,e,r){bv.stat(t,function(s,a){r(s,s?!1:wv(a,e))})}function Vk(t,e){return wv(bv.statSync(t),e)}function wv(t,e){return t.isFile()&&Gk(t,e)}function Gk(t,e){var r=t.mode,s=t.uid,a=t.gid,i=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),n=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),o=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=o|l,p=r&c||r&l&&a===n||r&o&&s===i||r&u&&i===0;return p}});var Cv=q((eG,Pv)=>{var Y6=require("fs"),vc;process.platform==="win32"||global.TESTING_WINDOWS?vc=xv():vc=Ev();Pv.exports=Ep;Ep.sync=Wk;function Ep(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(s,a){Ep(t,e||{},function(i,n){i?a(i):s(n)})})}vc(t,e||{},function(s,a){s&&(s.code==="EACCES"||e&&e.ignoreErrors)&&(s=null,a=!1),r(s,a)})}function Wk(t,e){try{return vc.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Dv=q((tG,Iv)=>{var In=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Rv=require("path"),Zk=In?";":":",Tv=Cv(),Ov=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),kv=(t,e)=>{let r=e.colon||Zk,s=t.match(/\//)||In&&t.match(/\\/)?[""]:[...In?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],a=In?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=In?a.split(r):[""];return In&&t.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:s,pathExt:i,pathExtExe:a}},Av=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:s,pathExt:a,pathExtExe:i}=kv(t,e),n=[],o=c=>new Promise((u,p)=>{if(c===s.length)return e.all&&n.length?u(n):p(Ov(t));let h=s[c],d=/^".*"$/.test(h)?h.slice(1,-1):h,m=Rv.join(d,t),f=!d&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;u(l(f,c,0))}),l=(c,u,p)=>new Promise((h,d)=>{if(p===a.length)return h(o(u+1));let m=a[p];Tv(c+m,{pathExt:i},(f,v)=>{if(!f&&v)if(e.all)n.push(c+m);else return h(c+m);return h(l(c,u,p+1))})});return r?o(0).then(c=>r(null,c),r):o(0)},Kk=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:s,pathExtExe:a}=kv(t,e),i=[];for(let n=0;n<r.length;n++){let o=r[n],l=/^".*"$/.test(o)?o.slice(1,-1):o,c=Rv.join(l,t),u=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let p=0;p<s.length;p++){let h=u+s[p];try{if(Tv.sync(h,{pathExt:a}))if(e.all)i.push(h);else return h}catch{}}}if(e.all&&i.length)return i;if(e.nothrow)return null;throw Ov(t)};Iv.exports=Av;Av.sync=Kk});var Nv=q((rG,Pp)=>{"use strict";var Lv=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"};Pp.exports=Lv;Pp.exports.default=Lv});var Mv=q((sG,jv)=>{"use strict";var $v=require("path"),Jk=Dv(),Qk=Nv();function Fv(t,e){let r=t.options.env||process.env,s=process.cwd(),a=t.options.cwd!=null,i=a&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(t.options.cwd)}catch{}let n;try{n=Jk.sync(t.command,{path:r[Qk({env:r})],pathExt:e?$v.delimiter:void 0})}catch{}finally{i&&process.chdir(s)}return n&&(n=$v.resolve(a?t.options.cwd:"",n)),n}function Xk(t){return Fv(t)||Fv(t,!0)}jv.exports=Xk});var Uv=q((aG,Rp)=>{"use strict";var Cp=/([()\][%!^"`<>&|;, *?])/g;function Yk(t){return t=t.replace(Cp,"^$1"),t}function e1(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(Cp,"^$1"),e&&(t=t.replace(Cp,"^$1")),t}Rp.exports.command=Yk;Rp.exports.argument=e1});var zv=q((nG,qv)=>{"use strict";qv.exports=/^#!(.*)/});var Hv=q((iG,Bv)=>{"use strict";var t1=zv();Bv.exports=(t="")=>{let e=t.match(t1);if(!e)return null;let[r,s]=e[0].replace(/#! ?/,"").split(" "),a=r.split("/").pop();return a==="env"?s:s?`${a} ${s}`:a}});var Gv=q((oG,Vv)=>{"use strict";var Tp=require("fs"),r1=Hv();function s1(t){let r=Buffer.alloc(150),s;try{s=Tp.openSync(t,"r"),Tp.readSync(s,r,0,150,0),Tp.closeSync(s)}catch{}return r1(r.toString())}Vv.exports=s1});var Jv=q((cG,Kv)=>{"use strict";var a1=require("path"),Wv=Mv(),Zv=Uv(),n1=Gv(),i1=process.platform==="win32",o1=/\.(?:com|exe)$/i,c1=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function l1(t){t.file=Wv(t);let e=t.file&&n1(t.file);return e?(t.args.unshift(t.file),t.command=e,Wv(t)):t.file}function u1(t){if(!i1)return t;let e=l1(t),r=!o1.test(e);if(t.options.forceShell||r){let s=c1.test(e);t.command=a1.normalize(t.command),t.command=Zv.command(t.command),t.args=t.args.map(i=>Zv.argument(i,s));let a=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${a}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function p1(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let s={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?s:u1(s)}Kv.exports=p1});var Yv=q((lG,Xv)=>{"use strict";var Op=process.platform==="win32";function kp(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function d1(t,e){if(!Op)return;let r=t.emit;t.emit=function(s,a){if(s==="exit"){let i=Qv(a,e);if(i)return r.call(t,"error",i)}return r.apply(t,arguments)}}function Qv(t,e){return Op&&t===1&&!e.file?kp(e.original,"spawn"):null}function f1(t,e){return Op&&t===1&&!e.file?kp(e.original,"spawnSync"):null}Xv.exports={hookChildProcess:d1,verifyENOENT:Qv,verifyENOENTSync:f1,notFoundError:kp}});var rg=q((uG,Dn)=>{"use strict";var eg=require("child_process"),Ap=Jv(),Ip=Yv();function tg(t,e,r){let s=Ap(t,e,r),a=eg.spawn(s.command,s.args,s.options);return Ip.hookChildProcess(a,s),a}function m1(t,e,r){let s=Ap(t,e,r),a=eg.spawnSync(s.command,s.args,s.options);return a.error=a.error||Ip.verifyENOENTSync(a.status,s),a}Dn.exports=tg;Dn.exports.spawn=tg;Dn.exports.sync=m1;Dn.exports._parse=Ap;Dn.exports._enoent=Ip});var Ng=q((nW,Lg)=>{"use strict";var{PassThrough:iA}=require("stream");Lg.exports=function(){var t=[],e=new iA({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=s,e.on("unpipe",a),Array.prototype.slice.call(arguments).forEach(r),e;function r(i){return Array.isArray(i)?(i.forEach(r),this):(t.push(i),i.once("end",a.bind(null,i)),i.once("error",e.emit.bind(e,"error")),i.pipe(e,{end:!1}),this)}function s(){return t.length==0}function a(i){t=t.filter(function(n){return n!==i}),!t.length&&e.readable&&e.end()}}});var eo=q((RW,ay)=>{"use strict";var _A="2.0.0",wA=Number.MAX_SAFE_INTEGER||9007199254740991,SA=16,EA=250,PA=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ay.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:SA,MAX_SAFE_BUILD_LENGTH:EA,MAX_SAFE_INTEGER:wA,RELEASE_TYPES:PA,SEMVER_SPEC_VERSION:_A,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var to=q((TW,ny)=>{"use strict";var CA=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ny.exports=CA});var Nn=q((ns,iy)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:sd,MAX_SAFE_BUILD_LENGTH:RA,MAX_LENGTH:TA}=eo(),OA=to();ns=iy.exports={};var kA=ns.re=[],AA=ns.safeRe=[],fe=ns.src=[],IA=ns.safeSrc=[],me=ns.t={},DA=0,ad="[a-zA-Z0-9-]",LA=[["\\s",1],["\\d",TA],[ad,RA]],NA=t=>{for(let[e,r]of LA)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ze=(t,e,r)=>{let s=NA(e),a=DA++;OA(t,a,e),me[t]=a,fe[a]=e,IA[a]=s,kA[a]=new RegExp(e,r?"g":void 0),AA[a]=new RegExp(s,r?"g":void 0)};ze("NUMERICIDENTIFIER","0|[1-9]\\d*");ze("NUMERICIDENTIFIERLOOSE","\\d+");ze("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ad}*`);ze("MAINVERSION",`(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})`);ze("MAINVERSIONLOOSE",`(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASEIDENTIFIER",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIER]})`);ze("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASE",`(?:-(${fe[me.PRERELEASEIDENTIFIER]}(?:\\.${fe[me.PRERELEASEIDENTIFIER]})*))`);ze("PRERELEASELOOSE",`(?:-?(${fe[me.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[me.PRERELEASEIDENTIFIERLOOSE]})*))`);ze("BUILDIDENTIFIER",`${ad}+`);ze("BUILD",`(?:\\+(${fe[me.BUILDIDENTIFIER]}(?:\\.${fe[me.BUILDIDENTIFIER]})*))`);ze("FULLPLAIN",`v?${fe[me.MAINVERSION]}${fe[me.PRERELEASE]}?${fe[me.BUILD]}?`);ze("FULL",`^${fe[me.FULLPLAIN]}$`);ze("LOOSEPLAIN",`[v=\\s]*${fe[me.MAINVERSIONLOOSE]}${fe[me.PRERELEASELOOSE]}?${fe[me.BUILD]}?`);ze("LOOSE",`^${fe[me.LOOSEPLAIN]}$`);ze("GTLT","((?:<|>)?=?)");ze("XRANGEIDENTIFIERLOOSE",`${fe[me.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ze("XRANGEIDENTIFIER",`${fe[me.NUMERICIDENTIFIER]}|x|X|\\*`);ze("XRANGEPLAIN",`[v=\\s]*(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:${fe[me.PRERELEASE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:${fe[me.PRERELEASELOOSE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAIN]}$`);ze("XRANGELOOSE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAINLOOSE]}$`);ze("COERCEPLAIN",`(^|[^\\d])(\\d{1,${sd}})(?:\\.(\\d{1,${sd}}))?(?:\\.(\\d{1,${sd}}))?`);ze("COERCE",`${fe[me.COERCEPLAIN]}(?:$|[^\\d])`);ze("COERCEFULL",fe[me.COERCEPLAIN]+`(?:${fe[me.PRERELEASE]})?(?:${fe[me.BUILD]})?(?:$|[^\\d])`);ze("COERCERTL",fe[me.COERCE],!0);ze("COERCERTLFULL",fe[me.COERCEFULL],!0);ze("LONETILDE","(?:~>?)");ze("TILDETRIM",`(\\s*)${fe[me.LONETILDE]}\\s+`,!0);ns.tildeTrimReplace="$1~";ze("TILDE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAIN]}$`);ze("TILDELOOSE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("LONECARET","(?:\\^)");ze("CARETTRIM",`(\\s*)${fe[me.LONECARET]}\\s+`,!0);ns.caretTrimReplace="$1^";ze("CARET",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAIN]}$`);ze("CARETLOOSE",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("COMPARATORLOOSE",`^${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]})$|^$`);ze("COMPARATOR",`^${fe[me.GTLT]}\\s*(${fe[me.FULLPLAIN]})$|^$`);ze("COMPARATORTRIM",`(\\s*)${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]}|${fe[me.XRANGEPLAIN]})`,!0);ns.comparatorTrimReplace="$1$2$3";ze("HYPHENRANGE",`^\\s*(${fe[me.XRANGEPLAIN]})\\s+-\\s+(${fe[me.XRANGEPLAIN]})\\s*$`);ze("HYPHENRANGELOOSE",`^\\s*(${fe[me.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[me.XRANGEPLAINLOOSE]})\\s*$`);ze("STAR","(<|>)?=?\\s*\\*");ze("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ze("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ac=q((OW,oy)=>{"use strict";var $A=Object.freeze({loose:!0}),FA=Object.freeze({}),jA=t=>t?typeof t!="object"?$A:t:FA;oy.exports=jA});var nd=q((kW,uy)=>{"use strict";var cy=/^[0-9]+$/,ly=(t,e)=>{let r=cy.test(t),s=cy.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},MA=(t,e)=>ly(e,t);uy.exports={compareIdentifiers:ly,rcompareIdentifiers:MA}});var Bt=q((AW,dy)=>{"use strict";var Ic=to(),{MAX_LENGTH:py,MAX_SAFE_INTEGER:Dc}=eo(),{safeRe:Lc,t:Nc}=Nn(),UA=Ac(),{compareIdentifiers:$n}=nd(),id=class t{constructor(e,r){if(r=UA(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>py)throw new TypeError(`version is longer than ${py} characters`);Ic("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let s=e.trim().match(r.loose?Lc[Nc.LOOSE]:Lc[Nc.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Dc||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dc||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dc||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){let i=+a;if(i>=0&&i<Dc)return i}return a}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ic("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),$n(this.major,e.major)||$n(this.minor,e.minor)||$n(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let s=this.prerelease[r],a=e.prerelease[r];if(Ic("prerelease compare",r,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return $n(s,a)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let s=this.build[r],a=e.build[r];if(Ic("build compare",r,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return $n(s,a)}while(++r)}inc(e,r,s){if(e.startsWith("pre")){if(!r&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let a=`-${r}`.match(this.options.loose?Lc[Nc.PRERELEASELOOSE]:Lc[Nc.PRERELEASE]);if(!a||a[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,s),this.inc("pre",r,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,s),this.inc("pre",r,s);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let a=Number(s)?1:0;if(this.prerelease.length===0)this.prerelease=[a];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(r){let i=[r,a];s===!1&&(i=[r]),$n(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};dy.exports=id});var Ca=q((IW,my)=>{"use strict";var fy=Bt(),qA=(t,e,r=!1)=>{if(t instanceof fy)return t;try{return new fy(t,e)}catch(s){if(!r)return null;throw s}};my.exports=qA});var vy=q((DW,hy)=>{"use strict";var zA=Ca(),BA=(t,e)=>{let r=zA(t,e);return r?r.version:null};hy.exports=BA});var yy=q((LW,gy)=>{"use strict";var HA=Ca(),VA=(t,e)=>{let r=HA(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};gy.exports=VA});var _y=q((NW,by)=>{"use strict";var xy=Bt(),GA=(t,e,r,s,a)=>{typeof r=="string"&&(a=s,s=r,r=void 0);try{return new xy(t instanceof xy?t.version:t,r).inc(e,s,a).version}catch{return null}};by.exports=GA});var Ey=q(($W,Sy)=>{"use strict";var wy=Ca(),WA=(t,e)=>{let r=wy(t,null,!0),s=wy(e,null,!0),a=r.compare(s);if(a===0)return null;let i=a>0,n=i?r:s,o=i?s:r,l=!!n.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(n)===0)return o.minor&&!o.patch?"minor":"patch"}let u=l?"pre":"";return r.major!==s.major?u+"major":r.minor!==s.minor?u+"minor":r.patch!==s.patch?u+"patch":"prerelease"};Sy.exports=WA});var Cy=q((FW,Py)=>{"use strict";var ZA=Bt(),KA=(t,e)=>new ZA(t,e).major;Py.exports=KA});var Ty=q((jW,Ry)=>{"use strict";var JA=Bt(),QA=(t,e)=>new JA(t,e).minor;Ry.exports=QA});var ky=q((MW,Oy)=>{"use strict";var XA=Bt(),YA=(t,e)=>new XA(t,e).patch;Oy.exports=YA});var Iy=q((UW,Ay)=>{"use strict";var eI=Ca(),tI=(t,e)=>{let r=eI(t,e);return r&&r.prerelease.length?r.prerelease:null};Ay.exports=tI});var Cr=q((qW,Ly)=>{"use strict";var Dy=Bt(),rI=(t,e,r)=>new Dy(t,r).compare(new Dy(e,r));Ly.exports=rI});var $y=q((zW,Ny)=>{"use strict";var sI=Cr(),aI=(t,e,r)=>sI(e,t,r);Ny.exports=aI});var jy=q((BW,Fy)=>{"use strict";var nI=Cr(),iI=(t,e)=>nI(t,e,!0);Fy.exports=iI});var $c=q((HW,Uy)=>{"use strict";var My=Bt(),oI=(t,e,r)=>{let s=new My(t,r),a=new My(e,r);return s.compare(a)||s.compareBuild(a)};Uy.exports=oI});var zy=q((VW,qy)=>{"use strict";var cI=$c(),lI=(t,e)=>t.sort((r,s)=>cI(r,s,e));qy.exports=lI});var Hy=q((GW,By)=>{"use strict";var uI=$c(),pI=(t,e)=>t.sort((r,s)=>uI(s,r,e));By.exports=pI});var ro=q((WW,Vy)=>{"use strict";var dI=Cr(),fI=(t,e,r)=>dI(t,e,r)>0;Vy.exports=fI});var Fc=q((ZW,Gy)=>{"use strict";var mI=Cr(),hI=(t,e,r)=>mI(t,e,r)<0;Gy.exports=hI});var od=q((KW,Wy)=>{"use strict";var vI=Cr(),gI=(t,e,r)=>vI(t,e,r)===0;Wy.exports=gI});var cd=q((JW,Zy)=>{"use strict";var yI=Cr(),xI=(t,e,r)=>yI(t,e,r)!==0;Zy.exports=xI});var jc=q((QW,Ky)=>{"use strict";var bI=Cr(),_I=(t,e,r)=>bI(t,e,r)>=0;Ky.exports=_I});var Mc=q((XW,Jy)=>{"use strict";var wI=Cr(),SI=(t,e,r)=>wI(t,e,r)<=0;Jy.exports=SI});var ld=q((YW,Qy)=>{"use strict";var EI=od(),PI=cd(),CI=ro(),RI=jc(),TI=Fc(),OI=Mc(),kI=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return EI(t,r,s);case"!=":return PI(t,r,s);case">":return CI(t,r,s);case">=":return RI(t,r,s);case"<":return TI(t,r,s);case"<=":return OI(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};Qy.exports=kI});var Yy=q((eZ,Xy)=>{"use strict";var AI=Bt(),II=Ca(),{safeRe:Uc,t:qc}=Nn(),DI=(t,e)=>{if(t instanceof AI)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Uc[qc.COERCEFULL]:Uc[qc.COERCE]);else{let l=e.includePrerelease?Uc[qc.COERCERTLFULL]:Uc[qc.COERCERTL],c;for(;(c=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let s=r[2],a=r[3]||"0",i=r[4]||"0",n=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return II(`${s}.${a}.${i}${n}${o}`,e)};Xy.exports=DI});var tx=q((tZ,ex)=>{"use strict";var ud=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(e,r)}return this}};ex.exports=ud});var Rr=q((rZ,nx)=>{"use strict";var LI=/\s+/g,pd=class t{constructor(e,r){if(r=$I(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof dd)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(LI," "),this.set=this.raw.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(a=>!sx(a[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let a of this.set)if(a.length===1&&BI(a[0])){this.set=[a];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let s=0;s<r.length;s++)s>0&&(this.formatted+=" "),this.formatted+=r[s].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let s=((this.options.includePrerelease&&qI)|(this.options.loose&&zI))+":"+e,a=rx.get(s);if(a)return a;let i=this.options.loose,n=i?Yt[Gt.HYPHENRANGELOOSE]:Yt[Gt.HYPHENRANGE];e=e.replace(n,YI(this.options.includePrerelease)),yt("hyphen replace",e),e=e.replace(Yt[Gt.COMPARATORTRIM],jI),yt("comparator trim",e),e=e.replace(Yt[Gt.TILDETRIM],MI),yt("tilde trim",e),e=e.replace(Yt[Gt.CARETTRIM],UI),yt("caret trim",e);let o=e.split(" ").map(p=>HI(p,this.options)).join(" ").split(/\s+/).map(p=>XI(p,this.options));i&&(o=o.filter(p=>(yt("loose invalid filter",p,this.options),!!p.match(Yt[Gt.COMPARATORLOOSE])))),yt("range list",o);let l=new Map,c=o.map(p=>new dd(p,this.options));for(let p of c){if(sx(p))return[p];l.set(p.value,p)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return rx.set(s,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(s=>ax(s,r)&&e.set.some(a=>ax(a,r)&&s.every(i=>a.every(n=>i.intersects(n,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new FI(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(eD(this.set[r],e,this.options))return!0;return!1}};nx.exports=pd;var NI=tx(),rx=new NI,$I=Ac(),dd=so(),yt=to(),FI=Bt(),{safeRe:Yt,t:Gt,comparatorTrimReplace:jI,tildeTrimReplace:MI,caretTrimReplace:UI}=Nn(),{FLAG_INCLUDE_PRERELEASE:qI,FLAG_LOOSE:zI}=eo(),sx=t=>t.value==="<0.0.0-0",BI=t=>t.value==="",ax=(t,e)=>{let r=!0,s=t.slice(),a=s.pop();for(;r&&s.length;)r=s.every(i=>a.intersects(i,e)),a=s.pop();return r},HI=(t,e)=>(yt("comp",t,e),t=WI(t,e),yt("caret",t),t=VI(t,e),yt("tildes",t),t=KI(t,e),yt("xrange",t),t=QI(t,e),yt("stars",t),t),Wt=t=>!t||t.toLowerCase()==="x"||t==="*",VI=(t,e)=>t.trim().split(/\s+/).map(r=>GI(r,e)).join(" "),GI=(t,e)=>{let r=e.loose?Yt[Gt.TILDELOOSE]:Yt[Gt.TILDE];return t.replace(r,(s,a,i,n,o)=>{yt("tilde",t,s,a,i,n,o);let l;return Wt(a)?l="":Wt(i)?l=`>=${a}.0.0 <${+a+1}.0.0-0`:Wt(n)?l=`>=${a}.${i}.0 <${a}.${+i+1}.0-0`:o?(yt("replaceTilde pr",o),l=`>=${a}.${i}.${n}-${o} <${a}.${+i+1}.0-0`):l=`>=${a}.${i}.${n} <${a}.${+i+1}.0-0`,yt("tilde return",l),l})},WI=(t,e)=>t.trim().split(/\s+/).map(r=>ZI(r,e)).join(" "),ZI=(t,e)=>{yt("caret",t,e);let r=e.loose?Yt[Gt.CARETLOOSE]:Yt[Gt.CARET],s=e.includePrerelease?"-0":"";return t.replace(r,(a,i,n,o,l)=>{yt("caret",t,a,i,n,o,l);let c;return Wt(i)?c="":Wt(n)?c=`>=${i}.0.0${s} <${+i+1}.0.0-0`:Wt(o)?i==="0"?c=`>=${i}.${n}.0${s} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.0${s} <${+i+1}.0.0-0`:l?(yt("replaceCaret pr",l),i==="0"?n==="0"?c=`>=${i}.${n}.${o}-${l} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}-${l} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o}-${l} <${+i+1}.0.0-0`):(yt("no pr"),i==="0"?n==="0"?c=`>=${i}.${n}.${o}${s} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}${s} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o} <${+i+1}.0.0-0`),yt("caret return",c),c})},KI=(t,e)=>(yt("replaceXRanges",t,e),t.split(/\s+/).map(r=>JI(r,e)).join(" ")),JI=(t,e)=>{t=t.trim();let r=e.loose?Yt[Gt.XRANGELOOSE]:Yt[Gt.XRANGE];return t.replace(r,(s,a,i,n,o,l)=>{yt("xRange",t,s,a,i,n,o,l);let c=Wt(i),u=c||Wt(n),p=u||Wt(o),h=p;return a==="="&&h&&(a=""),l=e.includePrerelease?"-0":"",c?a===">"||a==="<"?s="<0.0.0-0":s="*":a&&h?(u&&(n=0),o=0,a===">"?(a=">=",u?(i=+i+1,n=0,o=0):(n=+n+1,o=0)):a==="<="&&(a="<",u?i=+i+1:n=+n+1),a==="<"&&(l="-0"),s=`${a+i}.${n}.${o}${l}`):u?s=`>=${i}.0.0${l} <${+i+1}.0.0-0`:p&&(s=`>=${i}.${n}.0${l} <${i}.${+n+1}.0-0`),yt("xRange return",s),s})},QI=(t,e)=>(yt("replaceStars",t,e),t.trim().replace(Yt[Gt.STAR],"")),XI=(t,e)=>(yt("replaceGTE0",t,e),t.trim().replace(Yt[e.includePrerelease?Gt.GTE0PRE:Gt.GTE0],"")),YI=t=>(e,r,s,a,i,n,o,l,c,u,p,h)=>(Wt(s)?r="":Wt(a)?r=`>=${s}.0.0${t?"-0":""}`:Wt(i)?r=`>=${s}.${a}.0${t?"-0":""}`:n?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Wt(c)?l="":Wt(u)?l=`<${+c+1}.0.0-0`:Wt(p)?l=`<${c}.${+u+1}.0-0`:h?l=`<=${c}.${u}.${p}-${h}`:t?l=`<${c}.${u}.${+p+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),eD=(t,e,r)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let s=0;s<t.length;s++)if(yt(t[s].semver),t[s].semver!==dd.ANY&&t[s].semver.prerelease.length>0){let a=t[s].semver;if(a.major===e.major&&a.minor===e.minor&&a.patch===e.patch)return!0}return!1}return!0}});var so=q((sZ,px)=>{"use strict";var ao=Symbol("SemVer ANY"),hd=class t{static get ANY(){return ao}constructor(e,r){if(r=ix(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),md("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ao?this.value="":this.value=this.operator+this.semver.version,md("comp",this)}parse(e){let r=this.options.loose?ox[cx.COMPARATORLOOSE]:ox[cx.COMPARATOR],s=e.match(r);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new lx(s[2],this.options.loose):this.semver=ao}toString(){return this.value}test(e){if(md("Comparator.test",e,this.options.loose),this.semver===ao||e===ao)return!0;if(typeof e=="string")try{e=new lx(e,this.options)}catch{return!1}return fd(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new ux(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new ux(this.value,r).test(e.semver):(r=ix(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||fd(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||fd(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};px.exports=hd;var ix=Ac(),{safeRe:ox,t:cx}=Nn(),fd=ld(),md=to(),lx=Bt(),ux=Rr()});var no=q((aZ,dx)=>{"use strict";var tD=Rr(),rD=(t,e,r)=>{try{e=new tD(e,r)}catch{return!1}return e.test(t)};dx.exports=rD});var mx=q((nZ,fx)=>{"use strict";var sD=Rr(),aD=(t,e)=>new sD(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));fx.exports=aD});var vx=q((iZ,hx)=>{"use strict";var nD=Bt(),iD=Rr(),oD=(t,e,r)=>{let s=null,a=null,i=null;try{i=new iD(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!s||a.compare(n)===-1)&&(s=n,a=new nD(s,r))}),s};hx.exports=oD});var yx=q((oZ,gx)=>{"use strict";var cD=Bt(),lD=Rr(),uD=(t,e,r)=>{let s=null,a=null,i=null;try{i=new lD(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!s||a.compare(n)===1)&&(s=n,a=new cD(s,r))}),s};gx.exports=uD});var _x=q((cZ,bx)=>{"use strict";var vd=Bt(),pD=Rr(),xx=ro(),dD=(t,e)=>{t=new pD(t,e);let r=new vd("0.0.0");if(t.test(r)||(r=new vd("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){let a=t.set[s],i=null;a.forEach(n=>{let o=new vd(n.semver.version);switch(n.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||xx(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),i&&(!r||xx(r,i))&&(r=i)}return r&&t.test(r)?r:null};bx.exports=dD});var Sx=q((lZ,wx)=>{"use strict";var fD=Rr(),mD=(t,e)=>{try{return new fD(t,e).range||"*"}catch{return null}};wx.exports=mD});var zc=q((uZ,Rx)=>{"use strict";var hD=Bt(),Cx=so(),{ANY:vD}=Cx,gD=Rr(),yD=no(),Ex=ro(),Px=Fc(),xD=Mc(),bD=jc(),_D=(t,e,r,s)=>{t=new hD(t,s),e=new gD(e,s);let a,i,n,o,l;switch(r){case">":a=Ex,i=xD,n=Px,o=">",l=">=";break;case"<":a=Px,i=bD,n=Ex,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(yD(t,e,s))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],p=null,h=null;if(u.forEach(d=>{d.semver===vD&&(d=new Cx(">=0.0.0")),p=p||d,h=h||d,a(d.semver,p.semver,s)?p=d:n(d.semver,h.semver,s)&&(h=d)}),p.operator===o||p.operator===l||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===l&&n(t,h.semver))return!1}return!0};Rx.exports=_D});var Ox=q((pZ,Tx)=>{"use strict";var wD=zc(),SD=(t,e,r)=>wD(t,e,">",r);Tx.exports=SD});var Ax=q((dZ,kx)=>{"use strict";var ED=zc(),PD=(t,e,r)=>ED(t,e,"<",r);kx.exports=PD});var Lx=q((fZ,Dx)=>{"use strict";var Ix=Rr(),CD=(t,e,r)=>(t=new Ix(t,r),e=new Ix(e,r),t.intersects(e,r));Dx.exports=CD});var $x=q((mZ,Nx)=>{"use strict";var RD=no(),TD=Cr();Nx.exports=(t,e,r)=>{let s=[],a=null,i=null,n=t.sort((u,p)=>TD(u,p,r));for(let u of n)RD(u,e,r)?(i=u,a||(a=u)):(i&&s.push([a,i]),i=null,a=null);a&&s.push([a,null]);let o=[];for(let[u,p]of s)u===p?o.push(u):!p&&u===n[0]?o.push("*"):p?u===n[0]?o.push(`<=${p}`):o.push(`${u} - ${p}`):o.push(`>=${u}`);let l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var zx=q((hZ,qx)=>{"use strict";var Fx=Rr(),yd=so(),{ANY:gd}=yd,io=no(),xd=Cr(),OD=(t,e,r={})=>{if(t===e)return!0;t=new Fx(t,r),e=new Fx(e,r);let s=!1;e:for(let a of t.set){for(let i of e.set){let n=AD(a,i,r);if(s=s||n!==null,n)continue e}if(s)return!1}return!0},kD=[new yd(">=0.0.0-0")],jx=[new yd(">=0.0.0")],AD=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===gd){if(e.length===1&&e[0].semver===gd)return!0;r.includePrerelease?t=kD:t=jx}if(e.length===1&&e[0].semver===gd){if(r.includePrerelease)return!0;e=jx}let s=new Set,a,i;for(let d of t)d.operator===">"||d.operator===">="?a=Mx(a,d,r):d.operator==="<"||d.operator==="<="?i=Ux(i,d,r):s.add(d.semver);if(s.size>1)return null;let n;if(a&&i){if(n=xd(a.semver,i.semver,r),n>0)return null;if(n===0&&(a.operator!==">="||i.operator!=="<="))return null}for(let d of s){if(a&&!io(d,String(a),r)||i&&!io(d,String(i),r))return null;for(let m of e)if(!io(d,String(m),r))return!1;return!0}let o,l,c,u,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1;p&&p.prerelease.length===1&&i.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let d of e){if(u=u||d.operator===">"||d.operator===">=",c=c||d.operator==="<"||d.operator==="<=",a){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator===">"||d.operator===">="){if(o=Mx(a,d,r),o===d&&o!==a)return!1}else if(a.operator===">="&&!io(a.semver,String(d),r))return!1}if(i){if(p&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===p.major&&d.semver.minor===p.minor&&d.semver.patch===p.patch&&(p=!1),d.operator==="<"||d.operator==="<="){if(l=Ux(i,d,r),l===d&&l!==i)return!1}else if(i.operator==="<="&&!io(i.semver,String(d),r))return!1}if(!d.operator&&(i||a)&&n!==0)return!1}return!(a&&c&&!i&&n!==0||i&&u&&!a&&n!==0||h||p)},Mx=(t,e,r)=>{if(!t)return e;let s=xd(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},Ux=(t,e,r)=>{if(!t)return e;let s=xd(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};qx.exports=OD});var _d=q((vZ,Vx)=>{"use strict";var bd=Nn(),Bx=eo(),ID=Bt(),Hx=nd(),DD=Ca(),LD=vy(),ND=yy(),$D=_y(),FD=Ey(),jD=Cy(),MD=Ty(),UD=ky(),qD=Iy(),zD=Cr(),BD=$y(),HD=jy(),VD=$c(),GD=zy(),WD=Hy(),ZD=ro(),KD=Fc(),JD=od(),QD=cd(),XD=jc(),YD=Mc(),eL=ld(),tL=Yy(),rL=so(),sL=Rr(),aL=no(),nL=mx(),iL=vx(),oL=yx(),cL=_x(),lL=Sx(),uL=zc(),pL=Ox(),dL=Ax(),fL=Lx(),mL=$x(),hL=zx();Vx.exports={parse:DD,valid:LD,clean:ND,inc:$D,diff:FD,major:jD,minor:MD,patch:UD,prerelease:qD,compare:zD,rcompare:BD,compareLoose:HD,compareBuild:VD,sort:GD,rsort:WD,gt:ZD,lt:KD,eq:JD,neq:QD,gte:XD,lte:YD,cmp:eL,coerce:tL,Comparator:rL,Range:sL,satisfies:aL,toComparators:nL,maxSatisfying:iL,minSatisfying:oL,minVersion:cL,validRange:lL,outside:uL,gtr:pL,ltr:dL,intersects:fL,simplifyRange:mL,subset:hL,SemVer:ID,re:bd.re,src:bd.src,tokens:bd.t,SEMVER_SPEC_VERSION:Bx.SEMVER_SPEC_VERSION,RELEASE_TYPES:Bx.RELEASE_TYPES,compareIdentifiers:Hx.compareIdentifiers,rcompareIdentifiers:Hx.rcompareIdentifiers}});var xw=q((t7,yw)=>{"use strict";yw.exports=function(e){return e.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s\\]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}});var Cw=q((r7,Pw)=>{"use strict";var Ew="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",bw=new RegExp("^"+Ew+"$"),_w="|&;()<> \\t",Zq='"((\\\\"|[^"])*?)"',Kq="'((\\\\'|[^'])*?)'",Jq=/^#$/,ww="'",Sw='"',Sf="$",Ka="",Qq=4294967296;for(Ef=0;Ef<4;Ef++)Ka+=(Qq*Math.random()).toString(16);var Ef,Xq=new RegExp("^"+Ka);function Yq(t,e){for(var r=e.lastIndex,s=[],a;a=e.exec(t);)s.push(a),e.lastIndex===a.index&&(e.lastIndex+=1);return e.lastIndex=r,s}function e2(t,e,r){var s=typeof t=="function"?t(r):t[r];return typeof s>"u"&&r!=""?s="":typeof s>"u"&&(s="$"),typeof s=="object"?e+Ka+JSON.stringify(s)+Ka:e+s}function t2(t,e,r){r||(r={});var s=r.escape||"\\",a="(\\"+s+`['"`+_w+`]|[^\\s'"`+_w+"])+",i=new RegExp(["("+Ew+")","("+a+"|"+Zq+"|"+Kq+")+"].join("|"),"g"),n=Yq(t,i);if(n.length===0)return[];e||(e={});var o=!1;return n.map(function(l){var c=l[0];if(!c||o)return;if(bw.test(c))return{op:c};var u=!1,p=!1,h="",d=!1,m;function f(){m+=1;var x,w,C=c.charAt(m);if(C==="{"){if(m+=1,c.charAt(m)==="}")throw new Error("Bad substitution: "+c.slice(m-2,m+1));if(x=c.indexOf("}",m),x<0)throw new Error("Bad substitution: "+c.slice(m));w=c.slice(m,x),m=x}else if(/[*@#?$!_-]/.test(C))w=C,m+=1;else{var R=c.slice(m);x=R.match(/[^\w\d_]/),x?(w=R.slice(0,x.index),m+=x.index-1):(w=R,m=c.length)}return e2(e,"",w)}for(m=0;m<c.length;m++){var v=c.charAt(m);if(d=d||!u&&(v==="*"||v==="?"),p)h+=v,p=!1;else if(u)v===u?u=!1:u==ww?h+=v:v===s?(m+=1,v=c.charAt(m),v===Sw||v===s||v===Sf?h+=v:h+=s+v):v===Sf?h+=f():h+=v;else if(v===Sw||v===ww)u=v;else{if(bw.test(v))return{op:c};if(Jq.test(v)){o=!0;var g={comment:t.slice(l.index+m+1)};return h.length?[h,g]:[g]}else v===s?p=!0:v===Sf?h+=f():h+=v}}return d?{op:"glob",pattern:h}:h}).reduce(function(l,c){return typeof c>"u"?l:l.concat(c)},[])}Pw.exports=function(e,r,s){var a=t2(e,r,s);return typeof r!="function"?a:a.reduce(function(i,n){if(typeof n=="object")return i.concat(n);var o=n.split(RegExp("("+Ka+".*?"+Ka+")","g"));return o.length===1?i.concat(o[0]):i.concat(o.filter(Boolean).map(function(l){return Xq.test(l)?JSON.parse(l.split(Ka)[1]):l}))},[])}});var Cf=q(Pf=>{"use strict";Pf.quote=xw();Pf.parse=Cw()});var jw=q((l7,Fw)=>{var $w=require("stream").Stream,U2=require("util");Fw.exports=Zr;function Zr(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}U2.inherits(Zr,$w);Zr.create=function(t,e){var r=new this;e=e||{};for(var s in e)r[s]=e[s];r.source=t;var a=t.emit;return t.emit=function(){return r._handleEmit(arguments),a.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(Zr.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Zr.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Zr.prototype.resume=function(){this._released||this.release(),this.source.resume()};Zr.prototype.pause=function(){this.source.pause()};Zr.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};Zr.prototype.pipe=function(){var t=$w.prototype.pipe.apply(this,arguments);return this.resume(),t};Zr.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};Zr.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var zw=q((u7,qw)=>{var q2=require("util"),Uw=require("stream").Stream,Mw=jw();qw.exports=Et;function Et(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}q2.inherits(Et,Uw);Et.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Et.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Et.prototype.append=function(t){var e=Et.isStreamLike(t);if(e){if(!(t instanceof Mw)){var r=Mw.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Et.prototype.pipe=function(t,e){return Uw.prototype.pipe.call(this,t,e),this.resume(),t};Et.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Et.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var s=Et.isStreamLike(r);s&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Et.prototype._pipeNext=function(t){this._currentStream=t;var e=Et.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Et.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Et.prototype.write=function(t){this.emit("data",t)};Et.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Et.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Et.prototype.end=function(){this._reset(),this.emit("end")};Et.prototype.destroy=function(){this._reset(),this.emit("close")};Et.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Et.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Et.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Et.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var Bw=q((p7,z2)=>{z2.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Vw=q((d7,Hw)=>{Hw.exports=Bw()});var Zw=q(rr=>{"use strict";var Rl=Vw(),B2=require("path").extname,Gw=/^\s*([^;\s]*)(?:;|\s|$)/,H2=/^text\//i;rr.charset=Ww;rr.charsets={lookup:Ww};rr.contentType=V2;rr.extension=G2;rr.extensions=Object.create(null);rr.lookup=W2;rr.types=Object.create(null);Z2(rr.extensions,rr.types);function Ww(t){if(!t||typeof t!="string")return!1;var e=Gw.exec(t),r=e&&Rl[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&H2.test(e[1])?"UTF-8":!1}function V2(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?rr.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=rr.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function G2(t){if(!t||typeof t!="string")return!1;var e=Gw.exec(t),r=e&&rr.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function W2(t){if(!t||typeof t!="string")return!1;var e=B2("x."+t).toLowerCase().substr(1);return e&&rr.types[e]||!1}function Z2(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(Rl).forEach(function(a){var i=Rl[a],n=i.extensions;if(!(!n||!n.length)){t[a]=n;for(var o=0;o<n.length;o++){var l=n[o];if(e[l]){var c=r.indexOf(Rl[e[l]].source),u=r.indexOf(i.source);if(e[l]!=="application/octet-stream"&&(c>u||c===u&&e[l].substr(0,12)==="application/"))continue}e[l]=a}}})}});var Jw=q((m7,Kw)=>{Kw.exports=K2;function K2(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var Of=q((h7,Xw)=>{var Qw=Jw();Xw.exports=J2;function J2(t){var e=!1;return Qw(function(){e=!0}),function(s,a){e?t(s,a):Qw(function(){t(s,a)})}}});var kf=q((v7,Yw)=>{Yw.exports=Q2;function Q2(t){Object.keys(t.jobs).forEach(X2.bind(t)),t.jobs={}}function X2(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var Af=q((g7,t0)=>{var e0=Of(),Y2=kf();t0.exports=e9;function e9(t,e,r,s){var a=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[a]=t9(e,a,t[a],function(i,n){a in r.jobs&&(delete r.jobs[a],i?Y2(r):r.results[a]=n,s(i,r.results))})}function t9(t,e,r,s){var a;return t.length==2?a=t(r,e0(s)):a=t(r,e,e0(s)),a}});var If=q((y7,r0)=>{r0.exports=r9;function r9(t,e){var r=!Array.isArray(t),s={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&s.keyedList.sort(r?e:function(a,i){return e(t[a],t[i])}),s}});var Df=q((x7,s0)=>{var s9=kf(),a9=Of();s0.exports=n9;function n9(t){Object.keys(this.jobs).length&&(this.index=this.size,s9(this),a9(t)(null,this.results))}});var n0=q((b7,a0)=>{var i9=Af(),o9=If(),c9=Df();a0.exports=l9;function l9(t,e,r){for(var s=o9(t);s.index<(s.keyedList||t).length;)i9(t,e,s,function(a,i){if(a){r(a,i);return}if(Object.keys(s.jobs).length===0){r(null,s.results);return}}),s.index++;return c9.bind(s,r)}});var Lf=q((_7,Tl)=>{var i0=Af(),u9=If(),p9=Df();Tl.exports=d9;Tl.exports.ascending=o0;Tl.exports.descending=f9;function d9(t,e,r,s){var a=u9(t,r);return i0(t,e,a,function i(n,o){if(n){s(n,o);return}if(a.index++,a.index<(a.keyedList||t).length){i0(t,e,a,i);return}s(null,a.results)}),p9.bind(a,s)}function o0(t,e){return t<e?-1:t>e?1:0}function f9(t,e){return-1*o0(t,e)}});var l0=q((w7,c0)=>{var m9=Lf();c0.exports=h9;function h9(t,e,r){return m9(t,e,null,r)}});var p0=q((S7,u0)=>{u0.exports={parallel:n0(),serial:l0(),serialOrdered:Lf()}});var Nf=q((E7,d0)=>{"use strict";d0.exports=Object});var m0=q((P7,f0)=>{"use strict";f0.exports=Error});var v0=q((C7,h0)=>{"use strict";h0.exports=EvalError});var y0=q((R7,g0)=>{"use strict";g0.exports=RangeError});var b0=q((T7,x0)=>{"use strict";x0.exports=ReferenceError});var w0=q((O7,_0)=>{"use strict";_0.exports=SyntaxError});var Ol=q((k7,S0)=>{"use strict";S0.exports=TypeError});var P0=q((A7,E0)=>{"use strict";E0.exports=URIError});var R0=q((I7,C0)=>{"use strict";C0.exports=Math.abs});var O0=q((D7,T0)=>{"use strict";T0.exports=Math.floor});var A0=q((L7,k0)=>{"use strict";k0.exports=Math.max});var D0=q((N7,I0)=>{"use strict";I0.exports=Math.min});var N0=q(($7,L0)=>{"use strict";L0.exports=Math.pow});var F0=q((F7,$0)=>{"use strict";$0.exports=Math.round});var M0=q((j7,j0)=>{"use strict";j0.exports=Number.isNaN||function(e){return e!==e}});var q0=q((M7,U0)=>{"use strict";var v9=M0();U0.exports=function(e){return v9(e)||e===0?e:e<0?-1:1}});var B0=q((U7,z0)=>{"use strict";z0.exports=Object.getOwnPropertyDescriptor});var $f=q((q7,H0)=>{"use strict";var kl=B0();if(kl)try{kl([],"length")}catch{kl=null}H0.exports=kl});var G0=q((z7,V0)=>{"use strict";var Al=Object.defineProperty||!1;if(Al)try{Al({},"a",{value:1})}catch{Al=!1}V0.exports=Al});var Ff=q((B7,W0)=>{"use strict";W0.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),s=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var n=Object.getOwnPropertySymbols(e);if(n.length!==1||n[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==a||o.enumerable!==!0)return!1}return!0}});var J0=q((H7,K0)=>{"use strict";var Z0=typeof Symbol<"u"&&Symbol,g9=Ff();K0.exports=function(){return typeof Z0!="function"||typeof Symbol!="function"||typeof Z0("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:g9()}});var jf=q((V7,Q0)=>{"use strict";Q0.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Mf=q((G7,X0)=>{"use strict";var y9=Nf();X0.exports=y9.getPrototypeOf||null});var tS=q((W7,eS)=>{"use strict";var x9="Function.prototype.bind called on incompatible ",b9=Object.prototype.toString,_9=Math.max,w9="[object Function]",Y0=function(e,r){for(var s=[],a=0;a<e.length;a+=1)s[a]=e[a];for(var i=0;i<r.length;i+=1)s[i+e.length]=r[i];return s},S9=function(e,r){for(var s=[],a=r||0,i=0;a<e.length;a+=1,i+=1)s[i]=e[a];return s},E9=function(t,e){for(var r="",s=0;s<t.length;s+=1)r+=t[s],s+1<t.length&&(r+=e);return r};eS.exports=function(e){var r=this;if(typeof r!="function"||b9.apply(r)!==w9)throw new TypeError(x9+r);for(var s=S9(arguments,1),a,i=function(){if(this instanceof a){var u=r.apply(this,Y0(s,arguments));return Object(u)===u?u:this}return r.apply(e,Y0(s,arguments))},n=_9(0,r.length-s.length),o=[],l=0;l<n;l++)o[l]="$"+l;if(a=Function("binder","return function ("+E9(o,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var c=function(){};c.prototype=r.prototype,a.prototype=new c,c.prototype=null}return a}});var Po=q((Z7,rS)=>{"use strict";var P9=tS();rS.exports=Function.prototype.bind||P9});var Il=q((K7,sS)=>{"use strict";sS.exports=Function.prototype.call});var Uf=q((J7,aS)=>{"use strict";aS.exports=Function.prototype.apply});var iS=q((Q7,nS)=>{"use strict";nS.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var cS=q((X7,oS)=>{"use strict";var C9=Po(),R9=Uf(),T9=Il(),O9=iS();oS.exports=O9||C9.call(T9,R9)});var uS=q((Y7,lS)=>{"use strict";var k9=Po(),A9=Ol(),I9=Il(),D9=cS();lS.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new A9("a function is required");return D9(k9,I9,e)}});var vS=q((eJ,hS)=>{"use strict";var L9=uS(),pS=$f(),fS;try{fS=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var qf=!!fS&&pS&&pS(Object.prototype,"__proto__"),mS=Object,dS=mS.getPrototypeOf;hS.exports=qf&&typeof qf.get=="function"?L9([qf.get]):typeof dS=="function"?function(e){return dS(e==null?e:mS(e))}:!1});var _S=q((tJ,bS)=>{"use strict";var gS=jf(),yS=Mf(),xS=vS();bS.exports=gS?function(e){return gS(e)}:yS?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return yS(e)}:xS?function(e){return xS(e)}:null});var zf=q((rJ,wS)=>{"use strict";var N9=Function.prototype.call,$9=Object.prototype.hasOwnProperty,F9=Po();wS.exports=F9.call(N9,$9)});var OS=q((sJ,TS)=>{"use strict";var et,j9=Nf(),M9=m0(),U9=v0(),q9=y0(),z9=b0(),ui=w0(),li=Ol(),B9=P0(),H9=R0(),V9=O0(),G9=A0(),W9=D0(),Z9=N0(),K9=F0(),J9=q0(),CS=Function,Bf=function(t){try{return CS('"use strict"; return ('+t+").constructor;")()}catch{}},Co=$f(),Q9=G0(),Hf=function(){throw new li},X9=Co?function(){try{return arguments.callee,Hf}catch{try{return Co(arguments,"callee").get}catch{return Hf}}}():Hf,oi=J0()(),Dt=_S(),Y9=Mf(),e4=jf(),RS=Uf(),Ro=Il(),ci={},t4=typeof Uint8Array>"u"||!Dt?et:Dt(Uint8Array),Qa={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?et:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?et:ArrayBuffer,"%ArrayIteratorPrototype%":oi&&Dt?Dt([][Symbol.iterator]()):et,"%AsyncFromSyncIteratorPrototype%":et,"%AsyncFunction%":ci,"%AsyncGenerator%":ci,"%AsyncGeneratorFunction%":ci,"%AsyncIteratorPrototype%":ci,"%Atomics%":typeof Atomics>"u"?et:Atomics,"%BigInt%":typeof BigInt>"u"?et:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?et:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?et:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?et:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":M9,"%eval%":eval,"%EvalError%":U9,"%Float16Array%":typeof Float16Array>"u"?et:Float16Array,"%Float32Array%":typeof Float32Array>"u"?et:Float32Array,"%Float64Array%":typeof Float64Array>"u"?et:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?et:FinalizationRegistry,"%Function%":CS,"%GeneratorFunction%":ci,"%Int8Array%":typeof Int8Array>"u"?et:Int8Array,"%Int16Array%":typeof Int16Array>"u"?et:Int16Array,"%Int32Array%":typeof Int32Array>"u"?et:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":oi&&Dt?Dt(Dt([][Symbol.iterator]())):et,"%JSON%":typeof JSON=="object"?JSON:et,"%Map%":typeof Map>"u"?et:Map,"%MapIteratorPrototype%":typeof Map>"u"||!oi||!Dt?et:Dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":j9,"%Object.getOwnPropertyDescriptor%":Co,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?et:Promise,"%Proxy%":typeof Proxy>"u"?et:Proxy,"%RangeError%":q9,"%ReferenceError%":z9,"%Reflect%":typeof Reflect>"u"?et:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?et:Set,"%SetIteratorPrototype%":typeof Set>"u"||!oi||!Dt?et:Dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?et:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":oi&&Dt?Dt(""[Symbol.iterator]()):et,"%Symbol%":oi?Symbol:et,"%SyntaxError%":ui,"%ThrowTypeError%":X9,"%TypedArray%":t4,"%TypeError%":li,"%Uint8Array%":typeof Uint8Array>"u"?et:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?et:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?et:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?et:Uint32Array,"%URIError%":B9,"%WeakMap%":typeof WeakMap>"u"?et:WeakMap,"%WeakRef%":typeof WeakRef>"u"?et:WeakRef,"%WeakSet%":typeof WeakSet>"u"?et:WeakSet,"%Function.prototype.call%":Ro,"%Function.prototype.apply%":RS,"%Object.defineProperty%":Q9,"%Object.getPrototypeOf%":Y9,"%Math.abs%":H9,"%Math.floor%":V9,"%Math.max%":G9,"%Math.min%":W9,"%Math.pow%":Z9,"%Math.round%":K9,"%Math.sign%":J9,"%Reflect.getPrototypeOf%":e4};if(Dt)try{null.error}catch(t){SS=Dt(Dt(t)),Qa["%Error.prototype%"]=SS}var SS,r4=function t(e){var r;if(e==="%AsyncFunction%")r=Bf("async function () {}");else if(e==="%GeneratorFunction%")r=Bf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Bf("async function* () {}");else if(e==="%AsyncGenerator%"){var s=t("%AsyncGeneratorFunction%");s&&(r=s.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&Dt&&(r=Dt(a.prototype))}return Qa[e]=r,r},ES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},To=Po(),Dl=zf(),s4=To.call(Ro,Array.prototype.concat),a4=To.call(RS,Array.prototype.splice),PS=To.call(Ro,String.prototype.replace),Ll=To.call(Ro,String.prototype.slice),n4=To.call(Ro,RegExp.prototype.exec),i4=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,o4=/\\(\\)?/g,c4=function(e){var r=Ll(e,0,1),s=Ll(e,-1);if(r==="%"&&s!=="%")throw new ui("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&r!=="%")throw new ui("invalid intrinsic syntax, expected opening `%`");var a=[];return PS(e,i4,function(i,n,o,l){a[a.length]=o?PS(l,o4,"$1"):n||i}),a},l4=function(e,r){var s=e,a;if(Dl(ES,s)&&(a=ES[s],s="%"+a[0]+"%"),Dl(Qa,s)){var i=Qa[s];if(i===ci&&(i=r4(s)),typeof i>"u"&&!r)throw new li("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:s,value:i}}throw new ui("intrinsic "+e+" does not exist!")};TS.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new li("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new li('"allowMissing" argument must be a boolean');if(n4(/^%?[^%]*%?$/,e)===null)throw new ui("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=c4(e),a=s.length>0?s[0]:"",i=l4("%"+a+"%",r),n=i.name,o=i.value,l=!1,c=i.alias;c&&(a=c[0],a4(s,s4([0,1],c)));for(var u=1,p=!0;u<s.length;u+=1){var h=s[u],d=Ll(h,0,1),m=Ll(h,-1);if((d==='"'||d==="'"||d==="`"||m==='"'||m==="'"||m==="`")&&d!==m)throw new ui("property names with quotes must have matching quotes");if((h==="constructor"||!p)&&(l=!0),a+="."+h,n="%"+a+"%",Dl(Qa,n))o=Qa[n];else if(o!=null){if(!(h in o)){if(!r)throw new li("base intrinsic for "+e+" exists, but the property is not available.");return}if(Co&&u+1>=s.length){var f=Co(o,h);p=!!f,p&&"get"in f&&!("originalValue"in f.get)?o=f.get:o=o[h]}else p=Dl(o,h),o=o[h];p&&!l&&(Qa[n]=o)}}return o}});var AS=q((aJ,kS)=>{"use strict";var u4=Ff();kS.exports=function(){return u4()&&!!Symbol.toStringTag}});var LS=q((nJ,DS)=>{"use strict";var p4=OS(),IS=p4("%Object.defineProperty%",!0),d4=AS()(),f4=zf(),m4=Ol(),Nl=d4?Symbol.toStringTag:null;DS.exports=function(e,r){var s=arguments.length>2&&!!arguments[2]&&arguments[2].force,a=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof s<"u"&&typeof s!="boolean"||typeof a<"u"&&typeof a!="boolean")throw new m4("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Nl&&(s||!f4(e,Nl))&&(IS?IS(e,Nl,{configurable:!a,enumerable:!1,value:r,writable:!1}):e[Nl]=r)}});var $S=q((iJ,NS)=>{NS.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var jS=q((oJ,FS)=>{var Zf=zw(),h4=require("util"),Vf=require("path"),v4=require("http"),g4=require("https"),y4=require("url").parse,x4=require("fs"),b4=require("stream").Stream,Gf=Zw(),_4=p0(),w4=LS(),Wf=$S();FS.exports=nt;h4.inherits(nt,Zf);function nt(t){if(!(this instanceof nt))return new nt(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Zf.call(this),t=t||{};for(var e in t)this[e]=t[e]}nt.LINE_BREAK=`\r
`;nt.DEFAULT_CONTENT_TYPE="application/octet-stream";nt.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var s=Zf.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var a=this._multiPartHeader(t,e,r),i=this._multiPartFooter();s(a),s(e),s(i),this._trackLength(a,e,r)};nt.prototype._trackLength=function(t,e,r){var s=0;r.knownLength!=null?s+=+r.knownLength:Buffer.isBuffer(e)?s=e.length:typeof e=="string"&&(s=Buffer.byteLength(e)),this._valueLength+=s,this._overheadLength+=Buffer.byteLength(t)+nt.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Object.prototype.hasOwnProperty.call(e,"httpVersion"))&&!(e instanceof b4))&&(r.knownLength||this._valuesToMeasure.push(e))};nt.prototype._lengthRetriever=function(t,e){Object.prototype.hasOwnProperty.call(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):x4.stat(t.path,function(r,s){var a;if(r){e(r);return}a=s.size-(t.start?t.start:0),e(null,a)}):Object.prototype.hasOwnProperty.call(t,"httpVersion")?e(null,+t.headers["content-length"]):Object.prototype.hasOwnProperty.call(t,"httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};nt.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var s=this._getContentDisposition(e,r),a=this._getContentType(e,r),i="",n={"Content-Disposition":["form-data",'name="'+t+'"'].concat(s||[]),"Content-Type":[].concat(a||[])};typeof r.header=="object"&&Wf(n,r.header);var o;for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)){if(o=n[l],o==null)continue;Array.isArray(o)||(o=[o]),o.length&&(i+=l+": "+o.join("; ")+nt.LINE_BREAK)}return"--"+this.getBoundary()+nt.LINE_BREAK+i+nt.LINE_BREAK};nt.prototype._getContentDisposition=function(t,e){var r,s;return typeof e.filepath=="string"?r=Vf.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=Vf.basename(e.filename||t.name||t.path):t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=Vf.basename(t.client._httpMessage.path||"")),r&&(s='filename="'+r+'"'),s};nt.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=Gf.lookup(t.name)),!r&&t.path&&(r=Gf.lookup(t.path)),!r&&t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=Gf.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=nt.DEFAULT_CONTENT_TYPE),r};nt.prototype._multiPartFooter=function(){return function(t){var e=nt.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};nt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+nt.LINE_BREAK};nt.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e.toLowerCase()]=t[e]);return r};nt.prototype.setBoundary=function(t){this._boundary=t};nt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};nt.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,s=this._streams.length;r<s;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(nt.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};nt.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};nt.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};nt.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};nt.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}_4.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,s){if(r){t(r);return}s.forEach(function(a){e+=a}),t(null,e)})};nt.prototype.submit=function(t,e){var r,s,a={method:"post"};return typeof t=="string"?(t=y4(t),s=Wf({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},a)):(s=Wf(t,a),s.port||(s.port=s.protocol=="https:"?443:80)),s.headers=this.getHeaders(t.headers),s.protocol=="https:"?r=g4.request(s):r=v4.request(s),this.getLength(function(i,n){if(i&&i!=="Unknown stream"){this._error(i);return}if(n&&r.setHeader("Content-Length",n),this.pipe(r),e){var o,l=function(c,u){return r.removeListener("error",l),r.removeListener("response",o),e.call(this,c,u)};o=l.bind(this,null),r.on("error",l),r.on("response",o)}}.bind(this)),r};nt.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};nt.prototype.toString=function(){return"[object FormData]"};w4(nt,"FormData")});var rE=q(tE=>{"use strict";var U4=require("url").parse,q4={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},z4=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function B4(t){var e=typeof t=="string"?U4(t):t||{},r=e.protocol,s=e.host,a=e.port;if(typeof s!="string"||!s||typeof r!="string"||(r=r.split(":",1)[0],s=s.replace(/:\d*$/,""),a=parseInt(a)||q4[r]||0,!H4(s,a)))return"";var i=mi("npm_config_"+r+"_proxy")||mi(r+"_proxy")||mi("npm_config_proxy")||mi("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function H4(t,e){var r=(mi("npm_config_no_proxy")||mi("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(s){if(!s)return!0;var a=s.match(/^(.+):(\d+)$/),i=a?a[1]:s,n=a?parseInt(a[2]):0;return n&&n!==e?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!z4.call(t,i)):t!==i}):!0}function mi(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}tE.getProxyForUrl=B4});var aE=q((cQ,sE)=>{var hi=1e3,vi=hi*60,gi=vi*60,en=gi*24,V4=en*7,G4=en*365.25;sE.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return W4(t);if(r==="number"&&isFinite(t))return e.long?K4(t):Z4(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function W4(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*G4;case"weeks":case"week":case"w":return r*V4;case"days":case"day":case"d":return r*en;case"hours":case"hour":case"hrs":case"hr":case"h":return r*gi;case"minutes":case"minute":case"mins":case"min":case"m":return r*vi;case"seconds":case"second":case"secs":case"sec":case"s":return r*hi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Z4(t){var e=Math.abs(t);return e>=en?Math.round(t/en)+"d":e>=gi?Math.round(t/gi)+"h":e>=vi?Math.round(t/vi)+"m":e>=hi?Math.round(t/hi)+"s":t+"ms"}function K4(t){var e=Math.abs(t);return e>=en?Ml(t,e,en,"day"):e>=gi?Ml(t,e,gi,"hour"):e>=vi?Ml(t,e,vi,"minute"):e>=hi?Ml(t,e,hi,"second"):t+" ms"}function Ml(t,e,r,s){var a=e>=r*1.5;return Math.round(t/r)+" "+s+(a?"s":"")}});var om=q((lQ,nE)=>{function J4(t){r.debug=r,r.default=r,r.coerce=l,r.disable=n,r.enable=a,r.enabled=o,r.humanize=aE(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let p=0;for(let h=0;h<u.length;h++)p=(p<<5)-p+u.charCodeAt(h),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(u){let p,h=null,d,m;function f(...v){if(!f.enabled)return;let g=f,x=Number(new Date),w=x-(p||x);g.diff=w,g.prev=p,g.curr=x,p=x,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let C=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(P,O)=>{if(P==="%%")return"%";C++;let N=r.formatters[O];if(typeof N=="function"){let I=v[C];P=N.call(g,I),v.splice(C,1),C--}return P}),r.formatArgs.call(g,v),(g.log||r.log).apply(g,v)}return f.namespace=u,f.useColors=r.useColors(),f.color=r.selectColor(u),f.extend=s,f.destroy=r.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,m=r.enabled(u)),m),set:v=>{h=v}}),typeof r.init=="function"&&r.init(f),f}function s(u,p){let h=r(this.namespace+(typeof p>"u"?":":p)+u);return h.log=this.log,h}function a(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let p=(typeof u=="string"?u:"").trim().replace(" ",",").split(",").filter(Boolean);for(let h of p)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function i(u,p){let h=0,d=0,m=-1,f=0;for(;h<u.length;)if(d<p.length&&(p[d]===u[h]||p[d]==="*"))p[d]==="*"?(m=d,f=h,d++):(h++,d++);else if(m!==-1)d=m+1,f++,h=f;else return!1;for(;d<p.length&&p[d]==="*";)d++;return d===p.length}function n(){let u=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),u}function o(u){for(let p of r.skips)if(i(u,p))return!1;for(let p of r.names)if(i(u,p))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}nE.exports=J4});var iE=q((_r,Ul)=>{_r.formatArgs=X4;_r.save=Y4;_r.load=ez;_r.useColors=Q4;_r.storage=tz();_r.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();_r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Q4(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function X4(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ul.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(r++,a==="%c"&&(s=r))}),t.splice(s,0,e)}_r.log=console.debug||console.log||(()=>{});function Y4(t){try{t?_r.storage.setItem("debug",t):_r.storage.removeItem("debug")}catch{}}function ez(){let t;try{t=_r.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function tz(){try{return localStorage}catch{}}Ul.exports=om()(_r);var{formatters:rz}=Ul.exports;rz.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var cE=q((uQ,oE)=>{"use strict";oE.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",s=e.indexOf(r+t),a=e.indexOf("--");return s!==-1&&(a===-1||s<a)}});var pE=q((pQ,uE)=>{"use strict";var sz=require("os"),lE=require("tty"),Dr=cE(),{env:Lt}=process,ql;Dr("no-color")||Dr("no-colors")||Dr("color=false")||Dr("color=never")?ql=0:(Dr("color")||Dr("colors")||Dr("color=true")||Dr("color=always"))&&(ql=1);function az(){if("FORCE_COLOR"in Lt)return Lt.FORCE_COLOR==="true"?1:Lt.FORCE_COLOR==="false"?0:Lt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Lt.FORCE_COLOR,10),3)}function nz(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function iz(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let s=az();s!==void 0&&(ql=s);let a=r?ql:s;if(a===0)return 0;if(r){if(Dr("color=16m")||Dr("color=full")||Dr("color=truecolor"))return 3;if(Dr("color=256"))return 2}if(t&&!e&&a===void 0)return 0;let i=a||0;if(Lt.TERM==="dumb")return i;if(process.platform==="win32"){let n=sz.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Lt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(n=>n in Lt)||Lt.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in Lt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Lt.TEAMCITY_VERSION)?1:0;if(Lt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Lt){let n=Number.parseInt((Lt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Lt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Lt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Lt.TERM)||"COLORTERM"in Lt?1:i}function cm(t,e={}){let r=iz(t,{streamIsTTY:t&&t.isTTY,...e});return nz(r)}uE.exports={supportsColor:cm,stdout:cm({isTTY:lE.isatty(1)}),stderr:cm({isTTY:lE.isatty(2)})}});var fE=q((Nt,Bl)=>{var oz=require("tty"),zl=require("util");Nt.init=mz;Nt.log=pz;Nt.formatArgs=lz;Nt.save=dz;Nt.load=fz;Nt.useColors=cz;Nt.destroy=zl.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Nt.colors=[6,2,3,4,5,1];try{let t=pE();t&&(t.stderr||t).level>=2&&(Nt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Nt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(a,i)=>i.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});function cz(){return"colors"in Nt.inspectOpts?!!Nt.inspectOpts.colors:oz.isatty(process.stderr.fd)}function lz(t){let{namespace:e,useColors:r}=this;if(r){let s=this.color,a="\x1B[3"+(s<8?s:"8;5;"+s),i=`  ${a};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(a+"m+"+Bl.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=uz()+e+" "+t[0]}function uz(){return Nt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function pz(...t){return process.stderr.write(zl.formatWithOptions(Nt.inspectOpts,...t)+`
`)}function dz(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function fz(){return process.env.DEBUG}function mz(t){t.inspectOpts={};let e=Object.keys(Nt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Nt.inspectOpts[e[r]]}Bl.exports=om()(Nt);var{formatters:dE}=Bl.exports;dE.o=function(t){return this.inspectOpts.colors=this.useColors,zl.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};dE.O=function(t){return this.inspectOpts.colors=this.useColors,zl.inspect(t,this.inspectOpts)}});var mE=q((dQ,lm)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?lm.exports=iE():lm.exports=fE()});var vE=q((fQ,hE)=>{var Io;hE.exports=function(){if(!Io){try{Io=mE()("follow-redirects")}catch{}typeof Io!="function"&&(Io=function(){})}Io.apply(null,arguments)}});var _E=q((mQ,_m)=>{var Lo=require("url"),Do=Lo.URL,hz=require("http"),vz=require("https"),mm=require("stream").Writable,hm=require("assert"),gE=vE();(function(){var e=typeof process<"u",r=typeof window<"u"&&typeof document<"u",s=rn(Error.captureStackTrace);!e&&(r||!s)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var vm=!1;try{hm(new Do(""))}catch(t){vm=t.code==="ERR_INVALID_URL"}var gz=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],gm=["abort","aborted","connect","error","socket","timeout"],ym=Object.create(null);gm.forEach(function(t){ym[t]=function(e,r,s){this._redirectable.emit(t,e,r,s)}});var pm=No("ERR_INVALID_URL","Invalid URL",TypeError),dm=No("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),yz=No("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",dm),xz=No("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),bz=No("ERR_STREAM_WRITE_AFTER_END","write after end"),_z=mm.prototype.destroy||xE;function sr(t,e){mm.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(s){try{r._processResponse(s)}catch(a){r.emit("error",a instanceof dm?a:new dm({cause:a}))}},this._performRequest()}sr.prototype=Object.create(mm.prototype);sr.prototype.abort=function(){bm(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};sr.prototype.destroy=function(t){return bm(this._currentRequest,t),_z.call(this,t),this};sr.prototype.write=function(t,e,r){if(this._ending)throw new bz;if(!tn(t)&&!Ez(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(rn(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new xz),this.abort())};sr.prototype.end=function(t,e,r){if(rn(t)?(r=t,t=e=null):rn(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var s=this,a=this._currentRequest;this.write(t,e,function(){s._ended=!0,a.end(null,null,r)}),this._ending=!0}};sr.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};sr.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};sr.prototype.setTimeout=function(t,e){var r=this;function s(n){n.setTimeout(t),n.removeListener("timeout",n.destroy),n.addListener("timeout",n.destroy)}function a(n){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},t),s(n)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",a)}return e&&this.on("timeout",e),this.socket?a(this.socket):this._currentRequest.once("socket",a),this.on("socket",s),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){sr.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(sr.prototype,t,{get:function(){return this._currentRequest[t]}})});sr.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};sr.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var s=this._currentRequest=e.request(this._options,this._onNativeResponse);s._redirectable=this;for(var a of gm)s.on(a,ym[a]);if(this._currentUrl=/^\//.test(this._options.path)?Lo.format(this._options):this._options.path,this._isRedirect){var i=0,n=this,o=this._requestBodyBuffers;(function l(c){if(s===n._currentRequest)if(c)n.emit("error",c);else if(i<o.length){var u=o[i++];s.finished||s.write(u.data,u.encoding,l)}else n._ended&&s.end()})()}};sr.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(bm(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new yz;var s,a=this._options.beforeRedirect;a&&(s=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],um(/^content-/i,this._options.headers));var n=um(/^host$/i,this._options.headers),o=xm(this._currentUrl),l=n||o.host,c=/^\w+:/.test(r)?this._currentUrl:Lo.format(Object.assign(o,{host:l})),u=wz(r,c);if(gE("redirecting to",u.href),this._isRedirect=!0,fm(u,this._options),(u.protocol!==o.protocol&&u.protocol!=="https:"||u.host!==l&&!Sz(u.host,l))&&um(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),rn(a)){var p={headers:t.headers,statusCode:e},h={url:c,method:i,headers:s};a(this._options,p,h),this._sanitizeOptions(this._options)}this._performRequest()};function yE(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(s){var a=s+":",i=r[a]=t[s],n=e[s]=Object.create(i);function o(c,u,p){return Pz(c)?c=fm(c):tn(c)?c=fm(xm(c)):(p=u,u=bE(c),c={protocol:a}),rn(u)&&(p=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},c,u),u.nativeProtocols=r,!tn(u.host)&&!tn(u.hostname)&&(u.hostname="::1"),hm.equal(u.protocol,a,"protocol mismatch"),gE("options",u),new sr(u,p)}function l(c,u,p){var h=n.request(c,u,p);return h.end(),h}Object.defineProperties(n,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:l,configurable:!0,enumerable:!0,writable:!0}})}),e}function xE(){}function xm(t){var e;if(vm)e=new Do(t);else if(e=bE(Lo.parse(t)),!tn(e.protocol))throw new pm({input:t});return e}function wz(t,e){return vm?new Do(t,e):xm(Lo.resolve(e,t))}function bE(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new pm({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new pm({input:t.href||t});return t}function fm(t,e){var r=e||{};for(var s of gz)r[s]=t[s];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function um(t,e){var r;for(var s in e)t.test(s)&&(r=e[s],delete e[s]);return r===null||typeof r>"u"?void 0:String(r).trim()}function No(t,e,r){function s(a){rn(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,a||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return s.prototype=new(r||Error),Object.defineProperties(s.prototype,{constructor:{value:s,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),s}function bm(t,e){for(var r of gm)t.removeListener(r,ym[r]);t.on("error",xE),t.destroy(e)}function Sz(t,e){hm(tn(t)&&tn(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function tn(t){return typeof t=="string"||t instanceof String}function rn(t){return typeof t=="function"}function Ez(t){return typeof t=="object"&&"length"in t}function Pz(t){return Do&&t instanceof Do}_m.exports=yE({http:hz,https:vz});_m.exports.wrap=yE});var pC=q((Pu,uC)=>{(function(t,e){typeof Pu=="object"&&typeof uC<"u"?e(Pu):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Pu,function(t){"use strict";function e(){for(var $=arguments.length,A=Array($),b=0;b<$;b++)A[b]=arguments[b];if(A.length>1){A[0]=A[0].slice(0,-1);for(var y=A.length-1,E=1;E<y;++E)A[E]=A[E].slice(1,-1);return A[y]=A[y].slice(1),A.join("")}else return A[0]}function r($){return"(?:"+$+")"}function s($){return $===void 0?"undefined":$===null?"null":Object.prototype.toString.call($).split(" ").pop().split("]").shift().toLowerCase()}function a($){return $.toUpperCase()}function i($){return $!=null?$ instanceof Array?$:typeof $.length!="number"||$.split||$.setInterval||$.call?[$]:Array.prototype.slice.call($):[]}function n($,A){var b=$;if(A)for(var y in A)b[y]=A[y];return b}function o($){var A="[A-Za-z]",b="[\\x0D]",y="[0-9]",E="[\\x22]",F=e(y,"[A-Fa-f]"),B="[\\x0A]",Q="[\\x20]",le=r(r("%[EFef]"+F+"%"+F+F+"%"+F+F)+"|"+r("%[89A-Fa-f]"+F+"%"+F+F)+"|"+r("%"+F+F)),Pe="[\\:\\/\\?\\#\\[\\]\\@]",ve="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",qe=e(Pe,ve),Se=$?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",De=$?"[\\uE000-\\uF8FF]":"[]",Ce=e(A,y,"[\\-\\.\\_\\~]",Se),Le=r(A+e(A,y,"[\\+\\-\\.]")+"*"),ye=r(r(le+"|"+e(Ce,ve,"[\\:]"))+"*"),pt=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("[1-9]"+y)+"|"+y),He=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("0?[1-9]"+y)+"|0?0?"+y),Rt=r(He+"\\."+He+"\\."+He+"\\."+He),Ze=r(F+"{1,4}"),mt=r(r(Ze+"\\:"+Ze)+"|"+Rt),Ke=r(r(Ze+"\\:")+"{6}"+mt),xt=r("\\:\\:"+r(Ze+"\\:")+"{5}"+mt),Tt=r(r(Ze)+"?\\:\\:"+r(Ze+"\\:")+"{4}"+mt),Ot=r(r(r(Ze+"\\:")+"{0,1}"+Ze)+"?\\:\\:"+r(Ze+"\\:")+"{3}"+mt),ur=r(r(r(Ze+"\\:")+"{0,2}"+Ze)+"?\\:\\:"+r(Ze+"\\:")+"{2}"+mt),Qt=r(r(r(Ze+"\\:")+"{0,3}"+Ze)+"?\\:\\:"+Ze+"\\:"+mt),rs=r(r(r(Ze+"\\:")+"{0,4}"+Ze)+"?\\:\\:"+mt),qr=r(r(r(Ze+"\\:")+"{0,5}"+Ze)+"?\\:\\:"+Ze),zr=r(r(r(Ze+"\\:")+"{0,6}"+Ze)+"?\\:\\:"),zt=r([Ke,xt,Tt,Ot,ur,Qt,rs,qr,zr].join("|")),pr=r(r(Ce+"|"+le)+"+"),dr=r(zt+"\\%25"+pr),Xt=r(zt+r("\\%25|\\%(?!"+F+"{2})")+pr),Wi=r("[vV]"+F+"+\\."+e(Ce,ve,"[\\:]")+"+"),ws=r("\\["+r(Xt+"|"+zt+"|"+Wi)+"\\]"),dc=r(r(le+"|"+e(Ce,ve))+"*"),Sa=r(ws+"|"+Rt+"(?!"+dc+")|"+dc),Js=r(y+"*"),Qs=r(r(ye+"@")+"?"+Sa+r("\\:"+Js)+"?"),Br=r(le+"|"+e(Ce,ve,"[\\:\\@]")),fc=r(Br+"*"),Xs=r(Br+"+"),_p=r(r(le+"|"+e(Ce,ve,"[\\@]"))+"+"),Pr=r(r("\\/"+fc)+"*"),Ys=r("\\/"+r(Xs+Pr)+"?"),fr=r(_p+Pr),Hr=r(Xs+Pr),ss="(?!"+Br+")",Zi=r(Pr+"|"+Ys+"|"+fr+"|"+Hr+"|"+ss),mr=r(r(Br+"|"+e("[\\/\\?]",De))+"*"),kn=r(r(Br+"|[\\/\\?]")+"*"),Ss=r(r("\\/\\/"+Qs+Pr)+"|"+Ys+"|"+Hr+"|"+ss),Ea=r(Le+"\\:"+Ss+r("\\?"+mr)+"?"+r("\\#"+kn)+"?"),mc=r(r("\\/\\/"+Qs+Pr)+"|"+Ys+"|"+fr+"|"+ss),wp=r(mc+r("\\?"+mr)+"?"+r("\\#"+kn)+"?"),pv=r(Ea+"|"+wp),dv=r(Le+"\\:"+Ss+r("\\?"+mr)+"?"),Ik="^("+Le+")\\:"+r(r("\\/\\/("+r("("+ye+")@")+"?("+Sa+")"+r("\\:("+Js+")")+"?)")+"?("+Pr+"|"+Ys+"|"+Hr+"|"+ss+")")+r("\\?("+mr+")")+"?"+r("\\#("+kn+")")+"?$",Dk="^(){0}"+r(r("\\/\\/("+r("("+ye+")@")+"?("+Sa+")"+r("\\:("+Js+")")+"?)")+"?("+Pr+"|"+Ys+"|"+fr+"|"+ss+")")+r("\\?("+mr+")")+"?"+r("\\#("+kn+")")+"?$",Lk="^("+Le+")\\:"+r(r("\\/\\/("+r("("+ye+")@")+"?("+Sa+")"+r("\\:("+Js+")")+"?)")+"?("+Pr+"|"+Ys+"|"+Hr+"|"+ss+")")+r("\\?("+mr+")")+"?$",Nk="^"+r("\\#("+kn+")")+"?$",$k="^"+r("("+ye+")@")+"?("+Sa+")"+r("\\:("+Js+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",A,y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Ce,ve),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Ce,ve),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Ce,ve),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Ce,ve),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Ce,ve,"[\\:\\@\\/\\?]",De),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Ce,ve,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Ce,ve),"g"),UNRESERVED:new RegExp(Ce,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Ce,qe),"g"),PCT_ENCODED:new RegExp(le,"g"),IPV4ADDRESS:new RegExp("^("+Rt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+r(r("\\%25|\\%(?!"+F+"{2})")+"("+pr+")")+"?\\]?$")}}var l=o(!1),c=o(!0),u=function(){function $(A,b){var y=[],E=!0,F=!1,B=void 0;try{for(var Q=A[Symbol.iterator](),le;!(E=(le=Q.next()).done)&&(y.push(le.value),!(b&&y.length===b));E=!0);}catch(Pe){F=!0,B=Pe}finally{try{!E&&Q.return&&Q.return()}finally{if(F)throw B}}return y}return function(A,b){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return $(A,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function($){if(Array.isArray($)){for(var A=0,b=Array($.length);A<$.length;A++)b[A]=$[A];return b}else return Array.from($)},h=2147483647,d=36,m=1,f=26,v=38,g=700,x=72,w=128,C="-",R=/^xn--/,P=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=d-m,j=Math.floor,D=String.fromCharCode;function k($){throw new RangeError(N[$])}function T($,A){for(var b=[],y=$.length;y--;)b[y]=A($[y]);return b}function L($,A){var b=$.split("@"),y="";b.length>1&&(y=b[0]+"@",$=b[1]),$=$.replace(O,".");var E=$.split("."),F=T(E,A).join(".");return y+F}function z($){for(var A=[],b=0,y=$.length;b<y;){var E=$.charCodeAt(b++);if(E>=55296&&E<=56319&&b<y){var F=$.charCodeAt(b++);(F&64512)==56320?A.push(((E&1023)<<10)+(F&1023)+65536):(A.push(E),b--)}else A.push(E)}return A}var V=function(A){return String.fromCodePoint.apply(String,p(A))},H=function(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:d},G=function(A,b){return A+22+75*(A<26)-((b!=0)<<5)},K=function(A,b,y){var E=0;for(A=y?j(A/g):A>>1,A+=j(A/b);A>I*f>>1;E+=d)A=j(A/I);return j(E+(I+1)*A/(A+v))},W=function(A){var b=[],y=A.length,E=0,F=w,B=x,Q=A.lastIndexOf(C);Q<0&&(Q=0);for(var le=0;le<Q;++le)A.charCodeAt(le)>=128&&k("not-basic"),b.push(A.charCodeAt(le));for(var Pe=Q>0?Q+1:0;Pe<y;){for(var ve=E,qe=1,Se=d;;Se+=d){Pe>=y&&k("invalid-input");var De=H(A.charCodeAt(Pe++));(De>=d||De>j((h-E)/qe))&&k("overflow"),E+=De*qe;var Ce=Se<=B?m:Se>=B+f?f:Se-B;if(De<Ce)break;var Le=d-Ce;qe>j(h/Le)&&k("overflow"),qe*=Le}var ye=b.length+1;B=K(E-ve,ye,ve==0),j(E/ye)>h-F&&k("overflow"),F+=j(E/ye),E%=ye,b.splice(E++,0,F)}return String.fromCodePoint.apply(String,b)},ee=function(A){var b=[];A=z(A);var y=A.length,E=w,F=0,B=x,Q=!0,le=!1,Pe=void 0;try{for(var ve=A[Symbol.iterator](),qe;!(Q=(qe=ve.next()).done);Q=!0){var Se=qe.value;Se<128&&b.push(D(Se))}}catch(Xt){le=!0,Pe=Xt}finally{try{!Q&&ve.return&&ve.return()}finally{if(le)throw Pe}}var De=b.length,Ce=De;for(De&&b.push(C);Ce<y;){var Le=h,ye=!0,pt=!1,He=void 0;try{for(var Rt=A[Symbol.iterator](),Ze;!(ye=(Ze=Rt.next()).done);ye=!0){var mt=Ze.value;mt>=E&&mt<Le&&(Le=mt)}}catch(Xt){pt=!0,He=Xt}finally{try{!ye&&Rt.return&&Rt.return()}finally{if(pt)throw He}}var Ke=Ce+1;Le-E>j((h-F)/Ke)&&k("overflow"),F+=(Le-E)*Ke,E=Le;var xt=!0,Tt=!1,Ot=void 0;try{for(var ur=A[Symbol.iterator](),Qt;!(xt=(Qt=ur.next()).done);xt=!0){var rs=Qt.value;if(rs<E&&++F>h&&k("overflow"),rs==E){for(var qr=F,zr=d;;zr+=d){var zt=zr<=B?m:zr>=B+f?f:zr-B;if(qr<zt)break;var pr=qr-zt,dr=d-zt;b.push(D(G(zt+pr%dr,0))),qr=j(pr/dr)}b.push(D(G(qr,0))),B=K(F,Ke,Ce==De),F=0,++Ce}}}catch(Xt){Tt=!0,Ot=Xt}finally{try{!xt&&ur.return&&ur.return()}finally{if(Tt)throw Ot}}++F,++E}return b.join("")},ne=function(A){return L(A,function(b){return R.test(b)?W(b.slice(4).toLowerCase()):b})},Je=function(A){return L(A,function(b){return P.test(b)?"xn--"+ee(b):b})},ge={version:"2.1.0",ucs2:{decode:z,encode:V},decode:W,encode:ee,toASCII:Je,toUnicode:ne},Ee={};function we($){var A=$.charCodeAt(0),b=void 0;return A<16?b="%0"+A.toString(16).toUpperCase():A<128?b="%"+A.toString(16).toUpperCase():A<2048?b="%"+(A>>6|192).toString(16).toUpperCase()+"%"+(A&63|128).toString(16).toUpperCase():b="%"+(A>>12|224).toString(16).toUpperCase()+"%"+(A>>6&63|128).toString(16).toUpperCase()+"%"+(A&63|128).toString(16).toUpperCase(),b}function Te($){for(var A="",b=0,y=$.length;b<y;){var E=parseInt($.substr(b+1,2),16);if(E<128)A+=String.fromCharCode(E),b+=3;else if(E>=194&&E<224){if(y-b>=6){var F=parseInt($.substr(b+4,2),16);A+=String.fromCharCode((E&31)<<6|F&63)}else A+=$.substr(b,6);b+=6}else if(E>=224){if(y-b>=9){var B=parseInt($.substr(b+4,2),16),Q=parseInt($.substr(b+7,2),16);A+=String.fromCharCode((E&15)<<12|(B&63)<<6|Q&63)}else A+=$.substr(b,9);b+=9}else A+=$.substr(b,3),b+=3}return A}function M($,A){function b(y){var E=Te(y);return E.match(A.UNRESERVED)?E:y}return $.scheme&&($.scheme=String($.scheme).replace(A.PCT_ENCODED,b).toLowerCase().replace(A.NOT_SCHEME,"")),$.userinfo!==void 0&&($.userinfo=String($.userinfo).replace(A.PCT_ENCODED,b).replace(A.NOT_USERINFO,we).replace(A.PCT_ENCODED,a)),$.host!==void 0&&($.host=String($.host).replace(A.PCT_ENCODED,b).toLowerCase().replace(A.NOT_HOST,we).replace(A.PCT_ENCODED,a)),$.path!==void 0&&($.path=String($.path).replace(A.PCT_ENCODED,b).replace($.scheme?A.NOT_PATH:A.NOT_PATH_NOSCHEME,we).replace(A.PCT_ENCODED,a)),$.query!==void 0&&($.query=String($.query).replace(A.PCT_ENCODED,b).replace(A.NOT_QUERY,we).replace(A.PCT_ENCODED,a)),$.fragment!==void 0&&($.fragment=String($.fragment).replace(A.PCT_ENCODED,b).replace(A.NOT_FRAGMENT,we).replace(A.PCT_ENCODED,a)),$}function Z($){return $.replace(/^0*(.*)/,"$1")||"0"}function se($,A){var b=$.match(A.IPV4ADDRESS)||[],y=u(b,2),E=y[1];return E?E.split(".").map(Z).join("."):$}function he($,A){var b=$.match(A.IPV6ADDRESS)||[],y=u(b,3),E=y[1],F=y[2];if(E){for(var B=E.toLowerCase().split("::").reverse(),Q=u(B,2),le=Q[0],Pe=Q[1],ve=Pe?Pe.split(":").map(Z):[],qe=le.split(":").map(Z),Se=A.IPV4ADDRESS.test(qe[qe.length-1]),De=Se?7:8,Ce=qe.length-De,Le=Array(De),ye=0;ye<De;++ye)Le[ye]=ve[ye]||qe[Ce+ye]||"";Se&&(Le[De-1]=se(Le[De-1],A));var pt=Le.reduce(function(Ke,xt,Tt){if(!xt||xt==="0"){var Ot=Ke[Ke.length-1];Ot&&Ot.index+Ot.length===Tt?Ot.length++:Ke.push({index:Tt,length:1})}return Ke},[]),He=pt.sort(function(Ke,xt){return xt.length-Ke.length})[0],Rt=void 0;if(He&&He.length>1){var Ze=Le.slice(0,He.index),mt=Le.slice(He.index+He.length);Rt=Ze.join(":")+"::"+mt.join(":")}else Rt=Le.join(":");return F&&(Rt+="%"+F),Rt}else return $}var J=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X="".match(/(){0}/)[1]===void 0;function ue($){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b={},y=A.iri!==!1?c:l;A.reference==="suffix"&&($=(A.scheme?A.scheme+":":"")+"//"+$);var E=$.match(J);if(E){X?(b.scheme=E[1],b.userinfo=E[3],b.host=E[4],b.port=parseInt(E[5],10),b.path=E[6]||"",b.query=E[7],b.fragment=E[8],isNaN(b.port)&&(b.port=E[5])):(b.scheme=E[1]||void 0,b.userinfo=$.indexOf("@")!==-1?E[3]:void 0,b.host=$.indexOf("//")!==-1?E[4]:void 0,b.port=parseInt(E[5],10),b.path=E[6]||"",b.query=$.indexOf("?")!==-1?E[7]:void 0,b.fragment=$.indexOf("#")!==-1?E[8]:void 0,isNaN(b.port)&&(b.port=$.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?E[4]:void 0)),b.host&&(b.host=he(se(b.host,y),y)),b.scheme===void 0&&b.userinfo===void 0&&b.host===void 0&&b.port===void 0&&!b.path&&b.query===void 0?b.reference="same-document":b.scheme===void 0?b.reference="relative":b.fragment===void 0?b.reference="absolute":b.reference="uri",A.reference&&A.reference!=="suffix"&&A.reference!==b.reference&&(b.error=b.error||"URI is not a "+A.reference+" reference.");var F=Ee[(A.scheme||b.scheme||"").toLowerCase()];if(!A.unicodeSupport&&(!F||!F.unicodeSupport)){if(b.host&&(A.domainHost||F&&F.domainHost))try{b.host=ge.toASCII(b.host.replace(y.PCT_ENCODED,Te).toLowerCase())}catch(B){b.error=b.error||"Host's domain name can not be converted to ASCII via punycode: "+B}M(b,l)}else M(b,y);F&&F.parse&&F.parse(b,A)}else b.error=b.error||"URI can not be parsed.";return b}function Ue($,A){var b=A.iri!==!1?c:l,y=[];return $.userinfo!==void 0&&(y.push($.userinfo),y.push("@")),$.host!==void 0&&y.push(he(se(String($.host),b),b).replace(b.IPV6ADDRESS,function(E,F,B){return"["+F+(B?"%25"+B:"")+"]"})),(typeof $.port=="number"||typeof $.port=="string")&&(y.push(":"),y.push(String($.port))),y.length?y.join(""):void 0}var _e=/^\.\.?\//,it=/^\/\.(\/|$)/,ot=/^\/\.\.(\/|$)/,Oe=/^\/?(?:.|\n)*?(?=\/|$)/;function dt($){for(var A=[];$.length;)if($.match(_e))$=$.replace(_e,"");else if($.match(it))$=$.replace(it,"/");else if($.match(ot))$=$.replace(ot,"/"),A.pop();else if($==="."||$==="..")$="";else{var b=$.match(Oe);if(b){var y=b[0];$=$.slice(y.length),A.push(y)}else throw new Error("Unexpected dot segment condition")}return A.join("")}function Ye($){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=A.iri?c:l,y=[],E=Ee[(A.scheme||$.scheme||"").toLowerCase()];if(E&&E.serialize&&E.serialize($,A),$.host&&!b.IPV6ADDRESS.test($.host)){if(A.domainHost||E&&E.domainHost)try{$.host=A.iri?ge.toUnicode($.host):ge.toASCII($.host.replace(b.PCT_ENCODED,Te).toLowerCase())}catch(Q){$.error=$.error||"Host's domain name can not be converted to "+(A.iri?"Unicode":"ASCII")+" via punycode: "+Q}}M($,b),A.reference!=="suffix"&&$.scheme&&(y.push($.scheme),y.push(":"));var F=Ue($,A);if(F!==void 0&&(A.reference!=="suffix"&&y.push("//"),y.push(F),$.path&&$.path.charAt(0)!=="/"&&y.push("/")),$.path!==void 0){var B=$.path;!A.absolutePath&&(!E||!E.absolutePath)&&(B=dt(B)),F===void 0&&(B=B.replace(/^\/\//,"/%2F")),y.push(B)}return $.query!==void 0&&(y.push("?"),y.push($.query)),$.fragment!==void 0&&(y.push("#"),y.push($.fragment)),y.join("")}function ut($,A){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments[3],E={};return y||($=ue(Ye($,b),b),A=ue(Ye(A,b),b)),b=b||{},!b.tolerant&&A.scheme?(E.scheme=A.scheme,E.userinfo=A.userinfo,E.host=A.host,E.port=A.port,E.path=dt(A.path||""),E.query=A.query):(A.userinfo!==void 0||A.host!==void 0||A.port!==void 0?(E.userinfo=A.userinfo,E.host=A.host,E.port=A.port,E.path=dt(A.path||""),E.query=A.query):(A.path?(A.path.charAt(0)==="/"?E.path=dt(A.path):(($.userinfo!==void 0||$.host!==void 0||$.port!==void 0)&&!$.path?E.path="/"+A.path:$.path?E.path=$.path.slice(0,$.path.lastIndexOf("/")+1)+A.path:E.path=A.path,E.path=dt(E.path)),E.query=A.query):(E.path=$.path,A.query!==void 0?E.query=A.query:E.query=$.query),E.userinfo=$.userinfo,E.host=$.host,E.port=$.port),E.scheme=$.scheme),E.fragment=A.fragment,E}function rt($,A,b){var y=n({scheme:"null"},b);return Ye(ut(ue($,y),ue(A,y),y,!0),y)}function ct($,A){return typeof $=="string"?$=Ye(ue($,A),A):s($)==="object"&&($=ue(Ye($,A),A)),$}function jt($,A,b){return typeof $=="string"?$=Ye(ue($,b),b):s($)==="object"&&($=Ye($,b)),typeof A=="string"?A=Ye(ue(A,b),b):s(A)==="object"&&(A=Ye(A,b)),$===A}function Mt($,A){return $&&$.toString().replace(!A||!A.iri?l.ESCAPE:c.ESCAPE,we)}function qt($,A){return $&&$.toString().replace(!A||!A.iri?l.PCT_ENCODED:c.PCT_ENCODED,Te)}var bs={scheme:"http",domainHost:!0,parse:function(A,b){return A.host||(A.error=A.error||"HTTP URIs must have a host."),A},serialize:function(A,b){var y=String(A.scheme).toLowerCase()==="https";return(A.port===(y?443:80)||A.port==="")&&(A.port=void 0),A.path||(A.path="/"),A}},Jt={scheme:"https",domainHost:bs.domainHost,parse:bs.parse,serialize:bs.serialize};function Ws($){return typeof $.secure=="boolean"?$.secure:String($.scheme).toLowerCase()==="wss"}var Zs={scheme:"ws",domainHost:!0,parse:function(A,b){var y=A;return y.secure=Ws(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y},serialize:function(A,b){if((A.port===(Ws(A)?443:80)||A.port==="")&&(A.port=void 0),typeof A.secure=="boolean"&&(A.scheme=A.secure?"wss":"ws",A.secure=void 0),A.resourceName){var y=A.resourceName.split("?"),E=u(y,2),F=E[0],B=E[1];A.path=F&&F!=="/"?F:void 0,A.query=B,A.resourceName=void 0}return A.fragment=void 0,A}},Bi={scheme:"wss",domainHost:Zs.domainHost,parse:Zs.parse,serialize:Zs.serialize},wa={},cc=!0,lc="[A-Za-z0-9\\-\\.\\_\\~"+(cc?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Sr="[0-9A-Fa-f]",uc=r(r("%[EFef]"+Sr+"%"+Sr+Sr+"%"+Sr+Sr)+"|"+r("%[89A-Fa-f]"+Sr+"%"+Sr+Sr)+"|"+r("%"+Sr+Sr)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",mp="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hp=e(mp,'[\\"\\\\]'),vp="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",gp=new RegExp(lc,"g"),Ks=new RegExp(uc,"g"),yp=new RegExp(e("[^]",Er,"[\\.]",'[\\"]',hp),"g"),_s=new RegExp(e("[^]",lc,vp),"g"),xp=_s;function On($){var A=Te($);return A.match(gp)?A:$}var pc={scheme:"mailto",parse:function(A,b){var y=A,E=y.to=y.path?y.path.split(","):[];if(y.path=void 0,y.query){for(var F=!1,B={},Q=y.query.split("&"),le=0,Pe=Q.length;le<Pe;++le){var ve=Q[le].split("=");switch(ve[0]){case"to":for(var qe=ve[1].split(","),Se=0,De=qe.length;Se<De;++Se)E.push(qe[Se]);break;case"subject":y.subject=qt(ve[1],b);break;case"body":y.body=qt(ve[1],b);break;default:F=!0,B[qt(ve[0],b)]=qt(ve[1],b);break}}F&&(y.headers=B)}y.query=void 0;for(var Ce=0,Le=E.length;Ce<Le;++Ce){var ye=E[Ce].split("@");if(ye[0]=qt(ye[0]),b.unicodeSupport)ye[1]=qt(ye[1],b).toLowerCase();else try{ye[1]=ge.toASCII(qt(ye[1],b).toLowerCase())}catch(pt){y.error=y.error||"Email address's domain name can not be converted to ASCII via punycode: "+pt}E[Ce]=ye.join("@")}return y},serialize:function(A,b){var y=A,E=i(A.to);if(E){for(var F=0,B=E.length;F<B;++F){var Q=String(E[F]),le=Q.lastIndexOf("@"),Pe=Q.slice(0,le).replace(Ks,On).replace(Ks,a).replace(yp,we),ve=Q.slice(le+1);try{ve=b.iri?ge.toUnicode(ve):ge.toASCII(qt(ve,b).toLowerCase())}catch(Ce){y.error=y.error||"Email address's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+Ce}E[F]=Pe+"@"+ve}y.path=E.join(",")}var qe=A.headers=A.headers||{};A.subject&&(qe.subject=A.subject),A.body&&(qe.body=A.body);var Se=[];for(var De in qe)qe[De]!==wa[De]&&Se.push(De.replace(Ks,On).replace(Ks,a).replace(_s,we)+"="+qe[De].replace(Ks,On).replace(Ks,a).replace(xp,we));return Se.length&&(y.query=Se.join("&")),y}},Hi=/^([^\:]+)\:(.*)/,Vi={scheme:"urn",parse:function(A,b){var y=A.path&&A.path.match(Hi),E=A;if(y){var F=b.scheme||E.scheme||"urn",B=y[1].toLowerCase(),Q=y[2],le=F+":"+(b.nid||B),Pe=Ee[le];E.nid=B,E.nss=Q,E.path=void 0,Pe&&(E=Pe.parse(E,b))}else E.error=E.error||"URN can not be parsed.";return E},serialize:function(A,b){var y=b.scheme||A.scheme||"urn",E=A.nid,F=y+":"+(b.nid||E),B=Ee[F];B&&(A=B.serialize(A,b));var Q=A,le=A.nss;return Q.path=(E||b.nid)+":"+le,Q}},bp=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Gi={scheme:"urn:uuid",parse:function(A,b){var y=A;return y.uuid=y.nss,y.nss=void 0,!b.tolerant&&(!y.uuid||!y.uuid.match(bp))&&(y.error=y.error||"UUID is not valid."),y},serialize:function(A,b){var y=A;return y.nss=(A.uuid||"").toLowerCase(),y}};Ee[bs.scheme]=bs,Ee[Jt.scheme]=Jt,Ee[Zs.scheme]=Zs,Ee[Bi.scheme]=Bi,Ee[pc.scheme]=pc,Ee[Vi.scheme]=Vi,Ee[Gi.scheme]=Gi,t.SCHEMES=Ee,t.pctEncChar=we,t.pctDecChars=Te,t.parse=ue,t.removeDotSegments=dt,t.serialize=Ye,t.resolveComponents=ut,t.resolve=rt,t.normalize=ct,t.equal=jt,t.escapeComponent=Mt,t.unescapeComponent=qt,Object.defineProperty(t,"__esModule",{value:!0})})});var Cu=q((Zte,dC)=>{"use strict";dC.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,a,i;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),s=i.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=s;a--!==0;){var n=i[a];if(!t(e[n],r[n]))return!1}return!0}return e!==e&&r!==r}});var mC=q((Kte,fC)=>{"use strict";fC.exports=function(e){for(var r=0,s=e.length,a=0,i;a<s;)r++,i=e.charCodeAt(a++),i>=55296&&i<=56319&&a<s&&(i=e.charCodeAt(a),(i&64512)==56320&&a++);return r}});var wn=q((Jte,gC)=>{"use strict";gC.exports={copy:h3,checkDataType:nh,checkDataTypes:v3,coerceToTypes:g3,toHash:oh,getProperty:ch,escapeQuotes:lh,equal:Cu(),ucs2length:mC(),varOccurences:b3,varReplace:_3,schemaHasRules:w3,schemaHasRulesExcept:S3,schemaUnknownRules:E3,toQuotedString:ih,getPathExpr:P3,getPath:C3,getData:O3,unescapeFragment:k3,unescapeJsonPointer:ph,escapeFragment:A3,escapeJsonPointer:uh};function h3(t,e){e=e||{};for(var r in t)e[r]=t[r];return e}function nh(t,e,r,s){var a=s?" !== ":" === ",i=s?" || ":" && ",n=s?"!":"",o=s?"":"!";switch(t){case"null":return e+a+"null";case"array":return n+"Array.isArray("+e+")";case"object":return"("+n+e+i+"typeof "+e+a+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+a+'"number"'+i+o+"("+e+" % 1)"+i+e+a+e+(r?i+n+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+a+'"'+t+'"'+(r?i+n+"isFinite("+e+")":"")+")";default:return"typeof "+e+a+'"'+t+'"'}}function v3(t,e,r){switch(t.length){case 1:return nh(t[0],e,r,!0);default:var s="",a=oh(t);a.array&&a.object&&(s=a.null?"(":"(!"+e+" || ",s+="typeof "+e+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var i in a)s+=(s?" && ":"")+nh(i,e,r,!0);return s}}var hC=oh(["string","number","integer","boolean","null"]);function g3(t,e){if(Array.isArray(e)){for(var r=[],s=0;s<e.length;s++){var a=e[s];(hC[a]||t==="array"&&a==="array")&&(r[r.length]=a)}if(r.length)return r}else{if(hC[e])return[e];if(t==="array"&&e==="array")return["array"]}}function oh(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var y3=/^[a-z$_][a-z$_0-9]*$/i,x3=/'|\\/g;function ch(t){return typeof t=="number"?"["+t+"]":y3.test(t)?"."+t:"['"+lh(t)+"']"}function lh(t){return t.replace(x3,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function b3(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0}function _3(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")}function w3(t,e){if(typeof t=="boolean")return!t;for(var r in t)if(e[r])return!0}function S3(t,e,r){if(typeof t=="boolean")return!t&&r!="not";for(var s in t)if(s!=r&&e[s])return!0}function E3(t,e){if(typeof t!="boolean"){for(var r in t)if(!e[r])return r}}function ih(t){return"'"+lh(t)+"'"}function P3(t,e,r,s){var a=r?"'/' + "+e+(s?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):s?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return vC(t,a)}function C3(t,e,r){var s=ih(r?"/"+uh(e):ch(e));return vC(t,s)}var R3=/^\/(?:[^~]|~0|~1)*$/,T3=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function O3(t,e,r){var s,a,i,n;if(t==="")return"rootData";if(t[0]=="/"){if(!R3.test(t))throw new Error("Invalid JSON-pointer: "+t);a=t,i="rootData"}else{if(n=t.match(T3),!n)throw new Error("Invalid JSON-pointer: "+t);if(s=+n[1],a=n[2],a=="#"){if(s>=e)throw new Error("Cannot access property/index "+s+" levels up, current level is "+e);return r[e-s]}if(s>e)throw new Error("Cannot access data "+s+" levels up, current level is "+e);if(i="data"+(e-s||""),!a)return i}for(var o=i,l=a.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=ch(ph(u)),o+=" && "+i)}return o}function vC(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function k3(t){return ph(decodeURIComponent(t))}function A3(t){return encodeURIComponent(uh(t))}function uh(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function ph(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}});var dh=q((Qte,yC)=>{"use strict";var I3=wn();yC.exports=D3;function D3(t){I3.copy(t,this)}});var bC=q((Xte,xC)=>{"use strict";var ha=xC.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var s=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};Ru(e,s,a,t,"",t)};ha.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};ha.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ha.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ha.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ru(t,e,r,s,a,i,n,o,l,c){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,a,i,n,o,l,c);for(var u in s){var p=s[u];if(Array.isArray(p)){if(u in ha.arrayKeywords)for(var h=0;h<p.length;h++)Ru(t,e,r,p[h],a+"/"+u+"/"+h,i,a,u,s,h)}else if(u in ha.propsKeywords){if(p&&typeof p=="object")for(var d in p)Ru(t,e,r,p[d],a+"/"+u+"/"+L3(d),i,a,u,s,d)}else(u in ha.keywords||t.allKeys&&!(u in ha.skipKeywords))&&Ru(t,e,r,p,a+"/"+u,i,a,u,s)}r(s,a,i,n,o,l,c)}}function L3(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Du=q((Yte,EC)=>{"use strict";var Qo=pC(),_C=Cu(),Au=wn(),Tu=dh(),N3=bC();EC.exports=ga;ga.normalizeId=va;ga.fullPath=Ou;ga.url=ku;ga.ids=U3;ga.inlineRef=fh;ga.schema=Iu;function ga(t,e,r){var s=this._refs[r];if(typeof s=="string")if(this._refs[s])s=this._refs[s];else return ga.call(this,t,e,s);if(s=s||this._schemas[r],s instanceof Tu)return fh(s.schema,this._opts.inlineRefs)?s.schema:s.validate||this._compile(s);var a=Iu.call(this,e,r),i,n,o;return a&&(i=a.schema,e=a.root,o=a.baseId),i instanceof Tu?n=i.validate||t.call(this,i.schema,e,void 0,o):i!==void 0&&(n=fh(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,o)),n}function Iu(t,e){var r=Qo.parse(e),s=SC(r),a=Ou(this._getId(t.schema));if(Object.keys(t.schema).length===0||s!==a){var i=va(s),n=this._refs[i];if(typeof n=="string")return $3.call(this,t,n,r);if(n instanceof Tu)n.validate||this._compile(n),t=n;else if(n=this._schemas[i],n instanceof Tu){if(n.validate||this._compile(n),i==va(e))return{schema:n,root:t,baseId:a};t=n}else return;if(!t.schema)return;a=Ou(this._getId(t.schema))}return wC.call(this,r,a,t.schema,t)}function $3(t,e,r){var s=Iu.call(this,t,e);if(s){var a=s.schema,i=s.baseId;t=s.root;var n=this._getId(a);return n&&(i=ku(i,n)),wC.call(this,r,i,a,t)}}var F3=Au.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function wC(t,e,r,s){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var a=t.fragment.split("/"),i=1;i<a.length;i++){var n=a[i];if(n){if(n=Au.unescapeFragment(n),r=r[n],r===void 0)break;var o;if(!F3[n]&&(o=this._getId(r),o&&(e=ku(e,o)),r.$ref)){var l=ku(e,r.$ref),c=Iu.call(this,s,l);c&&(r=c.schema,s=c.root,e=c.baseId)}}}if(r!==void 0&&r!==s.schema)return{schema:r,root:s,baseId:e}}}var j3=Au.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function fh(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return mh(t);if(e)return hh(t)<=e}function mh(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(e=t[r],typeof e=="object"&&!mh(e))return!1}else for(var s in t)if(s=="$ref"||(e=t[s],typeof e=="object"&&!mh(e)))return!1;return!0}function hh(t){var e=0,r;if(Array.isArray(t)){for(var s=0;s<t.length;s++)if(r=t[s],typeof r=="object"&&(e+=hh(r)),e==1/0)return 1/0}else for(var a in t){if(a=="$ref")return 1/0;if(j3[a])e++;else if(r=t[a],typeof r=="object"&&(e+=hh(r)+1),e==1/0)return 1/0}return e}function Ou(t,e){e!==!1&&(t=va(t));var r=Qo.parse(t);return SC(r)}function SC(t){return Qo.serialize(t).split("#")[0]+"#"}var M3=/#\/?$/;function va(t){return t?t.replace(M3,""):""}function ku(t,e){return e=va(e),Qo.resolve(t,e)}function U3(t){var e=va(this._getId(t)),r={"":e},s={"":Ou(e,!1)},a={},i=this;return N3(t,{allKeys:!0},function(n,o,l,c,u,p,h){if(o!==""){var d=i._getId(n),m=r[c],f=s[c]+"/"+u;if(h!==void 0&&(f+="/"+(typeof h=="number"?h:Au.escapeFragment(h))),typeof d=="string"){d=m=va(m?Qo.resolve(m,d):d);var v=i._refs[d];if(typeof v=="string"&&(v=i._refs[v]),v&&v.schema){if(!_C(n,v.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=va(f))if(d[0]=="#"){if(a[d]&&!_C(n,a[d]))throw new Error('id "'+d+'" resolves to more than one schema');a[d]=n}else i._refs[d]=f}r[o]=m,s[o]=f}}),a}});var Lu=q((ere,CC)=>{"use strict";var vh=Du();CC.exports={Validation:PC(q3),MissingRef:PC(gh)};function q3(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}gh.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function gh(t,e,r){this.message=r||gh.message(t,e),this.missingRef=vh.url(t,e),this.missingSchema=vh.normalizeId(vh.fullPath(this.missingRef))}function PC(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}});var yh=q((tre,RC)=>{"use strict";RC.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,s=e.cmp&&function(i){return function(n){return function(o,l){var c={key:o,value:n[o]},u={key:l,value:n[l]};return i(c,u)}}}(e.cmp),a=[];return function i(n){if(n&&n.toJSON&&typeof n.toJSON=="function"&&(n=n.toJSON()),n!==void 0){if(typeof n=="number")return isFinite(n)?""+n:"null";if(typeof n!="object")return JSON.stringify(n);var o,l;if(Array.isArray(n)){for(l="[",o=0;o<n.length;o++)o&&(l+=","),l+=i(n[o])||"null";return l+"]"}if(n===null)return"null";if(a.indexOf(n)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=a.push(n)-1,u=Object.keys(n).sort(s&&s(n));for(l="",o=0;o<u.length;o++){var p=u[o],h=i(n[p]);h&&(l&&(l+=","),l+=JSON.stringify(p)+":"+h)}return a.splice(c,1),"{"+l+"}"}}(t)}});var xh=q((rre,TC)=>{"use strict";TC.exports=function(e,r,s){var a="",i=e.schema.$async===!0,n=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var c="unknown keyword: "+l;if(e.opts.strictKeywords==="log")e.logger.warn(c);else throw new Error(c)}}if(e.isTop&&(a+=" var validate = ",i&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(n||e.schema.$ref)){var r="false schema",u=e.level,p=e.dataLevel,h=e.schema[r],d=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+"/"+r,R=!e.opts.allErrors,N,f="data"+(p||""),C="valid"+u;if(e.schema===!1){e.isTop?R=!0:a+=" var "+C+" = false; ";var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(N||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&R?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?a+=" return data; ":a+=" validate.errors = null; return true; ":a+=" var "+C+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var x=e.isTop,u=e.level=0,p=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{var u=e.level,p=e.dataLevel,f="data"+(p||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+u+" = errors;"}var C="valid"+u,R=!e.opts.allErrors,P="",O="",N,I=e.schema.type,j=Array.isArray(I);if(I&&e.opts.nullable&&e.schema.nullable===!0&&(j?I.indexOf("null")==-1&&(I=I.concat("null")):I!="null"&&(I=[I,"null"],j=!0)),j&&I.length==1&&(I=I[0],j=!1),e.schema.$ref&&n){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(n=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),I){if(e.opts.coerceTypes)var D=e.util.coerceToTypes(e.opts.coerceTypes,I);var k=e.RULES.types[I];if(D||j||k===!0||k&&!Oe(k)){var d=e.schemaPath+".type",m=e.errSchemaPath+"/type",d=e.schemaPath+".type",m=e.errSchemaPath+"/type",T=j?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[T](I,f,e.opts.strictNumbers,!0)+") { ",D){var L="dataType"+u,z="coerced"+u;a+=" var "+L+" = typeof "+f+"; var "+z+" = undefined; ",e.opts.coerceTypes=="array"&&(a+=" if ("+L+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+L+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+z+" = "+f+"; } "),a+=" if ("+z+" !== undefined) ; ";var V=D;if(V)for(var H,G=-1,K=V.length-1;G<K;)H=V[G+=1],H=="string"?a+=" else if ("+L+" == 'number' || "+L+" == 'boolean') "+z+" = '' + "+f+"; else if ("+f+" === null) "+z+" = ''; ":H=="number"||H=="integer"?(a+=" else if ("+L+" == 'boolean' || "+f+" === null || ("+L+" == 'string' && "+f+" && "+f+" == +"+f+" ",H=="integer"&&(a+=" && !("+f+" % 1)"),a+=")) "+z+" = +"+f+"; "):H=="boolean"?a+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+z+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+z+" = true; ":H=="null"?a+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+z+" = null; ":e.opts.coerceTypes=="array"&&H=="array"&&(a+=" else if ("+L+" == 'string' || "+L+" == 'number' || "+L+" == 'boolean' || "+f+" == null) "+z+" = ["+f+"]; ");a+=" else {   ";var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(N||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",j?a+=""+I.join(","):a+=""+I,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",j?a+=""+I.join(","):a+=""+I,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&R?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+z+" !== undefined) {  ";var W=p?"data"+(p-1||""):"parentData",ee=p?e.dataPathArr[p]:"parentDataProperty";a+=" "+f+" = "+z+"; ",p||(a+="if ("+W+" !== undefined)"),a+=" "+W+"["+ee+"] = "+z+"; } "}else{var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(N||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",j?a+=""+I.join(","):a+=""+I,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",j?a+=""+I.join(","):a+=""+I,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&R?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(e.schema.$ref&&!n)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",R&&(a+=" } if (errors === ",x?a+="0":a+="errs_"+u,a+=") { ",O+="}");else{var ne=e.RULES;if(ne){for(var k,Je=-1,ge=ne.length-1;Je<ge;)if(k=ne[Je+=1],Oe(k)){if(k.type&&(a+=" if ("+e.util.checkDataType(k.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(k.type=="object"&&e.schema.properties){var h=e.schema.properties,Ee=Object.keys(h),we=Ee;if(we)for(var Te,M=-1,Z=we.length-1;M<Z;){Te=we[M+=1];var se=h[Te];if(se.default!==void 0){var he=f+e.util.getProperty(Te);if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else a+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(a+=" || "+he+" === null || "+he+" === '' "),a+=" ) "+he+" = ",e.opts.useDefaults=="shared"?a+=" "+e.useDefault(se.default)+" ":a+=" "+JSON.stringify(se.default)+" ",a+="; "}}}else if(k.type=="array"&&Array.isArray(e.schema.items)){var J=e.schema.items;if(J){for(var se,G=-1,X=J.length-1;G<X;)if(se=J[G+=1],se.default!==void 0){var he=f+"["+G+"]";if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else a+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(a+=" || "+he+" === null || "+he+" === '' "),a+=" ) "+he+" = ",e.opts.useDefaults=="shared"?a+=" "+e.useDefault(se.default)+" ":a+=" "+JSON.stringify(se.default)+" ",a+="; "}}}}var ue=k.rules;if(ue){for(var Ue,_e=-1,it=ue.length-1;_e<it;)if(Ue=ue[_e+=1],dt(Ue)){var ot=Ue.code(e,Ue.keyword,k.type);ot&&(a+=" "+ot+" ",R&&(P+="}"))}}if(R&&(a+=" "+P+" ",P=""),k.type&&(a+=" } ",I&&I===k.type&&!D)){a+=" else { ";var d=e.schemaPath+".type",m=e.errSchemaPath+"/type",v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(N||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",j?a+=""+I.join(","):a+=""+I,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",j?a+=""+I.join(","):a+=""+I,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&R?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}R&&(a+=" if (errors === ",x?a+="0":a+="errs_"+u,a+=") { ",O+="}")}}}R&&(a+=" "+O+" "),x?(i?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+C+" = errors === errs_"+u+";";function Oe(ut){for(var rt=ut.rules,ct=0;ct<rt.length;ct++)if(dt(rt[ct]))return!0}function dt(ut){return e.schema[ut.keyword]!==void 0||ut.implements&&Ye(ut)}function Ye(ut){for(var rt=ut.implements,ct=0;ct<rt.length;ct++)if(e.schema[rt[ct]]!==void 0)return!0}return a}});var DC=q((sre,IC)=>{"use strict";var Nu=Du(),Fu=wn(),kC=Lu(),z3=yh(),OC=xh(),B3=Fu.ucs2length,H3=Cu(),V3=kC.Validation;IC.exports=bh;function bh(t,e,r,s){var a=this,i=this._opts,n=[void 0],o={},l=[],c={},u=[],p={},h=[];e=e||{schema:t,refVal:n,refs:o};var d=G3.call(this,t,e,s),m=this._compilations[d.index];if(d.compiling)return m.callValidate=w;var f=this._formats,v=this.RULES;try{var g=C(t,e,r,s);m.validate=g;var x=m.callValidate;return x&&(x.schema=g.schema,x.errors=null,x.refs=g.refs,x.refVal=g.refVal,x.root=g.root,x.$async=g.$async,i.sourceCode&&(x.source=g.source)),g}finally{W3.call(this,t,e,s)}function w(){var T=m.validate,L=T.apply(this,arguments);return w.errors=T.errors,L}function C(T,L,z,V){var H=!L||L&&L.schema==T;if(L.schema!=e.schema)return bh.call(a,T,L,z,V);var G=T.$async===!0,K=OC({isTop:!0,schema:T,isRoot:H,baseId:V,root:L,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:kC.MissingRef,RULES:v,validate:OC,util:Fu,resolve:Nu,resolveRef:R,usePattern:j,useDefault:D,useCustomRule:k,opts:i,formats:f,logger:a.logger,self:a});K=$u(n,J3)+$u(l,Z3)+$u(u,K3)+$u(h,Q3)+K,i.processCode&&(K=i.processCode(K,T));var W;try{var ee=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",K);W=ee(a,v,f,e,n,u,h,H3,B3,V3),n[0]=W}catch(ne){throw a.logger.error("Error compiling schema, function code:",K),ne}return W.schema=T,W.errors=null,W.refs=o,W.refVal=n,W.root=H?W:L,G&&(W.$async=!0),i.sourceCode===!0&&(W.source={code:K,patterns:l,defaults:u}),W}function R(T,L,z){L=Nu.url(T,L);var V=o[L],H,G;if(V!==void 0)return H=n[V],G="refVal["+V+"]",I(H,G);if(!z&&e.refs){var K=e.refs[L];if(K!==void 0)return H=e.refVal[K],G=P(L,H),I(H,G)}G=P(L);var W=Nu.call(a,C,e,L);if(W===void 0){var ee=r&&r[L];ee&&(W=Nu.inlineRef(ee,i.inlineRefs)?ee:bh.call(a,ee,e,r,T))}if(W===void 0)O(L);else return N(L,W),I(W,G)}function P(T,L){var z=n.length;return n[z]=L,o[T]=z,"refVal"+z}function O(T){delete o[T]}function N(T,L){var z=o[T];n[z]=L}function I(T,L){return typeof T=="object"||typeof T=="boolean"?{code:L,schema:T,inline:!0}:{code:L,$async:T&&!!T.$async}}function j(T){var L=c[T];return L===void 0&&(L=c[T]=l.length,l[L]=T),"pattern"+L}function D(T){switch(typeof T){case"boolean":case"number":return""+T;case"string":return Fu.toQuotedString(T);case"object":if(T===null)return"null";var L=z3(T),z=p[L];return z===void 0&&(z=p[L]=u.length,u[z]=T),"default"+z}}function k(T,L,z,V){if(a._opts.validateSchema!==!1){var H=T.definition.dependencies;if(H&&!H.every(function(we){return Object.prototype.hasOwnProperty.call(z,we)}))throw new Error("parent schema must have all required keywords: "+H.join(","));var G=T.definition.validateSchema;if(G){var K=G(L);if(!K){var W="keyword schema is invalid: "+a.errorsText(G.errors);if(a._opts.validateSchema=="log")a.logger.error(W);else throw new Error(W)}}}var ee=T.definition.compile,ne=T.definition.inline,Je=T.definition.macro,ge;if(ee)ge=ee.call(a,L,z,V);else if(Je)ge=Je.call(a,L,z,V),i.validateSchema!==!1&&a.validateSchema(ge,!0);else if(ne)ge=ne.call(a,V,T.keyword,L,z);else if(ge=T.definition.validate,!ge)return;if(ge===void 0)throw new Error('custom keyword "'+T.keyword+'"failed to compile');var Ee=h.length;return h[Ee]=ge,{code:"customRule"+Ee,validate:ge}}}function G3(t,e,r){var s=AC.call(this,t,e,r);return s>=0?{index:s,compiling:!0}:(s=this._compilations.length,this._compilations[s]={schema:t,root:e,baseId:r},{index:s,compiling:!1})}function W3(t,e,r){var s=AC.call(this,t,e,r);s>=0&&this._compilations.splice(s,1)}function AC(t,e,r){for(var s=0;s<this._compilations.length;s++){var a=this._compilations[s];if(a.schema==t&&a.root==e&&a.baseId==r)return s}return-1}function Z3(t,e){return"var pattern"+t+" = new RegExp("+Fu.toQuotedString(e[t])+");"}function K3(t){return"var default"+t+" = defaults["+t+"];"}function J3(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function Q3(t){return"var customRule"+t+" = customRules["+t+"];"}function $u(t,e){if(!t.length)return"";for(var r="",s=0;s<t.length;s++)r+=e(s,t);return r}});var NC=q((are,LC)=>{"use strict";var ju=LC.exports=function(){this._cache={}};ju.prototype.put=function(e,r){this._cache[e]=r};ju.prototype.get=function(e){return this._cache[e]};ju.prototype.del=function(e){delete this._cache[e]};ju.prototype.clear=function(){this._cache={}}});var WC=q((nre,GC)=>{"use strict";var X3=wn(),Y3=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,eV=[0,31,28,31,30,31,30,31,31,30,31,30,31],tV=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,$C=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,rV=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,sV=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,FC=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,jC=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,MC=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,UC=/^(?:\/(?:[^~/]|~0|~1)*)*$/,qC=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,zC=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;GC.exports=Mu;function Mu(t){return t=t=="full"?"full":"fast",X3.copy(Mu[t])}Mu.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":FC,url:jC,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:$C,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:VC,uuid:MC,"json-pointer":UC,"json-pointer-uri-fragment":qC,"relative-json-pointer":zC};Mu.full={date:BC,time:HC,"date-time":iV,uri:cV,"uri-reference":sV,"uri-template":FC,url:jC,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:$C,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:VC,uuid:MC,"json-pointer":UC,"json-pointer-uri-fragment":qC,"relative-json-pointer":zC};function aV(t){return t%4===0&&(t%100!==0||t%400===0)}function BC(t){var e=t.match(Y3);if(!e)return!1;var r=+e[1],s=+e[2],a=+e[3];return s>=1&&s<=12&&a>=1&&a<=(s==2&&aV(r)?29:eV[s])}function HC(t,e){var r=t.match(tV);if(!r)return!1;var s=r[1],a=r[2],i=r[3],n=r[5];return(s<=23&&a<=59&&i<=59||s==23&&a==59&&i==60)&&(!e||n)}var nV=/t|\s/i;function iV(t){var e=t.split(nV);return e.length==2&&BC(e[0])&&HC(e[1],!0)}var oV=/\/|:/;function cV(t){return oV.test(t)&&rV.test(t)}var lV=/[^\\]\\Z/;function VC(t){if(lV.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var KC=q((ire,ZC)=>{"use strict";ZC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(n||""),p="valid"+i,h,d;if(o=="#"||o=="#/")e.isRoot?(h=e.async,d="validate"):(h=e.root.schema.$async===!0,d="root.refVal[0]");else{var m=e.resolveRef(e.baseId,o,e.isRoot);if(m===void 0){var f=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(f);var v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(f),c&&(a+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,f)}else if(m.inline){var x=e.util.copy(e);x.level++;var w="valid"+x.level;x.schema=m.schema,x.schemaPath="",x.errSchemaPath=o;var C=e.validate(x).replace(/validate\.schema/g,m.code);a+=" "+C+" ",c&&(a+=" if ("+w+") { ")}else h=m.$async===!0||e.async&&m.$async!==!1,d=m.code}if(d){var v=v||[];v.push(a),a="",e.opts.passContext?a+=" "+d+".call(this, ":a+=" "+d+"( ",a+=" "+u+", (dataPath || '')",e.errorPath!='""'&&(a+=" + "+e.errorPath);var R=n?"data"+(n-1||""):"parentData",P=n?e.dataPathArr[n]:"parentDataProperty";a+=" , "+R+" , "+P+", rootData)  ";var O=a;if(a=v.pop(),h){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(a+=" var "+p+"; "),a+=" try { await "+O+"; ",c&&(a+=" "+p+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+p+" = false; "),a+=" } ",c&&(a+=" if ("+p+") { ")}else a+=" if (!"+O+") { if (vErrors === null) vErrors = "+d+".errors; else vErrors = vErrors.concat("+d+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a}});var QC=q((ore,JC)=>{"use strict";JC.exports=function(e,r,s){var a=" ",i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var p="valid"+c.level,h=c.baseId,d=!0,m=i;if(m)for(var f,v=-1,g=m.length-1;v<g;)f=m[v+=1],(e.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:e.util.schemaHasRules(f,e.RULES.all))&&(d=!1,c.schema=f,c.schemaPath=n+"["+v+"]",c.errSchemaPath=o+"/"+v,a+="  "+e.validate(c)+" ",c.baseId=h,l&&(a+=" if ("+p+") { ",u+="}"));return l&&(d?a+=" if (true) { ":a+=" "+u.slice(0,-1)+" "),a}});var YC=q((cre,XC)=>{"use strict";XC.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=o.every(function(N){return e.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:e.util.schemaHasRules(N,e.RULES.all)});if(g){var x=m.baseId;a+=" var "+d+" = errors; var "+h+" = false;  ";var w=e.compositeRule;e.compositeRule=m.compositeRule=!0;var C=o;if(C)for(var R,P=-1,O=C.length-1;P<O;)R=C[P+=1],m.schema=R,m.schemaPath=l+"["+P+"]",m.errSchemaPath=c+"/"+P,a+="  "+e.validate(m)+" ",m.baseId=x,a+=" "+h+" = "+h+" || "+v+"; if (!"+h+") { ",f+="}";e.compositeRule=m.compositeRule=w,a+=" "+f+" if (!"+h+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else u&&(a+=" if (true) { ");return a}});var tR=q((lre,eR)=>{"use strict";eR.exports=function(e,r,s){var a=" ",i=e.schema[r],n=e.errSchemaPath+"/"+r,o=!e.opts.allErrors,l=e.util.toQuotedString(i);return e.opts.$comment===!0?a+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(a+=" self._opts.$comment("+l+", "+e.util.toQuotedString(n)+", validate.root.schema);"),a}});var sR=q((ure,rR)=>{"use strict";rR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,d||(a+=" var schema"+i+" = validate.schema"+l+";"),a+="var "+h+" = equal("+p+", schema"+i+"); if (!"+h+") {   ";var f=f||[];f.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var v=a;return a=f.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}});var nR=q((pre,aR)=>{"use strict";aR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,x=m.dataLevel=e.dataLevel+1,w="data"+x,C=e.baseId,R=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(a+="var "+d+" = errors;var "+h+";",R){var P=e.compositeRule;e.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,a+=" var "+v+" = false; for (var "+g+" = 0; "+g+" < "+p+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var O=p+"["+g+"]";m.dataPathArr[x]=g;var N=e.validate(m);m.baseId=C,e.util.varOccurences(N,w)<2?a+=" "+e.util.varReplace(N,w,O)+" ":a+=" var "+w+" = "+O+"; "+N+" ",a+=" if ("+v+") break; }  ",e.compositeRule=m.compositeRule=P,a+=" "+f+" if (!"+v+") {"}else a+=" if ("+p+".length == 0) {";var I=I||[];I.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var j=a;return a=I.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+j+"]); ":a+=" validate.errors = ["+j+"]; return false; ":a+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",R&&(a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a}});var oR=q((dre,iR)=>{"use strict";iR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e),m="";d.level++;var f="valid"+d.level,v={},g={},x=e.opts.ownProperties;for(P in o)if(P!="__proto__"){var w=o[P],C=Array.isArray(w)?g:v;C[P]=w}a+="var "+h+" = errors;";var R=e.errorPath;a+="var missing"+i+";";for(var P in g)if(C=g[P],C.length){if(a+=" if ( "+p+e.util.getProperty(P)+" !== undefined ",x&&(a+=" && Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(P)+"') "),u){a+=" && ( ";var O=C;if(O)for(var N,I=-1,j=O.length-1;I<j;){N=O[I+=1],I&&(a+=" || ");var D=e.util.getProperty(N),k=p+D;a+=" ( ( "+k+" === undefined ",x&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(N)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?N:D)+") ) "}a+=")) {  ";var T="missing"+i,L="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(R,T,!0):R+" + "+T);var z=z||[];z.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+L+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",C.length==1?a+="property "+e.util.escapeQuotes(C[0]):a+="properties "+e.util.escapeQuotes(C.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var V=a;a=z.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+V+"]); ":a+=" validate.errors = ["+V+"]; return false; ":a+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var H=C;if(H)for(var N,G=-1,K=H.length-1;G<K;){N=H[G+=1];var D=e.util.getProperty(N),L=e.util.escapeQuotes(N),k=p+D;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(R,N,e.opts.jsonPointers)),a+=" if ( "+k+" === undefined ",x&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(N)+"') "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+L+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",C.length==1?a+="property "+e.util.escapeQuotes(C[0]):a+="properties "+e.util.escapeQuotes(C.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(m+="}",a+=" else { ")}e.errorPath=R;var W=d.baseId;for(var P in v){var w=v[P];(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))&&(a+=" "+f+" = true; if ( "+p+e.util.getProperty(P)+" !== undefined ",x&&(a+=" && Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(P)+"') "),a+=") { ",d.schema=w,d.schemaPath=l+e.util.getProperty(P),d.errSchemaPath=c+"/"+e.util.escapeFragment(P),a+="  "+e.validate(d)+" ",d.baseId=W,a+=" }  ",u&&(a+=" if ("+f+") { ",m+="}"))}return u&&(a+="   "+m+" if ("+h+" == errors) {"),a}});var lR=q((fre,cR)=>{"use strict";cR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="i"+i,v="schema"+i;d||(a+=" var "+v+" = validate.schema"+l+";"),a+="var "+h+";",d&&(a+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),a+=""+h+" = false;for (var "+f+"=0; "+f+"<"+v+".length; "+f+"++) if (equal("+p+", "+v+"["+f+"])) { "+h+" = true; break; }",d&&(a+="  }  "),a+=" if (!"+h+") {   ";var g=g||[];g.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var x=a;return a=g.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}});var pR=q((mre,uR)=>{"use strict";uR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||"");if(e.opts.format===!1)return u&&(a+=" if (true) { "),a;var h=e.opts.$data&&o&&o.$data,d;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o;var m=e.opts.unknownFormats,f=Array.isArray(m);if(h){var v="format"+i,g="isObject"+i,x="formatType"+i;a+=" var "+v+" = formats["+d+"]; var "+g+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+x+" = "+g+" && "+v+".type || 'string'; if ("+g+") { ",e.async&&(a+=" var async"+i+" = "+v+".async; "),a+=" "+v+" = "+v+".validate; } if (  ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (",m!="ignore"&&(a+=" ("+d+" && !"+v+" ",f&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+v+" && "+x+" == '"+s+"' && !(typeof "+v+" == 'function' ? ",e.async?a+=" (async"+i+" ? await "+v+"("+p+") : "+v+"("+p+")) ":a+=" "+v+"("+p+") ",a+=" : "+v+".test("+p+"))))) {"}else{var v=e.formats[o];if(!v){if(m=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(a+=" if (true) { "),a;if(f&&m.indexOf(o)>=0)return u&&(a+=" if (true) { "),a;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g=typeof v=="object"&&!(v instanceof RegExp)&&v.validate,x=g&&v.type||"string";if(g){var w=v.async===!0;v=v.validate}if(x!=s)return u&&(a+=" if (true) { "),a;if(w){if(!e.async)throw new Error("async format in sync schema");var C="formats"+e.util.getProperty(o)+".validate";a+=" if (!(await "+C+"("+p+"))) { "}else{a+=" if (! ";var C="formats"+e.util.getProperty(o);g&&(C+=".validate"),typeof v=="function"?a+=" "+C+"("+p+") ":a+=" "+C+".test("+p+") ",a+=") { "}}var R=R||[];R.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",h?a+=""+d:a+=""+e.util.toQuotedString(o),a+="  } ",e.opts.messages!==!1&&(a+=` , message: 'should match format "`,h?a+="' + "+d+" + '":a+=""+e.util.escapeQuotes(o),a+=`"' `),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var P=a;return a=R.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { "),a}});var fR=q((hre,dR)=>{"use strict";dR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e);m.level++;var f="valid"+m.level,v=e.schema.then,g=e.schema.else,x=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),w=g!==void 0&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all)),C=m.baseId;if(x||w){var R;m.createErrors=!1,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,a+=" var "+d+" = errors; var "+h+" = true;  ";var P=e.compositeRule;e.compositeRule=m.compositeRule=!0,a+="  "+e.validate(m)+" ",m.baseId=C,m.createErrors=!0,a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=m.compositeRule=P,x?(a+=" if ("+f+") {  ",m.schema=e.schema.then,m.schemaPath=e.schemaPath+".then",m.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(m)+" ",m.baseId=C,a+=" "+h+" = "+f+"; ",x&&w?(R="ifClause"+i,a+=" var "+R+" = 'then'; "):R="'then'",a+=" } ",w&&(a+=" else { ")):a+=" if (!"+f+") { ",w&&(m.schema=e.schema.else,m.schemaPath=e.schemaPath+".else",m.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(m)+" ",m.baseId=C,a+=" "+h+" = "+f+"; ",x&&w?(R="ifClause"+i,a+=" var "+R+" = 'else'; "):R="'else'",a+=" } "),a+=" if (!"+h+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+R+" } ",e.opts.messages!==!1&&(a+=` , message: 'should match "' + `+R+` + '" schema' `),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",u&&(a+=" else { ")}else u&&(a+=" if (true) { ");return a}});var hR=q((vre,mR)=>{"use strict";mR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,x=m.dataLevel=e.dataLevel+1,w="data"+x,C=e.baseId;if(a+="var "+d+" = errors;var "+h+";",Array.isArray(o)){var R=e.schema.additionalItems;if(R===!1){a+=" "+h+" = "+p+".length <= "+o.length+"; ";var P=c;c=e.errSchemaPath+"/additionalItems",a+="  if (!"+h+") {   ";var O=O||[];O.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var N=a;a=O.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c=P,u&&(f+="}",a+=" else { ")}var I=o;if(I){for(var j,D=-1,k=I.length-1;D<k;)if(j=I[D+=1],e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)){a+=" "+v+" = true; if ("+p+".length > "+D+") { ";var T=p+"["+D+"]";m.schema=j,m.schemaPath=l+"["+D+"]",m.errSchemaPath=c+"/"+D,m.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0),m.dataPathArr[x]=D;var L=e.validate(m);m.baseId=C,e.util.varOccurences(L,w)<2?a+=" "+e.util.varReplace(L,w,T)+" ":a+=" var "+w+" = "+T+"; "+L+" ",a+=" }  ",u&&(a+=" if ("+v+") { ",f+="}")}}if(typeof R=="object"&&(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))){m.schema=R,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+v+" = true; if ("+p+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+p+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var T=p+"["+g+"]";m.dataPathArr[x]=g;var L=e.validate(m);m.baseId=C,e.util.varOccurences(L,w)<2?a+=" "+e.util.varReplace(L,w,T)+" ":a+=" var "+w+" = "+T+"; "+L+" ",u&&(a+=" if (!"+v+") break; "),a+=" } }  ",u&&(a+=" if ("+v+") { ",f+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){m.schema=o,m.schemaPath=l,m.errSchemaPath=c,a+="  for (var "+g+" = 0; "+g+" < "+p+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var T=p+"["+g+"]";m.dataPathArr[x]=g;var L=e.validate(m);m.baseId=C,e.util.varOccurences(L,w)<2?a+=" "+e.util.varReplace(L,w,T)+" ":a+=" var "+w+" = "+T+"; "+L+" ",u&&(a+=" if (!"+v+") break; "),a+=" }"}return u&&(a+=" "+f+" if ("+d+" == errors) {"),a}});var _h=q((gre,vR)=>{"use strict";vR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,C,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o;var m=r=="maximum",f=m?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[f],g=e.opts.$data&&v&&v.$data,x=m?"<":">",w=m?">":"<",C=void 0;if(!(h||typeof o=="number"||o===void 0))throw new Error(r+" must be number");if(!(g||v===void 0||typeof v=="number"||typeof v=="boolean"))throw new Error(f+" must be number or boolean");if(g){var R=e.util.getData(v.$data,n,e.dataPathArr),P="exclusive"+i,O="exclType"+i,N="exclIsNumber"+i,I="op"+i,j="' + "+I+" + '";a+=" var schemaExcl"+i+" = "+R+"; ",R="schemaExcl"+i,a+=" var "+P+"; var "+O+" = typeof "+R+"; if ("+O+" != 'boolean' && "+O+" != 'undefined' && "+O+" != 'number') { ";var C=f,D=D||[];D.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(C||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var k=a;a=D.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" "+O+" == 'number' ? ( ("+P+" = "+d+" === undefined || "+R+" "+x+"= "+d+") ? "+p+" "+w+"= "+R+" : "+p+" "+w+" "+d+" ) : ( ("+P+" = "+R+" === true) ? "+p+" "+w+"= "+d+" : "+p+" "+w+" "+d+" ) || "+p+" !== "+p+") { var op"+i+" = "+P+" ? '"+x+"' : '"+x+"='; ",o===void 0&&(C=f,c=e.errSchemaPath+"/"+f,d=R,h=g)}else{var N=typeof v=="number",j=x;if(N&&h){var I="'"+j+"'";a+=" if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" ( "+d+" === undefined || "+v+" "+x+"= "+d+" ? "+p+" "+w+"= "+v+" : "+p+" "+w+" "+d+" ) || "+p+" !== "+p+") { "}else{N&&o===void 0?(P=!0,C=f,c=e.errSchemaPath+"/"+f,d=v,w+="="):(N&&(d=Math[m?"min":"max"](v,o)),v===(N?d:!0)?(P=!0,C=f,c=e.errSchemaPath+"/"+f,w+="="):(P=!1,j+="="));var I="'"+j+"'";a+=" if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" "+p+" "+w+" "+d+" || "+p+" !== "+p+") { "}}C=C||r;var D=D||[];D.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(C||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+I+", limit: "+d+", exclusive: "+P+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be "+j+" ",h?a+="' + "+d:a+=""+d+"'"),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var k=a;return a=D.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { "),a}});var wh=q((yre,gR)=>{"use strict";gR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxItems"?">":"<";a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" "+p+".length "+m+" "+d+") { ";var f=r,v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",r=="maxItems"?a+="more":a+="fewer",a+=" than ",h?a+="' + "+d+" + '":a+=""+o,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var g=a;return a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var Sh=q((xre,yR)=>{"use strict";yR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxLength"?">":"<";a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e.opts.unicode===!1?a+=" "+p+".length ":a+=" ucs2length("+p+") ",a+=" "+m+" "+d+") { ";var f=r,v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be ",r=="maxLength"?a+="longer":a+="shorter",a+=" than ",h?a+="' + "+d+" + '":a+=""+o,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var g=a;return a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var Eh=q((bre,xR)=>{"use strict";xR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxProperties"?">":"<";a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),a+=" Object.keys("+p+").length "+m+" "+d+") { ";var f=r,v=v||[];v.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",r=="maxProperties"?a+="more":a+="fewer",a+=" than ",h?a+="' + "+d+" + '":a+=""+o,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var g=a;return a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var _R=q((_re,bR)=>{"use strict";bR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o,!(h||typeof o=="number"))throw new Error(r+" must be number");a+="var division"+i+";if (",h&&(a+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),a+=" (division"+i+" = "+p+" / "+d+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+i+" !== parseInt(division"+i+") ",a+=" ) ",h&&(a+="  )  "),a+=" ) {   ";var m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+d+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be multiple of ",h?a+="' + "+d:a+=""+d+"'"),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var f=a;return a=m.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var SR=q((wre,wR)=>{"use strict";wR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e);d.level++;var m="valid"+d.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=l,d.errSchemaPath=c,a+=" var "+h+" = errors;  ";var f=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var v;d.opts.allErrors&&(v=d.opts.allErrors,d.opts.allErrors=!1),a+=" "+e.validate(d)+" ",d.createErrors=!0,v&&(d.opts.allErrors=v),e.compositeRule=d.compositeRule=f,a+=" if ("+m+") {   ";var g=g||[];g.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var x=a;a=g.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(a+=" if (false) { ");return a}});var PR=q((Sre,ER)=>{"use strict";ER.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=m.baseId,x="prevValid"+i,w="passingSchemas"+i;a+="var "+d+" = errors , "+x+" = false , "+h+" = false , "+w+" = null; ";var C=e.compositeRule;e.compositeRule=m.compositeRule=!0;var R=o;if(R)for(var P,O=-1,N=R.length-1;O<N;)P=R[O+=1],(e.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:e.util.schemaHasRules(P,e.RULES.all))?(m.schema=P,m.schemaPath=l+"["+O+"]",m.errSchemaPath=c+"/"+O,a+="  "+e.validate(m)+" ",m.baseId=g):a+=" var "+v+" = true; ",O&&(a+=" if ("+v+" && "+x+") { "+h+" = false; "+w+" = ["+w+", "+O+"]; } else { ",f+="}"),a+=" if ("+v+") { "+h+" = "+x+" = true; "+w+" = "+O+"; }";return e.compositeRule=m.compositeRule=C,a+=""+f+"if (!"+h+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+w+" } ",e.opts.messages!==!1&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}});var RR=q((Ere,CR)=>{"use strict";CR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h=e.opts.$data&&o&&o.$data,d;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",d="schema"+i):d=o;var m=h?"(new RegExp("+d+"))":e.usePattern(o);a+="if ( ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" !"+m+".test("+p+") ) {   ";var f=f||[];f.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",h?a+=""+d:a+=""+e.util.toQuotedString(o),a+="  } ",e.opts.messages!==!1&&(a+=` , message: 'should match pattern "`,h?a+="' + "+d+" + '":a+=""+e.util.escapeQuotes(o),a+=`"' `),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+l:a+=""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var v=a;return a=f.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",u&&(a+=" else { "),a}});var OR=q((Pre,TR)=>{"use strict";TR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e),m="";d.level++;var f="valid"+d.level,v="key"+i,g="idx"+i,x=d.dataLevel=e.dataLevel+1,w="data"+x,C="dataProperties"+i,R=Object.keys(o||{}).filter(G),P=e.schema.patternProperties||{},O=Object.keys(P).filter(G),N=e.schema.additionalProperties,I=R.length||O.length,j=N===!1,D=typeof N=="object"&&Object.keys(N).length,k=e.opts.removeAdditional,T=j||D||k,L=e.opts.ownProperties,z=e.baseId,V=e.schema.required;if(V&&!(e.opts.$data&&V.$data)&&V.length<e.opts.loopRequired)var H=e.util.toHash(V);function G(qt){return qt!=="__proto__"}if(a+="var "+h+" = errors;var "+f+" = true;",L&&(a+=" var "+C+" = undefined;"),T){if(L?a+=" "+C+" = "+C+" || Object.keys("+p+"); for (var "+g+"=0; "+g+"<"+C+".length; "+g+"++) { var "+v+" = "+C+"["+g+"]; ":a+=" for (var "+v+" in "+p+") { ",I){if(a+=" var isAdditional"+i+" = !(false ",R.length)if(R.length>8)a+=" || validate.schema"+l+".hasOwnProperty("+v+") ";else{var K=R;if(K)for(var W,ee=-1,ne=K.length-1;ee<ne;)W=K[ee+=1],a+=" || "+v+" == "+e.util.toQuotedString(W)+" "}if(O.length){var Je=O;if(Je)for(var ge,Ee=-1,we=Je.length-1;Ee<we;)ge=Je[Ee+=1],a+=" || "+e.usePattern(ge)+".test("+v+") "}a+=" ); if (isAdditional"+i+") { "}if(k=="all")a+=" delete "+p+"["+v+"]; ";else{var Te=e.errorPath,M="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),j)if(k)a+=" delete "+p+"["+v+"]; ";else{a+=" "+f+" = false; ";var Z=c;c=e.errSchemaPath+"/additionalProperties";var se=se||[];se.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+M+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var he=a;a=se.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+he+"]); ":a+=" validate.errors = ["+he+"]; return false; ":a+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Z,u&&(a+=" break; ")}else if(D)if(k=="failing"){a+=" var "+h+" = errors;  ";var J=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=N,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var X=p+"["+v+"]";d.dataPathArr[x]=v;var ue=e.validate(d);d.baseId=z,e.util.varOccurences(ue,w)<2?a+=" "+e.util.varReplace(ue,w,X)+" ":a+=" var "+w+" = "+X+"; "+ue+" ",a+=" if (!"+f+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+p+"["+v+"]; }  ",e.compositeRule=d.compositeRule=J}else{d.schema=N,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var X=p+"["+v+"]";d.dataPathArr[x]=v;var ue=e.validate(d);d.baseId=z,e.util.varOccurences(ue,w)<2?a+=" "+e.util.varReplace(ue,w,X)+" ":a+=" var "+w+" = "+X+"; "+ue+" ",u&&(a+=" if (!"+f+") break; ")}e.errorPath=Te}I&&(a+=" } "),a+=" }  ",u&&(a+=" if ("+f+") { ",m+="}")}var Ue=e.opts.useDefaults&&!e.compositeRule;if(R.length){var _e=R;if(_e)for(var W,it=-1,ot=_e.length-1;it<ot;){W=_e[it+=1];var Oe=o[W];if(e.opts.strictKeywords?typeof Oe=="object"&&Object.keys(Oe).length>0||Oe===!1:e.util.schemaHasRules(Oe,e.RULES.all)){var dt=e.util.getProperty(W),X=p+dt,Ye=Ue&&Oe.default!==void 0;d.schema=Oe,d.schemaPath=l+dt,d.errSchemaPath=c+"/"+e.util.escapeFragment(W),d.errorPath=e.util.getPath(e.errorPath,W,e.opts.jsonPointers),d.dataPathArr[x]=e.util.toQuotedString(W);var ue=e.validate(d);if(d.baseId=z,e.util.varOccurences(ue,w)<2){ue=e.util.varReplace(ue,w,X);var ut=X}else{var ut=w;a+=" var "+w+" = "+X+"; "}if(Ye)a+=" "+ue+" ";else{if(H&&H[W]){a+=" if ( "+ut+" === undefined ",L&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(W)+"') "),a+=") { "+f+" = false; ";var Te=e.errorPath,Z=c,rt=e.util.escapeQuotes(W);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Te,W,e.opts.jsonPointers)),c=e.errSchemaPath+"/required";var se=se||[];se.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+rt+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+rt+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var he=a;a=se.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+he+"]); ":a+=" validate.errors = ["+he+"]; return false; ":a+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Z,e.errorPath=Te,a+=" } else { "}else u?(a+=" if ( "+ut+" === undefined ",L&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(W)+"') "),a+=") { "+f+" = true; } else { "):(a+=" if ("+ut+" !== undefined ",L&&(a+=" &&   Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(W)+"') "),a+=" ) { ");a+=" "+ue+" } "}}u&&(a+=" if ("+f+") { ",m+="}")}}if(O.length){var ct=O;if(ct)for(var ge,jt=-1,Mt=ct.length-1;jt<Mt;){ge=ct[jt+=1];var Oe=P[ge];if(e.opts.strictKeywords?typeof Oe=="object"&&Object.keys(Oe).length>0||Oe===!1:e.util.schemaHasRules(Oe,e.RULES.all)){d.schema=Oe,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ge),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ge),L?a+=" "+C+" = "+C+" || Object.keys("+p+"); for (var "+g+"=0; "+g+"<"+C+".length; "+g+"++) { var "+v+" = "+C+"["+g+"]; ":a+=" for (var "+v+" in "+p+") { ",a+=" if ("+e.usePattern(ge)+".test("+v+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var X=p+"["+v+"]";d.dataPathArr[x]=v;var ue=e.validate(d);d.baseId=z,e.util.varOccurences(ue,w)<2?a+=" "+e.util.varReplace(ue,w,X)+" ":a+=" var "+w+" = "+X+"; "+ue+" ",u&&(a+=" if (!"+f+") break; "),a+=" } ",u&&(a+=" else "+f+" = true; "),a+=" }  ",u&&(a+=" if ("+f+") { ",m+="}")}}}return u&&(a+=" "+m+" if ("+h+" == errors) {"),a}});var AR=q((Cre,kR)=>{"use strict";kR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="errs__"+i,d=e.util.copy(e),m="";d.level++;var f="valid"+d.level;if(a+="var "+h+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=l,d.errSchemaPath=c;var v="key"+i,g="idx"+i,x="i"+i,w="' + "+v+" + '",C=d.dataLevel=e.dataLevel+1,R="data"+C,P="dataProperties"+i,O=e.opts.ownProperties,N=e.baseId;O&&(a+=" var "+P+" = undefined; "),O?a+=" "+P+" = "+P+" || Object.keys("+p+"); for (var "+g+"=0; "+g+"<"+P+".length; "+g+"++) { var "+v+" = "+P+"["+g+"]; ":a+=" for (var "+v+" in "+p+") { ",a+=" var startErrs"+i+" = errors; ";var I=v,j=e.compositeRule;e.compositeRule=d.compositeRule=!0;var D=e.validate(d);d.baseId=N,e.util.varOccurences(D,R)<2?a+=" "+e.util.varReplace(D,R,I)+" ":a+=" var "+R+" = "+I+"; "+D+" ",e.compositeRule=d.compositeRule=j,a+=" if (!"+f+") { for (var "+x+"=startErrs"+i+"; "+x+"<errors; "+x+"++) { vErrors["+x+"].propertyName = "+v+"; }   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+w+"' } ",e.opts.messages!==!1&&(a+=" , message: 'property name \\'"+w+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),u&&(a+=" break; "),a+=" } }"}return u&&(a+=" "+m+" if ("+h+" == errors) {"),a}});var DR=q((Rre,IR)=>{"use strict";IR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="schema"+i;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[],g=o;if(g)for(var x,w=-1,C=g.length-1;w<C;){x=g[w+=1];var R=e.schema.properties[x];R&&(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))||(v[v.length]=x)}}else var v=o;if(d||v.length){var P=e.errorPath,O=d||v.length>=e.opts.loopRequired,N=e.opts.ownProperties;if(u)if(a+=" var missing"+i+"; ",O){d||(a+=" var "+f+" = validate.schema"+l+"; ");var I="i"+i,j="schema"+i+"["+I+"]",D="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,j,e.opts.jsonPointers)),a+=" var "+h+" = true; ",d&&(a+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),a+=" for (var "+I+" = 0; "+I+" < "+f+".length; "+I+"++) { "+h+" = "+p+"["+f+"["+I+"]] !== undefined ",N&&(a+=" &&   Object.prototype.hasOwnProperty.call("+p+", "+f+"["+I+"]) "),a+="; if (!"+h+") break; } ",d&&(a+="  }  "),a+="  if (!"+h+") {   ";var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+D+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var T=a;a=k.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+T+"]); ":a+=" validate.errors = ["+T+"]; return false; ":a+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var L=v;if(L)for(var z,I=-1,V=L.length-1;I<V;){z=L[I+=1],I&&(a+=" || ");var H=e.util.getProperty(z),G=p+H;a+=" ( ( "+G+" === undefined ",N&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(z)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?z:H)+") ) "}a+=") {  ";var j="missing"+i,D="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,j,!0):P+" + "+j);var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+D+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var T=a;a=k.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+T+"]); ":a+=" validate.errors = ["+T+"]; return false; ":a+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(O){d||(a+=" var "+f+" = validate.schema"+l+"; ");var I="i"+i,j="schema"+i+"["+I+"]",D="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,j,e.opts.jsonPointers)),d&&(a+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+D+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),a+=" for (var "+I+" = 0; "+I+" < "+f+".length; "+I+"++) { if ("+p+"["+f+"["+I+"]] === undefined ",N&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", "+f+"["+I+"]) "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+D+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(a+="  }  ")}else{var K=v;if(K)for(var z,W=-1,ee=K.length-1;W<ee;){z=K[W+=1];var H=e.util.getProperty(z),D=e.util.escapeQuotes(z),G=p+H;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,z,e.opts.jsonPointers)),a+=" if ( "+G+" === undefined ",N&&(a+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+e.util.escapeQuotes(z)+"') "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+D+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=P}else u&&(a+=" if (true) {");return a}});var NR=q((Tre,LR)=>{"use strict";LR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p="data"+(n||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,m;if(d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,(o||d)&&e.opts.uniqueItems!==!1){d&&(a+=" var "+h+"; if ("+m+" === false || "+m+" === undefined) "+h+" = true; else if (typeof "+m+" != 'boolean') "+h+" = false; else { "),a+=" var i = "+p+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,v=Array.isArray(f);if(!f||f=="object"||f=="array"||v&&(f.indexOf("object")>=0||f.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+h+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ";var g="checkDataType"+(v?"s":"");a+=" if ("+e.util[g](f,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(a+=` if (typeof item == 'string') item = '"' + item; `),a+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",d&&(a+="  }  "),a+=" if (!"+h+") {   ";var x=x||[];x.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",d?a+="validate.schema"+l:a+=""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var w=a;a=x.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+w+"]); ":a+=" validate.errors = ["+w+"]; return false; ":a+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { ")}else u&&(a+=" if (true) { ");return a}});var FR=q((Ore,$R)=>{"use strict";$R.exports={$ref:KC(),allOf:QC(),anyOf:YC(),$comment:tR(),const:sR(),contains:nR(),dependencies:oR(),enum:lR(),format:pR(),if:fR(),items:hR(),maximum:_h(),minimum:_h(),maxItems:wh(),minItems:wh(),maxLength:Sh(),minLength:Sh(),maxProperties:Eh(),minProperties:Eh(),multipleOf:_R(),not:SR(),oneOf:PR(),pattern:RR(),properties:OR(),propertyNames:AR(),required:DR(),uniqueItems:NR(),validate:xh()}});var UR=q((kre,MR)=>{"use strict";var jR=FR(),Ph=wn().toHash;MR.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],s=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],a=["number","integer","string","array","object","boolean","null"];return e.all=Ph(r),e.types=Ph(a),e.forEach(function(i){i.rules=i.rules.map(function(n){var o;if(typeof n=="object"){var l=Object.keys(n)[0];o=n[l],n=l,o.forEach(function(u){r.push(u),e.all[u]=!0})}r.push(n);var c=e.all[n]={keyword:n,code:jR[n],implements:o};return c}),e.all.$comment={keyword:"$comment",code:jR.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=Ph(r.concat(s)),e.custom={},e}});var BR=q((Are,zR)=>{"use strict";var qR=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];zR.exports=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var s=e[r].split("/"),a=t,i;for(i=1;i<s.length;i++)a=a[s[i]];for(i=0;i<qR.length;i++){var n=qR[i],o=a[n];o&&(a[n]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}});var GR=q((Ire,VR)=>{"use strict";var uV=Lu().MissingRef;VR.exports=HR;function HR(t,e,r){var s=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(r=e,e=void 0);var a=i(t).then(function(){var o=s._addSchema(t,void 0,e);return o.validate||n(o)});return r&&a.then(function(o){r(null,o)},r),a;function i(o){var l=o.$schema;return l&&!s.getSchema(l)?HR.call(s,{$ref:l},!0):Promise.resolve()}function n(o){try{return s._compile(o)}catch(c){if(c instanceof uV)return l(c);throw c}function l(c){var u=c.missingSchema;if(d(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var p=s._loadingSchemas[u];return p||(p=s._loadingSchemas[u]=s._opts.loadSchema(u),p.then(h,h)),p.then(function(m){if(!d(u))return i(m).then(function(){d(u)||s.addSchema(m,u,void 0,e)})}).then(function(){return n(o)});function h(){delete s._loadingSchemas[u]}function d(m){return s._refs[m]||s._schemas[m]}}}}});var ZR=q((Dre,WR)=>{"use strict";WR.exports=function(e,r,s){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,p,h="data"+(n||""),d="valid"+i,m="errs__"+i,f=e.opts.$data&&o&&o.$data,v;f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",v="schema"+i):v=o;var g=this,x="definition"+i,w=g.definition,C="",R,P,O,N,I;if(f&&w.$data){I="keywordValidate"+i;var j=w.validateSchema;a+=" var "+x+" = RULES.custom['"+r+"'].definition; var "+I+" = "+x+".validate;"}else{if(N=e.useCustomRule(g,o,e.schema,e),!N)return;v="validate.schema"+l,I=N.code,R=w.compile,P=w.inline,O=w.macro}var D=I+".errors",k="i"+i,T="ruleErr"+i,L=w.async;if(L&&!e.async)throw new Error("async keyword in sync schema");if(P||O||(a+=""+D+" = null;"),a+="var "+m+" = errors;var "+d+";",f&&w.$data&&(C+="}",a+=" if ("+v+" === undefined) { "+d+" = true; } else { ",j&&(C+="}",a+=" "+d+" = "+x+".validateSchema("+v+"); if ("+d+") { ")),P)w.statements?a+=" "+N.validate+" ":a+=" "+d+" = "+N.validate+"; ";else if(O){var z=e.util.copy(e),C="";z.level++;var V="valid"+z.level;z.schema=N.validate,z.schemaPath="";var H=e.compositeRule;e.compositeRule=z.compositeRule=!0;var G=e.validate(z).replace(/validate\.schema/g,I);e.compositeRule=z.compositeRule=H,a+=" "+G}else{var K=K||[];K.push(a),a="",a+="  "+I+".call( ",e.opts.passContext?a+="this":a+="self",R||w.schema===!1?a+=" , "+h+" ":a+=" , "+v+" , "+h+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",e.errorPath!='""'&&(a+=" + "+e.errorPath);var W=n?"data"+(n-1||""):"parentData",ee=n?e.dataPathArr[n]:"parentDataProperty";a+=" , "+W+" , "+ee+" , rootData )  ";var ne=a;a=K.pop(),w.errors===!1?(a+=" "+d+" = ",L&&(a+="await "),a+=""+ne+"; "):L?(D="customErrors"+i,a+=" var "+D+" = null; try { "+d+" = await "+ne+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+D+" = e.errors; else throw e; } "):a+=" "+D+" = null; "+d+" = "+ne+"; "}if(w.modifying&&(a+=" if ("+W+") "+h+" = "+W+"["+ee+"];"),a+=""+C,w.valid)u&&(a+=" if (true) { ");else{a+=" if ( ",w.valid===void 0?(a+=" !",O?a+=""+V:a+=""+d):a+=" "+!w.valid+" ",a+=") { ",p=g.keyword;var K=K||[];K.push(a),a="";var K=K||[];K.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(a+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var Je=a;a=K.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+Je+"]); ":a+=" validate.errors = ["+Je+"]; return false; ":a+=" var err = "+Je+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ge=a;a=K.pop(),P?w.errors?w.errors!="full"&&(a+="  for (var "+k+"="+m+"; "+k+"<errors; "+k+"++) { var "+T+" = vErrors["+k+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+T+".schema = "+v+"; "+T+".data = "+h+"; "),a+=" } "):w.errors===!1?a+=" "+ge+" ":(a+=" if ("+m+" == errors) { "+ge+" } else {  for (var "+k+"="+m+"; "+k+"<errors; "+k+"++) { var "+T+" = vErrors["+k+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+T+".schema = "+v+"; "+T+".data = "+h+"; "),a+=" } } "):O?(a+="   var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(a+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):w.errors===!1?a+=" "+ge+" ":(a+=" if (Array.isArray("+D+")) { if (vErrors === null) vErrors = "+D+"; else vErrors = vErrors.concat("+D+"); errors = vErrors.length;  for (var "+k+"="+m+"; "+k+"<errors; "+k+"++) { var "+T+" = vErrors["+k+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(a+=" "+T+".schema = "+v+"; "+T+".data = "+h+"; "),a+=" } } else { "+ge+" } "),a+=" } ",u&&(a+=" else { ")}return a}});var Ch=q((Lre,pV)=>{pV.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var QR=q((Nre,JR)=>{"use strict";var KR=Ch();JR.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:KR.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:KR.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var YR=q(($re,XR)=>{"use strict";var dV=/^[a-z_$][a-z0-9_$-]*$/i,fV=ZR(),mV=QR();XR.exports={add:hV,get:vV,remove:gV,validate:Rh};function hV(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!dV.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var s=e.type;if(Array.isArray(s))for(var a=0;a<s.length;a++)n(t,s[a],e);else n(t,s,e);var i=e.metaSchema;i&&(e.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(i,!0))}r.keywords[t]=r.all[t]=!0;function n(o,l,c){for(var u,p=0;p<r.length;p++){var h=r[p];if(h.type==l){u=h;break}}u||(u={type:l,rules:[]},r.push(u));var d={keyword:o,definition:c,custom:!0,code:fV,implements:c.implements};u.rules.push(d),r.custom[o]=d}return this}function vV(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function gV(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var s=e[r].rules,a=0;a<s.length;a++)if(s[a].keyword==t){s.splice(a,1);break}return this}function Rh(t,e){Rh.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(mV,!0);if(r(t))return!0;if(Rh.errors=r.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}});var eT=q((Fre,yV)=>{yV.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var uT=q((jre,lT)=>{"use strict";var rT=DC(),Sn=Du(),xV=NC(),sT=dh(),bV=yh(),_V=WC(),wV=UR(),aT=BR(),nT=wn();lT.exports=Pt;Pt.prototype.validate=EV;Pt.prototype.compile=PV;Pt.prototype.addSchema=CV;Pt.prototype.addMetaSchema=RV;Pt.prototype.validateSchema=TV;Pt.prototype.getSchema=kV;Pt.prototype.removeSchema=IV;Pt.prototype.addFormat=UV;Pt.prototype.errorsText=MV;Pt.prototype._addSchema=DV;Pt.prototype._compile=LV;Pt.prototype.compileAsync=GR();var zu=YR();Pt.prototype.addKeyword=zu.add;Pt.prototype.getKeyword=zu.get;Pt.prototype.removeKeyword=zu.remove;Pt.prototype.validateKeyword=zu.validate;var iT=Lu();Pt.ValidationError=iT.Validation;Pt.MissingRefError=iT.MissingRef;Pt.$dataMetaSchema=aT;var qu="http://json-schema.org/draft-07/schema",tT=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],SV=["/properties"];function Pt(t){if(!(this instanceof Pt))return new Pt(t);t=this._opts=nT.copy(t)||{},GV(this),this._schemas={},this._refs={},this._fragments={},this._formats=_V(t.format),this._cache=t.cache||new xV,this._loadingSchemas={},this._compilations=[],this.RULES=wV(),this._getId=NV(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=bV),this._metaOpts=VV(this),t.formats&&BV(this),t.keywords&&HV(this),qV(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),zV(this)}function EV(t,e){var r;if(typeof t=="string"){if(r=this.getSchema(t),!r)throw new Error('no schema with key or ref "'+t+'"')}else{var s=this._addSchema(t);r=s.validate||this._compile(s)}var a=r(e);return r.$async!==!0&&(this.errors=r.errors),a}function PV(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)}function CV(t,e,r,s){if(Array.isArray(t)){for(var a=0;a<t.length;a++)this.addSchema(t[a],void 0,r,s);return this}var i=this._getId(t);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return e=Sn.normalizeId(e||i),cT(this,e),this._schemas[e]=this._addSchema(t,r,s,!0),this}function RV(t,e,r){return this.addSchema(t,e,r,!0),this}function TV(t,e){var r=t.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||OV(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var s=this.validate(r,t);if(!s&&e){var a="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(a);else throw new Error(a)}return s}function OV(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(qu)?qu:void 0,t._opts.defaultMeta}function kV(t){var e=oT(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return AV(this,t)}}function AV(t,e){var r=Sn.schema.call(t,{schema:{}},e);if(r){var s=r.schema,a=r.root,i=r.baseId,n=rT.call(t,s,a,void 0,i);return t._fragments[e]=new sT({ref:e,fragment:!0,schema:s,root:a,baseId:i,validate:n}),n}}function oT(t,e){return e=Sn.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function IV(t){if(t instanceof RegExp)return Uu(this,this._schemas,t),Uu(this,this._refs,t),this;switch(typeof t){case"undefined":return Uu(this,this._schemas),Uu(this,this._refs),this._cache.clear(),this;case"string":var e=oT(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,s=r?r(t):t;this._cache.del(s);var a=this._getId(t);a&&(a=Sn.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this}function Uu(t,e,r){for(var s in e){var a=e[s];!a.meta&&(!r||r.test(s))&&(t._cache.del(a.cacheKey),delete e[s])}}function DV(t,e,r,s){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var a=this._opts.serialize,i=a?a(t):t,n=this._cache.get(i);if(n)return n;s=s||this._opts.addUsedSchema!==!1;var o=Sn.normalizeId(this._getId(t));o&&s&&cT(this,o);var l=this._opts.validateSchema!==!1&&!e,c;l&&!(c=o&&o==Sn.normalizeId(t.$schema))&&this.validateSchema(t,!0);var u=Sn.ids.call(this,t),p=new sT({id:o,schema:t,localRefs:u,cacheKey:i,meta:r});return o[0]!="#"&&s&&(this._refs[o]=p),this._cache.put(i,p),l&&c&&this.validateSchema(t,!0),p}function LV(t,e){if(t.compiling)return t.validate=a,a.schema=t.schema,a.errors=null,a.root=e||a,t.schema.$async===!0&&(a.$async=!0),a;t.compiling=!0;var r;t.meta&&(r=this._opts,this._opts=this._metaOpts);var s;try{s=rT.call(this,t.schema,e,t.localRefs)}catch(i){throw delete t.validate,i}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=s,t.refs=s.refs,t.refVal=s.refVal,t.root=s.root,s;function a(){var i=t.validate,n=i.apply(this,arguments);return a.errors=i.errors,n}}function NV(t){switch(t.schemaId){case"auto":return jV;case"id":return $V;default:return FV}}function $V(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function FV(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function jV(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function MV(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var r=e.separator===void 0?", ":e.separator,s=e.dataVar===void 0?"data":e.dataVar,a="",i=0;i<t.length;i++){var n=t[i];n&&(a+=s+n.dataPath+" "+n.message+r)}return a.slice(0,-r.length)}function UV(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function qV(t){var e;if(t._opts.$data&&(e=eT(),t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var r=Ch();t._opts.$data&&(r=aT(r,SV)),t.addMetaSchema(r,qu,!0),t._refs["http://json-schema.org/schema"]=qu}}function zV(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}function BV(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}function HV(t){for(var e in t._opts.keywords){var r=t._opts.keywords[e];t.addKeyword(e,r)}}function cT(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function VV(t){for(var e=nT.copy(t._opts),r=0;r<tT.length;r++)delete e[tT[r]];return e}function GV(t){var e=t._opts.logger;if(e===!1)t.logger={log:Th,warn:Th,error:Th};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function Th(){}});var qs=q((Zne,dO)=>{"use strict";var uO=["nodebuffer","arraybuffer","fragments"],pO=typeof Blob<"u";pO&&uO.push("blob");dO.exports={BINARY_TYPES:uO,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:pO,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Yo=q((Kne,Yu)=>{"use strict";var{EMPTY_BUFFER:f5}=qs(),jh=Buffer[Symbol.species];function m5(t,e){if(t.length===0)return f5;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),s=0;for(let a=0;a<t.length;a++){let i=t[a];r.set(i,s),s+=i.length}return s<e?new jh(r.buffer,r.byteOffset,s):r}function fO(t,e,r,s,a){for(let i=0;i<a;i++)r[s+i]=t[i]^e[i&3]}function mO(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function h5(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Mh(t){if(Mh.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new jh(t):ArrayBuffer.isView(t)?e=new jh(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Mh.readOnly=!1),e}Yu.exports={concat:m5,mask:fO,toArrayBuffer:h5,toBuffer:Mh,unmask:mO};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");Yu.exports.mask=function(e,r,s,a,i){i<48?fO(e,r,s,a,i):t.mask(e,r,s,a,i)},Yu.exports.unmask=function(e,r){e.length<32?mO(e,r):t.unmask(e,r)}}catch{}});var gO=q((Jne,vO)=>{"use strict";var hO=Symbol("kDone"),Uh=Symbol("kRun"),qh=class{constructor(e){this[hO]=()=>{this.pending--,this[Uh]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Uh]()}[Uh](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[hO])}}};vO.exports=qh});var tc=q((Qne,_O)=>{"use strict";var ec=require("zlib"),yO=Yo(),v5=gO(),{kStatusCode:xO}=qs(),g5=Buffer[Symbol.species],y5=Buffer.from([0,0,255,255]),tp=Symbol("permessage-deflate"),zs=Symbol("total-length"),Ni=Symbol("callback"),ba=Symbol("buffers"),$i=Symbol("error"),ep,zh=class{constructor(e,r,s){if(this._maxPayload=s|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!ep){let a=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;ep=new v5(a)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Ni];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,s=e.find(a=>!(r.serverNoContextTakeover===!1&&a.server_no_context_takeover||a.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>a.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!a.client_max_window_bits));if(!s)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(s.server_no_context_takeover=!0),r.clientNoContextTakeover&&(s.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(s.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?s.client_max_window_bits=r.clientMaxWindowBits:(s.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete s.client_max_window_bits,s}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(s=>{let a=r[s];if(a.length>1)throw new Error(`Parameter "${s}" must have only a single value`);if(a=a[0],s==="client_max_window_bits"){if(a!==!0){let i=+a;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else if(s==="server_max_window_bits"){let i=+a;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${s}": ${a}`);a=i}else if(s==="client_no_context_takeover"||s==="server_no_context_takeover"){if(a!==!0)throw new TypeError(`Invalid value for parameter "${s}": ${a}`)}else throw new Error(`Unknown parameter "${s}"`);r[s]=a})}),e}decompress(e,r,s){ep.add(a=>{this._decompress(e,r,(i,n)=>{a(),s(i,n)})})}compress(e,r,s){ep.add(a=>{this._compress(e,r,(i,n)=>{a(),s(i,n)})})}_decompress(e,r,s){let a=this._isServer?"client":"server";if(!this._inflate){let i=`${a}_max_window_bits`,n=typeof this.params[i]!="number"?ec.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=ec.createInflateRaw({...this._options.zlibInflateOptions,windowBits:n}),this._inflate[tp]=this,this._inflate[zs]=0,this._inflate[ba]=[],this._inflate.on("error",b5),this._inflate.on("data",bO)}this._inflate[Ni]=s,this._inflate.write(e),r&&this._inflate.write(y5),this._inflate.flush(()=>{let i=this._inflate[$i];if(i){this._inflate.close(),this._inflate=null,s(i);return}let n=yO.concat(this._inflate[ba],this._inflate[zs]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[zs]=0,this._inflate[ba]=[],r&&this.params[`${a}_no_context_takeover`]&&this._inflate.reset()),s(null,n)})}_compress(e,r,s){let a=this._isServer?"server":"client";if(!this._deflate){let i=`${a}_max_window_bits`,n=typeof this.params[i]!="number"?ec.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=ec.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:n}),this._deflate[zs]=0,this._deflate[ba]=[],this._deflate.on("data",x5)}this._deflate[Ni]=s,this._deflate.write(e),this._deflate.flush(ec.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=yO.concat(this._deflate[ba],this._deflate[zs]);r&&(i=new g5(i.buffer,i.byteOffset,i.length-4)),this._deflate[Ni]=null,this._deflate[zs]=0,this._deflate[ba]=[],r&&this.params[`${a}_no_context_takeover`]&&this._deflate.reset(),s(null,i)})}};_O.exports=zh;function x5(t){this[ba].push(t),this[zs]+=t.length}function bO(t){if(this[zs]+=t.length,this[tp]._maxPayload<1||this[zs]<=this[tp]._maxPayload){this[ba].push(t);return}this[$i]=new RangeError("Max payload size exceeded"),this[$i].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[$i][xO]=1009,this.removeListener("data",bO),this.reset()}function b5(t){if(this[tp]._inflate=null,this[$i]){this[Ni](this[$i]);return}t[xO]=1007,this[Ni](t)}});var Fi=q((Xne,rp)=>{"use strict";var{isUtf8:wO}=require("buffer"),{hasBlob:_5}=qs(),w5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function S5(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Bh(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function E5(t){return _5&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}rp.exports={isBlob:E5,isValidStatusCode:S5,isValidUTF8:Bh,tokenChars:w5};if(wO)rp.exports.isValidUTF8=function(t){return t.length<24?Bh(t):wO(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");rp.exports.isValidUTF8=function(e){return e.length<32?Bh(e):t(e)}}catch{}});var Zh=q((Yne,OO)=>{"use strict";var{Writable:P5}=require("stream"),SO=tc(),{BINARY_TYPES:C5,EMPTY_BUFFER:EO,kStatusCode:R5,kWebSocket:T5}=qs(),{concat:Hh,toArrayBuffer:O5,unmask:k5}=Yo(),{isValidStatusCode:A5,isValidUTF8:PO}=Fi(),sp=Buffer[Symbol.species],Mr=0,CO=1,RO=2,TO=3,Vh=4,Gh=5,ap=6,Wh=class extends P5{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||C5[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[T5]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Mr}_write(e,r,s){if(this._opcode===8&&this._state==Mr)return s();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(s)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let s=this._buffers[0];return this._buffers[0]=new sp(s.buffer,s.byteOffset+e,s.length-e),new sp(s.buffer,s.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let s=this._buffers[0],a=r.length-e;e>=s.length?r.set(this._buffers.shift(),a):(r.set(new Uint8Array(s.buffer,s.byteOffset,e),a),this._buffers[0]=new sp(s.buffer,s.byteOffset+e,s.length-e)),e-=s.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case Mr:this.getInfo(e);break;case CO:this.getPayloadLength16(e);break;case RO:this.getPayloadLength64(e);break;case TO:this.getMask();break;case Vh:this.getData(e);break;case Gh:case ap:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let a=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(a);return}let s=(r[0]&64)===64;if(s&&!this._extensions[SO.extensionName]){let a=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(a);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(s){let a=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(a);return}if(!this._fragmented){let a=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(a);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let a=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(a);return}this._compressed=s}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let a=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(a);return}if(s){let a=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(a);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let a=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(a);return}}else{let a=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(a);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let a=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(a);return}}else if(this._masked){let a=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(a);return}this._payloadLength===126?this._state=CO:this._payloadLength===127?this._state=RO:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),s=r.readUInt32BE(0);if(s>Math.pow(2,21)-1){let a=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(a);return}this._payloadLength=s*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=TO:this._state=Vh}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Vh}getData(e){let r=EO;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&k5(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=Gh,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[SO.extensionName].decompress(e,this._fin,(a,i)=>{if(a)return r(a);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let n=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(n);return}this._fragments.push(i)}this.dataMessage(r),this._state===Mr&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=Mr;return}let r=this._messageLength,s=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let a;this._binaryType==="nodebuffer"?a=Hh(s,r):this._binaryType==="arraybuffer"?a=O5(Hh(s,r)):this._binaryType==="blob"?a=new Blob(s):a=s,this._allowSynchronousEvents?(this.emit("message",a,!0),this._state=Mr):(this._state=ap,setImmediate(()=>{this.emit("message",a,!0),this._state=Mr,this.startLoop(e)}))}else{let a=Hh(s,r);if(!this._skipUTF8Validation&&!PO(a)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._state===Gh||this._allowSynchronousEvents?(this.emit("message",a,!1),this._state=Mr):(this._state=ap,setImmediate(()=>{this.emit("message",a,!1),this._state=Mr,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,EO),this.end();else{let s=e.readUInt16BE(0);if(!A5(s)){let i=this.createError(RangeError,`invalid status code ${s}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(i);return}let a=new sp(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!PO(a)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(i);return}this._loop=!1,this.emit("conclude",s,a),this.end()}this._state=Mr;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Mr):(this._state=ap,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Mr,this.startLoop(r)}))}createError(e,r,s,a,i){this._loop=!1,this._errored=!0;let n=new e(s?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(n,this.createError),n.code=i,n[R5]=a,n}};OO.exports=Wh});var Qh=q((tie,IO)=>{"use strict";var{Duplex:eie}=require("stream"),{randomFillSync:I5}=require("crypto"),kO=tc(),{EMPTY_BUFFER:D5,kWebSocket:L5,NOOP:N5}=qs(),{isBlob:ji,isValidStatusCode:$5}=Fi(),{mask:AO,toBuffer:En}=Yo(),Ur=Symbol("kByteLength"),F5=Buffer.alloc(4),np=8*1024,Pn,Mi=np,ts=0,j5=1,M5=2,Kh=class t{constructor(e,r,s){this._extensions=r||{},s&&(this._generateMask=s,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=ts,this.onerror=N5,this[L5]=void 0}static frame(e,r){let s,a=!1,i=2,n=!1;r.mask&&(s=r.maskBuffer||F5,r.generateMask?r.generateMask(s):(Mi===np&&(Pn===void 0&&(Pn=Buffer.alloc(np)),I5(Pn,0,np),Mi=0),s[0]=Pn[Mi++],s[1]=Pn[Mi++],s[2]=Pn[Mi++],s[3]=Pn[Mi++]),n=(s[0]|s[1]|s[2]|s[3])===0,i=6);let o;typeof e=="string"?(!r.mask||n)&&r[Ur]!==void 0?o=r[Ur]:(e=Buffer.from(e),o=e.length):(o=e.length,a=r.mask&&r.readOnly&&!n);let l=o;o>=65536?(i+=8,l=127):o>125&&(i+=2,l=126);let c=Buffer.allocUnsafe(a?o+i:i);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(o,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(o,4,6)),r.mask?(c[1]|=128,c[i-4]=s[0],c[i-3]=s[1],c[i-2]=s[2],c[i-1]=s[3],n?[c,e]:a?(AO(e,s,c,i,o),[c]):(AO(e,s,e,0,o),[c,e])):[c,e]}close(e,r,s,a){let i;if(e===void 0)i=D5;else{if(typeof e!="number"||!$5(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(e,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}let n={[Ur]:i.length,fin:!0,generateMask:this._generateMask,mask:s,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==ts?this.enqueue([this.dispatch,i,!1,n,a]):this.sendFrame(t.frame(i,n),a)}ping(e,r,s){let a,i;if(typeof e=="string"?(a=Buffer.byteLength(e),i=!1):ji(e)?(a=e.size,i=!1):(e=En(e),a=e.length,i=En.readOnly),a>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Ur]:a,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};ji(e)?this._state!==ts?this.enqueue([this.getBlobData,e,!1,n,s]):this.getBlobData(e,!1,n,s):this._state!==ts?this.enqueue([this.dispatch,e,!1,n,s]):this.sendFrame(t.frame(e,n),s)}pong(e,r,s){let a,i;if(typeof e=="string"?(a=Buffer.byteLength(e),i=!1):ji(e)?(a=e.size,i=!1):(e=En(e),a=e.length,i=En.readOnly),a>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Ur]:a,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};ji(e)?this._state!==ts?this.enqueue([this.getBlobData,e,!1,n,s]):this.getBlobData(e,!1,n,s):this._state!==ts?this.enqueue([this.dispatch,e,!1,n,s]):this.sendFrame(t.frame(e,n),s)}send(e,r,s){let a=this._extensions[kO.extensionName],i=r.binary?2:1,n=r.compress,o,l;typeof e=="string"?(o=Buffer.byteLength(e),l=!1):ji(e)?(o=e.size,l=!1):(e=En(e),o=e.length,l=En.readOnly),this._firstFragment?(this._firstFragment=!1,n&&a&&a.params[a._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(n=o>=a._threshold),this._compress=n):(n=!1,i=0),r.fin&&(this._firstFragment=!0);let c={[Ur]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:n};ji(e)?this._state!==ts?this.enqueue([this.getBlobData,e,this._compress,c,s]):this.getBlobData(e,this._compress,c,s):this._state!==ts?this.enqueue([this.dispatch,e,this._compress,c,s]):this.dispatch(e,this._compress,c,s)}getBlobData(e,r,s,a){this._bufferedBytes+=s[Ur],this._state=M5,e.arrayBuffer().then(i=>{if(this._socket.destroyed){let o=new Error("The socket was closed while the blob was being read");process.nextTick(Jh,this,o,a);return}this._bufferedBytes-=s[Ur];let n=En(i);r?this.dispatch(n,r,s,a):(this._state=ts,this.sendFrame(t.frame(n,s),a),this.dequeue())}).catch(i=>{process.nextTick(U5,this,i,a)})}dispatch(e,r,s,a){if(!r){this.sendFrame(t.frame(e,s),a);return}let i=this._extensions[kO.extensionName];this._bufferedBytes+=s[Ur],this._state=j5,i.compress(e,s.fin,(n,o)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");Jh(this,l,a);return}this._bufferedBytes-=s[Ur],this._state=ts,s.readOnly=!1,this.sendFrame(t.frame(o,s),a),this.dequeue()})}dequeue(){for(;this._state===ts&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Ur],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Ur],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};IO.exports=Kh;function Jh(t,e,r){typeof r=="function"&&r(e);for(let s=0;s<t._queue.length;s++){let a=t._queue[s],i=a[a.length-1];typeof i=="function"&&i(e)}}function U5(t,e,r){Jh(t,e,r),t.onerror(e)}});var qO=q((rie,UO)=>{"use strict";var{kForOnEventAttribute:rc,kListener:Xh}=qs(),DO=Symbol("kCode"),LO=Symbol("kData"),NO=Symbol("kError"),$O=Symbol("kMessage"),FO=Symbol("kReason"),Ui=Symbol("kTarget"),jO=Symbol("kType"),MO=Symbol("kWasClean"),Bs=class{constructor(e){this[Ui]=null,this[jO]=e}get target(){return this[Ui]}get type(){return this[jO]}};Object.defineProperty(Bs.prototype,"target",{enumerable:!0});Object.defineProperty(Bs.prototype,"type",{enumerable:!0});var Cn=class extends Bs{constructor(e,r={}){super(e),this[DO]=r.code===void 0?0:r.code,this[FO]=r.reason===void 0?"":r.reason,this[MO]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[DO]}get reason(){return this[FO]}get wasClean(){return this[MO]}};Object.defineProperty(Cn.prototype,"code",{enumerable:!0});Object.defineProperty(Cn.prototype,"reason",{enumerable:!0});Object.defineProperty(Cn.prototype,"wasClean",{enumerable:!0});var qi=class extends Bs{constructor(e,r={}){super(e),this[NO]=r.error===void 0?null:r.error,this[$O]=r.message===void 0?"":r.message}get error(){return this[NO]}get message(){return this[$O]}};Object.defineProperty(qi.prototype,"error",{enumerable:!0});Object.defineProperty(qi.prototype,"message",{enumerable:!0});var sc=class extends Bs{constructor(e,r={}){super(e),this[LO]=r.data===void 0?null:r.data}get data(){return this[LO]}};Object.defineProperty(sc.prototype,"data",{enumerable:!0});var q5={addEventListener(t,e,r={}){for(let a of this.listeners(t))if(!r[rc]&&a[Xh]===e&&!a[rc])return;let s;if(t==="message")s=function(i,n){let o=new sc("message",{data:n?i:i.toString()});o[Ui]=this,ip(e,this,o)};else if(t==="close")s=function(i,n){let o=new Cn("close",{code:i,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[Ui]=this,ip(e,this,o)};else if(t==="error")s=function(i){let n=new qi("error",{error:i,message:i.message});n[Ui]=this,ip(e,this,n)};else if(t==="open")s=function(){let i=new Bs("open");i[Ui]=this,ip(e,this,i)};else return;s[rc]=!!r[rc],s[Xh]=e,r.once?this.once(t,s):this.on(t,s)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[Xh]===e&&!r[rc]){this.removeListener(t,r);break}}};UO.exports={CloseEvent:Cn,ErrorEvent:qi,Event:Bs,EventTarget:q5,MessageEvent:sc};function ip(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var Yh=q((sie,zO)=>{"use strict";var{tokenChars:ac}=Fi();function xs(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function z5(t){let e=Object.create(null),r=Object.create(null),s=!1,a=!1,i=!1,n,o,l=-1,c=-1,u=-1,p=0;for(;p<t.length;p++)if(c=t.charCodeAt(p),n===void 0)if(u===-1&&ac[c]===1)l===-1&&(l=p);else if(p!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=p);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p);let d=t.slice(l,u);c===44?(xs(e,d,r),r=Object.create(null)):n=d,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(o===void 0)if(u===-1&&ac[c]===1)l===-1&&(l=p);else if(c===32||c===9)u===-1&&l!==-1&&(u=p);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p),xs(r,t.slice(l,u),!0),c===44&&(xs(e,n,r),r=Object.create(null),n=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)o=t.slice(l,p),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a){if(ac[c]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1?l=p:s||(s=!0),a=!1}else if(i)if(ac[c]===1)l===-1&&(l=p);else if(c===34&&l!==-1)i=!1,u=p;else if(c===92)a=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(c===34&&t.charCodeAt(p-1)===61)i=!0;else if(u===-1&&ac[c]===1)l===-1&&(l=p);else if(l!==-1&&(c===32||c===9))u===-1&&(u=p);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1&&(u=p);let d=t.slice(l,u);s&&(d=d.replace(/\\/g,""),s=!1),xs(r,o,d),c===44&&(xs(e,n,r),r=Object.create(null),n=void 0),o=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(l===-1||i||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=p);let h=t.slice(l,u);return n===void 0?xs(e,h,r):(o===void 0?xs(r,h,!0):s?xs(r,o,h.replace(/\\/g,"")):xs(r,o,h),xs(e,n,r)),e}function B5(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(s=>[e].concat(Object.keys(s).map(a=>{let i=s[a];return Array.isArray(i)||(i=[i]),i.map(n=>n===!0?a:`${a}=${n}`).join("; ")})).join("; ")).join(", ")}).join(", ")}zO.exports={format:B5,parse:z5}});var up=q((iie,ek)=>{"use strict";var H5=require("events"),V5=require("https"),G5=require("http"),VO=require("net"),W5=require("tls"),{randomBytes:Z5,createHash:K5}=require("crypto"),{Duplex:aie,Readable:nie}=require("stream"),{URL:ev}=require("url"),_a=tc(),J5=Zh(),Q5=Qh(),{isBlob:X5}=Fi(),{BINARY_TYPES:BO,EMPTY_BUFFER:op,GUID:Y5,kForOnEventAttribute:tv,kListener:e6,kStatusCode:t6,kWebSocket:Ft,NOOP:GO}=qs(),{EventTarget:{addEventListener:r6,removeEventListener:s6}}=qO(),{format:a6,parse:n6}=Yh(),{toBuffer:i6}=Yo(),o6=30*1e3,WO=Symbol("kAborted"),rv=[8,13],Hs=["CONNECTING","OPEN","CLOSING","CLOSED"],c6=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,bt=class t extends H5{constructor(e,r,s){super(),this._binaryType=BO[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=op,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(s=r,r=[]):r=[r]),ZO(this,e,r,s)):(this._autoPong=s.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){BO.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,s){let a=new J5({allowSynchronousEvents:s.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation}),i=new Q5(e,this._extensions,s.generateMask);this._receiver=a,this._sender=i,this._socket=e,a[Ft]=this,i[Ft]=this,e[Ft]=this,a.on("conclude",p6),a.on("drain",d6),a.on("error",f6),a.on("message",m6),a.on("ping",h6),a.on("pong",v6),i.onerror=g6,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",QO),e.on("data",lp),e.on("end",XO),e.on("error",YO),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[_a.extensionName]&&this._extensions[_a.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){wr(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,s=>{s||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),JO(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,s){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(s=e,e=r=void 0):typeof r=="function"&&(s=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){sv(this,e,s);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||op,r,s)}pong(e,r,s){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(s=e,e=r=void 0):typeof r=="function"&&(s=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){sv(this,e,s);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||op,r,s)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,s){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(s=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){sv(this,e,s);return}let a={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[_a.extensionName]||(a.compress=!1),this._sender.send(e||op,a,s)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){wr(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(bt,"CONNECTING",{enumerable:!0,value:Hs.indexOf("CONNECTING")});Object.defineProperty(bt.prototype,"CONNECTING",{enumerable:!0,value:Hs.indexOf("CONNECTING")});Object.defineProperty(bt,"OPEN",{enumerable:!0,value:Hs.indexOf("OPEN")});Object.defineProperty(bt.prototype,"OPEN",{enumerable:!0,value:Hs.indexOf("OPEN")});Object.defineProperty(bt,"CLOSING",{enumerable:!0,value:Hs.indexOf("CLOSING")});Object.defineProperty(bt.prototype,"CLOSING",{enumerable:!0,value:Hs.indexOf("CLOSING")});Object.defineProperty(bt,"CLOSED",{enumerable:!0,value:Hs.indexOf("CLOSED")});Object.defineProperty(bt.prototype,"CLOSED",{enumerable:!0,value:Hs.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(bt.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(bt.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[tv])return e[e6];return null},set(e){for(let r of this.listeners(t))if(r[tv]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[tv]:!0})}})});bt.prototype.addEventListener=r6;bt.prototype.removeEventListener=s6;ek.exports=bt;function ZO(t,e,r,s){let a={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:rv[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=a.autoPong,!rv.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${rv.join(", ")})`);let i;if(e instanceof ev)i=e;else try{i=new ev(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),t._url=i.href;let n=i.protocol==="wss:",o=i.protocol==="ws+unix:",l;if(i.protocol!=="ws:"&&!n&&!o?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:o&&!i.pathname?l="The URL's pathname is empty":i.hash&&(l="The URL contains a fragment identifier"),l){let f=new SyntaxError(l);if(t._redirects===0)throw f;cp(t,f);return}let c=n?443:80,u=Z5(16).toString("base64"),p=n?V5.request:G5.request,h=new Set,d;if(a.createConnection=a.createConnection||(n?u6:l6),a.defaultPort=a.defaultPort||c,a.port=i.port||c,a.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,a.headers={...a.headers,"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},a.path=i.pathname+i.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(d=new _a(a.perMessageDeflate!==!0?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=a6({[_a.extensionName]:d.offer()})),r.length){for(let f of r){if(typeof f!="string"||!c6.test(f)||h.has(f))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(f)}a.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin),(i.username||i.password)&&(a.auth=`${i.username}:${i.password}`),o){let f=a.path.split(":");a.socketPath=f[0],a.path=f[1]}let m;if(a.followRedirects){if(t._redirects===0){t._originalIpc=o,t._originalSecure=n,t._originalHostOrSocketPath=o?a.socketPath:i.host;let f=s&&s.headers;if(s={...s,headers:{}},f)for(let[v,g]of Object.entries(f))s.headers[v.toLowerCase()]=g}else if(t.listenerCount("redirect")===0){let f=o?t._originalIpc?a.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!f||t._originalSecure&&!n)&&(delete a.headers.authorization,delete a.headers.cookie,f||delete a.headers.host,a.auth=void 0)}a.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(a.auth).toString("base64")),m=t._req=p(a),t._redirects&&t.emit("redirect",t.url,m)}else m=t._req=p(a);a.timeout&&m.on("timeout",()=>{wr(t,m,"Opening handshake has timed out")}),m.on("error",f=>{m===null||m[WO]||(m=t._req=null,cp(t,f))}),m.on("response",f=>{let v=f.headers.location,g=f.statusCode;if(v&&a.followRedirects&&g>=300&&g<400){if(++t._redirects>a.maxRedirects){wr(t,m,"Maximum redirects exceeded");return}m.abort();let x;try{x=new ev(v,e)}catch{let C=new SyntaxError(`Invalid URL: ${v}`);cp(t,C);return}ZO(t,x,r,s)}else t.emit("unexpected-response",m,f)||wr(t,m,`Unexpected server response: ${f.statusCode}`)}),m.on("upgrade",(f,v,g)=>{if(t.emit("upgrade",f),t.readyState!==bt.CONNECTING)return;m=t._req=null;let x=f.headers.upgrade;if(x===void 0||x.toLowerCase()!=="websocket"){wr(t,v,"Invalid Upgrade header");return}let w=K5("sha1").update(u+Y5).digest("base64");if(f.headers["sec-websocket-accept"]!==w){wr(t,v,"Invalid Sec-WebSocket-Accept header");return}let C=f.headers["sec-websocket-protocol"],R;if(C!==void 0?h.size?h.has(C)||(R="Server sent an invalid subprotocol"):R="Server sent a subprotocol but none was requested":h.size&&(R="Server sent no subprotocol"),R){wr(t,v,R);return}C&&(t._protocol=C);let P=f.headers["sec-websocket-extensions"];if(P!==void 0){if(!d){wr(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let O;try{O=n6(P)}catch{wr(t,v,"Invalid Sec-WebSocket-Extensions header");return}let N=Object.keys(O);if(N.length!==1||N[0]!==_a.extensionName){wr(t,v,"Server indicated an extension that was not requested");return}try{d.accept(O[_a.extensionName])}catch{wr(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[_a.extensionName]=d}t.setSocket(v,g,{allowSynchronousEvents:a.allowSynchronousEvents,generateMask:a.generateMask,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation})}),a.finishRequest?a.finishRequest(m,t):m.end()}function cp(t,e){t._readyState=bt.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function l6(t){return t.path=t.socketPath,VO.connect(t)}function u6(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=VO.isIP(t.host)?"":t.host),W5.connect(t)}function wr(t,e,r){t._readyState=bt.CLOSING;let s=new Error(r);Error.captureStackTrace(s,wr),e.setHeader?(e[WO]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(cp,t,s)):(e.destroy(s),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function sv(t,e,r){if(e){let s=X5(e)?e.size:i6(e).length;t._socket?t._sender._bufferedBytes+=s:t._bufferedAmount+=s}if(r){let s=new Error(`WebSocket is not open: readyState ${t.readyState} (${Hs[t.readyState]})`);process.nextTick(r,s)}}function p6(t,e){let r=this[Ft];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Ft]!==void 0&&(r._socket.removeListener("data",lp),process.nextTick(KO,r._socket),t===1005?r.close():r.close(t,e))}function d6(){let t=this[Ft];t.isPaused||t._socket.resume()}function f6(t){let e=this[Ft];e._socket[Ft]!==void 0&&(e._socket.removeListener("data",lp),process.nextTick(KO,e._socket),e.close(t[t6])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function HO(){this[Ft].emitClose()}function m6(t,e){this[Ft].emit("message",t,e)}function h6(t){let e=this[Ft];e._autoPong&&e.pong(t,!this._isServer,GO),e.emit("ping",t)}function v6(t){this[Ft].emit("pong",t)}function KO(t){t.resume()}function g6(t){let e=this[Ft];e.readyState!==bt.CLOSED&&(e.readyState===bt.OPEN&&(e._readyState=bt.CLOSING,JO(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function JO(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),o6)}function QO(){let t=this[Ft];this.removeListener("close",QO),this.removeListener("data",lp),this.removeListener("end",XO),t._readyState=bt.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Ft]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",HO),t._receiver.on("finish",HO))}function lp(t){this[Ft]._receiver.write(t)||this.pause()}function XO(){let t=this[Ft];t._readyState=bt.CLOSING,t._receiver.end(),this.end()}function YO(){let t=this[Ft];this.removeListener("error",YO),this.on("error",GO),t&&(t._readyState=bt.CLOSING,this.destroy())}});var ak=q((cie,sk)=>{"use strict";var oie=up(),{Duplex:y6}=require("stream");function tk(t){t.emit("close")}function x6(){!this.destroyed&&this._writableState.finished&&this.destroy()}function rk(t){this.removeListener("error",rk),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function b6(t,e){let r=!0,s=new y6({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(i,n){let o=!n&&s._readableState.objectMode?i.toString():i;s.push(o)||t.pause()}),t.once("error",function(i){s.destroyed||(r=!1,s.destroy(i))}),t.once("close",function(){s.destroyed||s.push(null)}),s._destroy=function(a,i){if(t.readyState===t.CLOSED){i(a),process.nextTick(tk,s);return}let n=!1;t.once("error",function(l){n=!0,i(l)}),t.once("close",function(){n||i(a),process.nextTick(tk,s)}),r&&t.terminate()},s._final=function(a){if(t.readyState===t.CONNECTING){t.once("open",function(){s._final(a)});return}t._socket!==null&&(t._socket._writableState.finished?(a(),s._readableState.endEmitted&&s.destroy()):(t._socket.once("finish",function(){a()}),t.close()))},s._read=function(){t.isPaused&&t.resume()},s._write=function(a,i,n){if(t.readyState===t.CONNECTING){t.once("open",function(){s._write(a,i,n)});return}t.send(a,n)},s.on("end",x6),s.on("error",rk),s}sk.exports=b6});var ik=q((lie,nk)=>{"use strict";var{tokenChars:_6}=Fi();function w6(t){let e=new Set,r=-1,s=-1,a=0;for(a;a<t.length;a++){let n=t.charCodeAt(a);if(s===-1&&_6[n]===1)r===-1&&(r=a);else if(a!==0&&(n===32||n===9))s===-1&&r!==-1&&(s=a);else if(n===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${a}`);s===-1&&(s=a);let o=t.slice(r,s);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);e.add(o),r=s=-1}else throw new SyntaxError(`Unexpected character at index ${a}`)}if(r===-1||s!==-1)throw new SyntaxError("Unexpected end of input");let i=t.slice(r,a);if(e.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return e.add(i),e}nk.exports={parse:w6}});var fk=q((pie,dk)=>{"use strict";var S6=require("events"),pp=require("http"),{Duplex:uie}=require("stream"),{createHash:E6}=require("crypto"),ok=Yh(),Rn=tc(),P6=ik(),C6=up(),{GUID:R6,kWebSocket:T6}=qs(),O6=/^[+/0-9A-Za-z]{22}==$/,ck=0,lk=1,pk=2,av=class extends S6{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:C6,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=pp.createServer((s,a)=>{let i=pp.STATUS_CODES[426];a.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),a.end(i)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let s=this.emit.bind(this,"connection");this._removeListeners=k6(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(a,i,n)=>{this.handleUpgrade(a,i,n,s)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=ck}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===pk){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(nc,this);return}if(e&&this.once("close",e),this._state!==lk)if(this._state=lk,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(nc,this):process.nextTick(nc,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{nc(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,s,a){r.on("error",uk);let i=e.headers["sec-websocket-key"],n=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Tn(this,e,r,405,"Invalid HTTP method");return}if(n===void 0||n.toLowerCase()!=="websocket"){Tn(this,e,r,400,"Invalid Upgrade header");return}if(i===void 0||!O6.test(i)){Tn(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==13&&o!==8){Tn(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){ic(r,400);return}let l=e.headers["sec-websocket-protocol"],c=new Set;if(l!==void 0)try{c=P6.parse(l)}catch{Tn(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&u!==void 0){let h=new Rn(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=ok.parse(u);d[Rn.extensionName]&&(h.accept(d[Rn.extensionName]),p[Rn.extensionName]=h)}catch{Tn(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(d,m,f,v)=>{if(!d)return ic(r,m||401,f,v);this.completeUpgrade(p,i,c,e,r,s,a)});return}if(!this.options.verifyClient(h))return ic(r,401)}this.completeUpgrade(p,i,c,e,r,s,a)}completeUpgrade(e,r,s,a,i,n,o){if(!i.readable||!i.writable)return i.destroy();if(i[T6])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>ck)return ic(i,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${E6("sha1").update(r+R6).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(s.size){let p=this.options.handleProtocols?this.options.handleProtocols(s,a):s.values().next().value;p&&(c.push(`Sec-WebSocket-Protocol: ${p}`),u._protocol=p)}if(e[Rn.extensionName]){let p=e[Rn.extensionName].params,h=ok.format({[Rn.extensionName]:[p]});c.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=e}this.emit("headers",c,a),i.write(c.concat(`\r
`).join(`\r
`)),i.removeListener("error",uk),u.setSocket(i,n,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(nc,this)})),o(u,a)}};dk.exports=av;function k6(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let s of Object.keys(e))t.removeListener(s,e[s])}}function nc(t){t._state=pk,t.emit("close")}function uk(){this.destroy()}function ic(t,e,r,s){r=r||pp.STATUS_CODES[e],s={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...s},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${pp.STATUS_CODES[e]}\r
`+Object.keys(s).map(a=>`${a}: ${s[a]}`).join(`\r
`)+`\r
\r
`+r)}function Tn(t,e,r,s,a,i){if(t.listenerCount("wsClientError")){let n=new Error(a);Error.captureStackTrace(n,Tn),t.emit("wsClientError",n,r,e)}else ic(r,s,a,i)}});var G6={};Sp(G6,{activate:()=>U6,deactivate:()=>H6,openTabs:()=>V6});module.exports=zk(G6);var Xe=ae(require("vscode"),1);var ht=ae(require("vscode"),1),OP=ae(require("path"),1),qm=ae(require("os"),1);var mv=require("crypto");function An(){return(0,mv.randomBytes)(16).toString("hex")}var Lr=ae(require("fs"),1);var Yg=require("node:buffer"),ey=ae(require("node:path"),1),kc=ae(require("node:child_process"),1),Xi=ae(require("node:process"),1),ty=ae(rg(),1);function Dp(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}var Ki=ae(require("node:process"),1),Ln=ae(require("node:path"),1),Lp=require("node:url");function gc(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"}var h1=({cwd:t=Ki.default.cwd(),path:e=Ki.default.env[gc()],preferLocal:r=!0,execPath:s=Ki.default.execPath,addExecPath:a=!0}={})=>{let i=t instanceof URL?(0,Lp.fileURLToPath)(t):t,n=Ln.default.resolve(i),o=[];return r&&v1(o,n),a&&g1(o,s,n),[...o,e].join(Ln.default.delimiter)},v1=(t,e)=>{let r;for(;r!==e;)t.push(Ln.default.join(e,"node_modules/.bin")),r=e,e=Ln.default.resolve(e,"..")},g1=(t,e,r)=>{let s=e instanceof URL?(0,Lp.fileURLToPath)(e):e;t.push(Ln.default.resolve(r,s,".."))},sg=({env:t=Ki.default.env,...e}={})=>{t={...t};let r=gc({env:t});return e.path=t[r],t[r]=h1(e),t};var y1=(t,e,r,s)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let a=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(e,r);!x1(a,i)&&s||Object.defineProperty(t,r,i)},x1=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},b1=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},_1=(t,e)=>`/* Wrapped ${t}*/
${e}`,w1=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),S1=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),E1=(t,e,r)=>{let s=r===""?"":`with ${r.trim()}() `,a=_1.bind(null,s,e.toString());Object.defineProperty(a,"name",S1),Object.defineProperty(t,"toString",{...w1,value:a})};function Np(t,e,{ignoreNonConfigurable:r=!1}={}){let{name:s}=t;for(let a of Reflect.ownKeys(e))y1(t,e,a,r);return b1(t,e),E1(t,e,s),t}var yc=new WeakMap,ag=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,s=0,a=t.displayName||t.name||"<anonymous>",i=function(...n){if(yc.set(i,++s),s===1)r=t.apply(this,n),t=null;else if(e.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return r};return Np(i,t),yc.set(i,s),i};ag.callCount=t=>{if(!yc.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return yc.get(t)};var ng=ag;var fg=ae(require("node:process"),1);var pg=require("node:os");var ig=()=>{let t=cg-og+1;return Array.from({length:t},P1)},P1=(t,e)=>({name:`SIGRT${e+1}`,number:og+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),og=34,cg=64;var ug=require("node:os");var lg=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var $p=()=>{let t=ig();return[...lg,...t].map(C1)},C1=({name:t,number:e,description:r,action:s,forced:a=!1,standard:i})=>{let{signals:{[t]:n}}=ug.constants,o=n!==void 0;return{name:t,number:o?n:e,description:r,supported:o,action:s,forced:a,standard:i}};var R1=()=>{let t=$p();return Object.fromEntries(t.map(T1))},T1=({name:t,number:e,description:r,supported:s,action:a,forced:i,standard:n})=>[t,{name:t,number:e,description:r,supported:s,action:a,forced:i,standard:n}],dg=R1(),O1=()=>{let t=$p(),e=65,r=Array.from({length:e},(s,a)=>k1(a,t));return Object.assign({},...r)},k1=(t,e)=>{let r=A1(t,e);if(r===void 0)return{};let{name:s,description:a,supported:i,action:n,forced:o,standard:l}=r;return{[t]:{name:s,number:t,description:a,supported:i,action:n,forced:o,standard:l}}},A1=(t,e)=>{let r=e.find(({name:s})=>pg.constants.signals[s]===t);return r!==void 0?r:e.find(s=>s.number===t)},EG=O1();var I1=({timedOut:t,timeout:e,errorCode:r,signal:s,signalDescription:a,exitCode:i,isCanceled:n})=>t?`timed out after ${e} milliseconds`:n?"was canceled":r!==void 0?`failed with ${r}`:s!==void 0?`was killed with ${s} (${a})`:i!==void 0?`failed with exit code ${i}`:"failed",Ji=({stdout:t,stderr:e,all:r,error:s,signal:a,exitCode:i,command:n,escapedCommand:o,timedOut:l,isCanceled:c,killed:u,parsed:{options:{timeout:p,cwd:h=fg.default.cwd()}}})=>{i=i===null?void 0:i,a=a===null?void 0:a;let d=a===void 0?void 0:dg[a].description,m=s&&s.code,v=`Command ${I1({timedOut:l,timeout:p,errorCode:m,signal:a,signalDescription:d,exitCode:i,isCanceled:c})}: ${n}`,g=Object.prototype.toString.call(s)==="[object Error]",x=g?`${v}
${s.message}`:v,w=[x,e,t].filter(Boolean).join(`
`);return g?(s.originalMessage=s.message,s.message=w):s=new Error(w),s.shortMessage=x,s.command=n,s.escapedCommand=o,s.exitCode=i,s.signal=a,s.signalDescription=d,s.stdout=t,s.stderr=e,s.cwd=h,r!==void 0&&(s.all=r),"bufferedData"in s&&delete s.bufferedData,s.failed=!0,s.timedOut=!!l,s.isCanceled=c,s.killed=u&&!l,s};var xc=["stdin","stdout","stderr"],D1=t=>xc.some(e=>t[e]!==void 0),mg=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return xc.map(s=>t[s]);if(D1(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${xc.map(s=>`\`${s}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,xc.length);return Array.from({length:r},(s,a)=>e[a])};var vg=ae(require("node:os"),1);var Pa=[];Pa.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Pa.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Pa.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var bc=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",Fp=Symbol.for("signal-exit emitter"),jp=globalThis,L1=Object.defineProperty.bind(Object),Mp=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(jp[Fp])return jp[Fp];L1(jp,Fp,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let s=this.listeners[e],a=s.indexOf(r);a!==-1&&(a===0&&s.length===1?s.length=0:s.splice(a,1))}emit(e,r,s){if(this.emitted[e])return!1;this.emitted[e]=!0;let a=!1;for(let i of this.listeners[e])a=i(r,s)===!0||a;return e==="exit"&&(a=this.emit("afterExit",r,s)||a),a}},_c=class{},N1=t=>({onExit(e,r){return t.onExit(e,r)},load(){return t.load()},unload(){return t.unload()}}),Up=class extends _c{onExit(){return()=>{}}load(){}unload(){}},qp=class extends _c{#i=zp.platform==="win32"?"SIGINT":"SIGHUP";#t=new Mp;#e;#a;#n;#s={};#r=!1;constructor(e){super(),this.#e=e,this.#s={};for(let r of Pa)this.#s[r]=()=>{let s=this.#e.listeners(r),{count:a}=this.#t,i=e;if(typeof i.__signal_exit_emitter__=="object"&&typeof i.__signal_exit_emitter__.count=="number"&&(a+=i.__signal_exit_emitter__.count),s.length===a){this.unload();let n=this.#t.emit("exit",null,r),o=r==="SIGHUP"?this.#i:r;n||e.kill(e.pid,o)}};this.#n=e.reallyExit,this.#a=e.emit}onExit(e,r){if(!bc(this.#e))return()=>{};this.#r===!1&&this.load();let s=r?.alwaysLast?"afterExit":"exit";return this.#t.on(s,e),()=>{this.#t.removeListener(s,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let e of Pa)try{let r=this.#s[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#c(e,...r),this.#e.reallyExit=e=>this.#o(e)}}unload(){this.#r&&(this.#r=!1,Pa.forEach(e=>{let r=this.#s[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#a,this.#e.reallyExit=this.#n,this.#t.count-=1)}#o(e){return bc(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#n.call(this.#e,this.#e.exitCode)):0}#c(e,...r){let s=this.#a;if(e==="exit"&&bc(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let a=s.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),a}else return s.call(this.#e,e,...r)}},zp=globalThis.process,{onExit:hg,load:AG,unload:IG}=N1(bc(zp)?new qp(zp):new Up);var $1=1e3*5,gg=(t,e="SIGTERM",r={})=>{let s=t(e);return F1(t,e,r,s),s},F1=(t,e,r,s)=>{if(!j1(e,r,s))return;let a=U1(r),i=setTimeout(()=>{t("SIGKILL")},a);i.unref&&i.unref()},j1=(t,{forceKillAfterTimeout:e},r)=>M1(t)&&e!==!1&&r,M1=t=>t===vg.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",U1=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return $1;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},yg=(t,e)=>{t.kill()&&(e.isCanceled=!0)},q1=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},xg=(t,{timeout:e,killSignal:r="SIGTERM"},s)=>{if(e===0||e===void 0)return s;let a,i=new Promise((o,l)=>{a=setTimeout(()=>{q1(t,r,l)},e)}),n=s.finally(()=>{clearTimeout(a)});return Promise.race([i,n])},bg=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},_g=async(t,{cleanup:e,detached:r},s)=>{if(!e||r)return s;let a=hg(()=>{t.kill()});return s.finally(()=>{a()})};var wg=require("node:fs"),Sg=require("node:child_process");function wc(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function Bp(t){return wc(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}var z1=t=>t instanceof Sg.ChildProcess&&typeof t.then=="function",Hp=(t,e,r)=>{if(typeof r=="string")return t[e].pipe((0,wg.createWriteStream)(r)),t;if(Bp(r))return t[e].pipe(r),t;if(!z1(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!Bp(r.stdin))throw new TypeError("The target child process's stdin must be available.");return t[e].pipe(r.stdin),r},Eg=t=>{t.stdout!==null&&(t.pipeStdout=Hp.bind(void 0,t,"stdout")),t.stderr!==null&&(t.pipeStderr=Hp.bind(void 0,t,"stderr")),t.all!==void 0&&(t.pipeAll=Hp.bind(void 0,t,"all"))};var Tc=require("node:fs"),$g=require("node:timers/promises");var Qi=async(t,{init:e,convertChunk:r,getSize:s,truncateChunk:a,addChunk:i,getFinalChunk:n,finalize:o},{maxBuffer:l=Number.POSITIVE_INFINITY}={})=>{if(!H1(t))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");let c=e();c.length=0;try{for await(let u of t){let p=V1(u),h=r[p](u,c);Rg({convertedChunk:h,state:c,getSize:s,truncateChunk:a,addChunk:i,maxBuffer:l})}return B1({state:c,convertChunk:r,getSize:s,truncateChunk:a,addChunk:i,getFinalChunk:n,maxBuffer:l}),o(c)}catch(u){throw u.bufferedData=o(c),u}},B1=({state:t,getSize:e,truncateChunk:r,addChunk:s,getFinalChunk:a,maxBuffer:i})=>{let n=a(t);n!==void 0&&Rg({convertedChunk:n,state:t,getSize:e,truncateChunk:r,addChunk:s,maxBuffer:i})},Rg=({convertedChunk:t,state:e,getSize:r,truncateChunk:s,addChunk:a,maxBuffer:i})=>{let n=r(t),o=e.length+n;if(o<=i){Pg(t,e,a,o);return}let l=s(t,i-e.length);throw l!==void 0&&Pg(l,e,a,i),new Sc},Pg=(t,e,r,s)=>{e.contents=r(t,e,s),e.length=s},H1=t=>typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function",V1=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let r=Cg.call(t);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&Cg.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:Cg}=Object.prototype,Sc=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var Vp=t=>t,Gp=()=>{},Wp=({contents:t})=>t,Ec=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},Pc=t=>t.length;async function Zp(t,e){return Qi(t,eA,e)}var G1=()=>({contents:new ArrayBuffer(0)}),W1=t=>Z1.encode(t),Z1=new TextEncoder,Tg=t=>new Uint8Array(t),Og=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),K1=(t,e)=>t.slice(0,e),J1=(t,{contents:e,length:r},s)=>{let a=Ig()?X1(e,s):Q1(e,s);return new Uint8Array(a).set(t,r),a},Q1=(t,e)=>{if(e<=t.byteLength)return t;let r=new ArrayBuffer(Ag(e));return new Uint8Array(r).set(new Uint8Array(t),0),r},X1=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let r=new ArrayBuffer(e,{maxByteLength:Ag(e)});return new Uint8Array(r).set(new Uint8Array(t),0),r},Ag=t=>kg**Math.ceil(Math.log(t)/Math.log(kg)),kg=2,Y1=({contents:t,length:e})=>Ig()?t:t.slice(0,e),Ig=()=>"resize"in ArrayBuffer.prototype,eA={init:G1,convertChunk:{string:W1,buffer:Tg,arrayBuffer:Tg,dataView:Og,typedArray:Og,others:Ec},getSize:Pc,truncateChunk:K1,addChunk:J1,getFinalChunk:Gp,finalize:Y1};async function Cc(t,e){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return Dg(await Zp(t,e))}catch(r){throw r.bufferedData!==void 0&&(r.bufferedData=Dg(r.bufferedData)),r}}var Dg=t=>globalThis.Buffer.from(t);async function Kp(t,e){return Qi(t,nA,e)}var tA=()=>({contents:"",textDecoder:new TextDecoder}),Rc=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),rA=(t,{contents:e})=>e+t,sA=(t,e)=>t.slice(0,e),aA=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},nA={init:tA,convertChunk:{string:Vp,buffer:Rc,arrayBuffer:Rc,dataView:Rc,typedArray:Rc,others:Ec},getSize:Pc,truncateChunk:sA,addChunk:rA,getFinalChunk:aA,finalize:Wp};var Fg=ae(Ng(),1),jg=t=>{if(t!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},oA=({input:t,inputFile:e})=>typeof e!="string"?t:(jg(t),(0,Tc.readFileSync)(e)),Mg=t=>{let e=oA(t);if(wc(e))throw new TypeError("The `input` option cannot be a stream in sync mode");return e},cA=({input:t,inputFile:e})=>typeof e!="string"?t:(jg(t),(0,Tc.createReadStream)(e)),Ug=(t,e)=>{let r=cA(e);r!==void 0&&(wc(r)?r.pipe(t.stdin):t.stdin.end(r))},qg=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=(0,Fg.default)();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},Jp=async(t,e)=>{if(!(!t||e===void 0)){await(0,$g.setTimeout)(0),t.destroy();try{return await e}catch(r){return r.bufferedData}}},Qp=(t,{encoding:e,buffer:r,maxBuffer:s})=>{if(!(!t||!r))return e==="utf8"||e==="utf-8"?Kp(t,{maxBuffer:s}):e===null||e==="buffer"?Cc(t,{maxBuffer:s}):lA(t,s,e)},lA=async(t,e,r)=>(await Cc(t,{maxBuffer:e})).toString(r),zg=async({stdout:t,stderr:e,all:r},{encoding:s,buffer:a,maxBuffer:i},n)=>{let o=Qp(t,{encoding:s,buffer:a,maxBuffer:i}),l=Qp(e,{encoding:s,buffer:a,maxBuffer:i}),c=Qp(r,{encoding:s,buffer:a,maxBuffer:i*2});try{return await Promise.all([n,o,l,c])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},Jp(t,o),Jp(e,l),Jp(r,c)])}};var uA=(async()=>{})().constructor.prototype,pA=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(uA,t)]),Xp=(t,e)=>{for(let[r,s]of pA){let a=typeof e=="function"?(...i)=>Reflect.apply(s.value,e(),i):s.value.bind(e);Reflect.defineProperty(t,r,{...s,value:a})}},Bg=t=>new Promise((e,r)=>{t.on("exit",(s,a)=>{e({exitCode:s,signal:a})}),t.on("error",s=>{r(s)}),t.stdin&&t.stdin.on("error",s=>{r(s)})});var Gg=require("node:buffer"),Wg=require("node:child_process"),Zg=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],dA=/^[\w.-]+$/,fA=t=>typeof t!="string"||dA.test(t)?t:`"${t.replaceAll('"','\\"')}"`,Yp=(t,e)=>Zg(t,e).join(" "),ed=(t,e)=>Zg(t,e).map(r=>fA(r)).join(" "),mA=/ +/g;var Hg=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if(e==="object"&&t!==null&&!(t instanceof Wg.ChildProcess)&&"stdout"in t){let r=typeof t.stdout;if(r==="string")return t.stdout;if(Gg.Buffer.isBuffer(t.stdout))return t.stdout.toString();throw new TypeError(`Unexpected "${r}" stdout in template expression`)}throw new TypeError(`Unexpected "${e}" in template expression`)},Vg=(t,e,r)=>r||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],hA=({templates:t,expressions:e,tokens:r,index:s,template:a})=>{let i=a??t.raw[s],n=i.split(mA).filter(Boolean),o=Vg(r,n,i.startsWith(" "));if(s===e.length)return o;let l=e[s],c=Array.isArray(l)?l.map(u=>Hg(u)):[Hg(l)];return Vg(o,c,i.endsWith(" "))},td=(t,e)=>{let r=[];for(let[s,a]of t.entries())r=hA({templates:t,expressions:e,tokens:r,index:s,template:a});return r};var Kg=require("node:util"),Jg=ae(require("node:process"),1),Qg=(0,Kg.debuglog)("execa").enabled,Oc=(t,e)=>String(t).padStart(e,"0"),vA=()=>{let t=new Date;return`${Oc(t.getHours(),2)}:${Oc(t.getMinutes(),2)}:${Oc(t.getSeconds(),2)}.${Oc(t.getMilliseconds(),3)}`},rd=(t,{verbose:e})=>{e&&Jg.default.stderr.write(`[${vA()}] ${t}
`)};var gA=1e3*1e3*100,yA=({env:t,extendEnv:e,preferLocal:r,localDir:s,execPath:a})=>{let i=e?{...Xi.default.env,...t}:t;return r?sg({env:i,cwd:s,execPath:a}):i},ry=(t,e,r={})=>{let s=ty.default._parse(t,e,r);return t=s.command,e=s.args,r=s.options,r={maxBuffer:gA,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||Xi.default.cwd(),execPath:Xi.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:Qg,...r},r.env=yA(r),r.stdio=mg(r),Xi.default.platform==="win32"&&ey.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:s}},Yi=(t,e,r)=>typeof e!="string"&&!Yg.Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?Dp(e):e;function xA(t,e,r){let s=ry(t,e,r),a=Yp(t,e),i=ed(t,e);rd(i,s.options),bg(s.options);let n;try{n=kc.default.spawn(s.file,s.args,s.options)}catch(d){let m=new kc.default.ChildProcess,f=Promise.reject(Ji({error:d,stdout:"",stderr:"",all:"",command:a,escapedCommand:i,parsed:s,timedOut:!1,isCanceled:!1,killed:!1}));return Xp(m,f),m}let o=Bg(n),l=xg(n,s.options,o),c=_g(n,s.options,l),u={isCanceled:!1};n.kill=gg.bind(null,n.kill.bind(n)),n.cancel=yg.bind(null,n,u);let h=ng(async()=>{let[{error:d,exitCode:m,signal:f,timedOut:v},g,x,w]=await zg(n,s.options,c),C=Yi(s.options,g),R=Yi(s.options,x),P=Yi(s.options,w);if(d||m!==0||f!==null){let O=Ji({error:d,exitCode:m,signal:f,stdout:C,stderr:R,all:P,command:a,escapedCommand:i,parsed:s,timedOut:v,isCanceled:u.isCanceled||(s.options.signal?s.options.signal.aborted:!1),killed:n.killed});if(!s.options.reject)return O;throw O}return{command:a,escapedCommand:i,exitCode:0,stdout:C,stderr:R,all:P,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Ug(n,s.options),n.all=qg(n,s.options),Eg(n),Xp(n,h),n}function as(t,e,r){let s=ry(t,e,r),a=Yp(t,e),i=ed(t,e);rd(i,s.options);let n=Mg(s.options),o;try{o=kc.default.spawnSync(s.file,s.args,{...s.options,input:n})}catch(u){throw Ji({error:u,stdout:"",stderr:"",all:"",command:a,escapedCommand:i,parsed:s,timedOut:!1,isCanceled:!1,killed:!1})}let l=Yi(s.options,o.stdout,o.error),c=Yi(s.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let u=Ji({stdout:l,stderr:c,error:o.error,signal:o.signal,exitCode:o.status,command:a,escapedCommand:i,parsed:s,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!s.options.reject)return u;throw u}return{command:a,escapedCommand:i,exitCode:0,stdout:l,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}var bA=({input:t,inputFile:e,stdio:r})=>t===void 0&&e===void 0&&r===void 0?{stdin:"inherit"}:{},Xg=(t={})=>({preferLocal:!0,...bA(t),...t});function sy(t){function e(r,...s){if(!Array.isArray(r))return sy({...t,...r});let[a,...i]=td(r,s);return xA(a,i,Xg(t))}return e.sync=(r,...s)=>{if(!Array.isArray(r))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");let[a,...i]=td(r,s);return as(a,i,Xg(t))},e}var PW=sy();var TP=ae(_d(),1);var Fn=class t{constructor(e){this.returned=e}queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}static from(e){let r=new t;for(let s of e)r.enqueue(s);return r.done(),r}};function Gx(){return{clawd:{light:"/resources/clawd.svg",dark:"/resources/clawd.svg"},"welcome-art":{light:"/resources/welcome-art-light.svg",dark:"/resources/welcome-art-dark.svg"}}}function Wx(){return{clawd:{light:"./resources/clawd.svg",dark:"./resources/clawd.svg"},"welcome-art":{light:"./resources/welcome-art-light.svg",dark:"./resources/welcome-art-dark.svg"}}}var Qx=require("child_process");var Ra=require("path"),Bc=ae(require("fs"),1);var Zx=require("path"),Kx=require("os");function is(){return process.env.CLAUDE_CONFIG_DIR??(0,Zx.join)((0,Kx.homedir)(),".claude")}function wd(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}var vL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function gL(){return(0,Ra.join)(is(),"projects")}function yL(t){return(0,Ra.join)(gL(),t.replace(/[^a-zA-Z0-9]/g,"-"))}var jn=class{constructor(e,r,s){this.sessionMessages=e;this.messages=r;this.summaries=s}async fetchSessions(){return this.getTranscripts().map(r=>{let s=r[r.length-1],a=r[0],i=wL(r);return{lastModified:new Date(s.timestamp).getTime(),messageCount:r.length,isSidechain:a.isSidechain,id:s.sessionId,summary:this.summaries.get(s.uuid)||i}})}getTranscripts(){let e=[...this.messages.values()],r=new Set(e.map(s=>s.parentUuid));return e.filter(s=>!r.has(s.uuid)).map(s=>this.getTranscript(s)).filter(s=>s.length)}async getSessionMessages(e){if(e.endsWith(".jsonl")){let l=[];for(let c of await Jx(e))l.push(c);return l}let r=e,a=this.sessionMessages.get(r);if(!a)return[];let n=Array.from(this.messages.values()).filter(l=>a.has(l.uuid)).filter(l=>!l.isSidechain).sort((l,c)=>new Date(c.timestamp).getTime()-new Date(l.timestamp).getTime())[0];return n?this.getTranscript(n).map(_L).filter(l=>!!l):[]}getTranscript(e){let r=[],s=e;for(;s;)r.unshift(s),s=s.parentUuid?this.messages.get(s.parentUuid):void 0;return r}static load(e){return xL(e)}};async function xL(t){let e=yL(t),r=await Bc.promises.readdir(e),a=(await Promise.all(r.map(async c=>{let u=await Bc.promises.stat((0,Ra.join)(e,c));return{name:(0,Ra.join)(e,c),stat:u}}))).filter(c=>c.stat.isFile()&&c.name.endsWith(".jsonl")),i=await Promise.all(a.sort((c,u)=>c.stat.mtime.getTime()-u.stat.mtime.getTime()).map(async c=>{let u=bL((0,Ra.basename)(c.name,".jsonl"));if(!u)return{sessionId:u,sessionMessages:new Set};let p=new Map,h=new Map;try{for(let d of await Jx(c.name))d.type==="user"||d.type==="assistant"||d.type==="attachment"||d.type==="system"?p.set(d.uuid,d):d.type==="summary"&&d.leafUuid&&h.set(d.leafUuid,d.summary)}catch{}return{sessionId:u,sessionMessages:p,summaries:h}})),n=new Map,o=new Map,l=new Map;for(let{sessionId:c,sessionMessages:u,summaries:p}of i)if(c){n.set(c,new Set(u.keys()));for(let[h,d]of u.entries())o.set(h,d);for(let[h,d]of p.entries())l.set(h,d)}return new jn(n,o,l)}function bL(t){return typeof t!="string"?null:vL.test(t)?t:null}async function Jx(t){try{let e=await Bc.promises.readFile(t,"utf8");return e.trim()?e.split(`
`).filter(r=>r.trim()).map(r=>{try{return JSON.parse(r)}catch{return null}}).filter(r=>r!==null):[]}catch{return[]}}function _L(t){if(!t.isMeta){if(t.type==="user")return{type:"user",message:t.message,session_id:t.uuid,parent_tool_use_id:null};if(t.type==="assistant")return{type:"assistant",message:t.message,session_id:t.uuid,parent_tool_use_id:null,uuid:t.message.id};if(t.type==="system")return;if(t.type==="attachment")return}}function wL(t){let e;for(let a of t)if(a.type==="user"&&!a.isMeta)e=a;else if(e)break;if(!e||e.type!=="user")return"No prompt";let r=e.message?.content,s="";return typeof r=="string"?s=r:Array.isArray(r)?s=r.findLast(i=>i.type==="text")?.text||"No prompt":s="No prompt",s=s.replace(/\n/g," ").trim(),s.length>45&&(s=s.slice(0,45)+"..."),s}var Hc=class{constructor(e,r,s,a,i,n){this.cwd=e;this.logger=r;this.settings=s;this.openNewInTab=a;this.showTerminalBanner=i;this.authManager=n;this.readFromClient()}channels=new Map;fromClientStream=new Fn;abortControllers=new Map;config;outstandingRequests=new Map;async fromClient(e){this.fromClientStream.enqueue(e)}async readFromClient(){for await(let e of this.fromClientStream)switch(e.type){case"launch_claude":await this.launchClaude(e.channelId,e.resume,e.cwd,e.model,e.permissionMode,e.thinkingLevel);break;case"close_channel":this.closeChannel(e.channelId,!1);break;case"interrupt_claude":this.interruptClaude(e.channelId);break;case"io_message":this.transportMessage(e.channelId,e.message,e.done);break;case"request":this.handleRequest(e);break;case"response":{let r=e.requestId,s=this.outstandingRequests.get(r);s?e.response.type==="error"?s.reject(new Error(e.response.error)):s.resolve(e.response):this.logger.warn(`No handler for response with requestId: ${r}`)}break;case"cancel_request":this.handleCancellation(e.targetRequestId);break;default:this.logger.error(`Unknown message: ${e}`)}}async launchClaude(e,r,s,a,i,n){if(this.logger.log(`Launching Claude on channel: ${e}`),this.channels.has(e))throw new Error(`Channel already exists: ${e}`);try{let o=new Fn,l=this.spawnClaude(o,r,async(c,u,p)=>this.requestToolPermission(e,c,u,p.suggestions||[]),a||null,s,i,this.settings.getAllowDangerouslySkipPermissions(),this.getMaxThinkingTokensForModel(n));this.channels.set(e,{in:o,query:l}),(async()=>{try{for await(let c of l)this.send({type:"io_message",channelId:e,message:c,done:!1});this.closeChannel(e,!0)}catch(c){this.closeChannel(e,!0,String(c)),this.logger.error(`Error from Claude (on channel ${e}): ${c}`)}})()}catch(o){this.closeChannel(e,!0,String(o)),this.logger.error(`Error spawning Claude (on channel ${e}): ${o}`)}}async requestToolPermission(e,r,s,a){return(await this.sendRequest(e,{type:"tool_permission_request",toolName:r,inputs:s,suggestions:a})).result}sendRequest(e,r){let s=An();return new Promise((a,i)=>{this.outstandingRequests.set(s,{resolve:n=>{a(n)},reject:i}),this.send({type:"request",channelId:e,requestId:s,request:r})}).finally(()=>{this.outstandingRequests.delete(s)})}async interruptClaude(e){let r=this.channels.get(e);if(!r){this.logger.warn(`Channel not found: ${e}`);return}try{await r.query.interrupt(),this.logger.log(`Interrupted Claude for requestId: ${e}`)}catch(s){this.logger.error(`Failed to interrupt Claude: ${s}`)}}async closeChannel(e,r,s){this.logger.log(`Closing Claude on channel: ${e}`),r&&this.send({type:"close_channel",channelId:e,error:s});let a=this.channels.get(e);if(a){a.in.done();try{await a.query.return()}catch(i){this.logger.warn(`Error cleaning up channel ${e}: ${i}`)}this.channels.delete(e)}}transportMessage(e,r,s){let a=this.channels.get(e);if(!a)throw new Error(`Channel not found: ${e}`);r.type==="user"&&a.in.enqueue(r),s&&a.in.done()}async shutdown(){await this.closeAllChannels(),this.fromClientStream.done()}async closeAllChannels(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!1));await Promise.all(e),this.channels.clear()}async closeAllChannelsWithCredentialChange(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!0));await Promise.all(e),this.channels.clear()}loadConfig(){if(this.config)return this.config;this.logger.log("Loading config cache by launching Claude...");let e=(async()=>{let r=new Fn,s=this.spawnClaude(r,void 0,async()=>({behavior:"deny",message:"Config loading only"}),"default",this.cwd,"default",!1,0);r.done();let a={slashCommands:await s.supportedCommands(),models:await s.supportedModels(),accountInfo:await s.accountInfo()};return s.return(),a})().catch(r=>{throw this.logger.error(`Failed to load config cache: ${r}`),this.config=void 0,r});return this.config=e,e}async getMcpServers(e){let r=e?this.channels.get(e):void 0;if(!r)throw new Error(`Channel not found: ${e}`);try{return{type:"get_mcp_servers_response",mcpServers:await r.query.mcpServerStatus()}}catch(s){return this.logger.error(`Error fetching MCP servers: ${s}`),{type:"get_mcp_servers_response",mcpServers:[]}}}async handleRequest(e){let r=new AbortController;try{this.abortControllers.set(e.requestId,r);let s=await this.processRequest(e,r.signal);this.send({type:"response",requestId:e.requestId,response:s})}catch(s){this.logger.error(`Error processing client request: ${s}`),this.send({type:"response",requestId:e.requestId,response:{type:"error",error:s instanceof Error?s.message:String(s)}})}finally{this.abortControllers.delete(e.requestId)}}async processRequest(e,r){switch(e.request.type){case"init":{let s=this.authManager?.getAuthStatus();return{type:"init_response",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,showTerminalBanner:this.showTerminalBanner,authStatus:s,modelSetting:this.settings.getModel(),thinkingLevel:this.settings.getThinkingLevel(),allowDangerouslySkipPermissions:this.settings.getAllowDangerouslySkipPermissions(),platform:this.getPlatform()}}}case"get_claude_state":return{type:"get_claude_state_response",config:await this.loadConfig()};case"get_mcp_servers":return await this.getMcpServers(e.channelId);case"list_sessions_request":return this.listSessions();case"open_file":return this.openFile(e.request.filePath,e.request.location),{type:"open_file_response"};case"get_session_request":return this.getSession(e.request.sessionId);case"exec":return this.execCommand(e.request.command,e.request.params);case"list_files_request":return{type:"list_files_response",files:await this.findFiles(e.request.pattern)};case"open_diff":return this.openDiff(e.request.originalFilePath,e.request.newFilePath,e.request.edits,e.request.supportMultiEdits||!1,r);case"open_content":return this.openContent(e.request.content,e.request.fileName,e.request.editable,r);case"get_asset_uris":return{type:"asset_uris_response",assetUris:this.getAssetUris()};case"open_url":return await this.openURL(e.request.url),{type:"open_url_response"};case"set_permission_mode":return this.setPermissionMode(e.channelId,e.request.mode);case"set_model":return this.setModel(e.channelId,e.request.model);case"set_thinking_level":return this.setThinkingLevel(e.channelId,e.request.thinkingLevel);case"get_auth_status":return{type:"get_auth_status_response",status:this.authManager?.getAuthStatus()};case"login":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{method:s}=e.request,a=await this.authManager.login(s,async i=>{this.send({type:"request",channelId:"",requestId:An(),request:{type:"auth_url",url:i.manualRedirectUrl,method:s}});try{await this.openURL(i.automaticRedirectUrl)}catch(n){this.logger.warn(`Failed to open browser: ${n}`)}});return await this.closeAllChannelsWithCredentialChange(),{type:"login_response",auth:a}}case"submit_oauth_code":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{code:s}=e.request;return this.authManager.handleManualAuthCode(s),{type:"submit_oauth_code_response"}}case"open_config_file":return this.openConfigFile(e.request.configType),{type:"open_config_file_response"};case"open_claude_in_terminal":return await this.openClaudeInTerminal(e.request.prompt,e.request.location),{type:"open_claude_in_terminal_response"};case"show_claude_terminal_setting":return await this.showClaudeTerminalSetting(),{type:"show_claude_terminal_setting_response"};case"dismiss_terminal_banner":return await this.dismissTerminalBanner(),{type:"dismiss_terminal_banner_response"};case"open_config":return await this.openConfig(e.request.searchString),{type:"open_config_response"};case"open_help":return await this.openHelp(),{type:"open_help_response"};default:}throw new Error("Unknown request type.")}async loadSessionsFromPath(e,r,s){try{return(await(await jn.load(e)).fetchSessions()).filter(n=>!n.isSidechain).map(n=>({id:n.id,lastModified:n.lastModified,messageCount:n.messageCount,summary:n.summary,worktree:r,isCurrentWorkspace:s}))}catch(a){return this.logger.warn(`Failed to load sessions from ${e}: ${a}`),[]}}async listSessions(){let e=[],r=await this.loadSessionsFromPath(this.cwd,void 0,!0);return e.push(...r),{type:"list_sessions_response",sessions:e}}async getSession(e){return{type:"get_session_response",messages:await(await jn.load(this.cwd)).getSessionMessages(e)}}handleCancellation(e){let r=this.abortControllers.get(e);r&&r.abort()}async execCommand(e,r){let s="",a="",i=(0,Qx.spawn)(e,r,{cwd:this.cwd,shell:!1});i.stdout.on("data",o=>{s+=o.toString()}),i.stderr.on("data",o=>{a+=o.toString()});let n=await new Promise(o=>{i.on("close",l=>{o(l??0)}),i.on("error",l=>{a+=l.message,o(1)})});return{type:"exec_response",stdout:s,stderr:a,exitCode:n}}getAssetUris(){return Gx()}async setPermissionMode(e,r){let s=e?this.channels.get(e):void 0;if(!s)throw new Error(`Channel not found: ${e}`);try{return await s.query.setPermissionMode(r),{type:"set_permission_mode_response",success:!0}}catch(a){return this.logger.error(`Failed to set permission mode: ${a}`),{type:"set_permission_mode_response",success:!1}}}async setModel(e,r){let s=e?this.channels.get(e):void 0;if(!s)throw new Error(`Channel not found: ${e}`);try{return await s.query.setModel(r.value),await this.settings.setModel(r.value),{type:"set_model_response",success:!0}}catch(a){return this.logger.error(`Failed to set model: ${a}`),{type:"set_model_response",success:!1}}}async setThinkingLevel(e,r){let s=e?this.channels.get(e):void 0;if(!s)throw new Error(`Channel not found: ${e}`);let a=this.getMaxThinkingTokensForModel(r);return await s.query.setMaxThinkingTokens(a),await this.settings.setThinkingLevel(r),{type:"set_thinking_level_response"}}getPlatform(){switch(process.platform){case"win32":return"windows";case"darwin":return"macos";default:return"linux"}}async pushStateUpdate(){let e=this.authManager?.getAuthStatus();this.config=void 0;let r=await this.loadConfig(),s={type:"request",channelId:"",requestId:An(),request:{type:"update_state",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,showTerminalBanner:this.showTerminalBanner,authStatus:e,modelSetting:this.settings.getModel(),thinkingLevel:this.settings.getThinkingLevel(),allowDangerouslySkipPermissions:this.settings.getAllowDangerouslySkipPermissions(),platform:this.getPlatform()},config:r}};this.send(s)}getMaxThinkingTokensForModel(e){return e==="off"?0:31999}};var Qe=ae(require("vscode"),1);var hr=ae(require("vscode"),1),Hn=require("fs"),kb=require("os"),Cd=require("path"),Ab=require("child_process");var EL=typeof global=="object"&&global&&global.Object===Object&&global,Xx=EL;var PL=typeof self=="object"&&self&&self.Object===Object&&self,CL=Xx||PL||Function("return this")(),Mn=CL;var RL=Mn.Symbol,Un=RL;var Yx=Object.prototype,TL=Yx.hasOwnProperty,OL=Yx.toString,oo=Un?Un.toStringTag:void 0;function kL(t){var e=TL.call(t,oo),r=t[oo];try{t[oo]=void 0;var s=!0}catch{}var a=OL.call(t);return s&&(e?t[oo]=r:delete t[oo]),a}var eb=kL;var AL=Object.prototype,IL=AL.toString;function DL(t){return IL.call(t)}var tb=DL;var LL="[object Null]",NL="[object Undefined]",rb=Un?Un.toStringTag:void 0;function $L(t){return t==null?t===void 0?NL:LL:rb&&rb in Object(t)?eb(t):tb(t)}var sb=$L;function FL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Vc=FL;var jL="[object AsyncFunction]",ML="[object Function]",UL="[object GeneratorFunction]",qL="[object Proxy]";function zL(t){if(!Vc(t))return!1;var e=sb(t);return e==ML||e==UL||e==jL||e==qL}var ab=zL;var BL=Mn["__core-js_shared__"],Gc=BL;var nb=function(){var t=/[^.]+$/.exec(Gc&&Gc.keys&&Gc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function HL(t){return!!nb&&nb in t}var ib=HL;var VL=Function.prototype,GL=VL.toString;function WL(t){if(t!=null){try{return GL.call(t)}catch{}try{return t+""}catch{}}return""}var ob=WL;var ZL=/[\\^$.*+?()[\]{}|]/g,KL=/^\[object .+?Constructor\]$/,JL=Function.prototype,QL=Object.prototype,XL=JL.toString,YL=QL.hasOwnProperty,eN=RegExp("^"+XL.call(YL).replace(ZL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tN(t){if(!Vc(t)||ib(t))return!1;var e=ab(t)?eN:KL;return e.test(ob(t))}var cb=tN;function rN(t,e){return t?.[e]}var lb=rN;function sN(t,e){var r=lb(t,e);return cb(r)?r:void 0}var Wc=sN;function aN(t,e){return t===e||t!==t&&e!==e}var ub=aN;var nN=Wc(Object,"create"),Es=nN;function iN(){this.__data__=Es?Es(null):{},this.size=0}var pb=iN;function oN(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var db=oN;var cN="__lodash_hash_undefined__",lN=Object.prototype,uN=lN.hasOwnProperty;function pN(t){var e=this.__data__;if(Es){var r=e[t];return r===cN?void 0:r}return uN.call(e,t)?e[t]:void 0}var fb=pN;var dN=Object.prototype,fN=dN.hasOwnProperty;function mN(t){var e=this.__data__;return Es?e[t]!==void 0:fN.call(e,t)}var mb=mN;var hN="__lodash_hash_undefined__";function vN(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Es&&e===void 0?hN:e,this}var hb=vN;function qn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}qn.prototype.clear=pb;qn.prototype.delete=db;qn.prototype.get=fb;qn.prototype.has=mb;qn.prototype.set=hb;var Sd=qn;function gN(){this.__data__=[],this.size=0}var vb=gN;function yN(t,e){for(var r=t.length;r--;)if(ub(t[r][0],e))return r;return-1}var ea=yN;var xN=Array.prototype,bN=xN.splice;function _N(t){var e=this.__data__,r=ea(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():bN.call(e,r,1),--this.size,!0}var gb=_N;function wN(t){var e=this.__data__,r=ea(e,t);return r<0?void 0:e[r][1]}var yb=wN;function SN(t){return ea(this.__data__,t)>-1}var xb=SN;function EN(t,e){var r=this.__data__,s=ea(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}var bb=EN;function zn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}zn.prototype.clear=vb;zn.prototype.delete=gb;zn.prototype.get=yb;zn.prototype.has=xb;zn.prototype.set=bb;var _b=zn;var PN=Wc(Mn,"Map"),wb=PN;function CN(){this.size=0,this.__data__={hash:new Sd,map:new(wb||_b),string:new Sd}}var Sb=CN;function RN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Eb=RN;function TN(t,e){var r=t.__data__;return Eb(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ta=TN;function ON(t){var e=ta(this,t).delete(t);return this.size-=e?1:0,e}var Pb=ON;function kN(t){return ta(this,t).get(t)}var Cb=kN;function AN(t){return ta(this,t).has(t)}var Rb=AN;function IN(t,e){var r=ta(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}var Tb=IN;function Bn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}Bn.prototype.clear=Sb;Bn.prototype.delete=Pb;Bn.prototype.get=Cb;Bn.prototype.has=Rb;Bn.prototype.set=Tb;var Ed=Bn;var DN="Expected a function";function Pd(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DN);var r=function(){var s=arguments,a=e?e.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var n=t.apply(this,s);return r.cache=i.set(a,n)||i,n};return r.cache=new(Pd.Cache||Ed),r}Pd.Cache=Ed;var co=Pd;var Ps=ae(require("vscode"),1),Zc=class{constructor(e){this.context=e}getModel(){let e=Tr("selectedModel");return e||"default"}async setModel(e){await Ps.workspace.getConfiguration("claudeCode").update("selectedModel",e,Ps.ConfigurationTarget.Global)}getThinkingLevel(){let e=this.context.globalState.get("thinkingLevel");return e||"off"}async setThinkingLevel(e){this.context.globalState.update("thinkingLevel",e)}getAllowDangerouslySkipPermissions(){return Tr("allowDangerouslySkipPermissions")||!1}migrateAllSettings(){if(this.context.globalState.get("settingsMigrated20251024"))return;let e=Ps.workspace.getConfiguration("claude-code"),r=Ps.workspace.getConfiguration("claudeCode"),s=["selectedModel","environmentVariables","useTerminal","allowDangerouslySkipPermissions","claudeProcessWrapper","doNotExcludeSearchPatterns"];for(let a of s){let i=e.get(a);i!==void 0&&(r.update(a,i,Ps.ConfigurationTarget.Global),e.update(a,void 0,Ps.ConfigurationTarget.Global))}this.context.globalState.update("settingsMigrated20251024",!0)}};function Tr(t){return Ps.workspace.getConfiguration("claudeCode").get(t)}function LN(t){let e=t.trim();return e?/[*?{}[\]]/.test(e)?e:`**/*${e.split("").map(s=>{if(/[a-zA-Z]/.test(s)){let a=s.toLowerCase(),i=s.toUpperCase();return`[${a}${i}]`}return s}).join("")}*`:"**/*"}var Ib=`{${["**/node_modules/**","**/.git/**","**/dist/**","**/build/**","**/.next/**","**/.nuxt/**","**/.DS_Store","**/Thumbs.db","**/*.log","**/.env","**/.env.*","**/yarn-error.log","**/npm-debug.log*"].join(",")}}`;async function Rd(t){let e=[],r=t?LN(t):"**/*",s=await Db(),a=100,i;try{i=await hr.workspace.findFiles(r,s,a)}catch{i=await hr.workspace.findFiles(r,Ib,a)}try{for(let n of i){let o=hr.workspace.asRelativePath(n),l=n.path.split("/").pop()||"";e.push({path:o,name:l,type:"file"})}e.sort((n,o)=>n.path.localeCompare(o.path))}catch{}return e}async function Db(){if(Tr("doNotExcludeSearchPatterns")||!1)return null;let e=[];try{let a=hr.workspace.getConfiguration("search"),i=hr.workspace.getConfiguration("files"),n=a.get("exclude")||{},o=i.get("exclude")||{};for(let[c,u]of Object.entries(n))u&&typeof c=="string"&&e.push(c);for(let[c,u]of Object.entries(o))u&&typeof c=="string"&&e.push(c);if(a.get("useIgnoreFiles",!0)){let c=hr.workspace.workspaceFolders;if(c)for(let u of c){let p=NN(u.uri.fsPath);e.push(...p)}}}catch{}let r=e.filter(a=>typeof a=="string"&&a.length>0);return r.length===0?Ib:r.length===1?r[0]:`{${r.join(",")}}`}function NN(t){let e=[];try{let r=(0,Cd.join)(t,".gitignore");if((0,Hn.existsSync)(r)){let a=(0,Hn.readFileSync)(r,"utf8");e.push(...Ob(a))}let s=(0,Cd.join)((0,kb.homedir)(),".config","git","ignore");if((0,Hn.existsSync)(s)){let a=(0,Hn.readFileSync)(s,"utf8");e.push(...Ob(a))}}catch{}return e}function Ob(t){let e=[];for(let r of t.split(`
`)){let s=r.trim();if(!s||s.startsWith("#")||s.startsWith("!"))continue;let a=s;a.endsWith("/")&&(a=a.slice(0,-1)+"/**"),a.startsWith("/")?a=a.slice(1):a="**/"+a,e.includes(a)||e.push(a)}return e}async function $N(t){try{let e=hr.workspace.getWorkspaceFolder(t);if(!e)return!1;let r=hr.workspace.asRelativePath(t,!1),s=await Db();return!!((await hr.workspace.findFiles(new hr.RelativePattern(e,r),s,1)).length===0||hr.workspace.getConfiguration("search").get("useIgnoreFiles",!0)&&await new Promise(l=>{(0,Ab.execFile)("git",["check-ignore",t.fsPath],{cwd:e.uri.fsPath},(c,u)=>{l(!c&&!!u)})}))}catch{return!1}}var Td=co($N,t=>t.fsPath);var Vd=ae(require("vscode"),1),kt=ae(require("path"),1);function Cs(t){return Array.isArray?Array.isArray(t):qb(t)==="[object Array]"}var FN=1/0;function jN(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-FN?"-0":e}function MN(t){return t==null?"":jN(t)}function os(t){return typeof t=="string"}function Mb(t){return typeof t=="number"}function UN(t){return t===!0||t===!1||qN(t)&&qb(t)=="[object Boolean]"}function Ub(t){return typeof t=="object"}function qN(t){return Ub(t)&&t!==null}function vr(t){return t!=null}function Od(t){return!t.trim().length}function qb(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var zN="Incorrect 'index' type",BN=t=>`Invalid value for key ${t}`,HN=t=>`Pattern length exceeds max of ${t}.`,VN=t=>`Missing ${t} property in key`,GN=t=>`Property 'weight' in key '${t}' must be a positive integer`,Lb=Object.prototype.hasOwnProperty,kd=class{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(s=>{let a=zb(s);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(s=>{s.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function zb(t){let e=null,r=null,s=null,a=1,i=null;if(os(t)||Cs(t))s=t,e=Nb(t),r=Ad(t);else{if(!Lb.call(t,"name"))throw new Error(VN("name"));let n=t.name;if(s=n,Lb.call(t,"weight")&&(a=t.weight,a<=0))throw new Error(GN(n));e=Nb(n),r=Ad(n),i=t.getFn}return{path:e,id:r,weight:a,src:s,getFn:i}}function Nb(t){return Cs(t)?t:t.split(".")}function Ad(t){return Cs(t)?t.join("."):t}function WN(t,e){let r=[],s=!1,a=(i,n,o)=>{if(vr(i))if(!n[o])r.push(i);else{let l=n[o],c=i[l];if(!vr(c))return;if(o===n.length-1&&(os(c)||Mb(c)||UN(c)))r.push(MN(c));else if(Cs(c)){s=!0;for(let u=0,p=c.length;u<p;u+=1)a(c[u],n,o+1)}else n.length&&a(c,n,o+1)}};return a(t,os(e)?e.split("."):e,0),s?r:r[0]}var ZN={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},KN={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},JN={location:0,threshold:.6,distance:100},QN={useExtendedSearch:!1,getFn:WN,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},Me={...KN,...ZN,...JN,...QN},XN=/[^ ]+/g;function YN(t=1,e=3){let r=new Map,s=Math.pow(10,e);return{get(a){let i=a.match(XN).length;if(r.has(i))return r.get(i);let n=1/Math.pow(i,.5*t),o=parseFloat(Math.round(n*s)/s);return r.set(i,o),o},clear(){r.clear()}}}var lo=class{constructor({getFn:e=Me.getFn,fieldNormWeight:r=Me.fieldNormWeight}={}){this.norm=YN(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,s)=>{this._keysMap[r.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,os(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();os(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,s=this.size();r<s;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!vr(e)||Od(e))return;let s={v:e,i:r,n:this.norm.get(e)};this.records.push(s)}_addObject(e,r){let s={i:r,$:{}};this.keys.forEach((a,i)=>{let n=a.getFn?a.getFn(e):this.getFn(e,a.path);if(vr(n)){if(Cs(n)){let o=[],l=[{nestedArrIndex:-1,value:n}];for(;l.length;){let{nestedArrIndex:c,value:u}=l.pop();if(vr(u))if(os(u)&&!Od(u)){let p={v:u,i:c,n:this.norm.get(u)};o.push(p)}else Cs(u)&&u.forEach((p,h)=>{l.push({nestedArrIndex:h,value:p})})}s.$[i]=o}else if(os(n)&&!Od(n)){let o={v:n,n:this.norm.get(n)};s.$[i]=o}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}};function Bb(t,e,{getFn:r=Me.getFn,fieldNormWeight:s=Me.fieldNormWeight}={}){let a=new lo({getFn:r,fieldNormWeight:s});return a.setKeys(t.map(zb)),a.setSources(e),a.create(),a}function e$(t,{getFn:e=Me.getFn,fieldNormWeight:r=Me.fieldNormWeight}={}){let{keys:s,records:a}=t,i=new lo({getFn:e,fieldNormWeight:r});return i.setKeys(s),i.setIndexRecords(a),i}function Kc(t,{errors:e=0,currentLocation:r=0,expectedLocation:s=0,distance:a=Me.distance,ignoreLocation:i=Me.ignoreLocation}={}){let n=e/t.length;if(i)return n;let o=Math.abs(s-r);return a?n+o/a:o?1:n}function t$(t=[],e=Me.minMatchCharLength){let r=[],s=-1,a=-1,i=0;for(let n=t.length;i<n;i+=1){let o=t[i];o&&s===-1?s=i:!o&&s!==-1&&(a=i-1,a-s+1>=e&&r.push([s,a]),s=-1)}return t[i-1]&&i-s>=e&&r.push([s,i-1]),r}var Ta=32;function r$(t,e,r,{location:s=Me.location,distance:a=Me.distance,threshold:i=Me.threshold,findAllMatches:n=Me.findAllMatches,minMatchCharLength:o=Me.minMatchCharLength,includeMatches:l=Me.includeMatches,ignoreLocation:c=Me.ignoreLocation}={}){if(e.length>Ta)throw new Error(HN(Ta));let u=e.length,p=t.length,h=Math.max(0,Math.min(s,p)),d=i,m=h,f=o>1||l,v=f?Array(p):[],g;for(;(g=t.indexOf(e,m))>-1;){let O=Kc(e,{currentLocation:g,expectedLocation:h,distance:a,ignoreLocation:c});if(d=Math.min(O,d),m=g+u,f){let N=0;for(;N<u;)v[g+N]=1,N+=1}}m=-1;let x=[],w=1,C=u+p,R=1<<u-1;for(let O=0;O<u;O+=1){let N=0,I=C;for(;N<I;)Kc(e,{errors:O,currentLocation:h+I,expectedLocation:h,distance:a,ignoreLocation:c})<=d?N=I:C=I,I=Math.floor((C-N)/2+N);C=I;let j=Math.max(1,h-I+1),D=n?p:Math.min(h+I,p)+u,k=Array(D+2);k[D+1]=(1<<O)-1;for(let L=D;L>=j;L-=1){let z=L-1,V=r[t.charAt(z)];if(f&&(v[z]=+!!V),k[L]=(k[L+1]<<1|1)&V,O&&(k[L]|=(x[L+1]|x[L])<<1|1|x[L+1]),k[L]&R&&(w=Kc(e,{errors:O,currentLocation:z,expectedLocation:h,distance:a,ignoreLocation:c}),w<=d)){if(d=w,m=z,m<=h)break;j=Math.max(1,2*h-m)}}if(Kc(e,{errors:O+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:c})>d)break;x=k}let P={isMatch:m>=0,score:Math.max(.001,w)};if(f){let O=t$(v,o);O.length?l&&(P.indices=O):P.isMatch=!1}return P}function s$(t){let e={};for(let r=0,s=t.length;r<s;r+=1){let a=t.charAt(r);e[a]=(e[a]||0)|1<<s-r-1}return e}var Jc=class{constructor(e,{location:r=Me.location,threshold:s=Me.threshold,distance:a=Me.distance,includeMatches:i=Me.includeMatches,findAllMatches:n=Me.findAllMatches,minMatchCharLength:o=Me.minMatchCharLength,isCaseSensitive:l=Me.isCaseSensitive,ignoreLocation:c=Me.ignoreLocation}={}){if(this.options={location:r,threshold:s,distance:a,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let u=(h,d)=>{this.chunks.push({pattern:h,alphabet:s$(h),startIndex:d})},p=this.pattern.length;if(p>Ta){let h=0,d=p%Ta,m=p-d;for(;h<m;)u(this.pattern.substr(h,Ta),h),h+=Ta;if(d){let f=p-Ta;u(this.pattern.substr(f),f)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:s}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,e.length-1]]),m}let{location:a,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,ignoreLocation:c}=this.options,u=[],p=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:f,startIndex:v})=>{let{isMatch:g,score:x,indices:w}=r$(e,m,f,{location:a+v,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,includeMatches:s,ignoreLocation:c});g&&(h=!0),p+=x,g&&w&&(u=[...u,...w])});let d={isMatch:h,score:h?p/this.chunks.length:1};return h&&s&&(d.indices=u),d}},cs=class{constructor(e){this.pattern=e}static isMultiMatch(e){return $b(e,this.multiRegex)}static isSingleMatch(e){return $b(e,this.singleRegex)}search(){}};function $b(t,e){let r=t.match(e);return r?r[1]:null}var Id=class extends cs{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Dd=class extends cs{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}},Ld=class extends cs{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Nd=class extends cs{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},$d=class extends cs{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},Fd=class extends cs{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},Qc=class extends cs{constructor(e,{location:r=Me.location,threshold:s=Me.threshold,distance:a=Me.distance,includeMatches:i=Me.includeMatches,findAllMatches:n=Me.findAllMatches,minMatchCharLength:o=Me.minMatchCharLength,isCaseSensitive:l=Me.isCaseSensitive,ignoreLocation:c=Me.ignoreLocation}={}){super(e),this._bitapSearch=new Jc(e,{location:r,threshold:s,distance:a,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Xc=class extends cs{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,s,a=[],i=this.pattern.length;for(;(s=e.indexOf(this.pattern,r))>-1;)r=s+i,a.push([s,r-1]);let n=!!a.length;return{isMatch:n,score:n?0:1,indices:a}}},jd=[Id,Xc,Ld,Nd,Fd,$d,Dd,Qc],Fb=jd.length,a$=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,n$="|";function i$(t,e={}){return t.split(n$).map(r=>{let s=r.trim().split(a$).filter(i=>i&&!!i.trim()),a=[];for(let i=0,n=s.length;i<n;i+=1){let o=s[i],l=!1,c=-1;for(;!l&&++c<Fb;){let u=jd[c],p=u.isMultiMatch(o);p&&(a.push(new u(p,e)),l=!0)}if(!l)for(c=-1;++c<Fb;){let u=jd[c],p=u.isSingleMatch(o);if(p){a.push(new u(p,e));break}}}return a})}var o$=new Set([Qc.type,Xc.type]),Md=class{constructor(e,{isCaseSensitive:r=Me.isCaseSensitive,includeMatches:s=Me.includeMatches,minMatchCharLength:a=Me.minMatchCharLength,ignoreLocation:i=Me.ignoreLocation,findAllMatches:n=Me.findAllMatches,location:o=Me.location,threshold:l=Me.threshold,distance:c=Me.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:s,minMatchCharLength:a,findAllMatches:n,ignoreLocation:i,location:o,threshold:l,distance:c},this.pattern=r?e:e.toLowerCase(),this.query=i$(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:s,isCaseSensitive:a}=this.options;e=a?e:e.toLowerCase();let i=0,n=[],o=0;for(let l=0,c=r.length;l<c;l+=1){let u=r[l];n.length=0,i=0;for(let p=0,h=u.length;p<h;p+=1){let d=u[p],{isMatch:m,indices:f,score:v}=d.search(e);if(m){if(i+=1,o+=v,s){let g=d.constructor.type;o$.has(g)?n=[...n,...f]:n.push(f)}}else{o=0,i=0,n.length=0;break}}if(i){let p={isMatch:!0,score:o/i};return s&&(p.indices=n),p}}return{isMatch:!1,score:1}}},Ud=[];function c$(...t){Ud.push(...t)}function qd(t,e){for(let r=0,s=Ud.length;r<s;r+=1){let a=Ud[r];if(a.condition(t,e))return new a(t,e)}return new Jc(t,e)}var Yc={AND:"$and",OR:"$or"},zd={PATH:"$path",PATTERN:"$val"},Bd=t=>!!(t[Yc.AND]||t[Yc.OR]),l$=t=>!!t[zd.PATH],u$=t=>!Cs(t)&&Ub(t)&&!Bd(t),jb=t=>({[Yc.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Hb(t,e,{auto:r=!0}={}){let s=a=>{let i=Object.keys(a),n=l$(a);if(!n&&i.length>1&&!Bd(a))return s(jb(a));if(u$(a)){let l=n?a[zd.PATH]:i[0],c=n?a[zd.PATTERN]:a[l];if(!os(c))throw new Error(BN(l));let u={keyId:Ad(l),pattern:c};return r&&(u.searcher=qd(c,e)),u}let o={children:[],operator:i[0]};return i.forEach(l=>{let c=a[l];Cs(c)&&c.forEach(u=>{o.children.push(s(u))})}),o};return Bd(t)||(t=jb(t)),s(t)}function p$(t,{ignoreFieldNorm:e=Me.ignoreFieldNorm}){t.forEach(r=>{let s=1;r.matches.forEach(({key:a,norm:i,score:n})=>{let o=a?a.weight:null;s*=Math.pow(n===0&&o?Number.EPSILON:n,(o||1)*(e?1:i))}),r.score=s})}function d$(t,e){let r=t.matches;e.matches=[],vr(r)&&r.forEach(s=>{if(!vr(s.indices)||!s.indices.length)return;let{indices:a,value:i}=s,n={indices:a,value:i};s.key&&(n.key=s.key.src),s.idx>-1&&(n.refIndex=s.idx),e.matches.push(n)})}function f$(t,e){e.score=t.score}function m$(t,e,{includeMatches:r=Me.includeMatches,includeScore:s=Me.includeScore}={}){let a=[];return r&&a.push(d$),s&&a.push(f$),t.map(i=>{let{idx:n}=i,o={item:e[n],refIndex:n};return a.length&&a.forEach(l=>{l(i,o)}),o})}var Rs=class{constructor(e,r={},s){this.options={...Me,...r},this.options.useExtendedSearch,this._keyStore=new kd(this.options.keys),this.setCollection(e,s)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof lo))throw new Error(zN);this._myIndex=r||Bb(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){vr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let s=0,a=this._docs.length;s<a;s+=1){let i=this._docs[s];e(i,s)&&(this.removeAt(s),s-=1,a-=1,r.push(i))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:s,includeScore:a,shouldSort:i,sortFn:n,ignoreFieldNorm:o}=this.options,l=os(e)?os(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return p$(l,{ignoreFieldNorm:o}),i&&l.sort(n),Mb(r)&&r>-1&&(l=l.slice(0,r)),m$(l,this._docs,{includeMatches:s,includeScore:a})}_searchStringList(e){let r=qd(e,this.options),{records:s}=this._myIndex,a=[];return s.forEach(({v:i,i:n,n:o})=>{if(!vr(i))return;let{isMatch:l,score:c,indices:u}=r.searchIn(i);l&&a.push({item:i,idx:n,matches:[{score:c,value:i,norm:o,indices:u}]})}),a}_searchLogical(e){let r=Hb(e,this.options),s=(o,l,c)=>{if(!o.children){let{keyId:p,searcher:h}=o,d=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(l,p),searcher:h});return d&&d.length?[{idx:c,item:l,matches:d}]:[]}let u=[];for(let p=0,h=o.children.length;p<h;p+=1){let d=o.children[p],m=s(d,l,c);if(m.length)u.push(...m);else if(o.operator===Yc.AND)return[]}return u},a=this._myIndex.records,i={},n=[];return a.forEach(({$:o,i:l})=>{if(vr(o)){let c=s(r,o,l);c.length&&(i[l]||(i[l]={idx:l,item:o,matches:[]},n.push(i[l])),c.forEach(({matches:u})=>{i[l].matches.push(...u)}))}}),n}_searchObjectList(e){let r=qd(e,this.options),{keys:s,records:a}=this._myIndex,i=[];return a.forEach(({$:n,i:o})=>{if(!vr(n))return;let l=[];s.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:n[u],searcher:r}))}),l.length&&i.push({idx:o,item:n,matches:l})}),i}_findMatches({key:e,value:r,searcher:s}){if(!vr(r))return[];let a=[];if(Cs(r))r.forEach(({v:i,i:n,n:o})=>{if(!vr(i))return;let{isMatch:l,score:c,indices:u}=s.searchIn(i);l&&a.push({score:c,key:e,value:i,idx:n,norm:o,indices:u})});else{let{v:i,n}=r,{isMatch:o,score:l,indices:c}=s.searchIn(i);o&&a.push({score:l,key:e,value:i,norm:n,indices:c})}return a}};Rs.version="7.0.0";Rs.createIndex=Bb;Rs.parseIndex=e$;Rs.config=Me;Rs.parseQuery=Hb;c$(Md);var el=require("child_process");var Hd=100,h$=2e7,v$=1e4,g$=co(()=>{if(!process.env.USE_BUILTIN_RIPGREP||process.env.USE_BUILTIN_RIPGREP==="0"||process.env.USE_BUILTIN_RIPGREP==="false"){let a=process.platform==="win32"?"rg.exe":"rg";try{return(0,el.execFileSync)(a,["--version"],{stdio:"ignore"}),{mode:"system",command:a,args:[]}}catch{}}let e=kt.resolve(__dirname,"..","..","..",".."),r=kt.resolve(e,"vendor","ripgrep");return{mode:"builtin",command:process.platform==="win32"?kt.resolve(r,"x64-win32","rg.exe"):kt.resolve(r,`${process.arch}-${process.platform}`,"rg"),args:[]}});function y$(){let t=g$();return{rgPath:t.command,rgArgs:t.args}}async function x$(t,e){return new Promise((r,s)=>{let{rgPath:a,rgArgs:i}=y$();(0,el.execFile)(a,[...i,...t],{cwd:e,maxBuffer:h$,timeout:v$},(n,o)=>{if(!n){r(o.trim().split(`
`).filter(Boolean));return}if("code"in n&&n.code===1){r([]);return}let l=o&&o.trim().length>0,c="signal"in n&&n.signal==="SIGTERM"||"code"in n&&n.code==="ABORT_ERR",u="code"in n&&n.code==="ERR_CHILD_PROCESS_STDIO_MAXBUFFER";if((c||u)&&l){let p=o.trim().split(`
`).filter(Boolean);r(p.length>0?p.slice(0,-1):[]);return}s(n)})})}function b$(t,e){if(!e){let n=new Set;for(let o of t){let l=o.split(kt.sep)[0];if(l&&(n.add(l),n.size>=Hd))break}return[...n].sort().map(o=>{let l=t.some(c=>c.startsWith(o+kt.sep));return{path:l?o+kt.sep:o,filename:kt.basename(o),isDirectory:l}})}let r=t.map(n=>({path:n,filename:kt.basename(n),testPenalty:n.includes("test")?1:0})),s=e.lastIndexOf(kt.sep);s>2&&(r=r.filter(n=>n.path.substring(0,s).startsWith(e.substring(0,s))));let i=new Rs(r,{includeScore:!0,threshold:.5,keys:[{name:"path",weight:1},{name:"filename",weight:2}]}).search(e,{limit:Hd});return i=i.sort((n,o)=>n.score===void 0||o.score===void 0?0:Math.abs(n.score-o.score)>.05?n.score-o.score:n.item.testPenalty-o.item.testPenalty),i.map(n=>({path:n.item.path,filename:n.item.filename,isDirectory:n.item.path.endsWith(kt.sep)})).slice(0,Hd)}async function Vb(t,e,r){try{let s=["--files","--follow","--hidden"],a=Tr("doNotExcludeSearchPatterns")||!1;try{if(a)s.push("--no-ignore");else{let c=Vd.workspace.getConfiguration("search"),u=Vd.workspace.getConfiguration("files"),p=c.get("exclude")||{},h=u.get("exclude")||{};for(let[d,m]of Object.entries(p))m&&s.push("--glob",`!${d}`);for(let[d,m]of Object.entries(h))m&&!p[d]&&s.push("--glob",`!${d}`)}}catch(c){r.warn("Failed to get VSCode exclude patterns",c)}let i=await x$(s,e),o=[..._$(i),...i];return b$(o,t).map(c=>({path:c.path,name:c.filename,type:c.isDirectory?"directory":"file"}))}catch(s){throw r.error("Ripgrep search failed",s),s}}function _$(t){let e=new Set;return t.forEach(r=>{let a=kt.dirname(r);for(;a!=="."&&a!==kt.parse(a).root;)e.add(a),a=kt.dirname(a)}),[...e].map(r=>r+kt.sep)}var Kd=require("path"),u_=require("url"),p_=require("events"),f_=require("child_process"),m_=require("readline"),Ne=ae(require("fs"),1),h_=require("fs/promises"),__=require("path"),w_=require("os"),ka=require("path"),S_=require("process"),E_=require("fs"),P_=require("crypto"),Cq={},w$=Object.create,S$=Object.getPrototypeOf,Zd=Object.defineProperty,E$=Object.getOwnPropertyNames,P$=Object.prototype.hasOwnProperty,C$=(t,e,r)=>{r=t!=null?w$(S$(t)):{};let s=e||!t||!t.__esModule?Zd(r,"default",{value:t,enumerable:!0}):r;for(let a of E$(t))P$.call(s,a)||Zd(s,a,{get:()=>t[a],enumerable:!0});return s},je=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),R$=(t,e)=>{for(var r in e)Zd(t,r,{get:e[r],enumerable:!0,configurable:!0,set:s=>e[r]=()=>s})},T$=je((t,e)=>{(function(r,s){typeof t=="object"&&typeof e<"u"?s(t):typeof define=="function"&&define.amd?define(["exports"],s):s(r.URI=r.URI||{})})(t,function(r){function s(){for(var b=arguments.length,y=Array(b),E=0;E<b;E++)y[E]=arguments[E];if(y.length>1){y[0]=y[0].slice(0,-1);for(var F=y.length-1,B=1;B<F;++B)y[B]=y[B].slice(1,-1);return y[F]=y[F].slice(1),y.join("")}else return y[0]}function a(b){return"(?:"+b+")"}function i(b){return b===void 0?"undefined":b===null?"null":Object.prototype.toString.call(b).split(" ").pop().split("]").shift().toLowerCase()}function n(b){return b.toUpperCase()}function o(b){return b!=null?b instanceof Array?b:typeof b.length!="number"||b.split||b.setInterval||b.call?[b]:Array.prototype.slice.call(b):[]}function l(b,y){var E=b;if(y)for(var F in y)E[F]=y[F];return E}function c(b){var y="[A-Za-z]",E="[\\x0D]",F="[0-9]",B="[\\x22]",Q=s(F,"[A-Fa-f]"),le="[\\x0A]",Pe="[\\x20]",ve=a(a("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+a("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+a("%"+Q+Q)),qe="[\\:\\/\\?\\#\\[\\]\\@]",Se="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",De=s(qe,Se),Ce=b?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Le=b?"[\\uE000-\\uF8FF]":"[]",ye=s(y,F,"[\\-\\.\\_\\~]",Ce),pt=a(y+s(y,F,"[\\+\\-\\.]")+"*"),He=a(a(ve+"|"+s(ye,Se,"[\\:]"))+"*"),Rt=a(a("25[0-5]")+"|"+a("2[0-4]"+F)+"|"+a("1"+F+F)+"|"+a("[1-9]"+F)+"|"+F),Ze=a(a("25[0-5]")+"|"+a("2[0-4]"+F)+"|"+a("1"+F+F)+"|"+a("0?[1-9]"+F)+"|0?0?"+F),mt=a(Ze+"\\."+Ze+"\\."+Ze+"\\."+Ze),Ke=a(Q+"{1,4}"),xt=a(a(Ke+"\\:"+Ke)+"|"+mt),Tt=a(a(Ke+"\\:")+"{6}"+xt),Ot=a("\\:\\:"+a(Ke+"\\:")+"{5}"+xt),ur=a(a(Ke)+"?\\:\\:"+a(Ke+"\\:")+"{4}"+xt),Qt=a(a(a(Ke+"\\:")+"{0,1}"+Ke)+"?\\:\\:"+a(Ke+"\\:")+"{3}"+xt),rs=a(a(a(Ke+"\\:")+"{0,2}"+Ke)+"?\\:\\:"+a(Ke+"\\:")+"{2}"+xt),qr=a(a(a(Ke+"\\:")+"{0,3}"+Ke)+"?\\:\\:"+Ke+"\\:"+xt),zr=a(a(a(Ke+"\\:")+"{0,4}"+Ke)+"?\\:\\:"+xt),zt=a(a(a(Ke+"\\:")+"{0,5}"+Ke)+"?\\:\\:"+Ke),pr=a(a(a(Ke+"\\:")+"{0,6}"+Ke)+"?\\:\\:"),dr=a([Tt,Ot,ur,Qt,rs,qr,zr,zt,pr].join("|")),Xt=a(a(ye+"|"+ve)+"+"),Wi=a(dr+"\\%25"+Xt),ws=a(dr+a("\\%25|\\%(?!"+Q+"{2})")+Xt),dc=a("[vV]"+Q+"+\\."+s(ye,Se,"[\\:]")+"+"),Sa=a("\\["+a(ws+"|"+dr+"|"+dc)+"\\]"),Js=a(a(ve+"|"+s(ye,Se))+"*"),Qs=a(Sa+"|"+mt+"(?!"+Js+")|"+Js),Br=a(F+"*"),fc=a(a(He+"@")+"?"+Qs+a("\\:"+Br)+"?"),Xs=a(ve+"|"+s(ye,Se,"[\\:\\@]")),_p=a(Xs+"*"),Pr=a(Xs+"+"),Ys=a(a(ve+"|"+s(ye,Se,"[\\@]"))+"+"),fr=a(a("\\/"+_p)+"*"),Hr=a("\\/"+a(Pr+fr)+"?"),ss=a(Ys+fr),Zi=a(Pr+fr),mr="(?!"+Xs+")",kn=a(fr+"|"+Hr+"|"+ss+"|"+Zi+"|"+mr),Ss=a(a(Xs+"|"+s("[\\/\\?]",Le))+"*"),Ea=a(a(Xs+"|[\\/\\?]")+"*"),mc=a(a("\\/\\/"+fc+fr)+"|"+Hr+"|"+Zi+"|"+mr),wp=a(pt+"\\:"+mc+a("\\?"+Ss)+"?"+a("\\#"+Ea)+"?"),pv=a(a("\\/\\/"+fc+fr)+"|"+Hr+"|"+ss+"|"+mr),dv=a(pv+a("\\?"+Ss)+"?"+a("\\#"+Ea)+"?"),Ik=a(wp+"|"+dv),Dk=a(pt+"\\:"+mc+a("\\?"+Ss)+"?"),Lk="^("+pt+")\\:"+a(a("\\/\\/("+a("("+He+")@")+"?("+Qs+")"+a("\\:("+Br+")")+"?)")+"?("+fr+"|"+Hr+"|"+Zi+"|"+mr+")")+a("\\?("+Ss+")")+"?"+a("\\#("+Ea+")")+"?$",Nk="^(){0}"+a(a("\\/\\/("+a("("+He+")@")+"?("+Qs+")"+a("\\:("+Br+")")+"?)")+"?("+fr+"|"+Hr+"|"+ss+"|"+mr+")")+a("\\?("+Ss+")")+"?"+a("\\#("+Ea+")")+"?$",$k="^("+pt+")\\:"+a(a("\\/\\/("+a("("+He+")@")+"?("+Qs+")"+a("\\:("+Br+")")+"?)")+"?("+fr+"|"+Hr+"|"+Zi+"|"+mr+")")+a("\\?("+Ss+")")+"?$",W6="^"+a("\\#("+Ea+")")+"?$",Z6="^"+a("("+He+")@")+"?("+Qs+")"+a("\\:("+Br+")")+"?$";return{NOT_SCHEME:new RegExp(s("[^]",y,F,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",ye,Se),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",ye,Se),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",ye,Se),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",ye,Se),"g"),NOT_QUERY:new RegExp(s("[^\\%]",ye,Se,"[\\:\\@\\/\\?]",Le),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",ye,Se,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",ye,Se),"g"),UNRESERVED:new RegExp(ye,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",ye,De),"g"),PCT_ENCODED:new RegExp(ve,"g"),IPV4ADDRESS:new RegExp("^("+mt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+dr+")"+a(a("\\%25|\\%(?!"+Q+"{2})")+"("+Xt+")")+"?\\]?$")}}var u=c(!1),p=c(!0),h=function(){function b(y,E){var F=[],B=!0,Q=!1,le=void 0;try{for(var Pe=y[Symbol.iterator](),ve;!(B=(ve=Pe.next()).done)&&(F.push(ve.value),!(E&&F.length===E));B=!0);}catch(qe){Q=!0,le=qe}finally{try{!B&&Pe.return&&Pe.return()}finally{if(Q)throw le}}return F}return function(y,E){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return b(y,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(b){if(Array.isArray(b)){for(var y=0,E=Array(b.length);y<b.length;y++)E[y]=b[y];return E}else return Array.from(b)},m=2147483647,f=36,v=1,g=26,x=38,w=700,C=72,R=128,P="-",O=/^xn--/,N=/[^\0-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=f-v,k=Math.floor,T=String.fromCharCode;function L(b){throw new RangeError(j[b])}function z(b,y){for(var E=[],F=b.length;F--;)E[F]=y(b[F]);return E}function V(b,y){var E=b.split("@"),F="";E.length>1&&(F=E[0]+"@",b=E[1]),b=b.replace(I,".");var B=b.split("."),Q=z(B,y).join(".");return F+Q}function H(b){for(var y=[],E=0,F=b.length;E<F;){var B=b.charCodeAt(E++);if(B>=55296&&B<=56319&&E<F){var Q=b.charCodeAt(E++);(Q&64512)==56320?y.push(((B&1023)<<10)+(Q&1023)+65536):(y.push(B),E--)}else y.push(B)}return y}var G=function(y){return String.fromCodePoint.apply(String,d(y))},K=function(y){return y-48<10?y-22:y-65<26?y-65:y-97<26?y-97:f},W=function(y,E){return y+22+75*(y<26)-((E!=0)<<5)},ee=function(y,E,F){var B=0;for(y=F?k(y/w):y>>1,y+=k(y/E);y>D*g>>1;B+=f)y=k(y/D);return k(B+(D+1)*y/(y+x))},ne=function(y){var E=[],F=y.length,B=0,Q=R,le=C,Pe=y.lastIndexOf(P);Pe<0&&(Pe=0);for(var ve=0;ve<Pe;++ve)y.charCodeAt(ve)>=128&&L("not-basic"),E.push(y.charCodeAt(ve));for(var qe=Pe>0?Pe+1:0;qe<F;){for(var Se=B,De=1,Ce=f;;Ce+=f){qe>=F&&L("invalid-input");var Le=K(y.charCodeAt(qe++));(Le>=f||Le>k((m-B)/De))&&L("overflow"),B+=Le*De;var ye=Ce<=le?v:Ce>=le+g?g:Ce-le;if(Le<ye)break;var pt=f-ye;De>k(m/pt)&&L("overflow"),De*=pt}var He=E.length+1;le=ee(B-Se,He,Se==0),k(B/He)>m-Q&&L("overflow"),Q+=k(B/He),B%=He,E.splice(B++,0,Q)}return String.fromCodePoint.apply(String,E)},Je=function(y){var E=[];y=H(y);var F=y.length,B=R,Q=0,le=C,Pe=!0,ve=!1,qe=void 0;try{for(var Se=y[Symbol.iterator](),De;!(Pe=(De=Se.next()).done);Pe=!0){var Ce=De.value;Ce<128&&E.push(T(Ce))}}catch(ws){ve=!0,qe=ws}finally{try{!Pe&&Se.return&&Se.return()}finally{if(ve)throw qe}}var Le=E.length,ye=Le;for(Le&&E.push(P);ye<F;){var pt=m,He=!0,Rt=!1,Ze=void 0;try{for(var mt=y[Symbol.iterator](),Ke;!(He=(Ke=mt.next()).done);He=!0){var xt=Ke.value;xt>=B&&xt<pt&&(pt=xt)}}catch(ws){Rt=!0,Ze=ws}finally{try{!He&&mt.return&&mt.return()}finally{if(Rt)throw Ze}}var Tt=ye+1;pt-B>k((m-Q)/Tt)&&L("overflow"),Q+=(pt-B)*Tt,B=pt;var Ot=!0,ur=!1,Qt=void 0;try{for(var rs=y[Symbol.iterator](),qr;!(Ot=(qr=rs.next()).done);Ot=!0){var zr=qr.value;if(zr<B&&++Q>m&&L("overflow"),zr==B){for(var zt=Q,pr=f;;pr+=f){var dr=pr<=le?v:pr>=le+g?g:pr-le;if(zt<dr)break;var Xt=zt-dr,Wi=f-dr;E.push(T(W(dr+Xt%Wi,0))),zt=k(Xt/Wi)}E.push(T(W(zt,0))),le=ee(Q,Tt,ye==Le),Q=0,++ye}}}catch(ws){ur=!0,Qt=ws}finally{try{!Ot&&rs.return&&rs.return()}finally{if(ur)throw Qt}}++Q,++B}return E.join("")},ge=function(y){return V(y,function(E){return O.test(E)?ne(E.slice(4).toLowerCase()):E})},Ee=function(y){return V(y,function(E){return N.test(E)?"xn--"+Je(E):E})},we={version:"2.1.0",ucs2:{decode:H,encode:G},decode:ne,encode:Je,toASCII:Ee,toUnicode:ge},Te={};function M(b){var y=b.charCodeAt(0),E=void 0;return y<16?E="%0"+y.toString(16).toUpperCase():y<128?E="%"+y.toString(16).toUpperCase():y<2048?E="%"+(y>>6|192).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase():E="%"+(y>>12|224).toString(16).toUpperCase()+"%"+(y>>6&63|128).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase(),E}function Z(b){for(var y="",E=0,F=b.length;E<F;){var B=parseInt(b.substr(E+1,2),16);if(B<128)y+=String.fromCharCode(B),E+=3;else if(B>=194&&B<224){if(F-E>=6){var Q=parseInt(b.substr(E+4,2),16);y+=String.fromCharCode((B&31)<<6|Q&63)}else y+=b.substr(E,6);E+=6}else if(B>=224){if(F-E>=9){var le=parseInt(b.substr(E+4,2),16),Pe=parseInt(b.substr(E+7,2),16);y+=String.fromCharCode((B&15)<<12|(le&63)<<6|Pe&63)}else y+=b.substr(E,9);E+=9}else y+=b.substr(E,3),E+=3}return y}function se(b,y){function E(F){var B=Z(F);return B.match(y.UNRESERVED)?B:F}return b.scheme&&(b.scheme=String(b.scheme).replace(y.PCT_ENCODED,E).toLowerCase().replace(y.NOT_SCHEME,"")),b.userinfo!==void 0&&(b.userinfo=String(b.userinfo).replace(y.PCT_ENCODED,E).replace(y.NOT_USERINFO,M).replace(y.PCT_ENCODED,n)),b.host!==void 0&&(b.host=String(b.host).replace(y.PCT_ENCODED,E).toLowerCase().replace(y.NOT_HOST,M).replace(y.PCT_ENCODED,n)),b.path!==void 0&&(b.path=String(b.path).replace(y.PCT_ENCODED,E).replace(b.scheme?y.NOT_PATH:y.NOT_PATH_NOSCHEME,M).replace(y.PCT_ENCODED,n)),b.query!==void 0&&(b.query=String(b.query).replace(y.PCT_ENCODED,E).replace(y.NOT_QUERY,M).replace(y.PCT_ENCODED,n)),b.fragment!==void 0&&(b.fragment=String(b.fragment).replace(y.PCT_ENCODED,E).replace(y.NOT_FRAGMENT,M).replace(y.PCT_ENCODED,n)),b}function he(b){return b.replace(/^0*(.*)/,"$1")||"0"}function J(b,y){var E=b.match(y.IPV4ADDRESS)||[],F=h(E,2),B=F[1];return B?B.split(".").map(he).join("."):b}function X(b,y){var E=b.match(y.IPV6ADDRESS)||[],F=h(E,3),B=F[1],Q=F[2];if(B){for(var le=B.toLowerCase().split("::").reverse(),Pe=h(le,2),ve=Pe[0],qe=Pe[1],Se=qe?qe.split(":").map(he):[],De=ve.split(":").map(he),Ce=y.IPV4ADDRESS.test(De[De.length-1]),Le=Ce?7:8,ye=De.length-Le,pt=Array(Le),He=0;He<Le;++He)pt[He]=Se[He]||De[ye+He]||"";Ce&&(pt[Le-1]=J(pt[Le-1],y));var Rt=pt.reduce(function(Tt,Ot,ur){if(!Ot||Ot==="0"){var Qt=Tt[Tt.length-1];Qt&&Qt.index+Qt.length===ur?Qt.length++:Tt.push({index:ur,length:1})}return Tt},[]),Ze=Rt.sort(function(Tt,Ot){return Ot.length-Tt.length})[0],mt=void 0;if(Ze&&Ze.length>1){var Ke=pt.slice(0,Ze.index),xt=pt.slice(Ze.index+Ze.length);mt=Ke.join(":")+"::"+xt.join(":")}else mt=pt.join(":");return Q&&(mt+="%"+Q),mt}else return b}var ue=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ue="".match(/(){0}/)[1]===void 0;function _e(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={},F=y.iri!==!1?p:u;y.reference==="suffix"&&(b=(y.scheme?y.scheme+":":"")+"//"+b);var B=b.match(ue);if(B){Ue?(E.scheme=B[1],E.userinfo=B[3],E.host=B[4],E.port=parseInt(B[5],10),E.path=B[6]||"",E.query=B[7],E.fragment=B[8],isNaN(E.port)&&(E.port=B[5])):(E.scheme=B[1]||void 0,E.userinfo=b.indexOf("@")!==-1?B[3]:void 0,E.host=b.indexOf("//")!==-1?B[4]:void 0,E.port=parseInt(B[5],10),E.path=B[6]||"",E.query=b.indexOf("?")!==-1?B[7]:void 0,E.fragment=b.indexOf("#")!==-1?B[8]:void 0,isNaN(E.port)&&(E.port=b.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?B[4]:void 0)),E.host&&(E.host=X(J(E.host,F),F)),E.scheme===void 0&&E.userinfo===void 0&&E.host===void 0&&E.port===void 0&&!E.path&&E.query===void 0?E.reference="same-document":E.scheme===void 0?E.reference="relative":E.fragment===void 0?E.reference="absolute":E.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==E.reference&&(E.error=E.error||"URI is not a "+y.reference+" reference.");var Q=Te[(y.scheme||E.scheme||"").toLowerCase()];if(!y.unicodeSupport&&(!Q||!Q.unicodeSupport)){if(E.host&&(y.domainHost||Q&&Q.domainHost))try{E.host=we.toASCII(E.host.replace(F.PCT_ENCODED,Z).toLowerCase())}catch(le){E.error=E.error||"Host's domain name can not be converted to ASCII via punycode: "+le}se(E,u)}else se(E,F);Q&&Q.parse&&Q.parse(E,y)}else E.error=E.error||"URI can not be parsed.";return E}function it(b,y){var E=y.iri!==!1?p:u,F=[];return b.userinfo!==void 0&&(F.push(b.userinfo),F.push("@")),b.host!==void 0&&F.push(X(J(String(b.host),E),E).replace(E.IPV6ADDRESS,function(B,Q,le){return"["+Q+(le?"%25"+le:"")+"]"})),(typeof b.port=="number"||typeof b.port=="string")&&(F.push(":"),F.push(String(b.port))),F.length?F.join(""):void 0}var ot=/^\.\.?\//,Oe=/^\/\.(\/|$)/,dt=/^\/\.\.(\/|$)/,Ye=/^\/?(?:.|\n)*?(?=\/|$)/;function ut(b){for(var y=[];b.length;)if(b.match(ot))b=b.replace(ot,"");else if(b.match(Oe))b=b.replace(Oe,"/");else if(b.match(dt))b=b.replace(dt,"/"),y.pop();else if(b==="."||b==="..")b="";else{var E=b.match(Ye);if(E){var F=E[0];b=b.slice(F.length),y.push(F)}else throw new Error("Unexpected dot segment condition")}return y.join("")}function rt(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=y.iri?p:u,F=[],B=Te[(y.scheme||b.scheme||"").toLowerCase()];if(B&&B.serialize&&B.serialize(b,y),b.host&&!E.IPV6ADDRESS.test(b.host)){if(y.domainHost||B&&B.domainHost)try{b.host=y.iri?we.toUnicode(b.host):we.toASCII(b.host.replace(E.PCT_ENCODED,Z).toLowerCase())}catch(Pe){b.error=b.error||"Host's domain name can not be converted to "+(y.iri?"Unicode":"ASCII")+" via punycode: "+Pe}}se(b,E),y.reference!=="suffix"&&b.scheme&&(F.push(b.scheme),F.push(":"));var Q=it(b,y);if(Q!==void 0&&(y.reference!=="suffix"&&F.push("//"),F.push(Q),b.path&&b.path.charAt(0)!=="/"&&F.push("/")),b.path!==void 0){var le=b.path;!y.absolutePath&&(!B||!B.absolutePath)&&(le=ut(le)),Q===void 0&&(le=le.replace(/^\/\//,"/%2F")),F.push(le)}return b.query!==void 0&&(F.push("?"),F.push(b.query)),b.fragment!==void 0&&(F.push("#"),F.push(b.fragment)),F.join("")}function ct(b,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=arguments[3],B={};return F||(b=_e(rt(b,E),E),y=_e(rt(y,E),E)),E=E||{},!E.tolerant&&y.scheme?(B.scheme=y.scheme,B.userinfo=y.userinfo,B.host=y.host,B.port=y.port,B.path=ut(y.path||""),B.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(B.userinfo=y.userinfo,B.host=y.host,B.port=y.port,B.path=ut(y.path||""),B.query=y.query):(y.path?(y.path.charAt(0)==="/"?B.path=ut(y.path):((b.userinfo!==void 0||b.host!==void 0||b.port!==void 0)&&!b.path?B.path="/"+y.path:b.path?B.path=b.path.slice(0,b.path.lastIndexOf("/")+1)+y.path:B.path=y.path,B.path=ut(B.path)),B.query=y.query):(B.path=b.path,y.query!==void 0?B.query=y.query:B.query=b.query),B.userinfo=b.userinfo,B.host=b.host,B.port=b.port),B.scheme=b.scheme),B.fragment=y.fragment,B}function jt(b,y,E){var F=l({scheme:"null"},E);return rt(ct(_e(b,F),_e(y,F),F,!0),F)}function Mt(b,y){return typeof b=="string"?b=rt(_e(b,y),y):i(b)==="object"&&(b=_e(rt(b,y),y)),b}function qt(b,y,E){return typeof b=="string"?b=rt(_e(b,E),E):i(b)==="object"&&(b=rt(b,E)),typeof y=="string"?y=rt(_e(y,E),E):i(y)==="object"&&(y=rt(y,E)),b===y}function bs(b,y){return b&&b.toString().replace(!y||!y.iri?u.ESCAPE:p.ESCAPE,M)}function Jt(b,y){return b&&b.toString().replace(!y||!y.iri?u.PCT_ENCODED:p.PCT_ENCODED,Z)}var Ws={scheme:"http",domainHost:!0,parse:function(y,E){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y},serialize:function(y,E){var F=String(y.scheme).toLowerCase()==="https";return(y.port===(F?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}},Zs={scheme:"https",domainHost:Ws.domainHost,parse:Ws.parse,serialize:Ws.serialize};function Bi(b){return typeof b.secure=="boolean"?b.secure:String(b.scheme).toLowerCase()==="wss"}var wa={scheme:"ws",domainHost:!0,parse:function(y,E){var F=y;return F.secure=Bi(F),F.resourceName=(F.path||"/")+(F.query?"?"+F.query:""),F.path=void 0,F.query=void 0,F},serialize:function(y,E){if((y.port===(Bi(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){var F=y.resourceName.split("?"),B=h(F,2),Q=B[0],le=B[1];y.path=Q&&Q!=="/"?Q:void 0,y.query=le,y.resourceName=void 0}return y.fragment=void 0,y}},cc={scheme:"wss",domainHost:wa.domainHost,parse:wa.parse,serialize:wa.serialize},lc={},Sr=!0,uc="[A-Za-z0-9\\-\\.\\_\\~"+(Sr?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Er="[0-9A-Fa-f]",mp=a(a("%[EFef]"+Er+"%"+Er+Er+"%"+Er+Er)+"|"+a("%[89A-Fa-f]"+Er+"%"+Er+Er)+"|"+a("%"+Er+Er)),hp="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",vp="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",gp=s(vp,'[\\"\\\\]'),Ks="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",yp=new RegExp(uc,"g"),_s=new RegExp(mp,"g"),xp=new RegExp(s("[^]",hp,"[\\.]",'[\\"]',gp),"g"),On=new RegExp(s("[^]",uc,Ks),"g"),pc=On;function Hi(b){var y=Z(b);return y.match(yp)?y:b}var Vi={scheme:"mailto",parse:function(y,E){var F=y,B=F.to=F.path?F.path.split(","):[];if(F.path=void 0,F.query){for(var Q=!1,le={},Pe=F.query.split("&"),ve=0,qe=Pe.length;ve<qe;++ve){var Se=Pe[ve].split("=");switch(Se[0]){case"to":for(var De=Se[1].split(","),Ce=0,Le=De.length;Ce<Le;++Ce)B.push(De[Ce]);break;case"subject":F.subject=Jt(Se[1],E);break;case"body":F.body=Jt(Se[1],E);break;default:Q=!0,le[Jt(Se[0],E)]=Jt(Se[1],E);break}}Q&&(F.headers=le)}F.query=void 0;for(var ye=0,pt=B.length;ye<pt;++ye){var He=B[ye].split("@");if(He[0]=Jt(He[0]),E.unicodeSupport)He[1]=Jt(He[1],E).toLowerCase();else try{He[1]=we.toASCII(Jt(He[1],E).toLowerCase())}catch(Rt){F.error=F.error||"Email address's domain name can not be converted to ASCII via punycode: "+Rt}B[ye]=He.join("@")}return F},serialize:function(y,E){var F=y,B=o(y.to);if(B){for(var Q=0,le=B.length;Q<le;++Q){var Pe=String(B[Q]),ve=Pe.lastIndexOf("@"),qe=Pe.slice(0,ve).replace(_s,Hi).replace(_s,n).replace(xp,M),Se=Pe.slice(ve+1);try{Se=E.iri?we.toUnicode(Se):we.toASCII(Jt(Se,E).toLowerCase())}catch(ye){F.error=F.error||"Email address's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+ye}B[Q]=qe+"@"+Se}F.path=B.join(",")}var De=y.headers=y.headers||{};y.subject&&(De.subject=y.subject),y.body&&(De.body=y.body);var Ce=[];for(var Le in De)De[Le]!==lc[Le]&&Ce.push(Le.replace(_s,Hi).replace(_s,n).replace(On,M)+"="+De[Le].replace(_s,Hi).replace(_s,n).replace(pc,M));return Ce.length&&(F.query=Ce.join("&")),F}},bp=/^([^\:]+)\:(.*)/,Gi={scheme:"urn",parse:function(y,E){var F=y.path&&y.path.match(bp),B=y;if(F){var Q=E.scheme||B.scheme||"urn",le=F[1].toLowerCase(),Pe=F[2],ve=Q+":"+(E.nid||le),qe=Te[ve];B.nid=le,B.nss=Pe,B.path=void 0,qe&&(B=qe.parse(B,E))}else B.error=B.error||"URN can not be parsed.";return B},serialize:function(y,E){var F=E.scheme||y.scheme||"urn",B=y.nid,Q=F+":"+(E.nid||B),le=Te[Q];le&&(y=le.serialize(y,E));var Pe=y,ve=y.nss;return Pe.path=(B||E.nid)+":"+ve,Pe}},$=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,A={scheme:"urn:uuid",parse:function(y,E){var F=y;return F.uuid=F.nss,F.nss=void 0,!E.tolerant&&(!F.uuid||!F.uuid.match($))&&(F.error=F.error||"UUID is not valid."),F},serialize:function(y,E){var F=y;return F.nss=(y.uuid||"").toLowerCase(),F}};Te[Ws.scheme]=Ws,Te[Zs.scheme]=Zs,Te[wa.scheme]=wa,Te[cc.scheme]=cc,Te[Vi.scheme]=Vi,Te[Gi.scheme]=Gi,Te[A.scheme]=A,r.SCHEMES=Te,r.pctEncChar=M,r.pctDecChars=Z,r.parse=_e,r.removeDotSegments=ut,r.serialize=rt,r.resolveComponents=ct,r.resolve=jt,r.normalize=Mt,r.equal=qt,r.escapeComponent=bs,r.unescapeComponent=Jt,Object.defineProperty(r,"__esModule",{value:!0})})}),nf=je((t,e)=>{e.exports=function r(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var i,n,o;if(Array.isArray(s)){if(i=s.length,i!=a.length)return!1;for(n=i;n--!==0;)if(!r(s[n],a[n]))return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===a.toString();if(o=Object.keys(s),i=o.length,i!==Object.keys(a).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(a,o[n]))return!1;for(n=i;n--!==0;){var l=o[n];if(!r(s[l],a[l]))return!1}return!0}return s!==s&&a!==a}}),O$=je((t,e)=>{e.exports=function(s){for(var a=0,i=s.length,n=0,o;n<i;)a++,o=s.charCodeAt(n++),o>=55296&&o<=56319&&n<i&&(o=s.charCodeAt(n),(o&64512)==56320&&n++);return a}}),Yn=je((t,e)=>{e.exports={copy:r,checkDataType:s,checkDataTypes:a,coerceToTypes:n,toHash:o,getProperty:u,escapeQuotes:p,equal:nf(),ucs2length:O$(),varOccurences:h,varReplace:d,schemaHasRules:m,schemaHasRulesExcept:f,schemaUnknownRules:v,toQuotedString:g,getPathExpr:x,getPath:w,getData:P,unescapeFragment:N,unescapeJsonPointer:D,escapeFragment:I,escapeJsonPointer:j};function r(k,T){T=T||{};for(var L in k)T[L]=k[L];return T}function s(k,T,L,z){var V=z?" !== ":" === ",H=z?" || ":" && ",G=z?"!":"",K=z?"":"!";switch(k){case"null":return T+V+"null";case"array":return G+"Array.isArray("+T+")";case"object":return"("+G+T+H+"typeof "+T+V+'"object"'+H+K+"Array.isArray("+T+"))";case"integer":return"(typeof "+T+V+'"number"'+H+K+"("+T+" % 1)"+H+T+V+T+(L?H+G+"isFinite("+T+")":"")+")";case"number":return"(typeof "+T+V+'"'+k+'"'+(L?H+G+"isFinite("+T+")":"")+")";default:return"typeof "+T+V+'"'+k+'"'}}function a(k,T,L){switch(k.length){case 1:return s(k[0],T,L,!0);default:var z="",V=o(k);V.array&&V.object&&(z=V.null?"(":"(!"+T+" || ",z+="typeof "+T+' !== "object")',delete V.null,delete V.array,delete V.object),V.number&&delete V.integer;for(var H in V)z+=(z?" && ":"")+s(H,T,L,!0);return z}}var i=o(["string","number","integer","boolean","null"]);function n(k,T){if(Array.isArray(T)){for(var L=[],z=0;z<T.length;z++){var V=T[z];(i[V]||k==="array"&&V==="array")&&(L[L.length]=V)}if(L.length)return L}else{if(i[T])return[T];if(k==="array"&&T==="array")return["array"]}}function o(k){for(var T={},L=0;L<k.length;L++)T[k[L]]=!0;return T}var l=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function u(k){return typeof k=="number"?"["+k+"]":l.test(k)?"."+k:"['"+p(k)+"']"}function p(k){return k.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(k,T){T+="[^0-9]";var L=k.match(new RegExp(T,"g"));return L?L.length:0}function d(k,T,L){return T+="([^0-9])",L=L.replace(/\$/g,"$$$$"),k.replace(new RegExp(T,"g"),L+"$1")}function m(k,T){if(typeof k=="boolean")return!k;for(var L in k)if(T[L])return!0}function f(k,T,L){if(typeof k=="boolean")return!k&&L!="not";for(var z in k)if(z!=L&&T[z])return!0}function v(k,T){if(typeof k!="boolean"){for(var L in k)if(!T[L])return L}}function g(k){return"'"+p(k)+"'"}function x(k,T,L,z){var V=L?"'/' + "+T+(z?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):z?"'[' + "+T+" + ']'":"'[\\'' + "+T+" + '\\']'";return O(k,V)}function w(k,T,L){var z=g(L?"/"+j(T):u(T));return O(k,z)}var C=/^\/(?:[^~]|~0|~1)*$/,R=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(k,T,L){var z,V,H,G;if(k==="")return"rootData";if(k[0]=="/"){if(!C.test(k))throw new Error("Invalid JSON-pointer: "+k);V=k,H="rootData"}else{if(G=k.match(R),!G)throw new Error("Invalid JSON-pointer: "+k);if(z=+G[1],V=G[2],V=="#"){if(z>=T)throw new Error("Cannot access property/index "+z+" levels up, current level is "+T);return L[T-z]}if(z>T)throw new Error("Cannot access data "+z+" levels up, current level is "+T);if(H="data"+(T-z||""),!V)return H}for(var K=H,W=V.split("/"),ee=0;ee<W.length;ee++){var ne=W[ee];ne&&(H+=u(D(ne)),K+=" && "+H)}return K}function O(k,T){return k=='""'?T:(k+" + "+T).replace(/([^\\])' \+ '/g,"$1")}function N(k){return D(decodeURIComponent(k))}function I(k){return encodeURIComponent(j(k))}function j(k){return k.replace(/~/g,"~0").replace(/\//g,"~1")}function D(k){return k.replace(/~1/g,"/").replace(/~0/g,"~")}}),i_=je((t,e)=>{var r=Yn();e.exports=s;function s(a){r.copy(a,this)}}),k$=je((t,e)=>{var r=e.exports=function(i,n,o){typeof n=="function"&&(o=n,n={}),o=n.cb||o;var l=typeof o=="function"?o:o.pre||function(){},c=o.post||function(){};s(n,l,c,i,"",i)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function s(i,n,o,l,c,u,p,h,d,m){if(l&&typeof l=="object"&&!Array.isArray(l)){n(l,c,u,p,h,d,m);for(var f in l){var v=l[f];if(Array.isArray(v)){if(f in r.arrayKeywords)for(var g=0;g<v.length;g++)s(i,n,o,v[g],c+"/"+f+"/"+g,u,c,f,l,g)}else if(f in r.propsKeywords){if(v&&typeof v=="object")for(var x in v)s(i,n,o,v[x],c+"/"+f+"/"+a(x),u,c,f,l,x)}else(f in r.keywords||i.allKeys&&!(f in r.skipKeywords))&&s(i,n,o,v,c+"/"+f,u,c,f,l)}o(l,c,u,p,h,d,m)}}function a(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}}),of=je((t,e)=>{var r=T$(),s=nf(),a=Yn(),i=i_(),n=k$();e.exports=o,o.normalizeId=w,o.fullPath=v,o.url=C,o.ids=R,o.inlineRef=d,o.schema=l;function o(P,O,N){var I=this._refs[N];if(typeof I=="string")if(this._refs[I])I=this._refs[I];else return o.call(this,P,O,I);if(I=I||this._schemas[N],I instanceof i)return d(I.schema,this._opts.inlineRefs)?I.schema:I.validate||this._compile(I);var j=l.call(this,O,N),D,k,T;return j&&(D=j.schema,O=j.root,T=j.baseId),D instanceof i?k=D.validate||P.call(this,D.schema,O,void 0,T):D!==void 0&&(k=d(D,this._opts.inlineRefs)?D:P.call(this,D,O,void 0,T)),k}function l(P,O){var N=r.parse(O),I=g(N),j=v(this._getId(P.schema));if(Object.keys(P.schema).length===0||I!==j){var D=w(I),k=this._refs[D];if(typeof k=="string")return c.call(this,P,k,N);if(k instanceof i)k.validate||this._compile(k),P=k;else if(k=this._schemas[D],k instanceof i){if(k.validate||this._compile(k),D==w(O))return{schema:k,root:P,baseId:j};P=k}else return;if(!P.schema)return;j=v(this._getId(P.schema))}return p.call(this,N,j,P.schema,P)}function c(P,O,N){var I=l.call(this,P,O);if(I){var j=I.schema,D=I.baseId;P=I.root;var k=this._getId(j);return k&&(D=C(D,k)),p.call(this,N,D,j,P)}}var u=a.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function p(P,O,N,I){if(P.fragment=P.fragment||"",P.fragment.slice(0,1)=="/"){for(var j=P.fragment.split("/"),D=1;D<j.length;D++){var k=j[D];if(k){if(k=a.unescapeFragment(k),N=N[k],N===void 0)break;var T;if(!u[k]&&(T=this._getId(N),T&&(O=C(O,T)),N.$ref)){var L=C(O,N.$ref),z=l.call(this,I,L);z&&(N=z.schema,I=z.root,O=z.baseId)}}}if(N!==void 0&&N!==I.schema)return{schema:N,root:I,baseId:O}}}var h=a.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(P,O){if(O===!1)return!1;if(O===void 0||O===!0)return m(P);if(O)return f(P)<=O}function m(P){var O;if(Array.isArray(P)){for(var N=0;N<P.length;N++)if(O=P[N],typeof O=="object"&&!m(O))return!1}else for(var I in P)if(I=="$ref"||(O=P[I],typeof O=="object"&&!m(O)))return!1;return!0}function f(P){var O=0,N;if(Array.isArray(P)){for(var I=0;I<P.length;I++)if(N=P[I],typeof N=="object"&&(O+=f(N)),O==1/0)return 1/0}else for(var j in P){if(j=="$ref")return 1/0;if(h[j])O++;else if(N=P[j],typeof N=="object"&&(O+=f(N)+1),O==1/0)return 1/0}return O}function v(P,O){O!==!1&&(P=w(P));var N=r.parse(P);return g(N)}function g(P){return r.serialize(P).split("#")[0]+"#"}var x=/#\/?$/;function w(P){return P?P.replace(x,""):""}function C(P,O){return O=w(O),r.resolve(P,O)}function R(P){var O=w(this._getId(P)),N={"":O},I={"":v(O,!1)},j={},D=this;return n(P,{allKeys:!0},function(k,T,L,z,V,H,G){if(T!==""){var K=D._getId(k),W=N[z],ee=I[z]+"/"+V;if(G!==void 0&&(ee+="/"+(typeof G=="number"?G:a.escapeFragment(G))),typeof K=="string"){K=W=w(W?r.resolve(W,K):K);var ne=D._refs[K];if(typeof ne=="string"&&(ne=D._refs[ne]),ne&&ne.schema){if(!s(k,ne.schema))throw new Error('id "'+K+'" resolves to more than one schema')}else if(K!=w(ee))if(K[0]=="#"){if(j[K]&&!s(k,j[K]))throw new Error('id "'+K+'" resolves to more than one schema');j[K]=k}else D._refs[K]=ee}N[T]=W,I[T]=ee}}),j}}),cf=je((t,e)=>{var r=of();e.exports={Validation:i(s),MissingRef:i(a)};function s(n){this.message="validation failed",this.errors=n,this.ajv=this.validation=!0}a.message=function(n,o){return"can't resolve reference "+o+" from id "+n};function a(n,o,l){this.message=l||a.message(n,o),this.missingRef=r.url(n,o),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function i(n){return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}}),o_=je((t,e)=>{e.exports=function(r,s){s||(s={}),typeof s=="function"&&(s={cmp:s});var a=typeof s.cycles=="boolean"?s.cycles:!1,i=s.cmp&&function(o){return function(l){return function(c,u){var p={key:c,value:l[c]},h={key:u,value:l[u]};return o(p,h)}}}(s.cmp),n=[];return function o(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var c,u;if(Array.isArray(l)){for(u="[",c=0;c<l.length;c++)c&&(u+=","),u+=o(l[c])||"null";return u+"]"}if(l===null)return"null";if(n.indexOf(l)!==-1){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var p=n.push(l)-1,h=Object.keys(l).sort(i&&i(l));for(u="",c=0;c<h.length;c++){var d=h[c],m=o(l[d]);m&&(u&&(u+=","),u+=JSON.stringify(d)+":"+m)}return n.splice(p,1),"{"+u+"}"}}(r)}}),c_=je((t,e)=>{e.exports=function(s,a,i){var n="",o=s.schema.$async===!0,l=s.util.schemaHasRulesExcept(s.schema,s.RULES.all,"$ref"),c=s.self._getId(s.schema);if(s.opts.strictKeywords){var u=s.util.schemaUnknownRules(s.schema,s.RULES.keywords);if(u){var p="unknown keyword: "+u;if(s.opts.strictKeywords==="log")s.logger.warn(p);else throw new Error(p)}}if(s.isTop&&(n+=" var validate = ",o&&(s.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",c&&(s.opts.sourceCode||s.opts.processCode)&&(n+=" "+("/*# sourceURL="+c+" */")+" ")),typeof s.schema=="boolean"||!(l||s.schema.$ref)){var a="false schema",h=s.level,d=s.dataLevel,m=s.schema[a],f=s.schemaPath+s.util.getProperty(a),v=s.errSchemaPath+"/"+a,O=!s.opts.allErrors,j,g="data"+(d||""),P="valid"+h;if(s.schema===!1){s.isTop?O=!0:n+=" var "+P+" = false; ";var x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"false schema")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),s.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=x.pop(),!s.compositeRule&&O?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else s.isTop?o?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+P+" = true; ";return s.isTop&&(n+=" }; return validate; "),n}if(s.isTop){var C=s.isTop,h=s.level=0,d=s.dataLevel=0,g="data";if(s.rootId=s.resolve.fullPath(s.self._getId(s.root.schema)),s.baseId=s.baseId||s.rootId,delete s.isTop,s.dataPathArr=[""],s.schema.default!==void 0&&s.opts.useDefaults&&s.opts.strictDefaults){var R="default is ignored in the schema root";if(s.opts.strictDefaults==="log")s.logger.warn(R);else throw new Error(R)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var{level:h,dataLevel:d}=s,g="data"+(d||"");if(c&&(s.baseId=s.resolve.url(s.baseId,c)),o&&!s.async)throw new Error("async schema in sync schema");n+=" var errs_"+h+" = errors;"}var P="valid"+h,O=!s.opts.allErrors,N="",I="",j,D=s.schema.type,k=Array.isArray(D);if(D&&s.opts.nullable&&s.schema.nullable===!0&&(k?D.indexOf("null")==-1&&(D=D.concat("null")):D!="null"&&(D=[D,"null"],k=!0)),k&&D.length==1&&(D=D[0],k=!1),s.schema.$ref&&l){if(s.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+s.errSchemaPath+'" (see option extendRefs)');s.opts.extendRefs!==!0&&(l=!1,s.logger.warn('$ref: keywords ignored in schema at path "'+s.errSchemaPath+'"'))}if(s.schema.$comment&&s.opts.$comment&&(n+=" "+s.RULES.all.$comment.code(s,"$comment")),D){if(s.opts.coerceTypes)var T=s.util.coerceToTypes(s.opts.coerceTypes,D);var L=s.RULES.types[D];if(T||k||L===!0||L&&!Ye(L)){var f=s.schemaPath+".type",v=s.errSchemaPath+"/type",f=s.schemaPath+".type",v=s.errSchemaPath+"/type",z=k?"checkDataTypes":"checkDataType";if(n+=" if ("+s.util[z](D,g,s.opts.strictNumbers,!0)+") { ",T){var V="dataType"+h,H="coerced"+h;n+=" var "+V+" = typeof "+g+"; var "+H+" = undefined; ",s.opts.coerceTypes=="array"&&(n+=" if ("+V+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+V+" = typeof "+g+"; if ("+s.util.checkDataType(s.schema.type,g,s.opts.strictNumbers)+") "+H+" = "+g+"; } "),n+=" if ("+H+" !== undefined) ; ";var G=T;if(G)for(var K,W=-1,ee=G.length-1;W<ee;)K=G[W+=1],K=="string"?n+=" else if ("+V+" == 'number' || "+V+" == 'boolean') "+H+" = '' + "+g+"; else if ("+g+" === null) "+H+" = ''; ":K=="number"||K=="integer"?(n+=" else if ("+V+" == 'boolean' || "+g+" === null || ("+V+" == 'string' && "+g+" && "+g+" == +"+g+" ",K=="integer"&&(n+=" && !("+g+" % 1)"),n+=")) "+H+" = +"+g+"; "):K=="boolean"?n+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+H+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+H+" = true; ":K=="null"?n+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+H+" = null; ":s.opts.coerceTypes=="array"&&K=="array"&&(n+=" else if ("+V+" == 'string' || "+V+" == 'number' || "+V+" == 'boolean' || "+g+" == null) "+H+" = ["+g+"]; ");n+=" else {   ";var x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: { type: '",k?n+=""+D.join(","):n+=""+D,n+="' } ",s.opts.messages!==!1&&(n+=" , message: 'should be ",k?n+=""+D.join(","):n+=""+D,n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=x.pop(),!s.compositeRule&&O?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+H+" !== undefined) {  ";var ne=d?"data"+(d-1||""):"parentData",Je=d?s.dataPathArr[d]:"parentDataProperty";n+=" "+g+" = "+H+"; ",d||(n+="if ("+ne+" !== undefined)"),n+=" "+ne+"["+Je+"] = "+H+"; } "}else{var x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: { type: '",k?n+=""+D.join(","):n+=""+D,n+="' } ",s.opts.messages!==!1&&(n+=" , message: 'should be ",k?n+=""+D.join(","):n+=""+D,n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=x.pop(),!s.compositeRule&&O?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(s.schema.$ref&&!l)n+=" "+s.RULES.all.$ref.code(s,"$ref")+" ",O&&(n+=" } if (errors === ",C?n+="0":n+="errs_"+h,n+=") { ",I+="}");else{var ge=s.RULES;if(ge){for(var L,Ee=-1,we=ge.length-1;Ee<we;)if(L=ge[Ee+=1],Ye(L)){if(L.type&&(n+=" if ("+s.util.checkDataType(L.type,g,s.opts.strictNumbers)+") { "),s.opts.useDefaults){if(L.type=="object"&&s.schema.properties){var m=s.schema.properties,Te=Object.keys(m),M=Te;if(M)for(var Z,se=-1,he=M.length-1;se<he;){Z=M[se+=1];var J=m[Z];if(J.default!==void 0){var X=g+s.util.getProperty(Z);if(s.compositeRule){if(s.opts.strictDefaults){var R="default is ignored for: "+X;if(s.opts.strictDefaults==="log")s.logger.warn(R);else throw new Error(R)}}else n+=" if ("+X+" === undefined ",s.opts.useDefaults=="empty"&&(n+=" || "+X+" === null || "+X+" === '' "),n+=" ) "+X+" = ",s.opts.useDefaults=="shared"?n+=" "+s.useDefault(J.default)+" ":n+=" "+JSON.stringify(J.default)+" ",n+="; "}}}else if(L.type=="array"&&Array.isArray(s.schema.items)){var ue=s.schema.items;if(ue){for(var J,W=-1,Ue=ue.length-1;W<Ue;)if(J=ue[W+=1],J.default!==void 0){var X=g+"["+W+"]";if(s.compositeRule){if(s.opts.strictDefaults){var R="default is ignored for: "+X;if(s.opts.strictDefaults==="log")s.logger.warn(R);else throw new Error(R)}}else n+=" if ("+X+" === undefined ",s.opts.useDefaults=="empty"&&(n+=" || "+X+" === null || "+X+" === '' "),n+=" ) "+X+" = ",s.opts.useDefaults=="shared"?n+=" "+s.useDefault(J.default)+" ":n+=" "+JSON.stringify(J.default)+" ",n+="; "}}}}var _e=L.rules;if(_e){for(var it,ot=-1,Oe=_e.length-1;ot<Oe;)if(it=_e[ot+=1],ut(it)){var dt=it.code(s,it.keyword,L.type);dt&&(n+=" "+dt+" ",O&&(N+="}"))}}if(O&&(n+=" "+N+" ",N=""),L.type&&(n+=" } ",D&&D===L.type&&!T)){n+=" else { ";var f=s.schemaPath+".type",v=s.errSchemaPath+"/type",x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(v)+" , params: { type: '",k?n+=""+D.join(","):n+=""+D,n+="' } ",s.opts.messages!==!1&&(n+=" , message: 'should be ",k?n+=""+D.join(","):n+=""+D,n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=x.pop(),!s.compositeRule&&O?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}O&&(n+=" if (errors === ",C?n+="0":n+="errs_"+h,n+=") { ",I+="}")}}}O&&(n+=" "+I+" "),C?(o?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+P+" = errors === errs_"+h+";";function Ye(ct){for(var jt=ct.rules,Mt=0;Mt<jt.length;Mt++)if(ut(jt[Mt]))return!0}function ut(ct){return s.schema[ct.keyword]!==void 0||ct.implements&&rt(ct)}function rt(ct){for(var jt=ct.implements,Mt=0;Mt<jt.length;Mt++)if(s.schema[jt[Mt]]!==void 0)return!0}return n}}),A$=je((t,e)=>{var r=of(),s=Yn(),a=cf(),i=o_(),n=c_(),o=s.ucs2length,l=nf(),c=a.Validation;e.exports=u;function u(w,C,R,P){var O=this,N=this._opts,I=[void 0],j={},D=[],k={},T=[],L={},z=[];C=C||{schema:w,refVal:I,refs:j};var V=p.call(this,w,C,P),H=this._compilations[V.index];if(V.compiling)return H.callValidate=ne;var G=this._formats,K=this.RULES;try{var W=Je(w,C,R,P);H.validate=W;var ee=H.callValidate;return ee&&(ee.schema=W.schema,ee.errors=null,ee.refs=W.refs,ee.refVal=W.refVal,ee.root=W.root,ee.$async=W.$async,N.sourceCode&&(ee.source=W.source)),W}finally{h.call(this,w,C,P)}function ne(){var J=H.validate,X=J.apply(this,arguments);return ne.errors=J.errors,X}function Je(J,X,ue,Ue){var _e=!X||X&&X.schema==J;if(X.schema!=C.schema)return u.call(O,J,X,ue,Ue);var it=J.$async===!0,ot=n({isTop:!0,schema:J,isRoot:_e,baseId:Ue,root:X,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:a.MissingRef,RULES:K,validate:n,util:s,resolve:r,resolveRef:ge,usePattern:Z,useDefault:se,useCustomRule:he,opts:N,formats:G,logger:O.logger,self:O});ot=x(I,v)+x(D,m)+x(T,f)+x(z,g)+ot,N.processCode&&(ot=N.processCode(ot,J));var Oe;try{var dt=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ot);Oe=dt(O,K,G,C,I,T,z,l,o,c),I[0]=Oe}catch(Ye){throw O.logger.error("Error compiling schema, function code:",ot),Ye}return Oe.schema=J,Oe.errors=null,Oe.refs=j,Oe.refVal=I,Oe.root=_e?Oe:X,it&&(Oe.$async=!0),N.sourceCode===!0&&(Oe.source={code:ot,patterns:D,defaults:T}),Oe}function ge(J,X,ue){X=r.url(J,X);var Ue=j[X],_e,it;if(Ue!==void 0)return _e=I[Ue],it="refVal["+Ue+"]",M(_e,it);if(!ue&&C.refs){var ot=C.refs[X];if(ot!==void 0)return _e=C.refVal[ot],it=Ee(X,_e),M(_e,it)}it=Ee(X);var Oe=r.call(O,Je,C,X);if(Oe===void 0){var dt=R&&R[X];dt&&(Oe=r.inlineRef(dt,N.inlineRefs)?dt:u.call(O,dt,C,R,J))}if(Oe===void 0)we(X);else return Te(X,Oe),M(Oe,it)}function Ee(J,X){var ue=I.length;return I[ue]=X,j[J]=ue,"refVal"+ue}function we(J){delete j[J]}function Te(J,X){var ue=j[J];I[ue]=X}function M(J,X){return typeof J=="object"||typeof J=="boolean"?{code:X,schema:J,inline:!0}:{code:X,$async:J&&!!J.$async}}function Z(J){var X=k[J];return X===void 0&&(X=k[J]=D.length,D[X]=J),"pattern"+X}function se(J){switch(typeof J){case"boolean":case"number":return""+J;case"string":return s.toQuotedString(J);case"object":if(J===null)return"null";var X=i(J),ue=L[X];return ue===void 0&&(ue=L[X]=T.length,T[ue]=J),"default"+ue}}function he(J,X,ue,Ue){if(O._opts.validateSchema!==!1){var _e=J.definition.dependencies;if(_e&&!_e.every(function(jt){return Object.prototype.hasOwnProperty.call(ue,jt)}))throw new Error("parent schema must have all required keywords: "+_e.join(","));var it=J.definition.validateSchema;if(it){var ot=it(X);if(!ot){var Oe="keyword schema is invalid: "+O.errorsText(it.errors);if(O._opts.validateSchema=="log")O.logger.error(Oe);else throw new Error(Oe)}}}var dt=J.definition.compile,Ye=J.definition.inline,ut=J.definition.macro,rt;if(dt)rt=dt.call(O,X,ue,Ue);else if(ut)rt=ut.call(O,X,ue,Ue),N.validateSchema!==!1&&O.validateSchema(rt,!0);else if(Ye)rt=Ye.call(O,Ue,J.keyword,X,ue);else if(rt=J.definition.validate,!rt)return;if(rt===void 0)throw new Error('custom keyword "'+J.keyword+'"failed to compile');var ct=z.length;return z[ct]=rt,{code:"customRule"+ct,validate:rt}}}function p(w,C,R){var P=d.call(this,w,C,R);return P>=0?{index:P,compiling:!0}:(P=this._compilations.length,this._compilations[P]={schema:w,root:C,baseId:R},{index:P,compiling:!1})}function h(w,C,R){var P=d.call(this,w,C,R);P>=0&&this._compilations.splice(P,1)}function d(w,C,R){for(var P=0;P<this._compilations.length;P++){var O=this._compilations[P];if(O.schema==w&&O.root==C&&O.baseId==R)return P}return-1}function m(w,C){return"var pattern"+w+" = new RegExp("+s.toQuotedString(C[w])+");"}function f(w){return"var default"+w+" = defaults["+w+"];"}function v(w,C){return C[w]===void 0?"":"var refVal"+w+" = refVal["+w+"];"}function g(w){return"var customRule"+w+" = customRules["+w+"];"}function x(w,C){if(!w.length)return"";for(var R="",P=0;P<w.length;P++)R+=C(P,w);return R}}),I$=je((t,e)=>{var r=e.exports=function(){this._cache={}};r.prototype.put=function(a,i){this._cache[a]=i},r.prototype.get=function(a){return this._cache[a]},r.prototype.del=function(a){delete this._cache[a]},r.prototype.clear=function(){this._cache={}}}),D$=je((t,e)=>{var r=Yn(),s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,n=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,o=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,p=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;e.exports=f;function f(I){return I=I=="full"?"full":"fast",r.copy(f[I])}f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:N,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":m},f.full={date:g,time:x,"date-time":C,uri:P,"uri-reference":l,"uri-template":c,url:u,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:N,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":m};function v(I){return I%4===0&&(I%100!==0||I%400===0)}function g(I){var j=I.match(s);if(!j)return!1;var D=+j[1],k=+j[2],T=+j[3];return k>=1&&k<=12&&T>=1&&T<=(k==2&&v(D)?29:a[k])}function x(I,j){var D=I.match(i);if(!D)return!1;var k=D[1],T=D[2],L=D[3],z=D[5];return(k<=23&&T<=59&&L<=59||k==23&&T==59&&L==60)&&(!j||z)}var w=/t|\s/i;function C(I){var j=I.split(w);return j.length==2&&g(j[0])&&x(j[1],!0)}var R=/\/|:/;function P(I){return R.test(I)&&o.test(I)}var O=/[^\\]\\Z/;function N(I){if(O.test(I))return!1;try{return new RegExp(I),!0}catch{return!1}}}),L$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.errSchemaPath+"/"+a,p=!s.opts.allErrors,h="data"+(l||""),d="valid"+o,m,f;if(c=="#"||c=="#/")s.isRoot?(m=s.async,f="validate"):(m=s.root.schema.$async===!0,f="root.refVal[0]");else{var v=s.resolveRef(s.baseId,c,s.isRoot);if(v===void 0){var g=s.MissingRefError.message(s.baseId,c);if(s.opts.missingRefs=="fail"){s.logger.error(g);var x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(u)+" , params: { ref: '"+s.util.escapeQuotes(c)+"' } ",s.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+s.util.escapeQuotes(c)+"' "),s.opts.verbose&&(n+=" , schema: "+s.util.toQuotedString(c)+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var w=n;n=x.pop(),!s.compositeRule&&p?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p&&(n+=" if (false) { ")}else if(s.opts.missingRefs=="ignore")s.logger.warn(g),p&&(n+=" if (true) { ");else throw new s.MissingRefError(s.baseId,c,g)}else if(v.inline){var C=s.util.copy(s);C.level++;var R="valid"+C.level;C.schema=v.schema,C.schemaPath="",C.errSchemaPath=c;var P=s.validate(C).replace(/validate\.schema/g,v.code);n+=" "+P+" ",p&&(n+=" if ("+R+") { ")}else m=v.$async===!0||s.async&&v.$async!==!1,f=v.code}if(f){var x=x||[];x.push(n),n="",s.opts.passContext?n+=" "+f+".call(this, ":n+=" "+f+"( ",n+=" "+h+", (dataPath || '')",s.errorPath!='""'&&(n+=" + "+s.errorPath);var O=l?"data"+(l-1||""):"parentData",N=l?s.dataPathArr[l]:"parentDataProperty";n+=" , "+O+" , "+N+", rootData)  ";var I=n;if(n=x.pop(),m){if(!s.async)throw new Error("async schema referenced by sync schema");p&&(n+=" var "+d+"; "),n+=" try { await "+I+"; ",p&&(n+=" "+d+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",p&&(n+=" "+d+" = false; "),n+=" } ",p&&(n+=" if ("+d+") { ")}else n+=" if (!"+I+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",p&&(n+=" else { ")}return n}}),N$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.schema[a],l=s.schemaPath+s.util.getProperty(a),c=s.errSchemaPath+"/"+a,u=!s.opts.allErrors,p=s.util.copy(s),h="";p.level++;var d="valid"+p.level,m=p.baseId,f=!0,v=o;if(v)for(var g,x=-1,w=v.length-1;x<w;)g=v[x+=1],(s.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:s.util.schemaHasRules(g,s.RULES.all))&&(f=!1,p.schema=g,p.schemaPath=l+"["+x+"]",p.errSchemaPath=c+"/"+x,n+="  "+s.validate(p)+" ",p.baseId=m,u&&(n+=" if ("+d+") { ",h+="}"));return u&&(f?n+=" if (true) { ":n+=" "+h.slice(0,-1)+" "),n}}),$$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var x="valid"+v.level,w=c.every(function(j){return s.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:s.util.schemaHasRules(j,s.RULES.all)});if(w){var C=v.baseId;n+=" var "+f+" = errors; var "+m+" = false;  ";var R=s.compositeRule;s.compositeRule=v.compositeRule=!0;var P=c;if(P)for(var O,N=-1,I=P.length-1;N<I;)O=P[N+=1],v.schema=O,v.schemaPath=u+"["+N+"]",v.errSchemaPath=p+"/"+N,n+="  "+s.validate(v)+" ",v.baseId=C,n+=" "+m+" = "+m+" || "+x+"; if (!"+m+") { ",g+="}";s.compositeRule=v.compositeRule=R,n+=" "+g+" if (!"+m+") {   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",s.opts.allErrors&&(n+=" } ")}else h&&(n+=" if (true) { ");return n}}),F$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.schema[a],l=s.errSchemaPath+"/"+a,c=!s.opts.allErrors,u=s.util.toQuotedString(o);return s.opts.$comment===!0?n+=" console.log("+u+");":typeof s.opts.$comment=="function"&&(n+=" self._opts.$comment("+u+", "+s.util.toQuotedString(l)+", validate.root.schema);"),n}}),j$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c,f||(n+=" var schema"+o+" = validate.schema"+u+";"),n+="var "+m+" = equal("+d+", schema"+o+"); if (!"+m+") {   ";var g=g||[];g.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { allowedValue: schema"+o+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var x=n;return n=g.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),M$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var x="valid"+v.level,w="i"+o,C=v.dataLevel=s.dataLevel+1,R="data"+C,P=s.baseId,O=s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all);if(n+="var "+f+" = errors;var "+m+";",O){var N=s.compositeRule;s.compositeRule=v.compositeRule=!0,v.schema=c,v.schemaPath=u,v.errSchemaPath=p,n+=" var "+x+" = false; for (var "+w+" = 0; "+w+" < "+d+".length; "+w+"++) { ",v.errorPath=s.util.getPathExpr(s.errorPath,w,s.opts.jsonPointers,!0);var I=d+"["+w+"]";v.dataPathArr[C]=w;var j=s.validate(v);v.baseId=P,s.util.varOccurences(j,R)<2?n+=" "+s.util.varReplace(j,R,I)+" ":n+=" var "+R+" = "+I+"; "+j+" ",n+=" if ("+x+") break; }  ",s.compositeRule=v.compositeRule=N,n+=" "+g+" if (!"+x+") {"}else n+=" if ("+d+".length == 0) {";var D=D||[];D.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var k=n;return n=D.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+k+"]); ":n+=" validate.errors = ["+k+"]; return false; ":n+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",O&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),s.opts.allErrors&&(n+=" } "),n}}),U$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s),v="";f.level++;var g="valid"+f.level,x={},w={},C=s.opts.ownProperties;for(N in c)if(N!="__proto__"){var R=c[N],P=Array.isArray(R)?w:x;P[N]=R}n+="var "+m+" = errors;";var O=s.errorPath;n+="var missing"+o+";";for(var N in w)if(P=w[N],P.length){if(n+=" if ( "+d+s.util.getProperty(N)+" !== undefined ",C&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(N)+"') "),h){n+=" && ( ";var I=P;if(I)for(var j,D=-1,k=I.length-1;D<k;){j=I[D+=1],D&&(n+=" || ");var T=s.util.getProperty(j),L=d+T;n+=" ( ( "+L+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(j)+"') "),n+=") && (missing"+o+" = "+s.util.toQuotedString(s.opts.jsonPointers?j:T)+") ) "}n+=")) {  ";var z="missing"+o,V="' + "+z+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.opts.jsonPointers?s.util.getPathExpr(O,z,!0):O+" + "+z);var H=H||[];H.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { property: '"+s.util.escapeQuotes(N)+"', missingProperty: '"+V+"', depsCount: "+P.length+", deps: '"+s.util.escapeQuotes(P.length==1?P[0]:P.join(", "))+"' } ",s.opts.messages!==!1&&(n+=" , message: 'should have ",P.length==1?n+="property "+s.util.escapeQuotes(P[0]):n+="properties "+s.util.escapeQuotes(P.join(", ")),n+=" when property "+s.util.escapeQuotes(N)+" is present' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var G=n;n=H.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+G+"]); ":n+=" validate.errors = ["+G+"]; return false; ":n+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var K=P;if(K)for(var j,W=-1,ee=K.length-1;W<ee;){j=K[W+=1];var T=s.util.getProperty(j),V=s.util.escapeQuotes(j),L=d+T;s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPath(O,j,s.opts.jsonPointers)),n+=" if ( "+L+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(j)+"') "),n+=") {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { property: '"+s.util.escapeQuotes(N)+"', missingProperty: '"+V+"', depsCount: "+P.length+", deps: '"+s.util.escapeQuotes(P.length==1?P[0]:P.join(", "))+"' } ",s.opts.messages!==!1&&(n+=" , message: 'should have ",P.length==1?n+="property "+s.util.escapeQuotes(P[0]):n+="properties "+s.util.escapeQuotes(P.join(", ")),n+=" when property "+s.util.escapeQuotes(N)+" is present' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",h&&(v+="}",n+=" else { ")}s.errorPath=O;var ne=f.baseId;for(var N in x){var R=x[N];(s.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:s.util.schemaHasRules(R,s.RULES.all))&&(n+=" "+g+" = true; if ( "+d+s.util.getProperty(N)+" !== undefined ",C&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(N)+"') "),n+=") { ",f.schema=R,f.schemaPath=u+s.util.getProperty(N),f.errSchemaPath=p+"/"+s.util.escapeFragment(N),n+="  "+s.validate(f)+" ",f.baseId=ne,n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}"))}return h&&(n+="   "+v+" if ("+m+" == errors) {"),n}}),q$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c;var g="i"+o,x="schema"+o;f||(n+=" var "+x+" = validate.schema"+u+";"),n+="var "+m+";",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=""+m+" = false;for (var "+g+"=0; "+g+"<"+x+".length; "+g+"++) if (equal("+d+", "+x+"["+g+"])) { "+m+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var w=w||[];w.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { allowedValues: schema"+o+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var C=n;return n=w.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),z$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||"");if(s.opts.format===!1)return h&&(n+=" if (true) { "),n;var m=s.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c;var v=s.opts.unknownFormats,g=Array.isArray(v);if(m){var x="format"+o,w="isObject"+o,C="formatType"+o;n+=" var "+x+" = formats["+f+"]; var "+w+" = typeof "+x+" == 'object' && !("+x+" instanceof RegExp) && "+x+".validate; var "+C+" = "+w+" && "+x+".type || 'string'; if ("+w+") { ",s.async&&(n+=" var async"+o+" = "+x+".async; "),n+=" "+x+" = "+x+".validate; } if (  ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (",v!="ignore"&&(n+=" ("+f+" && !"+x+" ",g&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+x+" && "+C+" == '"+i+"' && !(typeof "+x+" == 'function' ? ",s.async?n+=" (async"+o+" ? await "+x+"("+d+") : "+x+"("+d+")) ":n+=" "+x+"("+d+") ",n+=" : "+x+".test("+d+"))))) {"}else{var x=s.formats[c];if(!x){if(v=="ignore")return s.logger.warn('unknown format "'+c+'" ignored in schema at path "'+s.errSchemaPath+'"'),h&&(n+=" if (true) { "),n;if(g&&v.indexOf(c)>=0)return h&&(n+=" if (true) { "),n;throw new Error('unknown format "'+c+'" is used in schema at path "'+s.errSchemaPath+'"')}var w=typeof x=="object"&&!(x instanceof RegExp)&&x.validate,C=w&&x.type||"string";if(w){var R=x.async===!0;x=x.validate}if(C!=i)return h&&(n+=" if (true) { "),n;if(R){if(!s.async)throw new Error("async format in sync schema");var P="formats"+s.util.getProperty(c)+".validate";n+=" if (!(await "+P+"("+d+"))) { "}else{n+=" if (! ";var P="formats"+s.util.getProperty(c);w&&(P+=".validate"),typeof x=="function"?n+=" "+P+"("+d+") ":n+=" "+P+".test("+d+") ",n+=") { "}}var O=O||[];O.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { format:  ",m?n+=""+f:n+=""+s.util.toQuotedString(c),n+="  } ",s.opts.messages!==!1&&(n+=` , message: 'should match format "`,m?n+="' + "+f+" + '":n+=""+s.util.escapeQuotes(c),n+=`"' `),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+s.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var N=n;return n=O.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+N+"]); ":n+=" validate.errors = ["+N+"]; return false; ":n+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),B$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s);v.level++;var g="valid"+v.level,x=s.schema.then,w=s.schema.else,C=x!==void 0&&(s.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:s.util.schemaHasRules(x,s.RULES.all)),R=w!==void 0&&(s.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:s.util.schemaHasRules(w,s.RULES.all)),P=v.baseId;if(C||R){var O;v.createErrors=!1,v.schema=c,v.schemaPath=u,v.errSchemaPath=p,n+=" var "+f+" = errors; var "+m+" = true;  ";var N=s.compositeRule;s.compositeRule=v.compositeRule=!0,n+="  "+s.validate(v)+" ",v.baseId=P,v.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",s.compositeRule=v.compositeRule=N,C?(n+=" if ("+g+") {  ",v.schema=s.schema.then,v.schemaPath=s.schemaPath+".then",v.errSchemaPath=s.errSchemaPath+"/then",n+="  "+s.validate(v)+" ",v.baseId=P,n+=" "+m+" = "+g+"; ",C&&R?(O="ifClause"+o,n+=" var "+O+" = 'then'; "):O="'then'",n+=" } ",R&&(n+=" else { ")):n+=" if (!"+g+") { ",R&&(v.schema=s.schema.else,v.schemaPath=s.schemaPath+".else",v.errSchemaPath=s.errSchemaPath+"/else",n+="  "+s.validate(v)+" ",v.baseId=P,n+=" "+m+" = "+g+"; ",C&&R?(O="ifClause"+o,n+=" var "+O+" = 'else'; "):O="'else'",n+=" } "),n+=" if (!"+m+") {   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { failingKeyword: "+O+" } ",s.opts.messages!==!1&&(n+=` , message: 'should match "' + `+O+` + '" schema' `),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),H$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var x="valid"+v.level,w="i"+o,C=v.dataLevel=s.dataLevel+1,R="data"+C,P=s.baseId;if(n+="var "+f+" = errors;var "+m+";",Array.isArray(c)){var O=s.schema.additionalItems;if(O===!1){n+=" "+m+" = "+d+".length <= "+c.length+"; ";var N=p;p=s.errSchemaPath+"/additionalItems",n+="  if (!"+m+") {   ";var I=I||[];I.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+c.length+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+c.length+" items' "),s.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var j=n;n=I.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",p=N,h&&(g+="}",n+=" else { ")}var D=c;if(D){for(var k,T=-1,L=D.length-1;T<L;)if(k=D[T+=1],s.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:s.util.schemaHasRules(k,s.RULES.all)){n+=" "+x+" = true; if ("+d+".length > "+T+") { ";var z=d+"["+T+"]";v.schema=k,v.schemaPath=u+"["+T+"]",v.errSchemaPath=p+"/"+T,v.errorPath=s.util.getPathExpr(s.errorPath,T,s.opts.jsonPointers,!0),v.dataPathArr[C]=T;var V=s.validate(v);v.baseId=P,s.util.varOccurences(V,R)<2?n+=" "+s.util.varReplace(V,R,z)+" ":n+=" var "+R+" = "+z+"; "+V+" ",n+=" }  ",h&&(n+=" if ("+x+") { ",g+="}")}}if(typeof O=="object"&&(s.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:s.util.schemaHasRules(O,s.RULES.all))){v.schema=O,v.schemaPath=s.schemaPath+".additionalItems",v.errSchemaPath=s.errSchemaPath+"/additionalItems",n+=" "+x+" = true; if ("+d+".length > "+c.length+") {  for (var "+w+" = "+c.length+"; "+w+" < "+d+".length; "+w+"++) { ",v.errorPath=s.util.getPathExpr(s.errorPath,w,s.opts.jsonPointers,!0);var z=d+"["+w+"]";v.dataPathArr[C]=w;var V=s.validate(v);v.baseId=P,s.util.varOccurences(V,R)<2?n+=" "+s.util.varReplace(V,R,z)+" ":n+=" var "+R+" = "+z+"; "+V+" ",h&&(n+=" if (!"+x+") break; "),n+=" } }  ",h&&(n+=" if ("+x+") { ",g+="}")}}else if(s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all)){v.schema=c,v.schemaPath=u,v.errSchemaPath=p,n+="  for (var "+w+" = 0; "+w+" < "+d+".length; "+w+"++) { ",v.errorPath=s.util.getPathExpr(s.errorPath,w,s.opts.jsonPointers,!0);var z=d+"["+w+"]";v.dataPathArr[C]=w;var V=s.validate(v);v.baseId=P,s.util.varOccurences(V,R)<2?n+=" "+s.util.varReplace(V,R,z)+" ":n+=" var "+R+" = "+z+"; "+V+" ",h&&(n+=" if (!"+x+") break; "),n+=" }"}return h&&(n+=" "+g+" if ("+f+" == errors) {"),n}}),Gb=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,P,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c;var v=a=="maximum",g=v?"exclusiveMaximum":"exclusiveMinimum",x=s.schema[g],w=s.opts.$data&&x&&x.$data,C=v?"<":">",R=v?">":"<",P=void 0;if(!(m||typeof c=="number"||c===void 0))throw new Error(a+" must be number");if(!(w||x===void 0||typeof x=="number"||typeof x=="boolean"))throw new Error(g+" must be number or boolean");if(w){var O=s.util.getData(x.$data,l,s.dataPathArr),N="exclusive"+o,I="exclType"+o,j="exclIsNumber"+o,D="op"+o,k="' + "+D+" + '";n+=" var schemaExcl"+o+" = "+O+"; ",O="schemaExcl"+o,n+=" var "+N+"; var "+I+" = typeof "+O+"; if ("+I+" != 'boolean' && "+I+" != 'undefined' && "+I+" != 'number') { ";var P=g,T=T||[];T.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(P||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: '"+g+" should be boolean' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var L=n;n=T.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+I+" == 'number' ? ( ("+N+" = "+f+" === undefined || "+O+" "+C+"= "+f+") ? "+d+" "+R+"= "+O+" : "+d+" "+R+" "+f+" ) : ( ("+N+" = "+O+" === true) ? "+d+" "+R+"= "+f+" : "+d+" "+R+" "+f+" ) || "+d+" !== "+d+") { var op"+o+" = "+N+" ? '"+C+"' : '"+C+"='; ",c===void 0&&(P=g,p=s.errSchemaPath+"/"+g,f=O,m=w)}else{var j=typeof x=="number",k=C;if(j&&m){var D="'"+k+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" ( "+f+" === undefined || "+x+" "+C+"= "+f+" ? "+d+" "+R+"= "+x+" : "+d+" "+R+" "+f+" ) || "+d+" !== "+d+") { "}else{j&&c===void 0?(N=!0,P=g,p=s.errSchemaPath+"/"+g,f=x,R+="="):(j&&(f=Math[v?"min":"max"](x,c)),x===(j?f:!0)?(N=!0,P=g,p=s.errSchemaPath+"/"+g,R+="="):(N=!1,k+="="));var D="'"+k+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+d+" "+R+" "+f+" || "+d+" !== "+d+") { "}}P=P||a;var T=T||[];T.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(P||"_limit")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { comparison: "+D+", limit: "+f+", exclusive: "+N+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be "+k+" ",m?n+="' + "+f:n+=""+f+"'"),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var L=n;return n=T.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),Wb=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,g,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");var v=a=="maxItems"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+d+".length "+v+" "+f+") { ";var g=a,x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have ",a=="maxItems"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" items' "),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var w=n;return n=x.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),Zb=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,g,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");var v=a=="maxLength"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),s.opts.unicode===!1?n+=" "+d+".length ":n+=" ucs2length("+d+") ",n+=" "+v+" "+f+") { ";var g=a,x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT be ",a=="maxLength"?n+="longer":n+="shorter",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" characters' "),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var w=n;return n=x.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),Kb=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,g,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");var v=a=="maxProperties"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" Object.keys("+d+").length "+v+" "+f+") { ";var g=a,x=x||[];x.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { limit: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have ",a=="maxProperties"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" properties' "),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var w=n;return n=x.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),V$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(a+" must be number");n+="var division"+o+";if (",m&&(n+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),n+=" (division"+o+" = "+d+" / "+f+", ",s.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+s.opts.multipleOfPrecision+" ":n+=" division"+o+" !== parseInt(division"+o+") ",n+=" ) ",m&&(n+="  )  "),n+=" ) {   ";var v=v||[];v.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { multipleOf: "+f+" } ",s.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",m?n+="' + "+f:n+=""+f+"'"),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;return n=v.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),G$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s);f.level++;var v="valid"+f.level;if(s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=p,n+=" var "+m+" = errors;  ";var g=s.compositeRule;s.compositeRule=f.compositeRule=!0,f.createErrors=!1;var x;f.opts.allErrors&&(x=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+s.validate(f)+" ",f.createErrors=!0,x&&(f.opts.allErrors=x),s.compositeRule=f.compositeRule=g,n+=" if ("+v+") {   ";var w=w||[];w.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var C=n;n=w.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",s.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: {} ",s.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(n+=" if (false) { ");return n}}),W$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f="errs__"+o,v=s.util.copy(s),g="";v.level++;var x="valid"+v.level,w=v.baseId,C="prevValid"+o,R="passingSchemas"+o;n+="var "+f+" = errors , "+C+" = false , "+m+" = false , "+R+" = null; ";var P=s.compositeRule;s.compositeRule=v.compositeRule=!0;var O=c;if(O)for(var N,I=-1,j=O.length-1;I<j;)N=O[I+=1],(s.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:s.util.schemaHasRules(N,s.RULES.all))?(v.schema=N,v.schemaPath=u+"["+I+"]",v.errSchemaPath=p+"/"+I,n+="  "+s.validate(v)+" ",v.baseId=w):n+=" var "+x+" = true; ",I&&(n+=" if ("+x+" && "+C+") { "+m+" = false; "+R+" = ["+R+", "+I+"]; } else { ",g+="}"),n+=" if ("+x+") { "+m+" = "+C+" = true; "+R+" = "+I+"; }";return s.compositeRule=v.compositeRule=P,n+=""+g+"if (!"+m+") {   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { passingSchemas: "+R+" } ",s.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",s.opts.allErrors&&(n+=" } "),n}}),Z$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m=s.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",f="schema"+o):f=c;var v=m?"(new RegExp("+f+"))":s.usePattern(c);n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" !"+v+".test("+d+") ) {   ";var g=g||[];g.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { pattern:  ",m?n+=""+f:n+=""+s.util.toQuotedString(c),n+="  } ",s.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,m?n+="' + "+f+" + '":n+=""+s.util.escapeQuotes(c),n+=`"' `),s.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+s.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var x=n;return n=g.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),K$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s),v="";f.level++;var g="valid"+f.level,x="key"+o,w="idx"+o,C=f.dataLevel=s.dataLevel+1,R="data"+C,P="dataProperties"+o,O=Object.keys(c||{}).filter(W),N=s.schema.patternProperties||{},I=Object.keys(N).filter(W),j=s.schema.additionalProperties,D=O.length||I.length,k=j===!1,T=typeof j=="object"&&Object.keys(j).length,L=s.opts.removeAdditional,z=k||T||L,V=s.opts.ownProperties,H=s.baseId,G=s.schema.required;if(G&&!(s.opts.$data&&G.$data)&&G.length<s.opts.loopRequired)var K=s.util.toHash(G);function W(Jt){return Jt!=="__proto__"}if(n+="var "+m+" = errors;var "+g+" = true;",V&&(n+=" var "+P+" = undefined;"),z){if(V?n+=" "+P+" = "+P+" || Object.keys("+d+"); for (var "+w+"=0; "+w+"<"+P+".length; "+w+"++) { var "+x+" = "+P+"["+w+"]; ":n+=" for (var "+x+" in "+d+") { ",D){if(n+=" var isAdditional"+o+" = !(false ",O.length)if(O.length>8)n+=" || validate.schema"+u+".hasOwnProperty("+x+") ";else{var ee=O;if(ee)for(var ne,Je=-1,ge=ee.length-1;Je<ge;)ne=ee[Je+=1],n+=" || "+x+" == "+s.util.toQuotedString(ne)+" "}if(I.length){var Ee=I;if(Ee)for(var we,Te=-1,M=Ee.length-1;Te<M;)we=Ee[Te+=1],n+=" || "+s.usePattern(we)+".test("+x+") "}n+=" ); if (isAdditional"+o+") { "}if(L=="all")n+=" delete "+d+"["+x+"]; ";else{var Z=s.errorPath,se="' + "+x+" + '";if(s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPathExpr(s.errorPath,x,s.opts.jsonPointers)),k)if(L)n+=" delete "+d+"["+x+"]; ";else{n+=" "+g+" = false; ";var he=p;p=s.errSchemaPath+"/additionalProperties";var J=J||[];J.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { additionalProperty: '"+se+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),s.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var X=n;n=J.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+X+"]); ":n+=" validate.errors = ["+X+"]; return false; ":n+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p=he,h&&(n+=" break; ")}else if(T)if(L=="failing"){n+=" var "+m+" = errors;  ";var ue=s.compositeRule;s.compositeRule=f.compositeRule=!0,f.schema=j,f.schemaPath=s.schemaPath+".additionalProperties",f.errSchemaPath=s.errSchemaPath+"/additionalProperties",f.errorPath=s.opts._errorDataPathProperty?s.errorPath:s.util.getPathExpr(s.errorPath,x,s.opts.jsonPointers);var Ue=d+"["+x+"]";f.dataPathArr[C]=x;var _e=s.validate(f);f.baseId=H,s.util.varOccurences(_e,R)<2?n+=" "+s.util.varReplace(_e,R,Ue)+" ":n+=" var "+R+" = "+Ue+"; "+_e+" ",n+=" if (!"+g+") { errors = "+m+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+x+"]; }  ",s.compositeRule=f.compositeRule=ue}else{f.schema=j,f.schemaPath=s.schemaPath+".additionalProperties",f.errSchemaPath=s.errSchemaPath+"/additionalProperties",f.errorPath=s.opts._errorDataPathProperty?s.errorPath:s.util.getPathExpr(s.errorPath,x,s.opts.jsonPointers);var Ue=d+"["+x+"]";f.dataPathArr[C]=x;var _e=s.validate(f);f.baseId=H,s.util.varOccurences(_e,R)<2?n+=" "+s.util.varReplace(_e,R,Ue)+" ":n+=" var "+R+" = "+Ue+"; "+_e+" ",h&&(n+=" if (!"+g+") break; ")}s.errorPath=Z}D&&(n+=" } "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}var it=s.opts.useDefaults&&!s.compositeRule;if(O.length){var ot=O;if(ot)for(var ne,Oe=-1,dt=ot.length-1;Oe<dt;){ne=ot[Oe+=1];var Ye=c[ne];if(s.opts.strictKeywords?typeof Ye=="object"&&Object.keys(Ye).length>0||Ye===!1:s.util.schemaHasRules(Ye,s.RULES.all)){var ut=s.util.getProperty(ne),Ue=d+ut,rt=it&&Ye.default!==void 0;f.schema=Ye,f.schemaPath=u+ut,f.errSchemaPath=p+"/"+s.util.escapeFragment(ne),f.errorPath=s.util.getPath(s.errorPath,ne,s.opts.jsonPointers),f.dataPathArr[C]=s.util.toQuotedString(ne);var _e=s.validate(f);if(f.baseId=H,s.util.varOccurences(_e,R)<2){_e=s.util.varReplace(_e,R,Ue);var ct=Ue}else{var ct=R;n+=" var "+R+" = "+Ue+"; "}if(rt)n+=" "+_e+" ";else{if(K&&K[ne]){n+=" if ( "+ct+" === undefined ",V&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(ne)+"') "),n+=") { "+g+" = false; ";var Z=s.errorPath,he=p,jt=s.util.escapeQuotes(ne);s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPath(Z,ne,s.opts.jsonPointers)),p=s.errSchemaPath+"/required";var J=J||[];J.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+jt+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+jt+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var X=n;n=J.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+X+"]); ":n+=" validate.errors = ["+X+"]; return false; ":n+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p=he,s.errorPath=Z,n+=" } else { "}else h?(n+=" if ( "+ct+" === undefined ",V&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(ne)+"') "),n+=") { "+g+" = true; } else { "):(n+=" if ("+ct+" !== undefined ",V&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(ne)+"') "),n+=" ) { ");n+=" "+_e+" } "}}h&&(n+=" if ("+g+") { ",v+="}")}}if(I.length){var Mt=I;if(Mt)for(var we,qt=-1,bs=Mt.length-1;qt<bs;){we=Mt[qt+=1];var Ye=N[we];if(s.opts.strictKeywords?typeof Ye=="object"&&Object.keys(Ye).length>0||Ye===!1:s.util.schemaHasRules(Ye,s.RULES.all)){f.schema=Ye,f.schemaPath=s.schemaPath+".patternProperties"+s.util.getProperty(we),f.errSchemaPath=s.errSchemaPath+"/patternProperties/"+s.util.escapeFragment(we),V?n+=" "+P+" = "+P+" || Object.keys("+d+"); for (var "+w+"=0; "+w+"<"+P+".length; "+w+"++) { var "+x+" = "+P+"["+w+"]; ":n+=" for (var "+x+" in "+d+") { ",n+=" if ("+s.usePattern(we)+".test("+x+")) { ",f.errorPath=s.util.getPathExpr(s.errorPath,x,s.opts.jsonPointers);var Ue=d+"["+x+"]";f.dataPathArr[C]=x;var _e=s.validate(f);f.baseId=H,s.util.varOccurences(_e,R)<2?n+=" "+s.util.varReplace(_e,R,Ue)+" ":n+=" var "+R+" = "+Ue+"; "+_e+" ",h&&(n+=" if (!"+g+") break; "),n+=" } ",h&&(n+=" else "+g+" = true; "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}}}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),J$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="errs__"+o,f=s.util.copy(s),v="";f.level++;var g="valid"+f.level;if(n+="var "+m+" = errors;",s.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:s.util.schemaHasRules(c,s.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=p;var x="key"+o,w="idx"+o,C="i"+o,R="' + "+x+" + '",P=f.dataLevel=s.dataLevel+1,O="data"+P,N="dataProperties"+o,I=s.opts.ownProperties,j=s.baseId;I&&(n+=" var "+N+" = undefined; "),I?n+=" "+N+" = "+N+" || Object.keys("+d+"); for (var "+w+"=0; "+w+"<"+N+".length; "+w+"++) { var "+x+" = "+N+"["+w+"]; ":n+=" for (var "+x+" in "+d+") { ",n+=" var startErrs"+o+" = errors; ";var D=x,k=s.compositeRule;s.compositeRule=f.compositeRule=!0;var T=s.validate(f);f.baseId=j,s.util.varOccurences(T,O)<2?n+=" "+s.util.varReplace(T,O,D)+" ":n+=" var "+O+" = "+D+"; "+T+" ",s.compositeRule=f.compositeRule=k,n+=" if (!"+g+") { for (var "+C+"=startErrs"+o+"; "+C+"<errors; "+C+"++) { vErrors["+C+"].propertyName = "+x+"; }   var err =   ",s.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { propertyName: '"+R+"' } ",s.opts.messages!==!1&&(n+=" , message: 'property name \\'"+R+"\\' is invalid' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),h&&(n+=" break; "),n+=" } }"}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),Q$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c;var g="schema"+o;if(!f)if(c.length<s.opts.loopRequired&&s.schema.properties&&Object.keys(s.schema.properties).length){var x=[],w=c;if(w)for(var C,R=-1,P=w.length-1;R<P;){C=w[R+=1];var O=s.schema.properties[C];O&&(s.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:s.util.schemaHasRules(O,s.RULES.all))||(x[x.length]=C)}}else var x=c;if(f||x.length){var N=s.errorPath,I=f||x.length>=s.opts.loopRequired,j=s.opts.ownProperties;if(h)if(n+=" var missing"+o+"; ",I){f||(n+=" var "+g+" = validate.schema"+u+"; ");var D="i"+o,k="schema"+o+"["+D+"]",T="' + "+k+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPathExpr(N,k,s.opts.jsonPointers)),n+=" var "+m+" = true; ",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=" for (var "+D+" = 0; "+D+" < "+g+".length; "+D+"++) { "+m+" = "+d+"["+g+"["+D+"]] !== undefined ",j&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+g+"["+D+"]) "),n+="; if (!"+m+") break; } ",f&&(n+="  }  "),n+="  if (!"+m+") {   ";var L=L||[];L.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+T+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+T+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var z=n;n=L.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var V=x;if(V)for(var H,D=-1,G=V.length-1;D<G;){H=V[D+=1],D&&(n+=" || ");var K=s.util.getProperty(H),W=d+K;n+=" ( ( "+W+" === undefined ",j&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(H)+"') "),n+=") && (missing"+o+" = "+s.util.toQuotedString(s.opts.jsonPointers?H:K)+") ) "}n+=") {  ";var k="missing"+o,T="' + "+k+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.opts.jsonPointers?s.util.getPathExpr(N,k,!0):N+" + "+k);var L=L||[];L.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+T+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+T+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var z=n;n=L.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(I){f||(n+=" var "+g+" = validate.schema"+u+"; ");var D="i"+o,k="schema"+o+"["+D+"]",T="' + "+k+" + '";s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPathExpr(N,k,s.opts.jsonPointers)),f&&(n+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+T+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+T+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),n+=" for (var "+D+" = 0; "+D+" < "+g+".length; "+D+"++) { if ("+d+"["+g+"["+D+"]] === undefined ",j&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+g+"["+D+"]) "),n+=") {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+T+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+T+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var ee=x;if(ee)for(var H,ne=-1,Je=ee.length-1;ne<Je;){H=ee[ne+=1];var K=s.util.getProperty(H),T=s.util.escapeQuotes(H),W=d+K;s.opts._errorDataPathProperty&&(s.errorPath=s.util.getPath(N,H,s.opts.jsonPointers)),n+=" if ( "+W+" === undefined ",j&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+s.util.escapeQuotes(H)+"') "),n+=") {  var err =   ",s.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { missingProperty: '"+T+"' } ",s.opts.messages!==!1&&(n+=" , message: '",s.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+T+"\\'",n+="' "),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s.errorPath=N}else h&&(n+=" if (true) {");return n}}),X$=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d="data"+(l||""),m="valid"+o,f=s.opts.$data&&c&&c.$data,v;if(f?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",v="schema"+o):v=c,(c||f)&&s.opts.uniqueItems!==!1){f&&(n+=" var "+m+"; if ("+v+" === false || "+v+" === undefined) "+m+" = true; else if (typeof "+v+" != 'boolean') "+m+" = false; else { "),n+=" var i = "+d+".length , "+m+" = true , j; if (i > 1) { ";var g=s.schema.items&&s.schema.items.type,x=Array.isArray(g);if(!g||g=="object"||g=="array"||x&&(g.indexOf("object")>=0||g.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+m+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var w="checkDataType"+(x?"s":"");n+=" if ("+s.util[w](g,"item",s.opts.strictNumbers,!0)+") continue; ",x&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var C=C||[];C.push(n),n="",s.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { i: i, j: j } ",s.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),s.opts.verbose&&(n+=" , schema:  ",f?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+s.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var R=n;n=C.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+R+"]); ":n+=" validate.errors = ["+R+"]; return false; ":n+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),Y$=je((t,e)=>{e.exports={$ref:L$(),allOf:N$(),anyOf:$$(),$comment:F$(),const:j$(),contains:M$(),dependencies:U$(),enum:q$(),format:z$(),if:B$(),items:H$(),maximum:Gb(),minimum:Gb(),maxItems:Wb(),minItems:Wb(),maxLength:Zb(),minLength:Zb(),maxProperties:Kb(),minProperties:Kb(),multipleOf:V$(),not:G$(),oneOf:W$(),pattern:Z$(),properties:K$(),propertyNames:J$(),required:Q$(),uniqueItems:X$(),validate:c_()}}),eF=je((t,e)=>{var r=Y$(),s=Yn().toHash;e.exports=function(){var i=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],o=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],l=["number","integer","string","array","object","boolean","null"];return i.all=s(n),i.types=s(l),i.forEach(function(c){c.rules=c.rules.map(function(u){var p;if(typeof u=="object"){var h=Object.keys(u)[0];p=u[h],u=h,p.forEach(function(m){n.push(m),i.all[m]=!0})}n.push(u);var d=i.all[u]={keyword:u,code:r[u],implements:p};return d}),i.all.$comment={keyword:"$comment",code:r.$comment},c.type&&(i.types[c.type]=c)}),i.keywords=s(n.concat(o)),i.custom={},i}}),tF=je((t,e)=>{var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(s,a){for(var i=0;i<a.length;i++){s=JSON.parse(JSON.stringify(s));var n=a[i].split("/"),o=s,l;for(l=1;l<n.length;l++)o=o[n[l]];for(l=0;l<r.length;l++){var c=r[l],u=o[c];u&&(o[c]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return s}}),rF=je((t,e)=>{var r=cf().MissingRef;e.exports=s;function s(a,i,n){var o=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof i=="function"&&(n=i,i=void 0);var l=c(a).then(function(){var p=o._addSchema(a,void 0,i);return p.validate||u(p)});return n&&l.then(function(p){n(null,p)},n),l;function c(p){var h=p.$schema;return h&&!o.getSchema(h)?s.call(o,{$ref:h},!0):Promise.resolve()}function u(p){try{return o._compile(p)}catch(d){if(d instanceof r)return h(d);throw d}function h(d){var m=d.missingSchema;if(g(m))throw new Error("Schema "+m+" is loaded but "+d.missingRef+" cannot be resolved");var f=o._loadingSchemas[m];return f||(f=o._loadingSchemas[m]=o._opts.loadSchema(m),f.then(v,v)),f.then(function(x){if(!g(m))return c(x).then(function(){g(m)||o.addSchema(x,m,void 0,i)})}).then(function(){return u(p)});function v(){delete o._loadingSchemas[m]}function g(x){return o._refs[x]||o._schemas[x]}}}}}),sF=je((t,e)=>{e.exports=function(s,a,i){var n=" ",o=s.level,l=s.dataLevel,c=s.schema[a],u=s.schemaPath+s.util.getProperty(a),p=s.errSchemaPath+"/"+a,h=!s.opts.allErrors,d,m="data"+(l||""),f="valid"+o,v="errs__"+o,g=s.opts.$data&&c&&c.$data,x;g?(n+=" var schema"+o+" = "+s.util.getData(c.$data,l,s.dataPathArr)+"; ",x="schema"+o):x=c;var w=this,C="definition"+o,R=w.definition,P="",O,N,I,j,D;if(g&&R.$data){D="keywordValidate"+o;var k=R.validateSchema;n+=" var "+C+" = RULES.custom['"+a+"'].definition; var "+D+" = "+C+".validate;"}else{if(j=s.useCustomRule(w,c,s.schema,s),!j)return;x="validate.schema"+u,D=j.code,O=R.compile,N=R.inline,I=R.macro}var T=D+".errors",L="i"+o,z="ruleErr"+o,V=R.async;if(V&&!s.async)throw new Error("async keyword in sync schema");if(N||I||(n+=""+T+" = null;"),n+="var "+v+" = errors;var "+f+";",g&&R.$data&&(P+="}",n+=" if ("+x+" === undefined) { "+f+" = true; } else { ",k&&(P+="}",n+=" "+f+" = "+C+".validateSchema("+x+"); if ("+f+") { ")),N)R.statements?n+=" "+j.validate+" ":n+=" "+f+" = "+j.validate+"; ";else if(I){var H=s.util.copy(s),P="";H.level++;var G="valid"+H.level;H.schema=j.validate,H.schemaPath="";var K=s.compositeRule;s.compositeRule=H.compositeRule=!0;var W=s.validate(H).replace(/validate\.schema/g,D);s.compositeRule=H.compositeRule=K,n+=" "+W}else{var ee=ee||[];ee.push(n),n="",n+="  "+D+".call( ",s.opts.passContext?n+="this":n+="self",O||R.schema===!1?n+=" , "+m+" ":n+=" , "+x+" , "+m+" , validate.schema"+s.schemaPath+" ",n+=" , (dataPath || '')",s.errorPath!='""'&&(n+=" + "+s.errorPath);var ne=l?"data"+(l-1||""):"parentData",Je=l?s.dataPathArr[l]:"parentDataProperty";n+=" , "+ne+" , "+Je+" , rootData )  ";var ge=n;n=ee.pop(),R.errors===!1?(n+=" "+f+" = ",V&&(n+="await "),n+=""+ge+"; "):V?(T="customErrors"+o,n+=" var "+T+" = null; try { "+f+" = await "+ge+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+T+" = e.errors; else throw e; } "):n+=" "+T+" = null; "+f+" = "+ge+"; "}if(R.modifying&&(n+=" if ("+ne+") "+m+" = "+ne+"["+Je+"];"),n+=""+P,R.valid)h&&(n+=" if (true) { ");else{n+=" if ( ",R.valid===void 0?(n+=" !",I?n+=""+G:n+=""+f):n+=" "+!R.valid+" ",n+=") { ",d=w.keyword;var ee=ee||[];ee.push(n),n="";var ee=ee||[];ee.push(n),n="",s.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { keyword: '"+w.keyword+"' } ",s.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var Ee=n;n=ee.pop(),!s.compositeRule&&h?s.async?n+=" throw new ValidationError(["+Ee+"]); ":n+=" validate.errors = ["+Ee+"]; return false; ":n+=" var err = "+Ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var we=n;n=ee.pop(),N?R.errors?R.errors!="full"&&(n+="  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+z+" = vErrors["+L+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+s.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+p+'"; } ',s.opts.verbose&&(n+=" "+z+".schema = "+x+"; "+z+".data = "+m+"; "),n+=" } "):R.errors===!1?n+=" "+we+" ":(n+=" if ("+v+" == errors) { "+we+" } else {  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+z+" = vErrors["+L+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+s.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+p+'"; } ',s.opts.verbose&&(n+=" "+z+".schema = "+x+"; "+z+".data = "+m+"; "),n+=" } } "):I?(n+="   var err =   ",s.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+s.errorPath+" , schemaPath: "+s.util.toQuotedString(p)+" , params: { keyword: '"+w.keyword+"' } ",s.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),s.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+s.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!s.compositeRule&&h&&(s.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):R.errors===!1?n+=" "+we+" ":(n+=" if (Array.isArray("+T+")) { if (vErrors === null) vErrors = "+T+"; else vErrors = vErrors.concat("+T+"); errors = vErrors.length;  for (var "+L+"="+v+"; "+L+"<errors; "+L+"++) { var "+z+" = vErrors["+L+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+s.errorPath+";  "+z+'.schemaPath = "'+p+'";  ',s.opts.verbose&&(n+=" "+z+".schema = "+x+"; "+z+".data = "+m+"; "),n+=" } } else { "+we+" } "),n+=" } ",h&&(n+=" else { ")}return n}}),l_=je((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),aF=je((t,e)=>{var r=l_();e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}}),nF=je((t,e)=>{var r=/^[a-z_$][a-z0-9_$-]*$/i,s=sF(),a=aF();e.exports={add:i,get:n,remove:o,validate:l};function i(c,u){var p=this.RULES;if(p.keywords[c])throw new Error("Keyword "+c+" is already defined");if(!r.test(c))throw new Error("Keyword "+c+" is not a valid identifier");if(u){this.validateKeyword(u,!0);var h=u.type;if(Array.isArray(h))for(var d=0;d<h.length;d++)f(c,h[d],u);else f(c,h,u);var m=u.metaSchema;m&&(u.$data&&this._opts.$data&&(m={anyOf:[m,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),u.validateSchema=this.compile(m,!0))}p.keywords[c]=p.all[c]=!0;function f(v,g,x){for(var w,C=0;C<p.length;C++){var R=p[C];if(R.type==g){w=R;break}}w||(w={type:g,rules:[]},p.push(w));var P={keyword:v,definition:x,custom:!0,code:s,implements:x.implements};w.rules.push(P),p.custom[v]=P}return this}function n(c){var u=this.RULES.custom[c];return u?u.definition:this.RULES.keywords[c]||!1}function o(c){var u=this.RULES;delete u.keywords[c],delete u.all[c],delete u.custom[c];for(var p=0;p<u.length;p++)for(var h=u[p].rules,d=0;d<h.length;d++)if(h[d].keyword==c){h.splice(d,1);break}return this}function l(c,u){l.errors=null;var p=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(p(c))return!0;if(l.errors=p.errors,u)throw new Error("custom keyword definition is invalid: "+this.errorsText(p.errors));return!1}}),iF=je((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),oF=je((t,e)=>{var r=A$(),s=of(),a=I$(),i=i_(),n=o_(),o=D$(),l=eF(),c=tF(),u=Yn();e.exports=v,v.prototype.validate=g,v.prototype.compile=x,v.prototype.addSchema=w,v.prototype.addMetaSchema=C,v.prototype.validateSchema=R,v.prototype.getSchema=O,v.prototype.removeSchema=j,v.prototype.addFormat=K,v.prototype.errorsText=G,v.prototype._addSchema=k,v.prototype._compile=T,v.prototype.compileAsync=rF();var p=nF();v.prototype.addKeyword=p.add,v.prototype.getKeyword=p.get,v.prototype.removeKeyword=p.remove,v.prototype.validateKeyword=p.validate;var h=cf();v.ValidationError=h.Validation,v.MissingRefError=h.MissingRef,v.$dataMetaSchema=c;var d="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],f=["/properties"];function v(M){if(!(this instanceof v))return new v(M);M=this._opts=u.copy(M)||{},we(this),this._schemas={},this._refs={},this._fragments={},this._formats=o(M.format),this._cache=M.cache||new a,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=L(M),M.loopRequired=M.loopRequired||1/0,M.errorDataPath=="property"&&(M._errorDataPathProperty=!0),M.serialize===void 0&&(M.serialize=n),this._metaOpts=Ee(this),M.formats&&ne(this),M.keywords&&Je(this),W(this),typeof M.meta=="object"&&this.addMetaSchema(M.meta),M.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),ee(this)}function g(M,Z){var se;if(typeof M=="string"){if(se=this.getSchema(M),!se)throw new Error('no schema with key or ref "'+M+'"')}else{var he=this._addSchema(M);se=he.validate||this._compile(he)}var J=se(Z);return se.$async!==!0&&(this.errors=se.errors),J}function x(M,Z){var se=this._addSchema(M,void 0,Z);return se.validate||this._compile(se)}function w(M,Z,se,he){if(Array.isArray(M)){for(var J=0;J<M.length;J++)this.addSchema(M[J],void 0,se,he);return this}var X=this._getId(M);if(X!==void 0&&typeof X!="string")throw new Error("schema id must be string");return Z=s.normalizeId(Z||X),ge(this,Z),this._schemas[Z]=this._addSchema(M,se,he,!0),this}function C(M,Z,se){return this.addSchema(M,Z,se,!0),this}function R(M,Z){var se=M.$schema;if(se!==void 0&&typeof se!="string")throw new Error("$schema must be a string");if(se=se||this._opts.defaultMeta||P(this),!se)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var he=this.validate(se,M);if(!he&&Z){var J="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(J);else throw new Error(J)}return he}function P(M){var Z=M._opts.meta;return M._opts.defaultMeta=typeof Z=="object"?M._getId(Z)||Z:M.getSchema(d)?d:void 0,M._opts.defaultMeta}function O(M){var Z=I(this,M);switch(typeof Z){case"object":return Z.validate||this._compile(Z);case"string":return this.getSchema(Z);case"undefined":return N(this,M)}}function N(M,Z){var se=s.schema.call(M,{schema:{}},Z);if(se){var{schema:he,root:J,baseId:X}=se,ue=r.call(M,he,J,void 0,X);return M._fragments[Z]=new i({ref:Z,fragment:!0,schema:he,root:J,baseId:X,validate:ue}),ue}}function I(M,Z){return Z=s.normalizeId(Z),M._schemas[Z]||M._refs[Z]||M._fragments[Z]}function j(M){if(M instanceof RegExp)return D(this,this._schemas,M),D(this,this._refs,M),this;switch(typeof M){case"undefined":return D(this,this._schemas),D(this,this._refs),this._cache.clear(),this;case"string":var Z=I(this,M);return Z&&this._cache.del(Z.cacheKey),delete this._schemas[M],delete this._refs[M],this;case"object":var se=this._opts.serialize,he=se?se(M):M;this._cache.del(he);var J=this._getId(M);J&&(J=s.normalizeId(J),delete this._schemas[J],delete this._refs[J])}return this}function D(M,Z,se){for(var he in Z){var J=Z[he];!J.meta&&(!se||se.test(he))&&(M._cache.del(J.cacheKey),delete Z[he])}}function k(M,Z,se,he){if(typeof M!="object"&&typeof M!="boolean")throw new Error("schema should be object or boolean");var J=this._opts.serialize,X=J?J(M):M,ue=this._cache.get(X);if(ue)return ue;he=he||this._opts.addUsedSchema!==!1;var Ue=s.normalizeId(this._getId(M));Ue&&he&&ge(this,Ue);var _e=this._opts.validateSchema!==!1&&!Z,it;_e&&!(it=Ue&&Ue==s.normalizeId(M.$schema))&&this.validateSchema(M,!0);var ot=s.ids.call(this,M),Oe=new i({id:Ue,schema:M,localRefs:ot,cacheKey:X,meta:se});return Ue[0]!="#"&&he&&(this._refs[Ue]=Oe),this._cache.put(X,Oe),_e&&it&&this.validateSchema(M,!0),Oe}function T(M,Z){if(M.compiling)return M.validate=J,J.schema=M.schema,J.errors=null,J.root=Z||J,M.schema.$async===!0&&(J.$async=!0),J;M.compiling=!0;var se;M.meta&&(se=this._opts,this._opts=this._metaOpts);var he;try{he=r.call(this,M.schema,Z,M.localRefs)}catch(X){throw delete M.validate,X}finally{M.compiling=!1,M.meta&&(this._opts=se)}return M.validate=he,M.refs=he.refs,M.refVal=he.refVal,M.root=he.root,he;function J(){var X=M.validate,ue=X.apply(this,arguments);return J.errors=X.errors,ue}}function L(M){switch(M.schemaId){case"auto":return H;case"id":return z;default:return V}}function z(M){return M.$id&&this.logger.warn("schema $id ignored",M.$id),M.id}function V(M){return M.id&&this.logger.warn("schema id ignored",M.id),M.$id}function H(M){if(M.$id&&M.id&&M.$id!=M.id)throw new Error("schema $id is different from id");return M.$id||M.id}function G(M,Z){if(M=M||this.errors,!M)return"No errors";Z=Z||{};for(var se=Z.separator===void 0?", ":Z.separator,he=Z.dataVar===void 0?"data":Z.dataVar,J="",X=0;X<M.length;X++){var ue=M[X];ue&&(J+=he+ue.dataPath+" "+ue.message+se)}return J.slice(0,-se.length)}function K(M,Z){return typeof Z=="string"&&(Z=new RegExp(Z)),this._formats[M]=Z,this}function W(M){var Z;if(M._opts.$data&&(Z=iF(),M.addMetaSchema(Z,Z.$id,!0)),M._opts.meta!==!1){var se=l_();M._opts.$data&&(se=c(se,f)),M.addMetaSchema(se,d,!0),M._refs["http://json-schema.org/schema"]=d}}function ee(M){var Z=M._opts.schemas;if(Z)if(Array.isArray(Z))M.addSchema(Z);else for(var se in Z)M.addSchema(Z[se],se)}function ne(M){for(var Z in M._opts.formats){var se=M._opts.formats[Z];M.addFormat(Z,se)}}function Je(M){for(var Z in M._opts.keywords){var se=M._opts.keywords[Z];M.addKeyword(Z,se)}}function ge(M,Z){if(M._schemas[Z]||M._refs[Z])throw new Error('schema with key or id "'+Z+'" already exists')}function Ee(M){for(var Z=u.copy(M._opts),se=0;se<m.length;se++)delete Z[m[se]];return Z}function we(M){var Z=M._opts.logger;if(Z===!1)M.logger={log:Te,warn:Te,error:Te};else{if(Z===void 0&&(Z=console),!(typeof Z=="object"&&Z.log&&Z.warn&&Z.error))throw new Error("logger must implement log, warn and error methods");M.logger=Z}}function Te(){}}),cF=50;function d_(t=cF){let e=new AbortController;return(0,p_.setMaxListeners)(t,e.signal),e}var lF={cwd(){return process.cwd()},existsSync(t){return Ne.existsSync(t)},async stat(t){return(0,h_.stat)(t)},statSync(t){return Ne.statSync(t)},readFileSync(t,e){return Ne.readFileSync(t,{encoding:e.encoding})},readFileBytesSync(t){return Ne.readFileSync(t)},readSync(t,e){let r;try{r=Ne.openSync(t,"r");let s=Buffer.alloc(e.length),a=Ne.readSync(r,s,0,e.length,0);return{buffer:s,bytesRead:a}}finally{r&&Ne.closeSync(r)}},writeFileSync(t,e,r){if(!r.flush){let a={encoding:r.encoding};r.mode!==void 0&&(a.mode=r.mode),Ne.writeFileSync(t,e,a);return}let s;try{let a=r.mode!==void 0?r.mode:void 0;s=Ne.openSync(t,"w",a),Ne.writeFileSync(s,e,{encoding:r.encoding}),Ne.fsyncSync(s)}finally{s&&Ne.closeSync(s)}},appendFileSync(t,e){Ne.appendFileSync(t,e)},copyFileSync(t,e){Ne.copyFileSync(t,e)},unlinkSync(t){Ne.unlinkSync(t)},renameSync(t,e){Ne.renameSync(t,e)},linkSync(t,e){Ne.linkSync(t,e)},symlinkSync(t,e){Ne.symlinkSync(t,e)},readlinkSync(t){return Ne.readlinkSync(t)},realpathSync(t){return Ne.realpathSync(t)},mkdirSync(t){Ne.existsSync(t)||Ne.mkdirSync(t,{recursive:!0,mode:448})},readdirSync(t){return Ne.readdirSync(t,{withFileTypes:!0})},readdirStringSync(t){return Ne.readdirSync(t)},isDirEmptySync(t){return this.readdirSync(t).length===0},rmdirSync(t){Ne.rmdirSync(t)},rmSync(t,e){Ne.rmSync(t,e)},createWriteStream(t){return Ne.createWriteStream(t)}},uF=lF;function As(){return uF}var Oa=class extends Error{};function v_(){return process.versions.bun!==void 0}var Jd=class{options;child;childStdin;childStdout;ready=!1;abortController;exitError;exitListeners=[];processExitHandler;abortHandler;constructor(e){this.options=e,this.abortController=e.abortController||d_(),this.initialize()}initialize(){try{let{additionalDirectories:e=[],agents:r,cwd:s,executable:a=v_()?"bun":"node",executableArgs:i=[],extraArgs:n={},pathToClaudeCodeExecutable:o,env:l={...process.env},stderr:c,customSystemPrompt:u,appendSystemPrompt:p,maxThinkingTokens:h,maxTurns:d,model:m,fallbackModel:f,permissionMode:v,allowDangerouslySkipPermissions:g,permissionPromptToolName:x,continueConversation:w,resume:C,settingSources:R,allowedTools:P=[],disallowedTools:O=[],mcpServers:N,strictMcpConfig:I,canUseTool:j,includePartialMessages:D,plugins:k}=this.options,T=["--output-format","stream-json","--verbose","--input-format","stream-json"];if(typeof u=="string"&&T.push("--system-prompt",u),p&&T.push("--append-system-prompt",p),h!==void 0&&T.push("--max-thinking-tokens",h.toString()),d&&T.push("--max-turns",d.toString()),m&&T.push("--model",m),l.DEBUG&&T.push("--debug-to-stderr"),j){if(x)throw new Error("canUseTool callback cannot be used with permissionPromptToolName. Please use one or the other.");T.push("--permission-prompt-tool","stdio")}else x&&T.push("--permission-prompt-tool",x);if(w&&T.push("--continue"),C&&T.push("--resume",C),P.length>0&&T.push("--allowedTools",P.join(",")),O.length>0&&T.push("--disallowedTools",O.join(",")),N&&Object.keys(N).length>0&&T.push("--mcp-config",JSON.stringify({mcpServers:N})),r&&Object.keys(r).length>0&&T.push("--agents",JSON.stringify(r)),R&&T.push("--setting-sources",R.join(",")),I&&T.push("--strict-mcp-config"),v&&T.push("--permission-mode",v),g&&T.push("--allow-dangerously-skip-permissions"),f){if(m&&f===m)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");T.push("--fallback-model",f)}D&&T.push("--include-partial-messages");for(let W of e)T.push("--add-dir",W);if(k&&k.length>0)for(let W of k)if(W.type==="local")T.push("--plugin-dir",W.path);else throw new Error(`Unsupported plugin type: ${W.type}`);this.options.forkSession&&T.push("--fork-session"),this.options.resumeSessionAt&&T.push("--resume-session-at",this.options.resumeSessionAt);for(let[W,ee]of Object.entries(n))ee===null?T.push(`--${W}`):T.push(`--${W}`,ee);if(l.CLAUDE_CODE_ENTRYPOINT||(l.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!As().existsSync(o)){let W=Jb(o)?`Claude Code native binary not found at ${o}. Please ensure Claude Code is installed via native installer or specify a valid path with options.pathToClaudeCodeExecutable.`:`Claude Code executable not found at ${o}. Is options.pathToClaudeCodeExecutable set?`;throw new ReferenceError(W)}let z=Jb(o),V=z?o:a,H=z?[...i,...T]:[...i,o,...T];this.logForDebugging(z?`Spawning Claude Code native binary: ${V} ${H.join(" ")}`:`Spawning Claude Code process: ${V} ${H.join(" ")}`);let G=l.DEBUG||c?"pipe":"ignore";this.child=(0,f_.spawn)(V,H,{cwd:s,stdio:["pipe","pipe",G],signal:this.abortController.signal,env:l}),this.childStdin=this.child.stdin,this.childStdout=this.child.stdout,(l.DEBUG||c)&&this.child.stderr.on("data",W=>{this.logForDebugging(W.toString())});let K=()=>{this.child&&!this.child.killed&&this.child.kill("SIGTERM")};this.processExitHandler=K,this.abortHandler=K,process.on("exit",this.processExitHandler),this.abortController.signal.addEventListener("abort",this.abortHandler),this.child.on("error",W=>{this.ready=!1,this.abortController.signal.aborted?this.exitError=new Oa("Claude Code process aborted by user"):(this.exitError=new Error(`Failed to spawn Claude Code process: ${W.message}`),this.logForDebugging(this.exitError.message))}),this.child.on("close",(W,ee)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new Oa("Claude Code process aborted by user");else{let ne=this.getProcessExitError(W,ee);ne&&(this.exitError=ne,this.logForDebugging(ne.message))}}),this.ready=!0}catch(e){throw this.ready=!1,e}}getProcessExitError(e,r){if(e!==0&&e!==null)return new Error(`Claude Code process exited with code ${e}`);if(r)return new Error(`Claude Code process terminated by signal ${r}`)}logForDebugging(e){process.env.DEBUG&&process.stderr.write(`${e}
`),this.options.stderr&&this.options.stderr(e)}write(e){if(this.abortController.signal.aborted)throw new Oa("Operation aborted");if(!this.ready||!this.childStdin)throw new Error("ProcessTransport is not ready for writing");if(this.child?.killed||this.child?.exitCode!==null)throw new Error("Cannot write to terminated process");if(this.exitError)throw new Error(`Cannot write to process that exited with error: ${this.exitError.message}`);process.env.DEBUG_SDK&&process.stderr.write(`[ProcessTransport] Writing to stdin: ${e.substring(0,100)}
`);try{!this.childStdin.write(e)&&process.env.DEBUG_SDK&&console.warn("[ProcessTransport] Write buffer full, data queued")}catch(r){throw this.ready=!1,new Error(`Failed to write to process stdin: ${r.message}`)}}close(){this.childStdin&&(this.childStdin.end(),this.childStdin=void 0),this.processExitHandler&&(process.off("exit",this.processExitHandler),this.processExitHandler=void 0),this.abortHandler&&(this.abortController.signal.removeEventListener("abort",this.abortHandler),this.abortHandler=void 0);for(let{handler:e}of this.exitListeners)this.child?.off("exit",e);this.exitListeners=[],this.child&&!this.child.killed&&(this.child.kill("SIGTERM"),setTimeout(()=>{this.child&&!this.child.killed&&this.child.kill("SIGKILL")},5e3)),this.ready=!1}isReady(){return this.ready}async*readMessages(){if(!this.childStdout)throw new Error("ProcessTransport output stream not available");let e=(0,m_.createInterface)({input:this.childStdout});try{for await(let r of e)r.trim()&&(yield JSON.parse(r));await this.waitForExit()}catch(r){throw r}finally{e.close()}}endInput(){this.childStdin&&this.childStdin.end()}getInputStream(){return this.childStdin}onExit(e){if(!this.child)return()=>{};let r=(s,a)=>{let i=this.getProcessExitError(s,a);e(i)};return this.child.on("exit",r),this.exitListeners.push({callback:e,handler:r}),()=>{this.child&&this.child.off("exit",r);let s=this.exitListeners.findIndex(a=>a.handler===r);s!==-1&&this.exitListeners.splice(s,1)}}async waitForExit(){if(!this.child){if(this.exitError)throw this.exitError;return}if(this.child.exitCode!==null||this.child.killed){if(this.exitError)throw this.exitError;return}return new Promise((e,r)=>{let s=(i,n)=>{if(this.abortController.signal.aborted){r(new Oa("Operation aborted"));return}let o=this.getProcessExitError(i,n);o?r(o):e()};this.child.once("exit",s);let a=i=>{this.child.off("exit",s),r(i)};this.child.once("error",a),this.child.once("exit",()=>{this.child.off("error",a)})})}};function Jb(t){return![".js",".mjs",".tsx",".ts",".jsx"].some(r=>t.endsWith(r))}var Qd=class{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(e){this.returned=e}[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}},Xd=class{sendMcpMessage;isClosed=!1;constructor(e){this.sendMcpMessage=e}onclose;onerror;onmessage;async start(){}async send(e){if(this.isClosed)throw new Error("Transport is closed");this.sendMcpMessage(e)}async close(){this.isClosed||(this.isClosed=!0,this.onclose?.())}},pF=typeof global=="object"&&global&&global.Object===Object&&global,dF=pF,fF=typeof self=="object"&&self&&self.Object===Object&&self,mF=dF||fF||Function("return this")(),lf=mF,hF=lf.Symbol,rl=hF,g_=Object.prototype,vF=g_.hasOwnProperty,gF=g_.toString,uo=rl?rl.toStringTag:void 0;function yF(t){var e=vF.call(t,uo),r=t[uo];try{t[uo]=void 0;var s=!0}catch{}var a=gF.call(t);return s&&(e?t[uo]=r:delete t[uo]),a}var xF=yF,bF=Object.prototype,_F=bF.toString;function wF(t){return _F.call(t)}var SF=wF,EF="[object Null]",PF="[object Undefined]",Qb=rl?rl.toStringTag:void 0;function CF(t){return t==null?t===void 0?PF:EF:Qb&&Qb in Object(t)?xF(t):SF(t)}var RF=CF;function TF(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var y_=TF,OF="[object AsyncFunction]",kF="[object Function]",AF="[object GeneratorFunction]",IF="[object Proxy]";function DF(t){if(!y_(t))return!1;var e=RF(t);return e==kF||e==AF||e==OF||e==IF}var LF=DF,NF=lf["__core-js_shared__"],Gd=NF,Xb=function(){var t=/[^.]+$/.exec(Gd&&Gd.keys&&Gd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $F(t){return!!Xb&&Xb in t}var FF=$F,jF=Function.prototype,MF=jF.toString;function UF(t){if(t!=null){try{return MF.call(t)}catch{}try{return t+""}catch{}}return""}var qF=UF,zF=/[\\^$.*+?()[\]{}|]/g,BF=/^\[object .+?Constructor\]$/,HF=Function.prototype,VF=Object.prototype,GF=HF.toString,WF=VF.hasOwnProperty,ZF=RegExp("^"+GF.call(WF).replace(zF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KF(t){if(!y_(t)||FF(t))return!1;var e=LF(t)?ZF:BF;return e.test(qF(t))}var JF=KF;function QF(t,e){return t?.[e]}var XF=QF;function YF(t,e){var r=XF(t,e);return JF(r)?r:void 0}var x_=YF;function ej(t,e){return t===e||t!==t&&e!==e}var tj=ej,rj=x_(Object,"create"),po=rj;function sj(){this.__data__=po?po(null):{},this.size=0}var aj=sj;function nj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ij=nj,oj="__lodash_hash_undefined__",cj=Object.prototype,lj=cj.hasOwnProperty;function uj(t){var e=this.__data__;if(po){var r=e[t];return r===oj?void 0:r}return lj.call(e,t)?e[t]:void 0}var pj=uj,dj=Object.prototype,fj=dj.hasOwnProperty;function mj(t){var e=this.__data__;return po?e[t]!==void 0:fj.call(e,t)}var hj=mj,vj="__lodash_hash_undefined__";function gj(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=po&&e===void 0?vj:e,this}var yj=gj;function ei(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}ei.prototype.clear=aj;ei.prototype.delete=ij;ei.prototype.get=pj;ei.prototype.has=hj;ei.prototype.set=yj;var Yb=ei;function xj(){this.__data__=[],this.size=0}var bj=xj;function _j(t,e){for(var r=t.length;r--;)if(tj(t[r][0],e))return r;return-1}var ll=_j,wj=Array.prototype,Sj=wj.splice;function Ej(t){var e=this.__data__,r=ll(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():Sj.call(e,r,1),--this.size,!0}var Pj=Ej;function Cj(t){var e=this.__data__,r=ll(e,t);return r<0?void 0:e[r][1]}var Rj=Cj;function Tj(t){return ll(this.__data__,t)>-1}var Oj=Tj;function kj(t,e){var r=this.__data__,s=ll(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}var Aj=kj;function ti(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}ti.prototype.clear=bj;ti.prototype.delete=Pj;ti.prototype.get=Rj;ti.prototype.has=Oj;ti.prototype.set=Aj;var Ij=ti,Dj=x_(lf,"Map"),Lj=Dj;function Nj(){this.size=0,this.__data__={hash:new Yb,map:new(Lj||Ij),string:new Yb}}var $j=Nj;function Fj(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var jj=Fj;function Mj(t,e){var r=t.__data__;return jj(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ul=Mj;function Uj(t){var e=ul(this,t).delete(t);return this.size-=e?1:0,e}var qj=Uj;function zj(t){return ul(this,t).get(t)}var Bj=zj;function Hj(t){return ul(this,t).has(t)}var Vj=Hj;function Gj(t,e){var r=ul(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}var Wj=Gj;function ri(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}ri.prototype.clear=$j;ri.prototype.delete=qj;ri.prototype.get=Bj;ri.prototype.has=Vj;ri.prototype.set=Wj;var b_=ri,Zj="Expected a function";function uf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Zj);var r=function(){var s=arguments,a=e?e.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var n=t.apply(this,s);return r.cache=i.set(a,n)||i,n};return r.cache=new(uf.Cache||b_),r}uf.Cache=b_;var vo=uf,e_=2e3;function Kj(t){for(let e=0;e<t.length;e+=e_)process.stderr.write(t.substring(e,e+e_))}var Jj=vo(t=>{if(!t||t.trim()==="")return null;let e=t.split(",").map(i=>i.trim()).filter(Boolean);if(e.length===0)return null;let r=e.some(i=>i.startsWith("!")),s=e.some(i=>!i.startsWith("!"));if(r&&s)return null;let a=e.map(i=>i.replace(/^!/,"").toLowerCase());return{include:r?[]:a,exclude:r?a:[],isExclusive:r}});function Qj(t){let e=[],r=t.match(/^MCP server ["']([^"']+)["']/);if(r&&r[1])e.push("mcp"),e.push(r[1].toLowerCase());else{let i=t.match(/^([^:[]+):/);i&&i[1]&&e.push(i[1].trim().toLowerCase())}let s=t.match(/^\[([^\]]+)]/);s&&s[1]&&e.push(s[1].trim().toLowerCase()),t.toLowerCase().includes("statsig event:")&&e.push("statsig");let a=t.match(/:\s*([^:]+?)(?:\s+(?:type|mode|status|event))?:/);if(a&&a[1]){let i=a[1].trim().toLowerCase();i.length<30&&!i.includes(" ")&&e.push(i)}return Array.from(new Set(e))}function Xj(t,e){return e?t.length===0?!1:e.isExclusive?!t.some(r=>e.exclude.includes(r)):t.some(r=>e.include.includes(r)):!0}function Yj(t,e){if(!e)return!0;let r=Qj(t);return Xj(r,e)}function eM(){return process.env.CLAUDE_CONFIG_DIR??(0,__.join)((0,w_.homedir)(),".claude")}function t_(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}var tM={name:"BASH_MAX_OUTPUT_LENGTH",default:3e4,validate:t=>{if(!t)return{effective:3e4,status:"valid"};let s=parseInt(t,10);return isNaN(s)||s<=0?{effective:3e4,status:"invalid",message:`Invalid value "${t}" (using default: 30000)`}:s>15e4?{effective:15e4,status:"capped",message:`Capped from ${s} to 150000`}:{effective:s,status:"valid"}}},rM={name:"CLAUDE_CODE_MAX_OUTPUT_TOKENS",default:32e3,validate:t=>{if(!t)return{effective:32e3,status:"valid"};let e=parseInt(t,10);return isNaN(e)||e<=0?{effective:32e3,status:"invalid",message:`Invalid value "${t}" (using default: 32000)`}:e>32e3?{effective:32e3,status:"capped",message:`Capped from ${e} to 32000`}:{effective:e,status:"valid"}}};function sM(){let t=(0,E_.realpathSync)((0,S_.cwd)());return{originalCwd:t,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:t,modelUsage:{},mainLoopModelOverride:void 0,maxRateLimitFallbackActive:!1,initialMainLoopModel:null,modelStrings:null,isNonInteractiveSession:!0,isInteractive:!1,clientType:"cli",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:["userSettings","projectSettings","localSettings","flagSettings","policySettings"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:(0,P_.randomUUID)(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[tM,rM],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[]}}var aM=sM();function nM(){return aM.sessionId}var PK=vo(()=>t_(process.env.DEBUG)||t_(process.env.DEBUG_SDK)||process.argv.includes("--debug")||process.argv.includes("-d")||C_()||process.argv.some(t=>t.startsWith("--debug="))),iM=vo(()=>{let t=process.argv.find(r=>r.startsWith("--debug="));if(!t)return null;let e=t.substring(8);return Jj(e)}),C_=vo(()=>process.argv.includes("--debug-to-stderr")||process.argv.includes("-d2e"));function oM(t){if(typeof process>"u"||typeof process.versions>"u"||typeof process.versions.node>"u")return!1;let e=iM();return Yj(t,e)}var cM=!1;function Ts(t,{level:e}={level:"debug"}){if(!oM(t))return;cM&&t.includes(`
`)&&(t=JSON.stringify(t));let r=`[${e.toUpperCase()}] ${t.trim()}
`;if(C_()){Kj(r);return}As().existsSync((0,ka.dirname)(tl()))||As().mkdirSync((0,ka.dirname)(tl())),As().appendFileSync(tl(),r),lM()}function tl(){return process.env.CLAUDE_CODE_DEBUG_LOGS_DIR??(0,ka.join)(eM(),"debug",`${nM()}.txt`)}var lM=vo(()=>{try{let t=tl(),e=(0,ka.dirname)(t),r=(0,ka.join)(e,"latest");if(As().existsSync(e)||As().mkdirSync(e),As().existsSync(r))try{As().unlinkSync(r)}catch{}As().symlinkSync(t,r)}catch{}}),Yd=class{transport;isSingleUserTurn;canUseTool;hooks;abortController;pendingControlResponses=new Map;cleanupPerformed=!1;sdkMessages;inputStream=new Qd;initialization;cancelControllers=new Map;hookCallbacks=new Map;nextCallbackId=0;sdkMcpTransports=new Map;pendingMcpResponses=new Map;firstResultReceivedPromise;firstResultReceivedResolve;streamCloseTimeout;constructor(e,r,s,a,i,n=new Map){this.transport=e,this.isSingleUserTurn=r,this.canUseTool=s,this.hooks=a,this.abortController=i,this.streamCloseTimeout=parseInt(process.env.CLAUDE_CODE_STREAM_CLOSE_TIMEOUT||"")||6e4;for(let[o,l]of n){let c=new Xd(u=>this.sendMcpServerMessageToCli(o,u));this.sdkMcpTransports.set(o,c),l.connect(c)}this.sdkMessages=this.readSdkMessages(),this.firstResultReceivedPromise=new Promise(o=>{this.firstResultReceivedResolve=o}),this.readMessages(),this.initialization=this.initialize(),this.initialization.catch(()=>{})}setError(e){this.inputStream.error(e)}cleanup(e){if(!this.cleanupPerformed){this.cleanupPerformed=!0;try{this.transport.close(),this.pendingControlResponses.clear(),this.pendingMcpResponses.clear(),e?this.inputStream.error(e):this.inputStream.done()}catch{}}}next(...[e]){return this.sdkMessages.next(e)}return(e){return this.sdkMessages.return(e)}throw(e){return this.sdkMessages.throw(e)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){try{for await(let e of this.transport.readMessages()){if(e.type==="control_response"){let r=this.pendingControlResponses.get(e.response.request_id);r&&r(e.response);continue}else if(e.type==="control_request"){this.handleControlRequest(e);continue}else if(e.type==="control_cancel_request"){this.handleControlCancelRequest(e);continue}else if(e.type==="keep_alive")continue;e.type==="result"&&(this.firstResultReceivedResolve&&this.firstResultReceivedResolve(),this.isSingleUserTurn&&this.transport.endInput()),this.inputStream.enqueue(e)}this.inputStream.done(),this.cleanup()}catch(e){this.inputStream.error(e),this.cleanup(e)}}async handleControlRequest(e){let r=new AbortController;this.cancelControllers.set(e.request_id,r);try{let s=await this.processControlRequest(e,r.signal),a={type:"control_response",response:{subtype:"success",request_id:e.request_id,response:s}};await Promise.resolve(this.transport.write(JSON.stringify(a)+`
`))}catch(s){let a={type:"control_response",response:{subtype:"error",request_id:e.request_id,error:s.message||String(s)}};await Promise.resolve(this.transport.write(JSON.stringify(a)+`
`))}finally{this.cancelControllers.delete(e.request_id)}}handleControlCancelRequest(e){let r=this.cancelControllers.get(e.request_id);r&&(r.abort(),this.cancelControllers.delete(e.request_id))}async processControlRequest(e,r){if(e.request.subtype==="can_use_tool"){if(!this.canUseTool)throw new Error("canUseTool callback is not provided.");return this.canUseTool(e.request.tool_name,e.request.input,{signal:r,suggestions:e.request.permission_suggestions,toolUseID:e.request.tool_use_id})}else{if(e.request.subtype==="hook_callback")return await this.handleHookCallbacks(e.request.callback_id,e.request.input,e.request.tool_use_id,r);if(e.request.subtype==="mcp_message"){let s=e.request,a=this.sdkMcpTransports.get(s.server_name);if(!a)throw new Error(`SDK MCP server not found: ${s.server_name}`);return"method"in s.message&&"id"in s.message&&s.message.id!==null?{mcp_response:await this.handleMcpControlRequest(s.server_name,s,a)}:(a.onmessage&&a.onmessage(s.message),{mcp_response:{jsonrpc:"2.0",result:{},id:0}})}}throw new Error("Unsupported control request subtype: "+e.request.subtype)}async*readSdkMessages(){for await(let e of this.inputStream)yield e}async initialize(){let e;if(this.hooks){e={};for(let[i,n]of Object.entries(this.hooks))n.length>0&&(e[i]=n.map(o=>{let l=[];for(let c of o.hooks){let u=`hook_${this.nextCallbackId++}`;this.hookCallbacks.set(u,c),l.push(u)}return{matcher:o.matcher,hookCallbackIds:l}}))}let r=this.sdkMcpTransports.size>0?Array.from(this.sdkMcpTransports.keys()):void 0,s={subtype:"initialize",hooks:e,sdkMcpServers:r};return(await this.request(s)).response}async interrupt(){await this.request({subtype:"interrupt"})}async setPermissionMode(e){await this.request({subtype:"set_permission_mode",mode:e})}async setModel(e){await this.request({subtype:"set_model",model:e})}async setMaxThinkingTokens(e){await this.request({subtype:"set_max_thinking_tokens",max_thinking_tokens:e})}async processPendingPermissionRequests(e){for(let r of e)r.request.subtype==="can_use_tool"&&this.handleControlRequest(r).catch(()=>{})}request(e){let r=Math.random().toString(36).substring(2,15),s={request_id:r,type:"control_request",request:e};return new Promise((a,i)=>{this.pendingControlResponses.set(r,n=>{n.subtype==="success"?a(n):(i(new Error(n.error)),n.pending_permission_requests&&this.processPendingPermissionRequests(n.pending_permission_requests))}),Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))})}async supportedCommands(){return(await this.initialization).commands}async supportedModels(){return(await this.initialization).models}async mcpServerStatus(){return(await this.request({subtype:"mcp_status"})).response.mcpServers}async accountInfo(){return(await this.initialization).account}async streamInput(e){Ts("[Query.streamInput] Starting to process input stream"),Ts(`[Query.streamInput] this.sdkMcpTransports.size = ${this.sdkMcpTransports.size}`);try{let r=0;for await(let s of e){if(r++,Ts(`[Query.streamInput] Processing message ${r}: ${s.type}`),this.abortController?.signal.aborted)break;await Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))}if(Ts(`[Query.streamInput] Finished processing ${r} messages from input stream`),Ts(`[Query.streamInput] About to check MCP servers. this.sdkMcpTransports.size = ${this.sdkMcpTransports.size}`),this.sdkMcpTransports.size>0&&this.firstResultReceivedPromise){Ts("[Query.streamInput] Entering Promise.race to wait for result");let s;await Promise.race([this.firstResultReceivedPromise.then(()=>{Ts("[Query.streamInput] Received first result, closing input stream"),s&&clearTimeout(s)}),new Promise(a=>{s=setTimeout(()=>{Ts("[Query.streamInput] Timed out waiting for first result, closing input stream"),a()},this.streamCloseTimeout)})]),s&&clearTimeout(s)}Ts("[Query] Calling transport.endInput() to close stdin to CLI process"),this.transport.endInput()}catch(r){if(!(r instanceof Oa))throw r}}handleHookCallbacks(e,r,s,a){let i=this.hookCallbacks.get(e);if(!i)throw new Error(`No hook callback found for ID: ${e}`);return i(r,s,{signal:a})}sendMcpServerMessageToCli(e,r){if("id"in r&&r.id!==null&&r.id!==void 0){let s=`${e}:${r.id}`,a=this.pendingMcpResponses.get(s);if(a){a.resolve(r),this.pendingMcpResponses.delete(s);return}}throw new Error("No pending request found")}handleMcpControlRequest(e,r,s){let a="id"in r.message?r.message.id:null,i=`${e}:${a}`;return new Promise((n,o)=>{let l=()=>{this.pendingMcpResponses.delete(i)},c=p=>{l(),n(p)},u=p=>{l(),o(p)};if(this.pendingMcpResponses.set(i,{resolve:c,reject:u}),s.onmessage)s.onmessage(r.message);else{l(),o(new Error("No message handler registered"));return}})}},S={};R$(S,{void:()=>WM,util:()=>at,unknown:()=>VM,union:()=>QM,undefined:()=>zM,tuple:()=>eU,transformer:()=>a_,symbol:()=>qM,string:()=>D_,strictObject:()=>JM,setErrorMap:()=>dM,set:()=>sU,record:()=>tU,quotelessJson:()=>uM,promise:()=>lU,preprocess:()=>dU,pipeline:()=>fU,ostring:()=>mU,optional:()=>uU,onumber:()=>hU,oboolean:()=>vU,objectUtil:()=>ef,object:()=>KM,number:()=>L_,nullable:()=>pU,null:()=>BM,never:()=>GM,nativeEnum:()=>cU,nan:()=>jM,map:()=>rU,makeIssue:()=>al,literal:()=>iU,lazy:()=>nU,late:()=>$M,isValid:()=>Aa,isDirty:()=>rf,isAsync:()=>fo,isAborted:()=>tf,intersection:()=>YM,instanceof:()=>FM,getParsedType:()=>ks,getErrorMap:()=>sl,function:()=>aU,enum:()=>oU,effect:()=>a_,discriminatedUnion:()=>XM,defaultErrorMap:()=>Wn,datetimeRegex:()=>k_,date:()=>UM,custom:()=>I_,coerce:()=>gU,boolean:()=>N_,bigint:()=>MM,array:()=>ZM,any:()=>HM,addIssueToContext:()=>oe,ZodVoid:()=>Kn,ZodUnknown:()=>Is,ZodUnion:()=>ja,ZodUndefined:()=>$a,ZodType:()=>Be,ZodTuple:()=>ls,ZodTransformer:()=>yr,ZodSymbol:()=>Zn,ZodString:()=>ra,ZodSet:()=>Qn,ZodSchema:()=>Be,ZodRecord:()=>il,ZodReadonly:()=>Ga,ZodPromise:()=>aa,ZodPipeline:()=>ho,ZodParsedType:()=>de,ZodOptional:()=>Or,ZodObject:()=>er,ZodNumber:()=>Ia,ZodNullable:()=>us,ZodNull:()=>Fa,ZodNever:()=>Vr,ZodNativeEnum:()=>Ba,ZodNaN:()=>Xn,ZodMap:()=>Jn,ZodLiteral:()=>qa,ZodLazy:()=>Ua,ZodIssueCode:()=>te,ZodIntersection:()=>Ma,ZodFunction:()=>ol,ZodFirstPartyTypeKind:()=>Ae,ZodError:()=>gr,ZodEnum:()=>za,ZodEffects:()=>yr,ZodDiscriminatedUnion:()=>nl,ZodDefault:()=>Ha,ZodDate:()=>Na,ZodCatch:()=>Va,ZodBranded:()=>mo,ZodBoolean:()=>La,ZodBigInt:()=>Da,ZodArray:()=>Ds,ZodAny:()=>sa,Schema:()=>Be,ParseStatus:()=>Ht,OK:()=>Zt,NEVER:()=>yU,INVALID:()=>ke,EMPTY_PATH:()=>fM,DIRTY:()=>Gn,BRAND:()=>NM});var at;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{let i={};for(let n of a)i[n]=n;return i},t.getValidEnumValues=a=>{let i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),n={};for(let o of i)n[o]=a[o];return t.objectValues(n)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let i=[];for(let n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.push(n);return i},t.find=(a,i)=>{for(let n of a)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(at||(at={}));var ef;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ef||(ef={}));var de=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ks=t=>{switch(typeof t){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(t)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(t)?de.array:t===null?de.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?de.promise:typeof Map<"u"&&t instanceof Map?de.map:typeof Set<"u"&&t instanceof Set?de.set:typeof Date<"u"&&t instanceof Date?de.date:de.object;default:return de.unknown}},te=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uM=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),gr=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},s={_errors:[]},a=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(a);else if(n.code==="invalid_return_type")a(n.returnTypeError);else if(n.code==="invalid_arguments")a(n.argumentsError);else if(n.path.length===0)s._errors.push(r(n));else{let o=s,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),s}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},s=[];for(let a of this.issues)if(a.path.length>0){let i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};gr.create=t=>new gr(t);var pM=(t,e)=>{let r;switch(t.code){case te.invalid_type:t.received===de.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:r=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case te.invalid_union:r="Invalid input";break;case te.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case te.invalid_enum_value:r=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:r="Invalid function arguments";break;case te.invalid_return_type:r="Invalid function return type";break;case te.invalid_date:r="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case te.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case te.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case te.custom:r="Invalid input";break;case te.invalid_intersection_types:r="Intersection results could not be merged";break;case te.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:r="Number must be finite";break;default:r=e.defaultError,at.assertNever(t)}return{message:r}},Wn=pM,R_=Wn;function dM(t){R_=t}function sl(){return R_}var al=t=>{let{data:e,path:r,errorMaps:s,issueData:a}=t,i=[...r,...a.path||[]],n={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="",l=s.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...a,path:i,message:o}},fM=[];function oe(t,e){let r=sl(),s=al({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Wn?void 0:Wn].filter(a=>!!a)});t.common.issues.push(s)}var Ht=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let s=[];for(let a of r){if(a.status==="aborted")return ke;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){let s=[];for(let a of r){let i=await a.key,n=await a.value;s.push({key:i,value:n})}return t.mergeObjectSync(e,s)}static mergeObjectSync(e,r){let s={};for(let a of r){let{key:i,value:n}=a;if(i.status==="aborted"||n.status==="aborted")return ke;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||a.alwaysSet)&&(s[i.value]=n.value)}return{status:e.value,value:s}}},ke=Object.freeze({status:"aborted"}),Gn=t=>({status:"dirty",value:t}),Zt=t=>({status:"valid",value:t}),tf=t=>t.status==="aborted",rf=t=>t.status==="dirty",Aa=t=>t.status==="valid",fo=t=>typeof Promise<"u"&&t instanceof Promise,be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(be||(be={}));var kr=class{constructor(e,r,s,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},r_=(t,e)=>{if(Aa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new gr(t.common.issues);return this._error=r,this._error}}};function Ve(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:a}}var Be=class{get description(){return this._def.description}_getType(e){return ks(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ks(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ht,ctx:{common:e.parent.common,data:e.data,parsedType:ks(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(fo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){let s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ks(e)},a=this._parseSync({data:e,path:s.path,parent:s});return r_(s,a)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ks(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:r});return Aa(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Aa(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){let s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){let s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ks(e)},a=this._parse({data:e,path:s.path,parent:s}),i=await(fo(a)?a:Promise.resolve(a));return r_(s,i)}refine(e,r){let s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{let n=e(a),o=()=>i.addIssue({code:te.custom,...s(a)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(e){return new yr({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Or.create(this,this._def)}nullable(){return us.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ds.create(this)}promise(){return aa.create(this,this._def)}or(e){return ja.create([this,e],this._def)}and(e){return Ma.create(this,e,this._def)}transform(e){return new yr({...Ve(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Ha({...Ve(this._def),innerType:this,defaultValue:r,typeName:Ae.ZodDefault})}brand(){return new mo({typeName:Ae.ZodBranded,type:this,...Ve(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Va({...Ve(this._def),innerType:this,catchValue:r,typeName:Ae.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ho.create(this,e)}readonly(){return Ga.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},mM=/^c[^\s-]{8,}$/i,hM=/^[0-9a-z]+$/,vM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yM=/^[a-z0-9_-]{21}$/i,xM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_M=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Wd,SM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,PM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,T_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",OM=new RegExp(`^${T_}$`);function O_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function kM(t){return new RegExp(`^${O_(t)}$`)}function k_(t){let e=`${T_}T${O_(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function AM(t,e){return!!((e==="v4"||!e)&&SM.test(t)||(e==="v6"||!e)&&PM.test(t))}function IM(t,e){if(!xM.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function DM(t,e){return!!((e==="v4"||!e)&&EM.test(t)||(e==="v6"||!e)&&CM.test(t))}var ra=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){let i=this._getOrReturnCtx(e);return oe(i,{code:te.invalid_type,expected:de.string,received:i.parsedType}),ke}let s=new Ht,a;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(a=this._getOrReturnCtx(e,a),n?oe(a,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&oe(a,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")_M.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"email",code:te.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Wd||(Wd=new RegExp(wM,"u")),Wd.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"emoji",code:te.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")gM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"uuid",code:te.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")yM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"nanoid",code:te.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")mM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"cuid",code:te.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")hM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"cuid2",code:te.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")vM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"ulid",code:te.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),oe(a,{validation:"url",code:te.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"regex",code:te.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),oe(a,{code:te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),oe(a,{code:te.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),oe(a,{code:te.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?k_(i).test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:te.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?OM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:te.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?kM(i).test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:te.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?bM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"duration",code:te.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?AM(e.data,i.version)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"ip",code:te.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?IM(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"jwt",code:te.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?DM(e.data,i.version)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"cidr",code:te.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?RM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"base64",code:te.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?TM.test(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{validation:"base64url",code:te.invalid_string,message:i.message}),s.dirty()):at.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:te.invalid_string,...be.errToObj(s)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...be.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...be.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...be.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...be.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...be.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...be.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...be.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...be.errToObj(r)})}nonempty(e){return this.min(1,be.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ra.create=t=>new ra({checks:[],typeName:Ae.ZodString,coerce:t?.coerce??!1,...Ve(t)});function LM(t,e){let r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(t.toFixed(a).replace(".","")),n=Number.parseInt(e.toFixed(a).replace(".",""));return i%n/10**a}var Ia=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){let i=this._getOrReturnCtx(e);return oe(i,{code:te.invalid_type,expected:de.number,received:i.parsedType}),ke}let s,a=new Ht;for(let i of this._def.checks)i.kind==="int"?at.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:te.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),oe(s,{code:te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),oe(s,{code:te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?LM(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),oe(s,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:te.not_finite,message:i.message}),a.dirty()):at.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:be.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ia.create=t=>new Ia({checks:[],typeName:Ae.ZodNumber,coerce:t?.coerce||!1,...Ve(t)});var Da=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let s,a=new Ht;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),oe(s,{code:te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),oe(s,{code:te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),oe(s,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):at.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return oe(r,{code:te.invalid_type,expected:de.bigint,received:r.parsedType}),ke}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:be.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Da.create=t=>new Da({checks:[],typeName:Ae.ZodBigInt,coerce:t?.coerce??!1,...Ve(t)});var La=class extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){let s=this._getOrReturnCtx(e);return oe(s,{code:te.invalid_type,expected:de.boolean,received:s.parsedType}),ke}return Zt(e.data)}};La.create=t=>new La({typeName:Ae.ZodBoolean,coerce:t?.coerce||!1,...Ve(t)});var Na=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){let i=this._getOrReturnCtx(e);return oe(i,{code:te.invalid_type,expected:de.date,received:i.parsedType}),ke}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return oe(i,{code:te.invalid_date}),ke}let s=new Ht,a;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),oe(a,{code:te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):at.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Na.create=t=>new Na({checks:[],coerce:t?.coerce||!1,typeName:Ae.ZodDate,...Ve(t)});var Zn=class extends Be{_parse(e){if(this._getType(e)!==de.symbol){let s=this._getOrReturnCtx(e);return oe(s,{code:te.invalid_type,expected:de.symbol,received:s.parsedType}),ke}return Zt(e.data)}};Zn.create=t=>new Zn({typeName:Ae.ZodSymbol,...Ve(t)});var $a=class extends Be{_parse(e){if(this._getType(e)!==de.undefined){let s=this._getOrReturnCtx(e);return oe(s,{code:te.invalid_type,expected:de.undefined,received:s.parsedType}),ke}return Zt(e.data)}};$a.create=t=>new $a({typeName:Ae.ZodUndefined,...Ve(t)});var Fa=class extends Be{_parse(e){if(this._getType(e)!==de.null){let s=this._getOrReturnCtx(e);return oe(s,{code:te.invalid_type,expected:de.null,received:s.parsedType}),ke}return Zt(e.data)}};Fa.create=t=>new Fa({typeName:Ae.ZodNull,...Ve(t)});var sa=class extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}};sa.create=t=>new sa({typeName:Ae.ZodAny,...Ve(t)});var Is=class extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}};Is.create=t=>new Is({typeName:Ae.ZodUnknown,...Ve(t)});var Vr=class extends Be{_parse(e){let r=this._getOrReturnCtx(e);return oe(r,{code:te.invalid_type,expected:de.never,received:r.parsedType}),ke}};Vr.create=t=>new Vr({typeName:Ae.ZodNever,...Ve(t)});var Kn=class extends Be{_parse(e){if(this._getType(e)!==de.undefined){let s=this._getOrReturnCtx(e);return oe(s,{code:te.invalid_type,expected:de.void,received:s.parsedType}),ke}return Zt(e.data)}};Kn.create=t=>new Kn({typeName:Ae.ZodVoid,...Ve(t)});var Ds=class t extends Be{_parse(e){let{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==de.array)return oe(r,{code:te.invalid_type,expected:de.array,received:r.parsedType}),ke;if(a.exactLength!==null){let n=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(n||o)&&(oe(r,{code:n?te.too_big:te.too_small,minimum:o?a.exactLength.value:void 0,maximum:n?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(oe(r,{code:te.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(oe(r,{code:te.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>a.type._parseAsync(new kr(r,n,r.path,o)))).then(n=>Ht.mergeArray(s,n));let i=[...r.data].map((n,o)=>a.type._parseSync(new kr(r,n,r.path,o)));return Ht.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:be.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:be.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:be.toString(r)}})}nonempty(e){return this.min(1,e)}};Ds.create=(t,e)=>new Ds({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...Ve(e)});function Vn(t){if(t instanceof er){let e={};for(let r in t.shape){let s=t.shape[r];e[r]=Or.create(Vn(s))}return new er({...t._def,shape:()=>e})}else return t instanceof Ds?new Ds({...t._def,type:Vn(t.element)}):t instanceof Or?Or.create(Vn(t.unwrap())):t instanceof us?us.create(Vn(t.unwrap())):t instanceof ls?ls.create(t.items.map(e=>Vn(e))):t}var er=class t extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=at.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==de.object){let c=this._getOrReturnCtx(e);return oe(c,{code:te.invalid_type,expected:de.object,received:c.parsedType}),ke}let{status:s,ctx:a}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof Vr&&this._def.unknownKeys==="strip"))for(let c in a.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],p=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new kr(a,p,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Vr){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(c==="strict")o.length>0&&(oe(a,{code:te.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let p=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new kr(a,p,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let p=await u.key,h=await u.value;c.push({key:p,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Ht.mergeObjectSync(s,c)):Ht.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{let a=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:be.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ae.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let s of at.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let s of at.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}deepPartial(){return Vn(this)}partial(e){let r={};for(let s of at.objectKeys(this.shape)){let a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let s of at.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Or;)i=i._def.innerType;r[s]=i}return new t({...this._def,shape:()=>r})}keyof(){return A_(at.objectKeys(this.shape))}};er.create=(t,e)=>new er({shape:()=>t,unknownKeys:"strip",catchall:Vr.create(),typeName:Ae.ZodObject,...Ve(e)});er.strictCreate=(t,e)=>new er({shape:()=>t,unknownKeys:"strict",catchall:Vr.create(),typeName:Ae.ZodObject,...Ve(e)});er.lazycreate=(t,e)=>new er({shape:t,unknownKeys:"strip",catchall:Vr.create(),typeName:Ae.ZodObject,...Ve(e)});var ja=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=this._def.options;function a(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new gr(o.ctx.common.issues));return oe(r,{code:te.invalid_union,unionErrors:n}),ke}if(r.common.async)return Promise.all(s.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(a);{let i,n=[];for(let l of s){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new gr(l));return oe(r,{code:te.invalid_union,unionErrors:o}),ke}}get options(){return this._def.options}};ja.create=(t,e)=>new ja({options:t,typeName:Ae.ZodUnion,...Ve(e)});var Os=t=>t instanceof Ua?Os(t.schema):t instanceof yr?Os(t.innerType()):t instanceof qa?[t.value]:t instanceof za?t.options:t instanceof Ba?at.objectValues(t.enum):t instanceof Ha?Os(t._def.innerType):t instanceof $a?[void 0]:t instanceof Fa?[null]:t instanceof Or?[void 0,...Os(t.unwrap())]:t instanceof us?[null,...Os(t.unwrap())]:t instanceof mo||t instanceof Ga?Os(t.unwrap()):t instanceof Va?Os(t._def.innerType):[],nl=class t extends Be{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==de.object)return oe(r,{code:te.invalid_type,expected:de.object,received:r.parsedType}),ke;let s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(oe(r,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){let a=new Map;for(let i of r){let n=Os(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,i)}}return new t({typeName:Ae.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...Ve(s)})}};function sf(t,e){let r=ks(t),s=ks(e);if(t===e)return{valid:!0,data:t};if(r===de.object&&s===de.object){let a=at.objectKeys(e),i=at.objectKeys(t).filter(o=>a.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=sf(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===de.array&&s===de.array){if(t.length!==e.length)return{valid:!1};let a=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=sf(n,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===de.date&&s===de.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Ma=class extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=(i,n)=>{if(tf(i)||tf(n))return ke;let o=sf(i.value,n.value);return o.valid?((rf(i)||rf(n))&&r.dirty(),{status:r.value,value:o.data}):(oe(s,{code:te.invalid_intersection_types}),ke)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,n])=>a(i,n)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};Ma.create=(t,e,r)=>new Ma({left:t,right:e,typeName:Ae.ZodIntersection,...Ve(r)});var ls=class t extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.array)return oe(s,{code:te.invalid_type,expected:de.array,received:s.parsedType}),ke;if(s.data.length<this._def.items.length)return oe(s,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&s.data.length>this._def.items.length&&(oe(s,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...s.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new kr(s,n,s.path,o)):null}).filter(n=>!!n);return s.common.async?Promise.all(i).then(n=>Ht.mergeArray(r,n)):Ht.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ls({items:t,typeName:Ae.ZodTuple,rest:null,...Ve(e)})};var il=class t extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.object)return oe(s,{code:te.invalid_type,expected:de.object,received:s.parsedType}),ke;let a=[],i=this._def.keyType,n=this._def.valueType;for(let o in s.data)a.push({key:i._parse(new kr(s,o,s.path,o)),value:n._parse(new kr(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?Ht.mergeObjectAsync(r,a):Ht.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof Be?new t({keyType:e,valueType:r,typeName:Ae.ZodRecord,...Ve(s)}):new t({keyType:ra.create(),valueType:e,typeName:Ae.ZodRecord,...Ve(r)})}},Jn=class extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.map)return oe(s,{code:te.invalid_type,expected:de.map,received:s.parsedType}),ke;let a=this._def.keyType,i=this._def.valueType,n=[...s.data.entries()].map(([o,l],c)=>({key:a._parse(new kr(s,o,s.path,[c,"key"])),value:i._parse(new kr(s,l,s.path,[c,"value"]))}));if(s.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ke;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ke;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};Jn.create=(t,e,r)=>new Jn({valueType:e,keyType:t,typeName:Ae.ZodMap,...Ve(r)});var Qn=class t extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==de.set)return oe(s,{code:te.invalid_type,expected:de.set,received:s.parsedType}),ke;let a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(oe(s,{code:te.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(oe(s,{code:te.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return ke;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...s.data.values()].map((l,c)=>i._parse(new kr(s,l,s.path,c)));return s.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:be.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:be.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Qn.create=(t,e)=>new Qn({valueType:t,minSize:null,maxSize:null,typeName:Ae.ZodSet,...Ve(e)});var ol=class t extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==de.function)return oe(r,{code:te.invalid_type,expected:de.function,received:r.parsedType}),ke;function s(o,l){return al({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sl(),Wn].filter(c=>!!c),issueData:{code:te.invalid_arguments,argumentsError:l}})}function a(o,l){return al({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sl(),Wn].filter(c=>!!c),issueData:{code:te.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof aa){let o=this;return Zt(async function(...l){let c=new gr([]),u=await o._def.args.parseAsync(l,i).catch(d=>{throw c.addIssue(s(l,d)),c}),p=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(p,i).catch(d=>{throw c.addIssue(a(p,d)),c})})}else{let o=this;return Zt(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new gr([s(l,c.error)]);let u=Reflect.apply(n,this,c.data),p=o._def.returns.safeParse(u,i);if(!p.success)throw new gr([a(u,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:ls.create(e).rest(Is.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new t({args:e||ls.create([]).rest(Is.create()),returns:r||Is.create(),typeName:Ae.ZodFunction,...Ve(s)})}},Ua=class extends Be{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ua.create=(t,e)=>new Ua({getter:t,typeName:Ae.ZodLazy,...Ve(e)});var qa=class extends Be{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return oe(r,{received:r.data,code:te.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:e.data}}get value(){return this._def.value}};qa.create=(t,e)=>new qa({value:t,typeName:Ae.ZodLiteral,...Ve(e)});function A_(t,e){return new za({values:t,typeName:Ae.ZodEnum,...Ve(e)})}var za=class t extends Be{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),s=this._def.values;return oe(r,{expected:at.joinValues(s),received:r.parsedType,code:te.invalid_type}),ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),s=this._def.values;return oe(r,{received:r.data,code:te.invalid_enum_value,options:s}),ke}return Zt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};za.create=A_;var Ba=class extends Be{_parse(e){let r=at.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==de.string&&s.parsedType!==de.number){let a=at.objectValues(r);return oe(s,{expected:at.joinValues(a),received:s.parsedType,code:te.invalid_type}),ke}if(this._cache||(this._cache=new Set(at.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let a=at.objectValues(r);return oe(s,{received:s.data,code:te.invalid_enum_value,options:a}),ke}return Zt(e.data)}get enum(){return this._def.values}};Ba.create=(t,e)=>new Ba({values:t,typeName:Ae.ZodNativeEnum,...Ve(e)});var aa=class extends Be{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==de.promise&&r.common.async===!1)return oe(r,{code:te.invalid_type,expected:de.promise,received:r.parsedType}),ke;let s=r.parsedType===de.promise?r.data:Promise.resolve(r.data);return Zt(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}};aa.create=(t,e)=>new aa({type:t,typeName:Ae.ZodPromise,...Ve(e)});var yr=class extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:n=>{oe(s,n),n.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){let n=a.transform(s.data,i);if(s.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return ke;let l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?ke:l.status==="dirty"||r.value==="dirty"?Gn(l.value):l});{if(r.value==="aborted")return ke;let o=this._def.schema._parseSync({data:n,path:s.path,parent:s});return o.status==="aborted"?ke:o.status==="dirty"||r.value==="dirty"?Gn(o.value):o}}if(a.type==="refinement"){let n=o=>{let l=a.refinement(o,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?ke:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?ke:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(s.common.async===!1){let n=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Aa(n))return ke;let o=a.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(n=>Aa(n)?Promise.resolve(a.transform(n.value,i)).then(o=>({status:r.value,value:o})):ke);at.assertNever(a)}};yr.create=(t,e,r)=>new yr({schema:t,typeName:Ae.ZodEffects,effect:e,...Ve(r)});yr.createWithPreprocess=(t,e,r)=>new yr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ae.ZodEffects,...Ve(r)});var Or=class extends Be{_parse(e){return this._getType(e)===de.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Or.create=(t,e)=>new Or({innerType:t,typeName:Ae.ZodOptional,...Ve(e)});var us=class extends Be{_parse(e){return this._getType(e)===de.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};us.create=(t,e)=>new us({innerType:t,typeName:Ae.ZodNullable,...Ve(e)});var Ha=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return r.parsedType===de.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ha.create=(t,e)=>new Ha({innerType:t,typeName:Ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});var Va=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return fo(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new gr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new gr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};Va.create=(t,e)=>new Va({innerType:t,typeName:Ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});var Xn=class extends Be{_parse(e){if(this._getType(e)!==de.nan){let s=this._getOrReturnCtx(e);return oe(s,{code:te.invalid_type,expected:de.nan,received:s.parsedType}),ke}return{status:"valid",value:e.data}}};Xn.create=t=>new Xn({typeName:Ae.ZodNaN,...Ve(t)});var NM=Symbol("zod_brand"),mo=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}},ho=class t extends Be{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ke:i.status==="dirty"?(r.dirty(),Gn(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{let a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ke:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new t({in:e,out:r,typeName:Ae.ZodPipeline})}},Ga=class extends Be{_parse(e){let r=this._def.innerType._parse(e),s=a=>(Aa(a)&&(a.value=Object.freeze(a.value)),a);return fo(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}};Ga.create=(t,e)=>new Ga({innerType:t,typeName:Ae.ZodReadonly,...Ve(e)});function s_(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function I_(t,e={},r){return t?sa.create().superRefine((s,a)=>{let i=t(s);if(i instanceof Promise)return i.then(n=>{if(!n){let o=s_(e,s),l=o.fatal??r??!0;a.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=s_(e,s),o=n.fatal??r??!0;a.addIssue({code:"custom",...n,fatal:o})}}):sa.create()}var $M={object:er.lazycreate},Ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));var FM=(t,e={message:`Input not instance of ${t.name}`})=>I_(r=>r instanceof t,e),D_=ra.create,L_=Ia.create,jM=Xn.create,MM=Da.create,N_=La.create,UM=Na.create,qM=Zn.create,zM=$a.create,BM=Fa.create,HM=sa.create,VM=Is.create,GM=Vr.create,WM=Kn.create,ZM=Ds.create,KM=er.create,JM=er.strictCreate,QM=ja.create,XM=nl.create,YM=Ma.create,eU=ls.create,tU=il.create,rU=Jn.create,sU=Qn.create,aU=ol.create,nU=Ua.create,iU=qa.create,oU=za.create,cU=Ba.create,lU=aa.create,a_=yr.create,uU=Or.create,pU=us.create,dU=yr.createWithPreprocess,fU=ho.create,mU=()=>D_().optional(),hU=()=>L_().optional(),vU=()=>N_().optional(),gU={string:t=>ra.create({...t,coerce:!0}),number:t=>Ia.create({...t,coerce:!0}),boolean:t=>La.create({...t,coerce:!0}),bigint:t=>Da.create({...t,coerce:!0}),date:t=>Na.create({...t,coerce:!0})},yU=ke;var pl="2.0",$_=S.union([S.string(),S.number().int()]),F_=S.string(),xU=S.object({progressToken:S.optional($_)}).passthrough(),Ar=S.object({_meta:S.optional(xU)}).passthrough(),tr=S.object({method:S.string(),params:S.optional(Ar)}),go=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),ps=S.object({method:S.string(),params:S.optional(go)}),Ir=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),dl=S.union([S.string(),S.number().int()]),bU=S.object({jsonrpc:S.literal(pl),id:dl}).merge(tr).strict();var _U=S.object({jsonrpc:S.literal(pl)}).merge(ps).strict();var wU=S.object({jsonrpc:S.literal(pl),id:dl,result:Ir}).strict();var n_;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(n_||(n_={}));var SU=S.object({jsonrpc:S.literal(pl),id:dl,error:S.object({code:S.number().int(),message:S.string(),data:S.optional(S.unknown())})}).strict();var CK=S.union([bU,_U,wU,SU]),j_=Ir.strict(),M_=ps.extend({method:S.literal("notifications/cancelled"),params:go.extend({requestId:dl,reason:S.string().optional()})}),yo=S.object({name:S.string(),title:S.optional(S.string())}).passthrough(),U_=yo.extend({version:S.string()}),EU=S.object({experimental:S.optional(S.object({}).passthrough()),sampling:S.optional(S.object({}).passthrough()),elicitation:S.optional(S.object({}).passthrough()),roots:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),PU=tr.extend({method:S.literal("initialize"),params:Ar.extend({protocolVersion:S.string(),capabilities:EU,clientInfo:U_})}),CU=S.object({experimental:S.optional(S.object({}).passthrough()),logging:S.optional(S.object({}).passthrough()),completions:S.optional(S.object({}).passthrough()),prompts:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough()),resources:S.optional(S.object({subscribe:S.optional(S.boolean()),listChanged:S.optional(S.boolean())}).passthrough()),tools:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),RU=Ir.extend({protocolVersion:S.string(),capabilities:CU,serverInfo:U_,instructions:S.optional(S.string())}),TU=ps.extend({method:S.literal("notifications/initialized")}),q_=tr.extend({method:S.literal("ping")}),OU=S.object({progress:S.number(),total:S.optional(S.number()),message:S.optional(S.string())}).passthrough(),z_=ps.extend({method:S.literal("notifications/progress"),params:go.merge(OU).extend({progressToken:$_})}),fl=tr.extend({params:Ar.extend({cursor:S.optional(F_)}).optional()}),ml=Ir.extend({nextCursor:S.optional(F_)}),B_=S.object({uri:S.string(),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),H_=B_.extend({text:S.string()}),pf=S.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),V_=B_.extend({blob:pf}),G_=yo.extend({uri:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),kU=yo.extend({uriTemplate:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),AU=fl.extend({method:S.literal("resources/list")}),IU=ml.extend({resources:S.array(G_)}),DU=fl.extend({method:S.literal("resources/templates/list")}),LU=ml.extend({resourceTemplates:S.array(kU)}),NU=tr.extend({method:S.literal("resources/read"),params:Ar.extend({uri:S.string()})}),$U=Ir.extend({contents:S.array(S.union([H_,V_]))}),FU=ps.extend({method:S.literal("notifications/resources/list_changed")}),jU=tr.extend({method:S.literal("resources/subscribe"),params:Ar.extend({uri:S.string()})}),MU=tr.extend({method:S.literal("resources/unsubscribe"),params:Ar.extend({uri:S.string()})}),UU=ps.extend({method:S.literal("notifications/resources/updated"),params:go.extend({uri:S.string()})}),qU=S.object({name:S.string(),description:S.optional(S.string()),required:S.optional(S.boolean())}).passthrough(),zU=yo.extend({description:S.optional(S.string()),arguments:S.optional(S.array(qU)),_meta:S.optional(S.object({}).passthrough())}),BU=fl.extend({method:S.literal("prompts/list")}),HU=ml.extend({prompts:S.array(zU)}),VU=tr.extend({method:S.literal("prompts/get"),params:Ar.extend({name:S.string(),arguments:S.optional(S.record(S.string()))})}),df=S.object({type:S.literal("text"),text:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),ff=S.object({type:S.literal("image"),data:pf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),mf=S.object({type:S.literal("audio"),data:pf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),GU=S.object({type:S.literal("resource"),resource:S.union([H_,V_]),_meta:S.optional(S.object({}).passthrough())}).passthrough(),WU=G_.extend({type:S.literal("resource_link")}),W_=S.union([df,ff,mf,WU,GU]),ZU=S.object({role:S.enum(["user","assistant"]),content:W_}).passthrough(),KU=Ir.extend({description:S.optional(S.string()),messages:S.array(ZU)}),JU=ps.extend({method:S.literal("notifications/prompts/list_changed")}),QU=S.object({title:S.optional(S.string()),readOnlyHint:S.optional(S.boolean()),destructiveHint:S.optional(S.boolean()),idempotentHint:S.optional(S.boolean()),openWorldHint:S.optional(S.boolean())}).passthrough(),XU=yo.extend({description:S.optional(S.string()),inputSchema:S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough(),outputSchema:S.optional(S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough()),annotations:S.optional(QU),_meta:S.optional(S.object({}).passthrough())}),YU=fl.extend({method:S.literal("tools/list")}),eq=ml.extend({tools:S.array(XU)}),Z_=Ir.extend({content:S.array(W_).default([]),structuredContent:S.object({}).passthrough().optional(),isError:S.optional(S.boolean())}),RK=Z_.or(Ir.extend({toolResult:S.unknown()})),tq=tr.extend({method:S.literal("tools/call"),params:Ar.extend({name:S.string(),arguments:S.optional(S.record(S.unknown()))})}),rq=ps.extend({method:S.literal("notifications/tools/list_changed")}),K_=S.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),sq=tr.extend({method:S.literal("logging/setLevel"),params:Ar.extend({level:K_})}),aq=ps.extend({method:S.literal("notifications/message"),params:go.extend({level:K_,logger:S.optional(S.string()),data:S.unknown()})}),nq=S.object({name:S.string().optional()}).passthrough(),iq=S.object({hints:S.optional(S.array(nq)),costPriority:S.optional(S.number().min(0).max(1)),speedPriority:S.optional(S.number().min(0).max(1)),intelligencePriority:S.optional(S.number().min(0).max(1))}).passthrough(),oq=S.object({role:S.enum(["user","assistant"]),content:S.union([df,ff,mf])}).passthrough(),cq=tr.extend({method:S.literal("sampling/createMessage"),params:Ar.extend({messages:S.array(oq),systemPrompt:S.optional(S.string()),includeContext:S.optional(S.enum(["none","thisServer","allServers"])),temperature:S.optional(S.number()),maxTokens:S.number().int(),stopSequences:S.optional(S.array(S.string())),metadata:S.optional(S.object({}).passthrough()),modelPreferences:S.optional(iq)})}),lq=Ir.extend({model:S.string(),stopReason:S.optional(S.enum(["endTurn","stopSequence","maxTokens"]).or(S.string())),role:S.enum(["user","assistant"]),content:S.discriminatedUnion("type",[df,ff,mf])}),uq=S.object({type:S.literal("boolean"),title:S.optional(S.string()),description:S.optional(S.string()),default:S.optional(S.boolean())}).passthrough(),pq=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),minLength:S.optional(S.number()),maxLength:S.optional(S.number()),format:S.optional(S.enum(["email","uri","date","date-time"]))}).passthrough(),dq=S.object({type:S.enum(["number","integer"]),title:S.optional(S.string()),description:S.optional(S.string()),minimum:S.optional(S.number()),maximum:S.optional(S.number())}).passthrough(),fq=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),enum:S.array(S.string()),enumNames:S.optional(S.array(S.string()))}).passthrough(),mq=S.union([uq,pq,dq,fq]),hq=tr.extend({method:S.literal("elicitation/create"),params:Ar.extend({message:S.string(),requestedSchema:S.object({type:S.literal("object"),properties:S.record(S.string(),mq),required:S.optional(S.array(S.string()))}).passthrough()})}),vq=Ir.extend({action:S.enum(["accept","decline","cancel"]),content:S.optional(S.record(S.string(),S.unknown()))}),gq=S.object({type:S.literal("ref/resource"),uri:S.string()}).passthrough(),yq=S.object({type:S.literal("ref/prompt"),name:S.string()}).passthrough(),xq=tr.extend({method:S.literal("completion/complete"),params:Ar.extend({ref:S.union([yq,gq]),argument:S.object({name:S.string(),value:S.string()}).passthrough(),context:S.optional(S.object({arguments:S.optional(S.record(S.string(),S.string()))}))})}),bq=Ir.extend({completion:S.object({values:S.array(S.string()).max(100),total:S.optional(S.number().int()),hasMore:S.optional(S.boolean())}).passthrough()}),_q=S.object({uri:S.string().startsWith("file://"),name:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),wq=tr.extend({method:S.literal("roots/list")}),Sq=Ir.extend({roots:S.array(_q)}),Eq=ps.extend({method:S.literal("notifications/roots/list_changed")}),TK=S.union([q_,PU,xq,sq,VU,BU,AU,DU,NU,jU,MU,tq,YU]),OK=S.union([M_,z_,TU,Eq]),kK=S.union([j_,lq,vq,Sq]),AK=S.union([q_,cq,hq,wq]),IK=S.union([M_,z_,aq,UU,FU,rq,JU]),DK=S.union([j_,RU,bq,KU,HU,IU,LU,$U,Z_,eq]);var LK=C$(oF(),1);var NK=Symbol("Let zodToJsonSchema decide on which parser to use");var $K=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var af;(function(t){t.Completable="McpCompletable"})(af||(af={}));var cl=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}};cl.create=(t,e)=>new cl({type:t,typeName:af.Completable,complete:e.complete,...Pq(e)});function Pq(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}function J_({prompt:t,options:e}){let{systemPrompt:r,settingSources:s,...a}=e??{},i,n;r===void 0?i="":typeof r=="string"?i=r:r.type==="preset"&&(n=r.append);let o=a.pathToClaudeCodeExecutable;if(!o){let we=(0,u_.fileURLToPath)(Cq.url),Te=(0,Kd.join)(we,"..");o=(0,Kd.join)(Te,"cli.js")}process.env.CLAUDE_AGENT_SDK_VERSION="0.1.29";let{abortController:l=d_(),additionalDirectories:c=[],agents:u,allowedTools:p=[],canUseTool:h,continue:d,cwd:m,disallowedTools:f=[],env:v,executable:g=v_()?"bun":"node",executableArgs:x=[],extraArgs:w={},fallbackModel:C,forkSession:R,hooks:P,includePartialMessages:O,maxThinkingTokens:N,maxTurns:I,mcpServers:j,model:D,permissionMode:k="default",allowDangerouslySkipPermissions:T=!1,permissionPromptToolName:L,plugins:z,resume:V,resumeSessionAt:H,stderr:G,strictMcpConfig:K}=a,W=v;if(W||(W={...process.env}),W.CLAUDE_CODE_ENTRYPOINT||(W.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!o)throw new Error("pathToClaudeCodeExecutable is required");let ee={},ne=new Map;if(j)for(let[we,Te]of Object.entries(j))Te.type==="sdk"&&"instance"in Te?(ne.set(we,Te.instance),ee[we]={type:"sdk",name:we}):ee[we]=Te;let Je=typeof t=="string",ge=new Jd({abortController:l,additionalDirectories:c,agents:u,cwd:m,executable:g,executableArgs:x,extraArgs:w,pathToClaudeCodeExecutable:o,env:W,forkSession:R,stderr:G,customSystemPrompt:i,appendSystemPrompt:n,maxThinkingTokens:N,maxTurns:I,model:D,fallbackModel:C,permissionMode:k,allowDangerouslySkipPermissions:T,permissionPromptToolName:L,continueConversation:d,resume:V,resumeSessionAt:H,settingSources:s??[],allowedTools:p,disallowedTools:f,mcpServers:ee,strictMcpConfig:K,canUseTool:!!h,hooks:!!P,includePartialMessages:O,plugins:z}),Ee=new Yd(ge,Je,h,P,l,ne);return typeof t=="string"?ge.write(JSON.stringify({type:"user",session_id:"",message:{role:"user",content:[{type:"text",text:t}]},parent_tool_use_id:null})+`
`):Ee.streamInput(t),Ee}var Jr=require("path");var na=ae(require("vscode"),1);var Wa=ae(require("vscode"),1);function si(){return Wa.window.tabGroups.all.flatMap(t=>t.tabs)}function ai(t,e){return new Promise((r,s)=>{let a,i=setInterval(()=>{let n=t();n&&(clearInterval(i),a&&clearTimeout(a),r(n))},100);e&&(a=setTimeout(()=>{clearInterval(i),s(new Error(`Timeout waiting after ${e}ms`))},e))})}async function Za(t,e){if(!t)return;let r=t.input;if(r instanceof Wa.TabInputTextDiff)try{await(await Wa.workspace.openTextDocument(r.modified)).save()}catch(s){e.error("Error saving modified file:",s)}try{await Wa.window.tabGroups.close(t)}catch{}}async function Q_(t,e,r,s,a,i,n){let o=[],c=`${a||"Claude Code"} (${Math.random().toString(36).substring(2,8)})`,u=[],p;if(i){let m=`/temp/${c}`,v=r.createFile(m,s).uri;p=await na.workspace.openTextDocument(v),t.info("Editable uri: ",v.toString());let g=new Promise(w=>{o.push(na.workspace.onWillSaveTextDocument(C=>{if(C.document.uri.toString()===v.toString()){let R=C.document.getText();w(R)}}))});na.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),u.push(g)):t.info("files.autoSave is on, cannot save to exit");let x={preview:!1,preserveFocus:!0};await na.window.showTextDocument(p,x)}else{let m=`/temp/readonly/${c}`,f=e.createFile(m,s);p=await na.workspace.openTextDocument(f),await na.window.showTextDocument(p,{preview:!1})}let h=await ai(()=>si().find(m=>m.label===c),1e3);n?.addEventListener("abort",()=>{Za(h,t)});let d=ai(()=>!si().some(m=>m.label===c)).then(()=>{if(t.info("Tab closed",c),i)return p.getText()});return u.push(d),await Promise.race(u).finally(()=>{o.forEach(m=>m.dispose())}).then(m=>(t.info("File save operation completed",m),m)).finally(()=>{Za(h,t)})}var _t=ae(require("vscode"),1),pw=ae(require("fs"),1);function Gr(){}Gr.prototype={diff:function(e,r){var s,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a.callback;typeof a=="function"&&(i=a,a={});var n=this;function o(C){return C=n.postProcess(C,a),i?(setTimeout(function(){i(C)},0),!0):C}e=this.castInput(e,a),r=this.castInput(r,a),e=this.removeEmpty(this.tokenize(e,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=e.length,u=1,p=l+c;a.maxEditLength!=null&&(p=Math.min(p,a.maxEditLength));var h=(s=a.timeout)!==null&&s!==void 0?s:1/0,d=Date.now()+h,m=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(m[0],r,e,0,a);if(m[0].oldPos+1>=c&&f+1>=l)return o(X_(n,m[0].lastComponent,r,e,n.useLongestToken));var v=-1/0,g=1/0;function x(){for(var C=Math.max(v,-u);C<=Math.min(g,u);C+=2){var R=void 0,P=m[C-1],O=m[C+1];P&&(m[C-1]=void 0);var N=!1;if(O){var I=O.oldPos-C;N=O&&0<=I&&I<l}var j=P&&P.oldPos+1<c;if(!N&&!j){m[C]=void 0;continue}if(!j||N&&P.oldPos<O.oldPos?R=n.addToPath(O,!0,!1,0,a):R=n.addToPath(P,!1,!0,1,a),f=n.extractCommon(R,r,e,C,a),R.oldPos+1>=c&&f+1>=l)return o(X_(n,R.lastComponent,r,e,n.useLongestToken));m[C]=R,R.oldPos+1>=c&&(g=Math.min(g,C-1)),f+1>=l&&(v=Math.max(v,C+1))}u++}if(i)(function C(){setTimeout(function(){if(u>p||Date.now()>d)return i();x()||C()},0)})();else for(;u<=p&&Date.now()<=d;){var w=x();if(w)return w}},addToPath:function(e,r,s,a,i){var n=e.lastComponent;return n&&!i.oneChangePerToken&&n.added===r&&n.removed===s?{oldPos:e.oldPos+a,lastComponent:{count:n.count+1,added:r,removed:s,previousComponent:n.previousComponent}}:{oldPos:e.oldPos+a,lastComponent:{count:1,added:r,removed:s,previousComponent:n}}},extractCommon:function(e,r,s,a,i){for(var n=r.length,o=s.length,l=e.oldPos,c=l-a,u=0;c+1<n&&l+1<o&&this.equals(s[l+1],r[c+1],i);)c++,l++,u++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return u&&!i.oneChangePerToken&&(e.lastComponent={count:u,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=l,c},equals:function(e,r,s){return s.comparator?s.comparator(e,r):e===r||s.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],s=0;s<e.length;s++)e[s]&&r.push(e[s]);return r},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function X_(t,e,r,s,a){for(var i=[],n;e;)i.push(e),n=e.previousComponent,delete e.previousComponent,e=n;i.reverse();for(var o=0,l=i.length,c=0,u=0;o<l;o++){var p=i[o];if(p.removed)p.value=t.join(s.slice(u,u+p.count)),u+=p.count;else{if(!p.added&&a){var h=r.slice(c,c+p.count);h=h.map(function(d,m){var f=s[u+m];return f.length>d.length?f:d}),p.value=t.join(h)}else p.value=t.join(r.slice(c,c+p.count));c+=p.count,p.added||(u+=p.count)}}return i}var qK=new Gr;function Y_(t,e){var r;for(r=0;r<t.length&&r<e.length;r++)if(t[r]!=e[r])return t.slice(0,r);return t.slice(0,r)}function ew(t,e){var r;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(r=0;r<t.length&&r<e.length;r++)if(t[t.length-(r+1)]!=e[e.length-(r+1)])return t.slice(-r);return t.slice(-r)}function vf(t,e,r){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return r+t.slice(e.length)}function gf(t,e,r){if(!e)return t+r;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+r}function xo(t,e){return vf(t,e,"")}function hl(t,e){return gf(t,e,"")}function tw(t,e){return e.slice(0,Rq(t,e))}function Rq(t,e){var r=0;t.length>e.length&&(r=t.length-e.length);var s=e.length;t.length<e.length&&(s=t.length);var a=Array(s),i=0;a[0]=0;for(var n=1;n<s;n++){for(e[n]==e[i]?a[n]=a[i]:a[n]=i;i>0&&e[n]!=e[i];)i=a[i];e[n]==e[i]&&i++}i=0;for(var o=r;o<t.length;o++){for(;i>0&&t[o]!=e[i];)i=a[i];t[o]==e[i]&&i++}return i}var vl="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Tq=new RegExp("[".concat(vl,"]+|\\s+|[^").concat(vl,"]"),"ug"),gl=new Gr;gl.equals=function(t,e,r){return r.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()};gl.tokenize=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(e.intlSegmenter.segment(t),function(i){return i.segment})}else r=t.match(Tq)||[];var s=[],a=null;return r.forEach(function(i){/\s/.test(i)?a==null?s.push(i):s.push(s.pop()+i):/\s/.test(a)?s[s.length-1]==a?s.push(s.pop()+i):s.push(a+i):s.push(i),a=i}),s};gl.join=function(t){return t.map(function(e,r){return r==0?e:e.replace(/^\s+/,"")}).join("")};gl.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var r=null,s=null,a=null;return t.forEach(function(i){i.added?s=i:i.removed?a=i:((s||a)&&rw(r,a,s,i),r=i,s=null,a=null)}),(s||a)&&rw(r,a,s,null),t};function rw(t,e,r,s){if(e&&r){var a=e.value.match(/^\s*/)[0],i=e.value.match(/\s*$/)[0],n=r.value.match(/^\s*/)[0],o=r.value.match(/\s*$/)[0];if(t){var l=Y_(a,n);t.value=gf(t.value,n,l),e.value=xo(e.value,l),r.value=xo(r.value,l)}if(s){var c=ew(i,o);s.value=vf(s.value,o,c),e.value=hl(e.value,c),r.value=hl(r.value,c)}}else if(r)t&&(r.value=r.value.replace(/^\s*/,"")),s&&(s.value=s.value.replace(/^\s*/,""));else if(t&&s){var u=s.value.match(/^\s*/)[0],p=e.value.match(/^\s*/)[0],h=e.value.match(/\s*$/)[0],d=Y_(u,p);e.value=xo(e.value,d);var m=ew(xo(u,d),h);e.value=hl(e.value,m),s.value=vf(s.value,u,m),t.value=gf(t.value,u,u.slice(0,u.length-m.length))}else if(s){var f=s.value.match(/^\s*/)[0],v=e.value.match(/\s*$/)[0],g=tw(v,f);e.value=hl(e.value,g)}else if(t){var x=t.value.match(/\s*$/)[0],w=e.value.match(/^\s*/)[0],C=tw(x,w);e.value=xo(e.value,C)}}var Oq=new Gr;Oq.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(vl,"]+|[^\\S\\n\\r]+|[^").concat(vl,"]"),"ug");return t.match(e)||[]};var yl=new Gr;yl.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var r=[],s=t.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(var a=0;a<s.length;a++){var i=s[a];a%2&&!e.newlineIsToken?r[r.length-1]+=i:r.push(i)}return r};yl.equals=function(t,e,r){return r.ignoreWhitespace?((!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),Gr.prototype.equals.call(this,t,e,r)};function sw(t,e,r){return yl.diff(t,e,r)}var kq=new Gr;kq.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var Aq=new Gr;Aq.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function aw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function nw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(r),!0).forEach(function(s){Lq(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Iq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dq(t){var e=Iq(t,"string");return typeof e=="symbol"?e:e+""}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Lq(t,e,r){return e=Dq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hf(t){return Nq(t)||$q(t)||Fq(t)||jq()}function Nq(t){if(Array.isArray(t))return xf(t)}function $q(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fq(t,e){if(t){if(typeof t=="string")return xf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xf(t,e)}}function xf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function jq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bo=new Gr;bo.useLongestToken=!0;bo.tokenize=yl.tokenize;bo.castInput=function(t,e){var r=e.undefinedReplacement,s=e.stringifyReplacer,a=s===void 0?function(i,n){return typeof n>"u"?r:n}:s;return typeof t=="string"?t:JSON.stringify(bf(t,null,null,a),a,"  ")};bo.equals=function(t,e,r){return Gr.prototype.equals.call(bo,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),r)};function bf(t,e,r,s,a){e=e||[],r=r||[],s&&(t=s(a,t));var i;for(i=0;i<e.length;i+=1)if(e[i]===t)return r[i];var n;if(Object.prototype.toString.call(t)==="[object Array]"){for(e.push(t),n=new Array(t.length),r.push(n),i=0;i<t.length;i+=1)n[i]=bf(t[i],e,r,s,a);return e.pop(),r.pop(),n}if(t&&t.toJSON&&(t=t.toJSON()),yf(t)==="object"&&t!==null){e.push(t),n={},r.push(n);var o=[],l;for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&o.push(l);for(o.sort(),i=0;i<o.length;i+=1)l=o[i],n[l]=bf(t[l],e,r,s,l);e.pop(),r.pop()}else n=t;return n}var _f=new Gr;_f.tokenize=function(t){return t.slice()};_f.join=_f.removeEmpty=function(t){return t};function iw(t,e,r,s,a,i,n){if(n||(n={}),typeof n=="function"&&(n={callback:n}),typeof n.context>"u"&&(n.context=4),n.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(n.callback){var o=n,l=o.callback;sw(r,s,nw(nw({},n),{},{callback:function(p){var h=c(p);l(h)}}))}else return c(sw(r,s,n));function c(u){if(!u)return;u.push({value:"",lines:[]});function p(N){return N.map(function(I){return" "+I})}for(var h=[],d=0,m=0,f=[],v=1,g=1,x=function(){var I=u[w],j=I.lines||Mq(I.value);if(I.lines=j,I.added||I.removed){var D;if(!d){var k=u[w-1];d=v,m=g,k&&(f=n.context>0?p(k.lines.slice(-n.context)):[],d-=f.length,m-=f.length)}(D=f).push.apply(D,hf(j.map(function(H){return(I.added?"+":"-")+H}))),I.added?g+=j.length:v+=j.length}else{if(d)if(j.length<=n.context*2&&w<u.length-2){var T;(T=f).push.apply(T,hf(p(j)))}else{var L,z=Math.min(j.length,n.context);(L=f).push.apply(L,hf(p(j.slice(0,z))));var V={oldStart:d,oldLines:v-d+z,newStart:m,newLines:g-m+z,lines:f};h.push(V),d=0,m=0,f=[]}v+=j.length,g+=j.length}},w=0;w<u.length;w++)x();for(var C=0,R=h;C<R.length;C++)for(var P=R[C],O=0;O<P.lines.length;O++)P.lines[O].endsWith(`
`)?P.lines[O]=P.lines[O].slice(0,-1):(P.lines.splice(O+1,0,"\\ No newline at end of file"),O++);return{oldFileName:t,newFileName:e,oldHeader:a,newHeader:i,hunks:h}}}function Mq(t){var e=t.endsWith(`
`),r=t.split(`
`).map(function(s){return s+`
`});return e?r.pop():r.push(r.pop().slice(0,-1)),r}function cw(t,e){let r=t,s=[];if(!t&&e.length===1&&e[0]&&e[0].oldString===""&&e[0].newString==="")return"";for(let a of e){let i=a.oldString.replace(/\n+$/,"");for(let o of s)if(i!==""&&o.includes(i))throw new Error("Cannot edit file: old_string is a substring of a new_string from a previous edit.");let n=r;if(a.oldString===""?r=a.newString:r=Uq(r,a.oldString,a.newString,a.replaceAll),r===n)throw new Error("String not found in file. Failed to apply edit.");s.push(a.newString)}if(r===t)throw new Error("Original and edited file match exactly. Failed to apply edit.");return r}function Uq(t,e,r,s=!1){let a=s?(n,o,l)=>n.replaceAll(o,()=>l):(n,o,l)=>n.replace(o,()=>l);return r!==""?a(t,e,r):!e.endsWith(`
`)&&t.includes(e+`
`)?a(t,e+`
`,r):a(t,e,r)}function wf(t,e,r,s){let i=Hq({filePath:t,oldContent:e,newContent:r,singleHunk:s==="single"});return i.length===0?[]:qq(i)}function qq(t){return t.map(e=>{let r=[],s=[],a=[];for(let i of e.lines)i.startsWith(" ")?(r.push(i.slice(1)),s.push(i.slice(1)),a.push(i.slice(1))):i.startsWith("-")?s.push(i.slice(1)):i.startsWith("+")&&a.push(i.slice(1));return{oldString:s.join(`
`),newString:a.join(`
`),replaceAll:!1}})}var lw="<<:AMPERSAND_TOKEN:>>",uw="<<:DOLLAR_TOKEN:>>";function ow(t){return t.replaceAll("&",lw).replaceAll("$",uw)}function zq(t){return t.replaceAll(lw,"&").replaceAll(uw,"$")}var Bq=3;function Hq({filePath:t,oldContent:e,newContent:r,ignoreWhitespace:s=!1,singleHunk:a=!1}){return iw(t,t,ow(e),ow(r),void 0,void 0,{ignoreWhitespace:s,context:a?1e5:Bq}).hunks.map(i=>({...i,lines:i.lines.map(zq)}))}async function dw(t,e,r,s,a,i,n,o,l){let c=s.split("/").pop()||s,u=a.split("/").pop()||a,h=`Claude\u2018s edit: ${c===u?c:`${c} \u2192 ${u}`} (${Math.random().toString(36).substring(2,8)})`;t.info("diff from",s,"to",a,"as",h),fw.push(h);let d=_t.Uri.file(s),m="";try{let V=await _t.workspace.openTextDocument(d);V.isDirty?(m=pw.readFileSync(s,"utf8"),d=e.createFile(s,m).uri):m=V.getText()}catch{t.info("leftTempFileProvider.createFile",s),d=e.createFile(s,"").uri}let f=cw(m,i),g=r.createFile(a,f).uri,x=await _t.workspace.openTextDocument(g);await Vq(t)>0&&await new Promise(V=>setTimeout(V,200));let C=f,R=f,P;_t.workspace.onDidChangeTextDocument(V=>{V.document.uri.toString()===g.toString()&&(C=R,R=V.document.getText(),V.contentChanges.length>3&&V.reason!==_t.TextDocumentChangeReason.Undo&&V.reason!==_t.TextDocumentChangeReason.Redo&&(P={time:Date.now(),contents:C}))});let O=[],N=new Promise(V=>{O.push(_t.workspace.onWillSaveTextDocument(H=>{if(H.document.uri.toString()===g.toString()){let G=H.document.getText();P&&Date.now()-P.time<500&&(G=P.contents),V(G)}}))}),I=new Promise(V=>{O.push(o(H=>{H.activeTab&&H.activeTab.label===h&&V(H)}))}).then(V=>{if(V.accepted)return t.info("diff_accepted",h),wf(a,m,x.getText(),n?"multiple":"single")}),j={preview:!1,preserveFocus:!0},D=await _t.commands.executeCommand("vscode.diff",d,g,h,j);t.info("diff result",D,h,d,g,j);let k=await ai(()=>si().find(V=>V.label===h),1e3);l?.addEventListener("abort",()=>{Za(k,t)});let T=ai(()=>!si().some(V=>V.label===h)).then(()=>{t.info("tab_closed",h)}),L=N.then(async V=>wf(a,m,V,n?"multiple":"single")),z=[T,I];return _t.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),z.push(L)):t.info("files.autoSave is on, need explicit accept"),await Promise.race(z).finally(()=>{O.forEach(V=>V.dispose())}).then(V=>(t.info("diff operation completed",V),V)).finally(()=>{Za(k,t)})}var fw=[];async function Vq(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of _t.window.tabGroups.all)for(let s of r.tabs)s.input instanceof _t.TabInputTextDiff&&fw.includes(s.label)&&(await Za(s,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function mw(t){let e=new _t.EventEmitter;return t.push(_t.commands.registerCommand("claude-vscode.acceptProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r})})),t.push(_t.commands.registerCommand("claude-vscode.rejectProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r})})),e.event}var ia=ae(require("vscode"),1);var xl=ae(require("vscode"),1);var hw=require("node:child_process");function vw(t){let e=t;if(t.startsWith("file://")&&(e=t.substring(7)),!e.startsWith("/")||/^\/[a-zA-Z]:/.test(e))return t;try{return(0,hw.execFileSync)("wsl.exe",["-e","wslpath","-w",e],{encoding:"utf8",stdio:["pipe","pipe","ignore"]}).trim()}catch{return t}}function gw(t){if(process.platform==="win32"){let e=vw(t);return e.startsWith("file://")?xl.Uri.parse(e):xl.Uri.file(e)}else return xl.Uri.parse(t)}function Gq(t){return t.map(e=>({message:e.message,severity:ia.DiagnosticSeverity[e.severity],range:{start:{line:e.range.start.line,character:e.range.start.character},end:{line:e.range.end.line,character:e.range.end.character}},source:e.source,code:e.code?.toString()}))}function _o(t){return(t?(()=>{let r=gw(t);return[[r,ia.languages.getDiagnostics(r)]]})():ia.languages.getDiagnostics()).map(([r,s])=>({uri:r.toString(!0),linesInFile:Wq(r),diagnostics:Gq(s)}))}function Wq(t){try{return ia.workspace.textDocuments.find(r=>r.uri.toString()===t.toString())?.lineCount}catch{return}}var bl=class t{static instance;listener;clients;clientCounter;output;constructor(e){this.clients=new Map,this.clientCounter=0,this.output=e}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}registerClient(e){let r=`client_${this.clientCounter++}`;return this.clients.set(r,e),this.startStreaming(),r}unregisterClient(e){this.clients.delete(e)&&(this.output.info(`[DiagnosticStreamManager] Unregistered client ${e}. Total clients: ${this.clients.size}`),this.clients.size===0&&this.stopStreaming())}startStreaming(){this.listener||(this.listener=ia.languages.onDidChangeDiagnostics(e=>{this.notifyDiagnosticsChanged(e.uris)}),this.output.info("[DiagnosticStreamManager] Started streaming diagnostics"))}stopStreaming(){this.listener&&(this.listener.dispose(),this.listener=void 0,this.output.info("[DiagnosticStreamManager] Stopped streaming diagnostics"))}notifyDiagnosticsChanged(e){if(this.clients.size===0)return;let r=e.map(s=>s.toString());this.output.info(`[DiagnosticStreamManager] Notifying ${this.clients.size} clients about diagnostics change for ${e.length} files`),this.clients.forEach((s,a)=>{try{s(r)}catch(i){this.output.error(`[DiagnosticStreamManager] Error notifying client ${a}: ${i}`)}})}dispose(){this.clients.clear(),this.stopStreaming()}};var wl=ae(require("vscode"),1),_l=class{constructor(e){this.logger=e}baselineDiagnostics=new Map;async captureBaseline(e){try{if(e.hook_event_name!=="PreToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let s=_o(r);this.baselineDiagnostics.set(r,s),this.logger.log(`[DiagnosticTracking] Captured baseline diagnostics for ${r}: ${s.length} files`)}}catch(r){this.logger.error(`[DiagnosticTracking] Error capturing baseline diagnostics: ${r}`)}return{continue:!0}}async findDiagnosticsProblems(e){try{if(e.hook_event_name!=="PostToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let s=wl.Uri.file(r),a=wl.window.visibleTextEditors.some(o=>o.document.uri.toString()===s.toString()),i=this.baselineDiagnostics.get(r)||[],n=a?[750,750]:[1e3];for(let o=0;o<n.length;o++){await new Promise(u=>setTimeout(u,n[o]));let l=_o(r),c=this.findNewDiagnostics(i,l);if(c.length>0){this.logger.log(`[DiagnosticTracking] Found ${c.length} new diagnostics for ${r} at ${o+1}s`);let u=this.formatDiagnosticsSummary(c);return this.baselineDiagnostics.delete(r),{continue:!0,hookSpecificOutput:{hookEventName:"PostToolUse",additionalContext:`<ide_diagnostics>${u}</ide_diagnostics>`}}}}this.logger.log(`[DiagnosticTracking] No new diagnostics found for ${r}`),this.baselineDiagnostics.delete(r)}}catch(r){this.logger.error(`[DiagnosticTracking] Error tracking post-tool diagnostics: ${r}`)}return{continue:!0}}extractFilePath(e){if((e.hook_event_name==="PreToolUse"||e.hook_event_name==="PostToolUse")&&(e.tool_name==="Edit"||e.tool_name==="MultiEdit"||e.tool_name==="Write"))return e.tool_input?.file_path}findNewDiagnostics(e,r){let s=[];for(let a of r){let i=e.find(n=>n.uri===a.uri);if(!i)s.push(a);else{let n=i.linesInFile!==void 0&&a.linesInFile!==void 0?Math.abs(i.linesInFile-a.linesInFile):0,o=a.diagnostics.filter(l=>!i.diagnostics.some(c=>this.areDiagnosticsEqual(l,c,n)));o.length>0&&s.push({uri:a.uri,linesInFile:a.linesInFile,diagnostics:o})}}return s}areDiagnosticsEqual(e,r,s){let a=Math.abs((e.range?.start?.line??0)-(r.range?.start?.line??0)),i=Math.abs((e.range?.end?.line??0)-(r.range?.end?.line??0));return e.message===r.message&&e.severity===r.severity&&e.source===r.source&&e.code===r.code&&a<=s&&i<=s&&e.range?.start?.character===r.range?.start?.character&&e.range?.end?.character===r.range?.end?.character}formatDiagnosticsSummary(e){let r=e.flatMap(s=>s.diagnostics.map(a=>({filePath:this.normalizeFileUri(s.uri),line:a.range?.start?.line!==void 0?a.range.start.line+1:0,column:a.range?.start?.character!==void 0?a.range.start.character+1:0,message:a.message,code:a.code||"",severity:a.severity||""})));return JSON.stringify(r,null,2)}normalizeFileUri(e){let r=["file://","_claude_fs_right:","_claude_fs_left:"];for(let s of r)if(e.startsWith(s))return e.slice(s.length);return e}};var Yl=ae(require("path"),1),ar=ae(require("fs"),1),PP=require("child_process"),CP=ae(Cf(),1);var Uo=ae(require("crypto"),1),iP=ae(require("http"),1);function wo(t,e){return function(){return t.apply(e,arguments)}}var{toString:r2}=Object.prototype,{getPrototypeOf:Tf}=Object,El=(t=>e=>{let r=r2.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Wr=t=>(t=t.toLowerCase(),e=>El(e)===t),Pl=t=>e=>typeof e===t,{isArray:ni}=Array,So=Pl("undefined");function s2(t){return t!==null&&!So(t)&&t.constructor!==null&&!So(t.constructor)&&xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var Tw=Wr("ArrayBuffer");function a2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Tw(t.buffer),e}var n2=Pl("string"),xr=Pl("function"),Ow=Pl("number"),Cl=t=>t!==null&&typeof t=="object",i2=t=>t===!0||t===!1,Sl=t=>{if(El(t)!=="object")return!1;let e=Tf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},o2=Wr("Date"),c2=Wr("File"),l2=Wr("Blob"),u2=Wr("FileList"),p2=t=>Cl(t)&&xr(t.pipe),d2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xr(t.append)&&((e=El(t))==="formdata"||e==="object"&&xr(t.toString)&&t.toString()==="[object FormData]"))},f2=Wr("URLSearchParams"),[m2,h2,v2,g2]=["ReadableStream","Request","Response","Headers"].map(Wr),y2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eo(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),ni(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{let i=r?Object.getOwnPropertyNames(t):Object.keys(t),n=i.length,o;for(s=0;s<n;s++)o=i[s],e.call(null,t[o],o,t)}}function kw(t,e){e=e.toLowerCase();let r=Object.keys(t),s=r.length,a;for(;s-- >0;)if(a=r[s],e===a.toLowerCase())return a;return null}var Ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Aw=t=>!So(t)&&t!==Ja;function Rf(){let{caseless:t}=Aw(this)&&this||{},e={},r=(s,a)=>{let i=t&&kw(e,a)||a;Sl(e[i])&&Sl(s)?e[i]=Rf(e[i],s):Sl(s)?e[i]=Rf({},s):ni(s)?e[i]=s.slice():e[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Eo(arguments[s],r);return e}var x2=(t,e,r,{allOwnKeys:s}={})=>(Eo(e,(a,i)=>{r&&xr(a)?t[i]=wo(a,r):t[i]=a},{allOwnKeys:s}),t),b2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_2=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},w2=(t,e,r,s)=>{let a,i,n,o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)n=a[i],(!s||s(n,t,e))&&!o[n]&&(e[n]=t[n],o[n]=!0);t=r!==!1&&Tf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},S2=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let s=t.indexOf(e,r);return s!==-1&&s===r},E2=t=>{if(!t)return null;if(ni(t))return t;let e=t.length;if(!Ow(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},P2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Tf(Uint8Array)),C2=(t,e)=>{let s=(t&&t[Symbol.iterator]).call(t),a;for(;(a=s.next())&&!a.done;){let i=a.value;e.call(t,i[0],i[1])}},R2=(t,e)=>{let r,s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},T2=Wr("HTMLFormElement"),O2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Rw=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),k2=Wr("RegExp"),Iw=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),s={};Eo(r,(a,i)=>{let n;(n=e(a,i,t))!==!1&&(s[i]=n||a)}),Object.defineProperties(t,s)},A2=t=>{Iw(t,(e,r)=>{if(xr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let s=t[r];if(xr(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},I2=(t,e)=>{let r={},s=a=>{a.forEach(i=>{r[i]=!0})};return ni(t)?s(t):s(String(t).split(e)),r},D2=()=>{},L2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function N2(t){return!!(t&&xr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var $2=t=>{let e=new Array(10),r=(s,a)=>{if(Cl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;let i=ni(s)?[]:{};return Eo(s,(n,o)=>{let l=r(n,a+1);!So(l)&&(i[o]=l)}),e[a]=void 0,i}}return s};return r(t,0)},F2=Wr("AsyncFunction"),j2=t=>t&&(Cl(t)||xr(t))&&xr(t.then)&&xr(t.catch),Dw=((t,e)=>t?setImmediate:e?((r,s)=>(Ja.addEventListener("message",({source:a,data:i})=>{a===Ja&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Ja.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",xr(Ja.postMessage)),M2=typeof queueMicrotask<"u"?queueMicrotask.bind(Ja):typeof process<"u"&&process.nextTick||Dw,U={isArray:ni,isArrayBuffer:Tw,isBuffer:s2,isFormData:d2,isArrayBufferView:a2,isString:n2,isNumber:Ow,isBoolean:i2,isObject:Cl,isPlainObject:Sl,isReadableStream:m2,isRequest:h2,isResponse:v2,isHeaders:g2,isUndefined:So,isDate:o2,isFile:c2,isBlob:l2,isRegExp:k2,isFunction:xr,isStream:p2,isURLSearchParams:f2,isTypedArray:P2,isFileList:u2,forEach:Eo,merge:Rf,extend:x2,trim:y2,stripBOM:b2,inherits:_2,toFlatObject:w2,kindOf:El,kindOfTest:Wr,endsWith:S2,toArray:E2,forEachEntry:C2,matchAll:R2,isHTMLForm:T2,hasOwnProperty:Rw,hasOwnProp:Rw,reduceDescriptors:Iw,freezeMethods:A2,toObjectSet:I2,toCamelCase:O2,noop:D2,toFiniteNumber:L2,findKey:kw,global:Ja,isContextDefined:Aw,isSpecCompliantForm:N2,toJSONObject:$2,isAsyncFn:F2,isThenable:j2,setImmediate:Dw,asap:M2};function ii(t,e,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}U.inherits(ii,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});var Lw=ii.prototype,Nw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Nw[t]={value:t}});Object.defineProperties(ii,Nw);Object.defineProperty(Lw,"isAxiosError",{value:!0});ii.from=(t,e,r,s,a,i)=>{let n=Object.create(Lw);return U.toFlatObject(t,n,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ii.call(n,t.message,e,r,s,a),n.cause=t,n.name=t.name,i&&Object.assign(n,i),n};var ce=ii;var MS=ae(jS(),1),$l=MS.default;function Kf(t){return U.isPlainObject(t)||U.isArray(t)}function qS(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function US(t,e,r){return t?t.concat(e).map(function(a,i){return a=qS(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function S4(t){return U.isArray(t)&&!t.some(Kf)}var E4=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function P4(t,e,r){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new($l||FormData),r=U.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!U.isUndefined(v[f])});let s=r.metaTokens,a=r.visitor||u,i=r.dots,n=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(a))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(U.isDate(m))return m.toISOString();if(!l&&U.isBlob(m))throw new ce("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(m)||U.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,f,v){let g=m;if(m&&!v&&typeof m=="object"){if(U.endsWith(f,"{}"))f=s?f:f.slice(0,-2),m=JSON.stringify(m);else if(U.isArray(m)&&S4(m)||(U.isFileList(m)||U.endsWith(f,"[]"))&&(g=U.toArray(m)))return f=qS(f),g.forEach(function(w,C){!(U.isUndefined(w)||w===null)&&e.append(n===!0?US([f],C,i):n===null?f:f+"[]",c(w))}),!1}return Kf(m)?!0:(e.append(US(v,f,i),c(m)),!1)}let p=[],h=Object.assign(E4,{defaultVisitor:u,convertValue:c,isVisitable:Kf});function d(m,f){if(!U.isUndefined(m)){if(p.indexOf(m)!==-1)throw Error("Circular reference detected in "+f.join("."));p.push(m),U.forEach(m,function(g,x){(!(U.isUndefined(g)||g===null)&&a.call(e,g,U.isString(x)?x.trim():x,f,h))===!0&&d(g,f?f.concat(x):[x])}),p.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return d(t),e}var oa=P4;function zS(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function BS(t,e){this._pairs=[],t&&oa(t,this,e)}var HS=BS.prototype;HS.append=function(e,r){this._pairs.push([e,r])};HS.toString=function(e){let r=e?function(s){return e.call(this,s,zS)}:zS;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};var VS=BS;function C4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xa(t,e,r){if(!e)return t;let s=r&&r.encode||C4;U.isFunction(r)&&(r={serialize:r});let a=r&&r.serialize,i;if(a?i=a(e,r):i=U.isURLSearchParams(e)?e.toString():new VS(e,r).toString(s),i){let n=t.indexOf("#");n!==-1&&(t=t.slice(0,n)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}var Jf=class{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(s){s!==null&&e(s)})}},Qf=Jf;var pi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var KS=ae(require("crypto"),1);var GS=ae(require("url"),1),WS=GS.default.URLSearchParams;var Xf="abcdefghijklmnopqrstuvwxyz",ZS="0123456789",JS={DIGIT:ZS,ALPHA:Xf,ALPHA_DIGIT:Xf+Xf.toUpperCase()+ZS},R4=(t=16,e=JS.ALPHA_DIGIT)=>{let r="",{length:s}=e,a=new Uint32Array(t);KS.default.randomFillSync(a);for(let i=0;i<t;i++)r+=e[a[i]%s];return r},QS={isNode:!0,classes:{URLSearchParams:WS,FormData:$l,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:JS,generateString:R4,protocols:["http","https","file","data"]};var tm={};Sp(tm,{hasBrowserEnv:()=>em,hasStandardBrowserEnv:()=>T4,hasStandardBrowserWebWorkerEnv:()=>O4,navigator:()=>Yf,origin:()=>k4});var em=typeof window<"u"&&typeof document<"u",Yf=typeof navigator=="object"&&navigator||void 0,T4=em&&(!Yf||["ReactNative","NativeScript","NS"].indexOf(Yf.product)<0),O4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",k4=em&&window.location.href||"http://localhost";var lt={...tm,...QS};function rm(t,e){return oa(t,new lt.classes.URLSearchParams,Object.assign({visitor:function(r,s,a,i){return lt.isNode&&U.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function A4(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function I4(t){let e={},r=Object.keys(t),s,a=r.length,i;for(s=0;s<a;s++)i=r[s],e[i]=t[i];return e}function D4(t){function e(r,s,a,i){let n=r[i++];if(n==="__proto__")return!0;let o=Number.isFinite(+n),l=i>=r.length;return n=!n&&U.isArray(a)?a.length:n,l?(U.hasOwnProp(a,n)?a[n]=[a[n],s]:a[n]=s,!o):((!a[n]||!U.isObject(a[n]))&&(a[n]=[]),e(r,s,a[n],i)&&U.isArray(a[n])&&(a[n]=I4(a[n])),!o)}if(U.isFormData(t)&&U.isFunction(t.entries)){let r={};return U.forEachEntry(t,(s,a)=>{e(A4(s),a,r,0)}),r}return null}var Fl=D4;function L4(t,e,r){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}var sm={transitional:pi,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return a?JSON.stringify(Fl(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rm(e,this.formSerializer).toString();if((o=U.isFileList(e))||s.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return oa(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),L4(e)):e}],transformResponse:[function(e){let r=this.transitional||sm.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(s&&!this.responseType||a)){let n=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(n)throw o.name==="SyntaxError"?ce.from(o,ce.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{sm.headers[t]={}});var di=sm;var N4=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XS=t=>{let e={},r,s,a;return t&&t.split(`
`).forEach(function(n){a=n.indexOf(":"),r=n.substring(0,a).trim().toLowerCase(),s=n.substring(a+1).trim(),!(!r||e[r]&&N4[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e};var YS=Symbol("internals");function Oo(t){return t&&String(t).trim().toLowerCase()}function jl(t){return t===!1||t==null?t:U.isArray(t)?t.map(jl):String(t)}function $4(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}var F4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function am(t,e,r,s,a){if(U.isFunction(s))return s.call(this,e,r);if(a&&(e=r),!!U.isString(e)){if(U.isString(s))return e.indexOf(s)!==-1;if(U.isRegExp(s))return s.test(e)}}function j4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function M4(t,e){let r=U.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(a,i,n){return this[s].call(this,e,a,i,n)},configurable:!0})})}var fi=class{constructor(e){e&&this.set(e)}set(e,r,s){let a=this;function i(o,l,c){let u=Oo(l);if(!u)throw new Error("header name must be a non-empty string");let p=U.findKey(a,u);(!p||a[p]===void 0||c===!0||c===void 0&&a[p]!==!1)&&(a[p||l]=jl(o))}let n=(o,l)=>U.forEach(o,(c,u)=>i(c,u,l));if(U.isPlainObject(e)||e instanceof this.constructor)n(e,r);else if(U.isString(e)&&(e=e.trim())&&!F4(e))n(XS(e),r);else if(U.isHeaders(e))for(let[o,l]of e.entries())i(l,o,s);else e!=null&&i(r,e,s);return this}get(e,r){if(e=Oo(e),e){let s=U.findKey(this,e);if(s){let a=this[s];if(!r)return a;if(r===!0)return $4(a);if(U.isFunction(r))return r.call(this,a,s);if(U.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Oo(e),e){let s=U.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||am(this,this[s],s,r)))}return!1}delete(e,r){let s=this,a=!1;function i(n){if(n=Oo(n),n){let o=U.findKey(s,n);o&&(!r||am(s,s[o],o,r))&&(delete s[o],a=!0)}}return U.isArray(e)?e.forEach(i):i(e),a}clear(e){let r=Object.keys(this),s=r.length,a=!1;for(;s--;){let i=r[s];(!e||am(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){let r=this,s={};return U.forEach(this,(a,i)=>{let n=U.findKey(s,i);if(n){r[n]=jl(a),delete r[i];return}let o=e?j4(i):String(i).trim();o!==i&&delete r[i],r[o]=jl(a),s[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return U.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=e&&U.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let s=new this(e);return r.forEach(a=>s.set(a)),s}static accessor(e){let s=(this[YS]=this[YS]={accessors:{}}).accessors,a=this.prototype;function i(n){let o=Oo(n);s[o]||(M4(a,n),s[o]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}};fi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(fi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});U.freezeMethods(fi);var wt=fi;function ko(t,e){let r=this||di,s=e||r,a=wt.from(s.headers),i=s.data;return U.forEach(t,function(o){i=o.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function Ao(t){return!!(t&&t.__CANCEL__)}function eE(t,e,r){ce.call(this,t??"canceled",ce.ERR_CANCELED,e,r),this.name="CanceledError"}U.inherits(eE,ce,{__CANCEL__:!0});var br=eE;function ds(t,e,r){let s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new ce("Request failed with status code "+r.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function nm(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function im(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ya(t,e,r){let s=!nm(e);return t&&(s||r==!1)?im(t,e):e}var FE=ae(rE(),1),jE=ae(require("http"),1),ME=ae(require("https"),1),UE=ae(require("util"),1),qE=ae(_E(),1),Ns=ae(require("zlib"),1);var sn="1.8.4";function $o(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var Cz=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function wm(t,e,r){let s=r&&r.Blob||lt.classes.Blob,a=$o(t);if(e===void 0&&s&&(e=!0),a==="data"){t=a.length?t.slice(a.length+1):t;let i=Cz.exec(t);if(!i)throw new ce("Invalid URL",ce.ERR_INVALID_URL);let n=i[1],o=i[2],l=i[3],c=Buffer.from(decodeURIComponent(l),o?"base64":"utf8");if(e){if(!s)throw new ce("Blob is not supported",ce.ERR_NOT_SUPPORT);return new s([c],{type:n})}return c}throw new ce("Unsupported protocol "+a,ce.ERR_NOT_SUPPORT)}var an=ae(require("stream"),1);var wE=ae(require("stream"),1);var Sm=Symbol("internals"),Em=class extends wE.default.Transform{constructor(e){e=U.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(s,a)=>!U.isUndefined(a[s])),super({readableHighWaterMark:e.chunkSize});let r=this[Sm]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",s=>{s==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[Sm];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,s){let a=this[Sm],i=a.maxRate,n=this.readableHighWaterMark,o=a.timeWindow,l=1e3/o,c=i/l,u=a.minChunkSize!==!1?Math.max(a.minChunkSize,c*.01):0,p=(d,m)=>{let f=Buffer.byteLength(d);a.bytesSeen+=f,a.bytes+=f,a.isCaptured&&this.emit("progress",a.bytesSeen),this.push(d)?process.nextTick(m):a.onReadCallback=()=>{a.onReadCallback=null,process.nextTick(m)}},h=(d,m)=>{let f=Buffer.byteLength(d),v=null,g=n,x,w=0;if(i){let C=Date.now();(!a.ts||(w=C-a.ts)>=o)&&(a.ts=C,x=c-a.bytes,a.bytes=x<0?-x:0,w=0),x=c-a.bytes}if(i){if(x<=0)return setTimeout(()=>{m(null,d)},o-w);x<g&&(g=x)}g&&f>g&&f-g>u&&(v=d.subarray(g),d=d.subarray(0,g)),p(d,v?()=>{process.nextTick(m,null,v)}:m)};h(e,function d(m,f){if(m)return s(m);f?h(f,d):s(null)})}},Pm=Em;var zE=require("events");var EE=ae(require("util"),1),PE=require("stream");var{asyncIterator:SE}=Symbol,Rz=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[SE]?yield*t[SE]():yield t},Hl=Rz;var Tz=lt.ALPHABET.ALPHA_DIGIT+"-_",Fo=typeof TextEncoder=="function"?new TextEncoder:new EE.default.TextEncoder,ca=`\r
`,Oz=Fo.encode(ca),kz=2,Cm=class{constructor(e,r){let{escapeName:s}=this.constructor,a=U.isString(r),i=`Content-Disposition: form-data; name="${s(e)}"${!a&&r.name?`; filename="${s(r.name)}"`:""}${ca}`;a?r=Fo.encode(String(r).replace(/\r?\n|\r\n?/g,ca)):i+=`Content-Type: ${r.type||"application/octet-stream"}${ca}`,this.headers=Fo.encode(i+ca),this.contentLength=a?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+kz,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;U.isTypedArray(e)?yield e:yield*Hl(e),yield Oz}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},Az=(t,e,r)=>{let{tag:s="form-data-boundary",size:a=25,boundary:i=s+"-"+lt.generateString(a,Tz)}=r||{};if(!U.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let n=Fo.encode("--"+i+ca),o=Fo.encode("--"+i+"--"+ca+ca),l=o.byteLength,c=Array.from(t.entries()).map(([p,h])=>{let d=new Cm(p,h);return l+=d.size,d});l+=n.byteLength*c.length,l=U.toFiniteNumber(l);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(l)&&(u["Content-Length"]=l),e&&e(u),PE.Readable.from(async function*(){for(let p of c)yield n,yield*p.encode();yield o}())},CE=Az;var RE=ae(require("stream"),1),Rm=class extends RE.default.Transform{__transform(e,r,s){this.push(e),s()}_transform(e,r,s){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let a=Buffer.alloc(2);a[0]=120,a[1]=156,this.push(a,r)}this.__transform(e,r,s)}},TE=Rm;var Iz=(t,e)=>U.isAsyncFn(t)?function(...r){let s=r.pop();t.apply(this,r).then(a=>{try{e?s(null,...e(a)):s(null,a)}catch(i){s(i)}},s)}:t,OE=Iz;function Dz(t,e){t=t||10;let r=new Array(t),s=new Array(t),a=0,i=0,n;return e=e!==void 0?e:1e3,function(l){let c=Date.now(),u=s[i];n||(n=c),r[a]=l,s[a]=c;let p=i,h=0;for(;p!==a;)h+=r[p++],p=p%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),c-n<e)return;let d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}var kE=Dz;function Lz(t,e){let r=0,s=1e3/e,a,i,n=(c,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{let u=Date.now(),p=u-r;p>=s?n(c,u):(a=c,i||(i=setTimeout(()=>{i=null,n(a)},s-p)))},()=>a&&n(a)]}var AE=Lz;var Ls=(t,e,r=3)=>{let s=0,a=kE(50,250);return AE(i=>{let n=i.loaded,o=i.lengthComputable?i.total:void 0,l=n-s,c=a(l),u=n<=o;s=n;let p={loaded:n,total:o,progress:o?n/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-n)/c:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},r)},yi=(t,e)=>{let r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},xi=t=>(...e)=>U.asap(()=>t(...e));var IE={flush:Ns.default.constants.Z_SYNC_FLUSH,finishFlush:Ns.default.constants.Z_SYNC_FLUSH},Nz={flush:Ns.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Ns.default.constants.BROTLI_OPERATION_FLUSH},DE=U.isFunction(Ns.default.createBrotliDecompress),{http:$z,https:Fz}=qE.default,jz=/https:?/,LE=lt.protocols.map(t=>t+":"),NE=(t,[e,r])=>(t.on("end",r).on("error",r),e);function Mz(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function BE(t,e,r){let s=e;if(!s&&s!==!1){let a=FE.default.getProxyForUrl(r);a&&(s=new URL(a))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let i=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");let a=s.hostname||s.host;t.hostname=a,t.host=a,t.port=s.port,t.path=r,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(i){BE(i,e,i.href)}}var Uz=typeof process<"u"&&U.kindOf(process)==="process",qz=t=>new Promise((e,r)=>{let s,a,i=(l,c)=>{a||(a=!0,s&&s(l,c))},n=l=>{i(l),e(l)},o=l=>{i(l,!0),r(l)};t(n,o,l=>s=l).catch(o)}),zz=({address:t,family:e})=>{if(!U.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},$E=(t,e)=>zz(U.isObject(t)?t:{address:t,family:e}),HE=Uz&&function(e){return qz(async function(s,a,i){let{data:n,lookup:o,family:l}=e,{responseType:c,responseEncoding:u}=e,p=e.method.toUpperCase(),h,d=!1,m;if(o){let H=OE(o,G=>U.isArray(G)?G:[G]);o=(G,K,W)=>{H(G,K,(ee,ne,Je)=>{if(ee)return W(ee);let ge=U.isArray(ne)?ne.map(Ee=>$E(Ee)):[$E(ne,Je)];K.all?W(ee,ge):W(ee,ge[0].address,ge[0].family)})}}let f=new zE.EventEmitter,v=()=>{e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g),f.removeAllListeners()};i((H,G)=>{h=!0,G&&(d=!0,v())});function g(H){f.emit("abort",!H||H.type?new br(null,e,m):H)}f.once("abort",a),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g)));let x=Ya(e.baseURL,e.url,e.allowAbsoluteUrls),w=new URL(x,lt.hasBrowserEnv?lt.origin:void 0),C=w.protocol||LE[0];if(C==="data:"){let H;if(p!=="GET")return ds(s,a,{status:405,statusText:"method not allowed",headers:{},config:e});try{H=wm(e.url,c==="blob",{Blob:e.env&&e.env.Blob})}catch(G){throw ce.from(G,ce.ERR_BAD_REQUEST,e)}return c==="text"?(H=H.toString(u),(!u||u==="utf8")&&(H=U.stripBOM(H))):c==="stream"&&(H=an.default.Readable.from(H)),ds(s,a,{data:H,status:200,statusText:"OK",headers:new wt,config:e})}if(LE.indexOf(C)===-1)return a(new ce("Unsupported protocol "+C,ce.ERR_BAD_REQUEST,e));let R=wt.from(e.headers).normalize();R.set("User-Agent","axios/"+sn,!1);let{onUploadProgress:P,onDownloadProgress:O}=e,N=e.maxRate,I,j;if(U.isSpecCompliantForm(n)){let H=R.getContentType(/boundary=([-_\w\d]{10,70})/i);n=CE(n,G=>{R.set(G)},{tag:`axios-${sn}-boundary`,boundary:H&&H[1]||void 0})}else if(U.isFormData(n)&&U.isFunction(n.getHeaders)){if(R.set(n.getHeaders()),!R.hasContentLength())try{let H=await UE.default.promisify(n.getLength).call(n);Number.isFinite(H)&&H>=0&&R.setContentLength(H)}catch{}}else if(U.isBlob(n)||U.isFile(n))n.size&&R.setContentType(n.type||"application/octet-stream"),R.setContentLength(n.size||0),n=an.default.Readable.from(Hl(n));else if(n&&!U.isStream(n)){if(!Buffer.isBuffer(n))if(U.isArrayBuffer(n))n=Buffer.from(new Uint8Array(n));else if(U.isString(n))n=Buffer.from(n,"utf-8");else return a(new ce("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",ce.ERR_BAD_REQUEST,e));if(R.setContentLength(n.length,!1),e.maxBodyLength>-1&&n.length>e.maxBodyLength)return a(new ce("Request body larger than maxBodyLength limit",ce.ERR_BAD_REQUEST,e))}let D=U.toFiniteNumber(R.getContentLength());U.isArray(N)?(I=N[0],j=N[1]):I=j=N,n&&(P||I)&&(U.isStream(n)||(n=an.default.Readable.from(n,{objectMode:!1})),n=an.default.pipeline([n,new Pm({maxRate:U.toFiniteNumber(I)})],U.noop),P&&n.on("progress",NE(n,yi(D,Ls(xi(P),!1,3)))));let k;if(e.auth){let H=e.auth.username||"",G=e.auth.password||"";k=H+":"+G}if(!k&&w.username){let H=w.username,G=w.password;k=H+":"+G}k&&R.delete("authorization");let T;try{T=Xa(w.pathname+w.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(H){let G=new Error(H.message);return G.config=e,G.url=e.url,G.exists=!0,a(G)}R.set("Accept-Encoding","gzip, compress, deflate"+(DE?", br":""),!1);let L={path:T,method:p,headers:R.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:k,protocol:C,family:l,beforeRedirect:Mz,beforeRedirects:{}};!U.isUndefined(o)&&(L.lookup=o),e.socketPath?L.socketPath=e.socketPath:(L.hostname=w.hostname.startsWith("[")?w.hostname.slice(1,-1):w.hostname,L.port=w.port,BE(L,e.proxy,C+"//"+w.hostname+(w.port?":"+w.port:"")+L.path));let z,V=jz.test(L.protocol);if(L.agent=V?e.httpsAgent:e.httpAgent,e.transport?z=e.transport:e.maxRedirects===0?z=V?ME.default:jE.default:(e.maxRedirects&&(L.maxRedirects=e.maxRedirects),e.beforeRedirect&&(L.beforeRedirects.config=e.beforeRedirect),z=V?Fz:$z),e.maxBodyLength>-1?L.maxBodyLength=e.maxBodyLength:L.maxBodyLength=1/0,e.insecureHTTPParser&&(L.insecureHTTPParser=e.insecureHTTPParser),m=z.request(L,function(G){if(m.destroyed)return;let K=[G],W=+G.headers["content-length"];if(O||j){let Ee=new Pm({maxRate:U.toFiniteNumber(j)});O&&Ee.on("progress",NE(Ee,yi(W,Ls(xi(O),!0,3)))),K.push(Ee)}let ee=G,ne=G.req||m;if(e.decompress!==!1&&G.headers["content-encoding"])switch((p==="HEAD"||G.statusCode===204)&&delete G.headers["content-encoding"],(G.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":K.push(Ns.default.createUnzip(IE)),delete G.headers["content-encoding"];break;case"deflate":K.push(new TE),K.push(Ns.default.createUnzip(IE)),delete G.headers["content-encoding"];break;case"br":DE&&(K.push(Ns.default.createBrotliDecompress(Nz)),delete G.headers["content-encoding"])}ee=K.length>1?an.default.pipeline(K,U.noop):K[0];let Je=an.default.finished(ee,()=>{Je(),v()}),ge={status:G.statusCode,statusText:G.statusMessage,headers:new wt(G.headers),config:e,request:ne};if(c==="stream")ge.data=ee,ds(s,a,ge);else{let Ee=[],we=0;ee.on("data",function(M){Ee.push(M),we+=M.length,e.maxContentLength>-1&&we>e.maxContentLength&&(d=!0,ee.destroy(),a(new ce("maxContentLength size of "+e.maxContentLength+" exceeded",ce.ERR_BAD_RESPONSE,e,ne)))}),ee.on("aborted",function(){if(d)return;let M=new ce("stream has been aborted",ce.ERR_BAD_RESPONSE,e,ne);ee.destroy(M),a(M)}),ee.on("error",function(M){m.destroyed||a(ce.from(M,null,e,ne))}),ee.on("end",function(){try{let M=Ee.length===1?Ee[0]:Buffer.concat(Ee);c!=="arraybuffer"&&(M=M.toString(u),(!u||u==="utf8")&&(M=U.stripBOM(M))),ge.data=M}catch(M){return a(ce.from(M,null,e,ge.request,ge))}ds(s,a,ge)})}f.once("abort",Ee=>{ee.destroyed||(ee.emit("error",Ee),ee.destroy())})}),f.once("abort",H=>{a(H),m.destroy(H)}),m.on("error",function(G){a(ce.from(G,null,e,m))}),m.on("socket",function(G){G.setKeepAlive(!0,1e3*60)}),e.timeout){let H=parseInt(e.timeout,10);if(Number.isNaN(H)){a(new ce("error trying to parse `config.timeout` to int",ce.ERR_BAD_OPTION_VALUE,e,m));return}m.setTimeout(H,function(){if(h)return;let K=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",W=e.transitional||pi;e.timeoutErrorMessage&&(K=e.timeoutErrorMessage),a(new ce(K,W.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,m)),g()})}if(U.isStream(n)){let H=!1,G=!1;n.on("end",()=>{H=!0}),n.once("error",K=>{G=!0,m.destroy(K)}),n.on("close",()=>{!H&&!G&&g(new br("Request stream has been aborted",e,m))}),n.pipe(m)}else m.end(n)})};var VE=lt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,lt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0;var GE=lt.hasStandardBrowserEnv?{write(t,e,r,s,a,i){let n=[t+"="+encodeURIComponent(e)];U.isNumber(r)&&n.push("expires="+new Date(r).toGMTString()),U.isString(s)&&n.push("path="+s),U.isString(a)&&n.push("domain="+a),i===!0&&n.push("secure"),document.cookie=n.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var WE=t=>t instanceof wt?{...t}:t;function Kr(t,e){e=e||{};let r={};function s(c,u,p,h){return U.isPlainObject(c)&&U.isPlainObject(u)?U.merge.call({caseless:h},c,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function a(c,u,p,h){if(U.isUndefined(u)){if(!U.isUndefined(c))return s(void 0,c,p,h)}else return s(c,u,p,h)}function i(c,u){if(!U.isUndefined(u))return s(void 0,u)}function n(c,u){if(U.isUndefined(u)){if(!U.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function o(c,u,p){if(p in e)return s(c,u);if(p in t)return s(void 0,c)}let l={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:o,headers:(c,u,p)=>a(WE(c),WE(u),p,!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(u){let p=l[u]||a,h=p(t[u],e[u],u);U.isUndefined(h)&&p!==o||(r[u]=h)}),r}var Vl=t=>{let e=Kr({},t),{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:n,auth:o}=e;e.headers=n=wt.from(n),e.url=Xa(Ya(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&n.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(U.isFormData(r)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((l=n.getContentType())!==!1){let[c,...u]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];n.setContentType([c||"multipart/form-data",...u].join("; "))}}if(lt.hasStandardBrowserEnv&&(s&&U.isFunction(s)&&(s=s(e)),s||s!==!1&&VE(e.url))){let c=a&&i&&GE.read(i);c&&n.set(a,c)}return e};var Bz=typeof XMLHttpRequest<"u",ZE=Bz&&function(t){return new Promise(function(r,s){let a=Vl(t),i=a.data,n=wt.from(a.headers).normalize(),{responseType:o,onUploadProgress:l,onDownloadProgress:c}=a,u,p,h,d,m;function f(){d&&d(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;let w=wt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:t,request:v};ds(function(O){r(O),f()},function(O){s(O),f()},R),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(s(new ce("Request aborted",ce.ECONNABORTED,t,v)),v=null)},v.onerror=function(){s(new ce("Network Error",ce.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded",R=a.transitional||pi;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),s(new ce(C,R.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,v)),v=null},i===void 0&&n.setContentType(null),"setRequestHeader"in v&&U.forEach(n.toJSON(),function(C,R){v.setRequestHeader(R,C)}),U.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),c&&([h,m]=Ls(c,!0),v.addEventListener("progress",h)),l&&v.upload&&([p,d]=Ls(l),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",d)),(a.cancelToken||a.signal)&&(u=w=>{v&&(s(!w||w.type?new br(null,t,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));let x=$o(a.url);if(x&&lt.protocols.indexOf(x)===-1){s(new ce("Unsupported protocol "+x+":",ce.ERR_BAD_REQUEST,t));return}v.send(i||null)})};var Hz=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,a,i=function(c){if(!a){a=!0,o();let u=c instanceof Error?c:this.reason;s.abort(u instanceof ce?u:new br(u instanceof Error?u.message:u))}},n=e&&setTimeout(()=>{n=null,i(new ce(`timeout ${e} of ms exceeded`,ce.ETIMEDOUT))},e),o=()=>{t&&(n&&clearTimeout(n),n=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));let{signal:l}=s;return l.unsubscribe=()=>U.asap(o),l}},KE=Hz;var Vz=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let s=0,a;for(;s<r;)a=s+e,yield t.slice(s,a),s=a},Gz=async function*(t,e){for await(let r of Wz(t))yield*Vz(r,e)},Wz=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},Tm=(t,e,r,s)=>{let a=Gz(t,e),i=0,n,o=l=>{n||(n=!0,s&&s(l))};return new ReadableStream({async pull(l){try{let{done:c,value:u}=await a.next();if(c){o(),l.close();return}let p=u.byteLength;if(r){let h=i+=p;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),a.return()}},{highWaterMark:2})};var Wl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QE=Wl&&typeof ReadableStream=="function",Zz=Wl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),XE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Kz=QE&&XE(()=>{let t=!1,e=new Request(lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),JE=64*1024,Om=QE&&XE(()=>U.isReadableStream(new Response("").body)),Gl={stream:Om&&(t=>t.body)};Wl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gl[e]&&(Gl[e]=U.isFunction(t[e])?r=>r[e]():(r,s)=>{throw new ce(`Response type '${e}' is not supported`,ce.ERR_NOT_SUPPORT,s)})})})(new Response);var Jz=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(lt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await Zz(t)).byteLength},Qz=async(t,e)=>{let r=U.toFiniteNumber(t.getContentLength());return r??Jz(e)},YE=Wl&&(async t=>{let{url:e,method:r,data:s,signal:a,cancelToken:i,timeout:n,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:p="same-origin",fetchOptions:h}=Vl(t);c=c?(c+"").toLowerCase():"text";let d=KE([a,i&&i.toAbortSignal()],n),m,f=d&&d.unsubscribe&&(()=>{d.unsubscribe()}),v;try{if(l&&Kz&&r!=="get"&&r!=="head"&&(v=await Qz(u,s))!==0){let R=new Request(e,{method:"POST",body:s,duplex:"half"}),P;if(U.isFormData(s)&&(P=R.headers.get("content-type"))&&u.setContentType(P),R.body){let[O,N]=yi(v,Ls(xi(l)));s=Tm(R.body,JE,O,N)}}U.isString(p)||(p=p?"include":"omit");let g="credentials"in Request.prototype;m=new Request(e,{...h,signal:d,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:g?p:void 0});let x=await fetch(m),w=Om&&(c==="stream"||c==="response");if(Om&&(o||w&&f)){let R={};["status","statusText","headers"].forEach(I=>{R[I]=x[I]});let P=U.toFiniteNumber(x.headers.get("content-length")),[O,N]=o&&yi(P,Ls(xi(o),!0))||[];x=new Response(Tm(x.body,JE,O,()=>{N&&N(),f&&f()}),R)}c=c||"text";let C=await Gl[U.findKey(Gl,c)||"text"](x,t);return!w&&f&&f(),await new Promise((R,P)=>{ds(R,P,{data:C,headers:wt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(g){throw f&&f(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,t,m),{cause:g.cause||g}):ce.from(g,g&&g.code,t,m)}});var km={http:HE,xhr:ZE,fetch:YE};U.forEach(km,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var eP=t=>`- ${t}`,Xz=t=>U.isFunction(t)||t===null||t===!1,Zl={getAdapter:t=>{t=U.isArray(t)?t:[t];let{length:e}=t,r,s,a={};for(let i=0;i<e;i++){r=t[i];let n;if(s=r,!Xz(r)&&(s=km[(n=String(r)).toLowerCase()],s===void 0))throw new ce(`Unknown adapter '${n}'`);if(s)break;a[n||"#"+i]=s}if(!s){let i=Object.entries(a).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build")),n=e?i.length>1?`since :
`+i.map(eP).join(`
`):" "+eP(i[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s},adapters:km};function Am(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new br(null,t)}function Kl(t){return Am(t),t.headers=wt.from(t.headers),t.data=ko.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zl.getAdapter(t.adapter||di.adapter)(t).then(function(s){return Am(t),s.data=ko.call(t,t.transformResponse,s),s.headers=wt.from(s.headers),s},function(s){return Ao(s)||(Am(t),s&&s.response&&(s.response.data=ko.call(t,t.transformResponse,s.response),s.response.headers=wt.from(s.response.headers))),Promise.reject(s)})}var Jl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});var tP={};Jl.transitional=function(e,r,s){function a(i,n){return"[Axios v"+sn+"] Transitional option '"+i+"'"+n+(s?". "+s:"")}return(i,n,o)=>{if(e===!1)throw new ce(a(n," has been removed"+(r?" in "+r:"")),ce.ERR_DEPRECATED);return r&&!tP[n]&&(tP[n]=!0,console.warn(a(n," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,n,o):!0}};Jl.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Yz(t,e,r){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);let s=Object.keys(t),a=s.length;for(;a-- >0;){let i=s[a],n=e[i];if(n){let o=t[i],l=o===void 0||n(o,i,t);if(l!==!0)throw new ce("option "+i+" must be "+l,ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}}var jo={assertOptions:Yz,validators:Jl};var fs=jo.validators,bi=class{constructor(e){this.defaults=e,this.interceptors={request:new Qf,response:new Qf}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;let i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Kr(this.defaults,r);let{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&jo.assertOptions(s,{silentJSONParsing:fs.transitional(fs.boolean),forcedJSONParsing:fs.transitional(fs.boolean),clarifyTimeoutError:fs.transitional(fs.boolean)},!1),a!=null&&(U.isFunction(a)?r.paramsSerializer={serialize:a}:jo.assertOptions(a,{encode:fs.function,serialize:fs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),jo.assertOptions(r,{baseUrl:fs.spelling("baseURL"),withXsrfToken:fs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let n=i&&U.merge(i.common,i[r.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=wt.concat(n,i);let o=[],l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(l=l&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});let c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,p=0,h;if(!l){let m=[Kl.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),h=m.length,u=Promise.resolve(r);p<h;)u=u.then(m[p++],m[p++]);return u}h=o.length;let d=r;for(p=0;p<h;){let m=o[p++],f=o[p++];try{d=m(d)}catch(v){f.call(this,v);break}}try{u=Kl.call(this,d)}catch(m){return Promise.reject(m)}for(p=0,h=c.length;p<h;)u=u.then(c[p++],c[p++]);return u}getUri(e){e=Kr(this.defaults,e);let r=Ya(e.baseURL,e.url,e.allowAbsoluteUrls);return Xa(r,e.params,e.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(e){bi.prototype[e]=function(r,s){return this.request(Kr(s||{},{method:e,url:r,data:(s||{}).data}))}});U.forEach(["post","put","patch"],function(e){function r(s){return function(i,n,o){return this.request(Kr(o||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}bi.prototype[e]=r(),bi.prototype[e+"Form"]=r(!0)});var Mo=bi;var Im=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i,n=new Promise(o=>{s.subscribe(o),i=o}).then(a);return n.cancel=function(){s.unsubscribe(i)},n},e(function(i,n,o){s.reason||(s.reason=new br(i,n,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(a){e=a}),cancel:e}}},rP=Im;function Dm(t){return function(r){return t.apply(null,r)}}function Lm(t){return U.isObject(t)&&t.isAxiosError===!0}var Nm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nm).forEach(([t,e])=>{Nm[e]=t});var sP=Nm;function aP(t){let e=new Mo(t),r=wo(Mo.prototype.request,e);return U.extend(r,Mo.prototype,e,{allOwnKeys:!0}),U.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return aP(Kr(t,a))},r}var At=aP(di);At.Axios=Mo;At.CanceledError=br;At.CancelToken=rP;At.isCancel=Ao;At.VERSION=sn;At.toFormData=oa;At.AxiosError=ce;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=Dm;At.isAxiosError=Lm;At.mergeConfig=Kr;At.AxiosHeaders=wt;At.formToJSON=t=>Fl(U.isHTMLForm(t)?new FormData(t):t);At.getAdapter=Zl.getAdapter;At.HttpStatusCode=sP;At.default=At;var _i=At;var{Axios:UY,AxiosError:qY,CanceledError:zY,isCancel:BY,CancelToken:HY,VERSION:VY,all:GY,Cancel:WY,isAxiosError:ZY,spread:KY,toFormData:JY,AxiosHeaders:QY,HttpStatusCode:XY,formToJSON:YY,getAdapter:eee,mergeConfig:tee}=_i;function eB(){if(process.env.USER_TYPE==="ant"){if(wd(process.env.USE_LOCAL_OAUTH))return"local";if(wd(process.env.USE_STAGING_OAUTH))return"staging"}return"prod"}var tB="user:inference",rB="org:create_api_key";var $m={SCOPES:[rB,"user:profile",tB]},nP={...$m,BASE_API_URL:"https://api.anthropic.com",CONSOLE_AUTHORIZE_URL:"https://console.anthropic.com/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"https://claude.ai/oauth/authorize",TOKEN_URL:"https://console.anthropic.com/v1/oauth/token",API_KEY_URL:"https://api.anthropic.com/api/oauth/claude_cli/create_api_key",ROLES_URL:"https://api.anthropic.com/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"https://console.anthropic.com/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"https://console.anthropic.com/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://console.anthropic.com/oauth/code/callback",CLIENT_ID:"9d1c250a-e61b-44d9-88ed-5944d1962f5e",OAUTH_FILE_SUFFIX:""};function sB(){return process.env.USER_TYPE==="ant"&&process.env.USE_STAGING_OAUTH==="1"?{...$m,BASE_API_URL:"https://api-staging.anthropic.com",CONSOLE_AUTHORIZE_URL:"https://console.staging.ant.dev/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"https://claude-ai.staging.ant.dev/oauth/authorize",TOKEN_URL:"https://console.staging.ant.dev/v1/oauth/token",API_KEY_URL:"https://api-staging.anthropic.com/api/oauth/claude_cli/create_api_key",ROLES_URL:"https://api-staging.anthropic.com/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"https://console.staging.ant.dev/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"https://console.staging.ant.dev/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://console.staging.ant.dev/oauth/code/callback",CLIENT_ID:"22422756-60c9-4084-8eb7-27705fd5cf9a",OAUTH_FILE_SUFFIX:"-staging-oauth"}:void 0}var aB={...$m,BASE_API_URL:"http://localhost:3000",CONSOLE_AUTHORIZE_URL:"http://localhost:3000/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"http://localhost:4000/oauth/authorize",TOKEN_URL:"http://localhost:3000/v1/oauth/token",API_KEY_URL:"http://localhost:3000/api/oauth/claude_cli/create_api_key",ROLES_URL:"http://localhost:3000/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"http://localhost:3000/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"http://localhost:3000/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://console.staging.ant.dev/oauth/code/callback",CLIENT_ID:"22422756-60c9-4084-8eb7-27705fd5cf9a",OAUTH_FILE_SUFFIX:"-local-oauth"};function $s(){switch(eB()){case"local":return aB;case"staging":return sB()??nP;case"prod":return nP}}var Ql=class{constructor(e){this.logger=e;this.codeVerifier=this.generateCodeVerifier()}codeVerifier;server=null;manualAuthCodeResolver=null;async startOAuthFlow(e,r){let s=await this.startCallbackServer(),a=this.generateCodeChallenge(this.codeVerifier),i=this.generateState(),n=this.buildAuthUrls({codeChallenge:a,state:i,port:s,loginWithClaudeAi:e});await r(n);let{code:o,isManualFlow:l}=await this.waitForAuthorizationCode(i,s,e);return await this.exchangeCodeForTokens(o,i,this.codeVerifier,l?void 0:s)}buildAuthUrls(e){let r=$s(),s=e.loginWithClaudeAi?r.CLAUDE_AI_AUTHORIZE_URL:r.CONSOLE_AUTHORIZE_URL,a=new URL(s);a.searchParams.set("code","true"),a.searchParams.set("client_id",r.CLIENT_ID),a.searchParams.set("response_type","code");let i=r.SCOPES;a.searchParams.set("scope",i.join(" ")),a.searchParams.set("code_challenge",e.codeChallenge),a.searchParams.set("code_challenge_method","S256"),a.searchParams.set("state",e.state),a.searchParams.set("redirect_uri",`http://localhost:${e.port}/callback`);let n=a.toString();a.searchParams.set("redirect_uri",r.MANUAL_REDIRECT_URL);let o=a.toString();return{automaticRedirectUrl:n,manualRedirectUrl:o}}async startCallbackServer(){return new Promise((e,r)=>{this.server=iP.createServer(),this.server.listen(0,"127.0.0.1",()=>{let s=this.server.address();if(!s||typeof s=="string"){r(new Error("Failed to get server address"));return}e(s.port)}),this.server.on("error",r)})}async waitForAuthorizationCode(e,r,s){return new Promise((a,i)=>{if(!this.server){i(new Error("Server not started"));return}this.manualAuthCodeResolver=n=>{let o=n.trim().split("#");if(o[1]!==e)throw new Error("Invalid state parameter");a({code:o[0],isManualFlow:!0})},this.server.on("request",(n,o)=>{let l=new URL(n.url,`http://localhost:${r}`);if(l.pathname==="/callback"){let c=l.searchParams.get("code");if(l.searchParams.get("state")!==e){o.writeHead(400),o.end("Invalid state parameter"),i(new Error("Invalid state parameter"));return}if(!c){o.writeHead(400),o.end("Missing authorization code"),i(new Error("Missing authorization code"));return}let p=s?$s().CLAUDEAI_SUCCESS_URL:$s().CONSOLE_SUCCESS_URL;o.writeHead(302,{Location:p}),o.end(),this.manualAuthCodeResolver=null,a({code:c,isManualFlow:!1})}})})}async exchangeCodeForTokens(e,r,s,a){let i=$s(),n={grant_type:"authorization_code",code:e,redirect_uri:a?`http://localhost:${a}/callback`:i.MANUAL_REDIRECT_URL,client_id:i.CLIENT_ID,code_verifier:s,state:r};try{let o=await _i.post(i.TOKEN_URL,n,{headers:{"Content-Type":"application/json"}});if(o.status!==200)throw new Error(`Token exchange failed: ${o.statusText}`);let l=o.data,c={accessToken:l.access_token,refreshToken:l.refresh_token||null,expiresAt:l.expires_in?Date.now()+l.expires_in*1e3:null,scopes:l.scope?l.scope.split(" "):[],subscriptionType:null};if(c.scopes.includes("user:profile")){let u=await this.fetchProfileInfo(c.accessToken);c.subscriptionType=u.subscriptionType}return c}catch(o){let l=o;throw new Error(`Token exchange failed: ${l.response?.data?.error||l.response?.data?.message||l.message||"Unknown error"}`)}}handleManualAuthCodeInput(e){this.manualAuthCodeResolver&&e&&(this.manualAuthCodeResolver(e),this.manualAuthCodeResolver=null,this.cleanup())}async createApiKey(e){let r=$s();try{return(await _i.post(r.API_KEY_URL,null,{headers:{Authorization:`Bearer ${e}`}})).data?.raw_key||null}catch{return null}}cleanup(){this.server&&(this.server.close(),this.server=null)}generateCodeVerifier(){return Uo.randomBytes(32).toString("base64url")}generateCodeChallenge(e){return Uo.createHash("sha256").update(e).digest("base64url")}generateState(){return Uo.randomBytes(32).toString("base64url")}async fetchProfileInfo(e){try{let r=`${$s().BASE_API_URL}/api/claude_cli_profile`,a=(await _i.get(r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data?.organization?.organization_type,i=null;switch(a){case"claude_max":i="max";break;case"claude_pro":i="pro";break;case"claude_enterprise":i="enterprise";break;case"claude_team":i="team";break;default:i=null;break}return{subscriptionType:i}}catch(r){return this.logger.error(`Failed to fetch subscription: ${r}`),{subscriptionType:null}}}};var RP=require("fs");var lP=require("process"),uP=require("fs"),pP=require("crypto");var oP={name:"BASH_MAX_OUTPUT_LENGTH",default:3e4,validate:t=>{if(!t)return{effective:3e4,status:"valid"};let s=parseInt(t,10);return isNaN(s)||s<=0?{effective:3e4,status:"invalid",message:`Invalid value "${t}" (using default: 30000)`}:s>15e4?{effective:15e4,status:"capped",message:`Capped from ${s} to 150000`}:{effective:s,status:"valid"}}},cP={name:"CLAUDE_CODE_MAX_OUTPUT_TOKENS",default:32e3,validate:t=>{if(!t)return{effective:32e3,status:"valid"};let e=parseInt(t,10);return isNaN(e)||e<=0?{effective:32e3,status:"invalid",message:`Invalid value "${t}" (using default: 32000)`}:e>32e3?{effective:32e3,status:"capped",message:`Capped from ${e} to 32000`}:{effective:e,status:"valid"}}};function nB(){let t=(0,uP.realpathSync)((0,lP.cwd)());return{originalCwd:t,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:t,modelUsage:{},mainLoopModelOverride:void 0,maxRateLimitFallbackActive:!1,initialMainLoopModel:null,modelStrings:null,isNonInteractiveSession:!0,isInteractive:!1,clientType:"cli",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:["userSettings","projectSettings","localSettings","flagSettings","policySettings"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:(0,pP.randomUUID)(),loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[oP,cP],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[]}}var dP=nB();function fP(){return dP.originalCwd}function mP(){return dP.cwd}function iB(){return mP()}function hP(){try{return iB()}catch{return fP()}}var vP=1e3,gP=60;function qo(t,e,r=10*gP*vP){let s;e===void 0?s={}:e instanceof AbortSignal?s={abortSignal:e,timeout:r}:s=e;let{abortSignal:a,timeout:i=10*gP*vP}=s;a?.throwIfAborted();try{let n=as(t,{env:process.env,maxBuffer:1e6,timeout:i,cwd:hP(),stdio:["ignore","pipe","pipe"],shell:!0,reject:!1});return n.stdout&&n.stdout.trim()||null}catch{return null}}var yP=require("crypto");var xP=require("os");function la(t=""){let e=is(),s=!process.env.CLAUDE_CONFIG_DIR?"":`-${(0,yP.createHash)("sha256").update(e).digest("hex").substring(0,8)}`;return`Claude Code${$s().OAUTH_FILE_SUFFIX}${t}${s}`}function wi(){try{return process.env.USER||(0,xP.userInfo)().username}catch{return"claude-code-user"}}var bP={name:"keychain",read(){try{let t=la("-credentials"),e=wi(),r=qo(`security find-generic-password -a "${e}" -w -s "${t}"`);if(r)return JSON.parse(r)}catch{return null}return null},update(t){try{let e=la("-credentials"),r=wi(),a=JSON.stringify(t).replace(/"/g,'\\"'),i=`security add-generic-password -U -a "${r}" -s "${e}" -w "${a}"`;return qo(i),{success:!0}}catch{return{success:!1}}},delete(){try{let t=la("-credentials"),e=wi();return qo(`security delete-generic-password -a "${e}" -s "${t}"`),!0}catch{return!1}}};function _P(t,e){return{name:`${t.name}-with-${e.name}-fallback`,read(){let r=t.read();return r??(e.read()||{})},update(r){let s=t.read(),a=t.update(r);if(a.success)return s===null&&e.delete(),a;let i=e.update(r);return i.success?{success:!0,warning:i.warning}:{success:!1}},delete(){let r=t.delete(),s=e.delete();return r||s}}}var wP=require("path");var $e=ae(require("fs"),1),Fm=require("fs/promises");var oB={cwd(){return process.cwd()},existsSync(t){return $e.existsSync(t)},async stat(t){return(0,Fm.stat)(t)},statSync(t){return $e.statSync(t)},readFileSync(t,e){return $e.readFileSync(t,{encoding:e.encoding})},readFileBytesSync(t){return $e.readFileSync(t)},readSync(t,e){let r;try{r=$e.openSync(t,"r");let s=Buffer.alloc(e.length),a=$e.readSync(r,s,0,e.length,0);return{buffer:s,bytesRead:a}}finally{r&&$e.closeSync(r)}},writeFileSync(t,e,r){if(!r.flush){let a={encoding:r.encoding};r.mode!==void 0&&(a.mode=r.mode),$e.writeFileSync(t,e,a);return}let s;try{let a=r.mode!==void 0?r.mode:void 0;s=$e.openSync(t,"w",a),$e.writeFileSync(s,e,{encoding:r.encoding}),$e.fsyncSync(s)}finally{s&&$e.closeSync(s)}},appendFileSync(t,e){$e.appendFileSync(t,e)},copyFileSync(t,e){$e.copyFileSync(t,e)},unlinkSync(t){$e.unlinkSync(t)},renameSync(t,e){$e.renameSync(t,e)},linkSync(t,e){$e.linkSync(t,e)},symlinkSync(t,e){$e.symlinkSync(t,e)},readlinkSync(t){return $e.readlinkSync(t)},realpathSync(t){return $e.realpathSync(t)},mkdirSync(t){$e.existsSync(t)||$e.mkdirSync(t,{recursive:!0,mode:448})},readdirSync(t){return $e.readdirSync(t,{withFileTypes:!0})},readdirStringSync(t){return $e.readdirSync(t)},isDirEmptySync(t){return this.readdirSync(t).length===0},rmdirSync(t){$e.rmdirSync(t)},rmSync(t,e){$e.rmSync(t,e)},createWriteStream(t){return $e.createWriteStream(t)}},cB=oB;function ua(){return cB}var SP=require("fs");function jm(){let t=is();return{storageDir:t,storagePath:(0,wP.join)(t,".credentials.json")}}var Mm={name:"plaintext",read(){let{storagePath:t}=jm();if(ua().existsSync(t))try{let e=ua().readFileSync(t,{encoding:"utf8"});return JSON.parse(e)}catch{return null}return null},update(t){try{let{storageDir:e,storagePath:r}=jm();return ua().existsSync(e)||ua().mkdirSync(e),ua().writeFileSync(r,JSON.stringify(t),{encoding:"utf8",flush:!1}),(0,SP.chmodSync)(r,384),{success:!0,warning:"Warning: Storing credentials in plaintext."}}catch{return{success:!1}}},delete(){let{storagePath:t}=jm();if(ua().existsSync(t))try{return ua().unlinkSync(t),!0}catch{return!1}return!0}};function Xl(){return process.platform==="darwin"?_P(bP,Mm):Mm}function EP(t){return t.slice(-20)}var Si=class{constructor(e,r){this.logger=e;this.env=r;this.logger.log("AuthManager initialized")}currentOAuthService=null;getAuthStatus(){if(this.logger.log("Getting authentication status"),Um(this.env.CLAUDE_CODE_USE_BEDROCK)||Um(this.env.CLAUDE_CODE_USE_VERTEX)||this.env.ANTHROPIC_API_KEY||this.env.ANTHROPIC_AUTH_TOKEN||Um(this.env.CLAUDE_CODE_SKIP_AUTH_LOGIN))return{authMethod:"3p",email:null,subscriptionType:null};let e=this.getApiKey(),r=this.getOAuthTokens();if(!e&&!r){this.logger.log("No authentication found");return}let s;r?s=r.scopes.includes("user:inference")?"claudeai":"console":s="api-key";let a={authMethod:s,email:null,subscriptionType:r?.subscriptionType||null};return this.logger.log(`Auth status: method=${a.authMethod}`),a}getOAuthTokens(){let s=(Xl().read()||{})?.claudeAiOauth;return s?(this.logger.log("OAuth tokens found in secure storage"),{accessToken:s.accessToken,refreshToken:s.refreshToken||null,expiresAt:s.expiresAt||null,scopes:s.scopes,subscriptionType:s.subscriptionType}):null}getApiKey(){if(process.platform==="darwin")try{let s=(0,CP.quote)(["security","find-generic-password","-a",process.env.USER||"user","-w","-s",la()]),a=(0,PP.execSync)(s,{encoding:"utf8"}).trim();if(a)return this.logger.log("API key found in macOS keychain"),a}catch{this.logger.log("Keychain read failed, trying file fallback")}let e=this.getConfigPath(),r=Yl.join(e,"config.json");if(ar.existsSync(r))try{let s=JSON.parse(ar.readFileSync(r,"utf8"));if(s.primaryApiKey)return this.logger.log("API key found in config file"),s.primaryApiKey}catch{this.logger.warn("Failed to read config file")}return null}saveOAuthTokens(e){this.logger.log("Saving OAuth tokens to secure storage");let r=Xl(),s=r.read()||{};s.claudeAiOauth={accessToken:e.accessToken,refreshToken:e.refreshToken||"",expiresAt:e.expiresAt||Date.now()+1*60*60*1e3,scopes:e.scopes,subscriptionType:e.subscriptionType},r.update(s)}async saveApiKey(e){this.logger.log("Saving API key");let r=this.getConfigPath();ar.existsSync(r)||ar.mkdirSync(r,{recursive:!0});let s=Yl.join(r,"config.json"),a={};if(ar.existsSync(s))try{a=JSON.parse(ar.readFileSync(s,"utf8"))}catch{}if(process.platform==="darwin")try{let n=la();as("security",["add-generic-password","-a",wi(),"-s",n,"-w",e]),this.logger.log("API key saved to macOS keychain named ")}catch(n){throw this.logger.error(`Failed to save API key to keychain: ${n}`),new Error("Unable to save API key to macOS Keychain. Please ensure VS Code has keychain access permissions.")}else a.primaryApiKey=e;a.customApiKeyResponses||(a.customApiKeyResponses={}),a.customApiKeyResponses.approved||(a.customApiKeyResponses.approved=[]);let i=EP(e);a.customApiKeyResponses.approved.includes(i)||a.customApiKeyResponses.approved.push(i);try{ar.writeFileSync(s,JSON.stringify(a,null,2),"utf8"),(0,RP.chmodSync)(s,384),this.logger.log("API key saved to config file")}catch(n){throw this.logger.error(`Failed to save API key: ${n}`),new Error(`Failed to save API key ${n}`)}}async logout(){this.logger.log("Logging out - clearing stored credentials");let e=!0;process.platform==="darwin"&&this.maybeRemoveApiKeyFromMacOSKeychain(),Xl().delete();let s=this.getConfigPath(),a=Yl.join(s,"config.json");if(ar.existsSync(a))try{let i=JSON.parse(ar.readFileSync(a,"utf8"));delete i.primaryApiKey,ar.writeFileSync(a,JSON.stringify(i,null,2),"utf8")}catch{e=!1}return this.logger.log(`Logout ${e?"successful":"failed"}`),e}getConfigPath(){return is()}handleManualAuthCode(e){this.currentOAuthService?(this.logger.log("Handling manual auth code input"),this.currentOAuthService.handleManualAuthCodeInput(e)):this.logger.warn("No active OAuth service to handle manual auth code")}async login(e,r){this.logger.log(`Starting OAuth login flow: method=${e}`),this.currentOAuthService=new Ql(this.logger);try{let s=await this.currentOAuthService.startOAuthFlow(e==="claudeai",r);if(e==="claudeai")this.saveOAuthTokens(s);else if(e==="console"){this.logger.log("Creating API key for Console user");let i=await this.currentOAuthService.createApiKey(s.accessToken);if(!i)throw this.logger.error("Failed to create API key"),new Error("Failed to create API key");await this.saveApiKey(i)}this.logger.log("Login successful");let a=this.getAuthStatus();if(!a)throw new Error("Failed to retrieve auth status after login");return a}finally{this.currentOAuthService&&(this.currentOAuthService.cleanup(),this.currentOAuthService=null)}}maybeRemoveApiKeyFromMacOSKeychain(){if(process.platform==="darwin")try{let e=la();as("security",["delete-generic-password","-a",wi(),"-s",e])}catch(e){this.logger.error(`Failed to remove API key from keychain: ${e}`)}}};function Um(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}var lB=`
# VSCode Extension Context

You are running inside a VSCode native extension environment.

## Code References in Text
IMPORTANT: When referencing files or code locations, use markdown link syntax to make them clickable:
- For files: [filename.ts](src/filename.ts)
- For specific lines: [filename.ts:42](src/filename.ts#L42)
- For a range of lines: [filename.ts:42-51](src/filename.ts#L42-L51)
- For folders: [src/utils/](src/utils/)
Unless explicitly asked for by the user, DO NOT USE backtickets \` or HTML tags like code for file references - always use markdown [text](link) format.
The URL links should be relative paths from the root of  the user's workspace.

## User Selection Context
The user's IDE selection (if any) is included in the conversation context and marked with ide_selection tags. This represents code or text the user has highlighted in their editor and may or may not be relevant to their request.`,zo=class extends Hc{constructor(r,s,a,i,n,o,l,c,u,p,h,d,m,f,v){let g=r.globalState.get("showTerminalBanner");super(s,Ei(n),a,!!v,g===void 0?!0:g,new Si(Ei(n),eu()));this.context=r;this.cwd=s;this.settings=a;this.webview=i;this.output=n;this.leftTempFileProvider=c;this.rightTempFileProvider=u;this.readOnlyTempFileProvider=p;this.acceptOrRejectDiffs=h;this.getCurrentSelection=d;this.isVisible=m;this.makeVisible=f;this.panelTab=v;o(x=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"insert_at_mention",text:x}})}),l(x=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"selection_changed",selection:x}})}),setTimeout(()=>{this.notifyVisibilityChange(this.isVisible())},100)}sendQueue=Promise.resolve();notifyVisibilityChange(r){this.send({type:"request",channelId:"",requestId:"",request:{type:"visibility_changed",isVisible:r}})}send(r){this.sendQueue=this.sendQueue.then(()=>this.webview.postMessage({type:"from-extension",message:r}).then(()=>{}))}async processRequest(r,s){if(r.request.type==="get_current_selection")return{type:"get_current_selection_response",selection:this.getCurrentSelection()};if(r.request.type==="new_conversation_tab")return await Qe.commands.executeCommand("claude-vscode.editor.open",Qe.ViewColumn.Active),{type:"new_conversation_tab_response"};if(r.request.type==="rename_tab")return this.panelTab&&(this.panelTab.title=r.request.title),{type:"rename_tab_response"};if(r.request.type==="show_notification"){let{message:a,severity:i,buttons:n,onlyIfNotVisible:o}=r.request;if(o&&this.isVisible())return{type:"show_notification_response"};let l;switch(i){case"error":l=await Qe.window.showErrorMessage(a,...n||[]);break;case"warning":l=await Qe.window.showWarningMessage(a,...n||[]);break;case"info":default:l=await Qe.window.showInformationMessage(a,...n||[]);break}return l&&this.makeVisible(),{type:"show_notification_response",buttonValue:l}}return super.processRequest(r,s)}spawnClaude(r,s,a,i,n,o,l,c){dB();let u=eu(),p=new _l(Ei(this.output)),h={cwd:n||this.cwd,resume:s,canUseTool:a,permissionMode:o,allowDangerouslySkipPermissions:l,model:i===null?"default":i,stderr:v=>{v.includes("An update to our Consumer Terms and Privacy Policy")&&Qe.window.showErrorMessage("An update to our Consumer Terms and Privacy Policy has taken effect on October 8, 2025. You must run claude in the terminal to review the updated terms.","Resolve in Terminal").then(g=>{g==="Resolve in Terminal"&&this.openClaudeInTerminal()}),this.output.info(`From claude: ${v}`)},env:u,systemPrompt:{type:"preset",preset:"claude_code",append:lB},maxThinkingTokens:c,hooks:{PreToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[v=>p.captureBaseline(v)]}],PostToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[v=>p.findDiagnosticsProblems(v)]}]},settingSources:["user","project","local"],extraArgs:{debug:null,"debug-to-stderr":null}};{let v=pB(this.context);v&&(h.pathToClaudeCodeExecutable=v)}let d=!1;h.pathToClaudeCodeExecutable||(fB(),h.pathToClaudeCodeExecutable=this.context.asAbsolutePath((0,Jr.join)("resources","claude-code","cli.js")),d=!0);let m=Tr("claudeProcessWrapper");return m&&(h.executableArgs=[h.pathToClaudeCodeExecutable],d&&h.executableArgs.unshift("node"),h.pathToClaudeCodeExecutable=m),this.output.info(`Spawning Claude with SDK query function - cwd: ${h.cwd}, permission mode: ${o}, version: 2.0.29, ${h.pathToClaudeCodeExecutable}, resume: ${s}`),J_({prompt:r,options:h})}async openFile(r,s){let a=(0,Jr.isAbsolute)(r)?r:(0,Jr.join)(this.cwd,r);if(!Lr.existsSync(a)&&!(0,Jr.isAbsolute)(r)){let n=await Rd(r);n.length>0&&(a=(0,Jr.join)(this.cwd,n[0].path))}let i=Qe.Uri.file(a);if(Lr.existsSync(a)&&Lr.statSync(a).isDirectory()){Qe.commands.executeCommand("revealInExplorer",i);return}Qe.window.showTextDocument(i).then(n=>{if(s){let o=new Qe.Range(new Qe.Position((s.startLine||1)-1,0),new Qe.Position((s.endLine||s.startLine||1)-1,0));n.revealRange(o,Qe.TextEditorRevealType.InCenter),n.selection=new Qe.Selection(o.start,o.end)}})}openConfigFile(r){let s,a=`{
  "mcpServers": {}
}
`,i=is(),n=(0,Jr.join)(i,".claude.json");switch(r){case"mcp-local":case"mcp-user":s=n;break;case"mcp-project":s=(0,Jr.join)(this.cwd,".mcp.json");break;default:s=n;break}Lr.existsSync(s)||Lr.writeFileSync(s,a,"utf-8");let o=Qe.Uri.file(s);Qe.workspace.openTextDocument(o).then(l=>{Qe.window.showTextDocument(l,{preview:!1})},l=>{this.output.error(`Failed to open config file ${s}: ${l}`)})}async openContent(r,s,a,i){return{type:"open_content_response",updatedContent:await Q_(this.output,this.readOnlyTempFileProvider,this.rightTempFileProvider,r,s,a,i)}}async openDiff(r,s,a,i,n){return{type:"open_diff_response",newEdits:await dw(this.output,this.leftTempFileProvider,this.rightTempFileProvider,r,s,a,i,this.acceptOrRejectDiffs,n)}}async openURL(r){await Qe.env.openExternal(Qe.Uri.parse(r))}async openClaudeInTerminal(r,s){await Qe.commands.executeCommand("claude-vscode.terminal.open",r,s)}async showClaudeTerminalSetting(){await Qe.commands.executeCommand("workbench.action.focusFirstEditorGroup"),await Qe.commands.executeCommand("workbench.action.openSettings","claudeCode.useTerminal")}async dismissTerminalBanner(){this.showTerminalBanner=!1,await this.context.globalState.update("showTerminalBanner",!1)}async openConfig(r){await Qe.commands.executeCommand("workbench.action.focusFirstEditorGroup"),await Qe.commands.executeCommand("workbench.action.openSettings",r||"claudeCode")}async openHelp(){let r=Qe.Uri.parse("https://docs.claude.com/en/docs/claude-code/vs-code");await Qe.env.openExternal(r)}getAssetUris(){let r=Wx(),s=a=>this.webview.asWebviewUri(Qe.Uri.file(this.context.asAbsolutePath(a))).toString();for(let a of Object.keys(r))r[a]={light:s(r[a].light),dark:s(r[a].dark)};return r}async findFiles(r){let s=Qe.workspace.workspaceFolders;if(!s||s.length===0)return[];try{return await Vb(r,this.cwd,Ei(this.output))}catch(a){return this.output.warn(`Ripgrep search failed, falling back to VSCode findFiles: ${a}`),Rd(r)}}};function Ei(t){return{log:(e,...r)=>t.info(e,...r),warn:(e,...r)=>t.warn(e,...r),error:(e,...r)=>t.error(e,...r)}}function uB(){if(process.platform!=="linux")return!1;try{if(Lr.existsSync("/lib/libc.musl-x86_64.so.1")||Lr.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let t=as("ldd /bin/ls 2>/dev/null",{env:process.env,maxBuffer:1e6,timeout:2e4,stdio:["ignore","pipe","pipe"],shell:!0,reject:!1});return t.stdout&&t.stdout.includes("musl")}catch{return!1}}function pB(t){let e=process.platform==="win32"?"claude.exe":"claude",r=uB()?`${process.arch}-musl`:process.arch,s=t.asAbsolutePath((0,Jr.join)("resources","native-binaries",`${process.platform}-${r}`,e));if(Lr.existsSync(s))return s;let a=t.asAbsolutePath((0,Jr.join)("resources","native-binary",e));if(Lr.existsSync(a))return a}function dB(){if(process.platform==="win32")try{as("where.exe",["git"],{stdio:"pipe",encoding:"utf8"})}catch{throw new Error("Claude Code on Windows requires git-bash (https://git-scm.com/downloads/win). If installed but not in PATH, set environment variable pointing to your bash.exe, similar to: CLAUDE_CODE_GIT_BASH_PATH=C:\\Program Files\\Git\\bin\\bash.exe")}}function fB(){try{let t=process.platform==="win32"?"node.exe":"node",r=as(t,["--version"],{stdio:"pipe",encoding:"utf8"}).stdout.trim();if(!TP.default.gte(r,"18.0.0"))throw new Error(`Claude Code requires Node.js version 18 or higher. Found version ${r}.`)}catch(t){throw t instanceof Error&&t.message.includes("requires Node.js")?t:new Error("Claude Code requires Node.js version 18 or higher to be installed.")}}function eu(){let t=Tr("environmentVariables")||[],e={...process.env};for(let r of t)r.name&&(e[r.name]=r.value||"");return e.CLAUDE_CODE_ENTRYPOINT="claude-vscode",e}var Bo=class{constructor(e,r,s,a,i,n,o,l,c,u,p){this.extensionUri=e;this.context=r;this.output=s;this.settings=a;this.leftTempFileProvider=i;this.rightTempFileProvider=n;this.readOnlyTempFileProvider=o;this.acceptOrRejectDiffs=l;this.atMentionEvents=c;this.selectionChangedEvents=u;this.getSelection=p}static viewType="claudeVSCodeSidebar";disposables=[];allComms=new Set;webviews=new Set;hasVisibleWebview(){for(let e of this.webviews)if(e.isVisible())return!0;return!1}resolveWebviewView(e,r,s){let a={isVisible:()=>e.visible};this.webviews.add(a),e.webview.options={enableScripts:!0,localResourceRoots:[ht.Uri.joinPath(this.extensionUri,"webview"),ht.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview),e.show(!0);let n=(ht.workspace.workspaceFolders?.map(l=>l.uri.fsPath)||[])[0]||qm.homedir(),o=new zo(this.context,n,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.show(),void 0);this.allComms.add(o),e.webview.onDidReceiveMessage(l=>{this.output.info(`Received message from webview: ${JSON.stringify(l)}`),o?.fromClient(l)},null,this.disposables),e.onDidDispose(()=>{o?.shutdown(),this.allComms.delete(o),this.webviews.delete(a)},null,this.disposables),e.show(!0)}dispose(){for(;this.disposables.length;){let e=this.disposables.pop();e&&e.dispose()}}async notifyLogout(){for(let e of this.allComms)e.pushStateUpdate()}createPanel(){let e=!1,r=ht.ViewColumn.Beside,s=ht.window.tabGroups.all.find(i=>i.tabs.length===0?!1:i.tabs.every(n=>n.input instanceof ht.TabInputWebview?n.input.viewType.includes("claudeVSCodePanel"):!1));s&&s.viewColumn?r=s.viewColumn:(r=this.findUnusedColumn(),e=!0);let a=ht.window.createWebviewPanel("claudeVSCodePanel","Claude Code",r,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[ht.Uri.joinPath(this.extensionUri,"webview"),ht.Uri.joinPath(this.extensionUri,"resources")]});return this.setupPanel(a),{startedInNewColumn:e}}findUnusedColumn(){let e=new Set;ht.window.tabGroups.all.forEach(r=>{r.viewColumn!==void 0&&e.add(r.viewColumn)});for(let r=ht.ViewColumn.One;r<=ht.ViewColumn.Nine;r++)if(!e.has(r))return r;return ht.ViewColumn.Beside}setupPanel(e){let r={isVisible:()=>e.visible};this.webviews.add(r);let a=(ht.workspace.workspaceFolders?.map(n=>n.uri.fsPath)||[])[0]||qm.homedir();e.iconPath=ht.Uri.file(OP.join(this.context.extensionPath,"resources","claude-logo.svg")),e.webview.options={enableScripts:!0,localResourceRoots:[ht.Uri.joinPath(this.extensionUri,"webview"),ht.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview);let i=new zo(this.context,a,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.reveal(),e);this.allComms.add(i),e.webview.onDidReceiveMessage(n=>{this.output.info(`Received message from webview: ${JSON.stringify(n)}`),i?.fromClient(n)},null,this.disposables),e.onDidChangeViewState(()=>i.notifyVisibilityChange(e.visible),null,this.disposables),e.onDidDispose(()=>{i.shutdown(),this.allComms.delete(i),this.webviews.delete(r)},null,this.disposables),this.disposables.push(e)}getHtmlForWebview(e){let r=ht.Uri.joinPath(this.extensionUri,"webview","index.js"),s=e.asWebviewUri(r),a=ht.Uri.joinPath(this.extensionUri,"webview","index.css"),i=e.asWebviewUri(a),n=An(),o=`style-src ${e.cspSource} 'unsafe-inline'`,l=`font-src ${e.cspSource}`,c=`img-src ${e.cspSource} https:`,u=`worker-src ${e.cspSource}`,p=ht.workspace.getConfiguration("editor"),h=p.get("fontFamily")||"monospace",d=p.get("fontSize")||12,m=p.get("fontWeight")||"normal",f=ht.workspace.getConfiguration("chat").get("fontSize")||13;return`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">

        <!--
          Use a content security policy to only allow loading images from https or from our extension directory,
          and only allow scripts that have a specific nonce.
        -->
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; ${o}; ${l}; ${c}; script-src 'nonce-${n}'; ${u};">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="${i}" rel="stylesheet">
        <style>
          :root {
            --vscode-editor-font-family: ${h};
            --vscode-editor-font-size: ${d}px;
            --vscode-editor-font-weight: ${m};
            --vscode-chat-font-size: ${f}px;
          }
        </style>
      </head>
      <body>
        <div id="root"></div>

        <script nonce="${n}" src="${s}" type="module"></script>
      </body>
      </html>`}};var tu=ae(require("vscode"),1);var mB=ae(_d(),1);var kP=ae(require("child_process"),1),AP=require("util"),ate=(0,AP.promisify)(kP.execFile);var It=ae(require("vscode"),1);function zm(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var Bm=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=It.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new It.EventEmitter;onDidSave=this.emitter.event},Ho=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let s=e;process.platform==="win32"&&(s=zm(e));let a=It.Uri.from({scheme:this.scheme,path:s}),i=this.documents.get(a.path);return i?(this.writeFile(a,new TextEncoder().encode(r)),i):(i=new Bm(a,new TextEncoder().encode(r)),this.documents.set(a.path,i),i)}emitter=new It.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new It.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=zm(e.path));let s=this.documents.get(r);if(!s)throw It.FileSystemError.FileNotFound(e);return s}readDirectory(e){throw It.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw It.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:It.FileChangeType.Changed,uri:e}])}createDirectory(e){throw It.FileSystemError.Unavailable()}delete(e){throw It.FileSystemError.Unavailable()}rename(e,r,s){throw It.FileSystemError.Unavailable()}},ru=class{constructor(e){this.scheme=e}documents=new Map;onDidChangeEmitter=new It.EventEmitter;onDidChange=this.onDidChangeEmitter.event;createFile(e,r){let s=e;process.platform==="win32"&&(s=zm(e));let a=It.Uri.from({scheme:this.scheme,path:s});return this.addDocument(a,r),a}provideTextDocumentContent(e){return this.documents.get(e.toString())||""}addDocument(e,r){this.documents.set(e.toString(),r),this.onDidChangeEmitter.fire(e)}};var Gs=ae(require("vscode"),1);var $t=ae(require("vscode"),1);function IP(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var Hm=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=$t.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new $t.EventEmitter;onDidSave=this.emitter.event},Vo=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let s=e;process.platform==="win32"&&(s=IP(e));let a=$t.Uri.from({scheme:this.scheme,path:s}),i=this.documents.get(a.path);return i?(this.writeFile(a,new TextEncoder().encode(r)),i):(i=new Hm(a,new TextEncoder().encode(r)),this.documents.set(a.path,i),i)}emitter=new $t.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new $t.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=IP(e.path));let s=this.documents.get(r);if(!s)throw $t.FileSystemError.FileNotFound(e);return s}readDirectory(e){throw $t.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw $t.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:$t.FileChangeType.Changed,uri:e}])}createDirectory(e){throw $t.FileSystemError.Unavailable()}delete(e){throw $t.FileSystemError.Unavailable()}rename(e,r,s){throw $t.FileSystemError.Unavailable()}};var lr=ae(require("vscode"),1),yk=require("crypto");var _={};Sp(_,{BRAND:()=>UB,DIRTY:()=>nn,EMPTY_PATH:()=>yB,INVALID:()=>Re,NEVER:()=>EH,OK:()=>Vt,ParseStatus:()=>Ut,Schema:()=>We,ZodAny:()=>fa,ZodArray:()=>Us,ZodBigInt:()=>cn,ZodBoolean:()=>ln,ZodBranded:()=>Wo,ZodCatch:()=>bn,ZodDate:()=>un,ZodDefault:()=>xn,ZodDiscriminatedUnion:()=>nu,ZodEffects:()=>$r,ZodEnum:()=>gn,ZodError:()=>nr,ZodFirstPartyTypeKind:()=>re,ZodFunction:()=>ou,ZodIntersection:()=>mn,ZodIssueCode:()=>Y,ZodLazy:()=>hn,ZodLiteral:()=>vn,ZodMap:()=>ki,ZodNaN:()=>Ii,ZodNativeEnum:()=>yn,ZodNever:()=>Qr,ZodNull:()=>dn,ZodNullable:()=>vs,ZodNumber:()=>on,ZodObject:()=>or,ZodOptional:()=>ir,ZodParsedType:()=>pe,ZodPipeline:()=>Zo,ZodPromise:()=>ma,ZodReadonly:()=>_n,ZodRecord:()=>iu,ZodSchema:()=>We,ZodSet:()=>Ai,ZodString:()=>da,ZodSymbol:()=>Ti,ZodTransformer:()=>$r,ZodTuple:()=>hs,ZodType:()=>We,ZodUndefined:()=>pn,ZodUnion:()=>fn,ZodUnknown:()=>Ms,ZodVoid:()=>Oi,addIssueToContext:()=>ie,any:()=>KB,array:()=>YB,bigint:()=>HB,boolean:()=>BP,coerce:()=>SH,custom:()=>UP,date:()=>VB,datetimeRegex:()=>jP,defaultErrorMap:()=>Fs,discriminatedUnion:()=>sH,effect:()=>hH,enum:()=>dH,function:()=>lH,getErrorMap:()=>Pi,getParsedType:()=>ms,instanceof:()=>zB,intersection:()=>aH,isAborted:()=>su,isAsync:()=>Ci,isDirty:()=>au,isValid:()=>pa,late:()=>qB,lazy:()=>uH,literal:()=>pH,makeIssue:()=>Go,map:()=>oH,nan:()=>BB,nativeEnum:()=>fH,never:()=>QB,null:()=>ZB,nullable:()=>gH,number:()=>zP,object:()=>eH,objectUtil:()=>Vm,oboolean:()=>wH,onumber:()=>_H,optional:()=>vH,ostring:()=>bH,pipeline:()=>xH,preprocess:()=>yH,promise:()=>mH,quotelessJson:()=>hB,record:()=>iH,set:()=>cH,setErrorMap:()=>gB,strictObject:()=>tH,string:()=>qP,symbol:()=>GB,transformer:()=>hH,tuple:()=>nH,undefined:()=>WB,union:()=>rH,unknown:()=>JB,util:()=>tt,void:()=>XB});var tt;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{let i={};for(let n of a)i[n]=n;return i},t.getValidEnumValues=a=>{let i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),n={};for(let o of i)n[o]=a[o];return t.objectValues(n)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let i=[];for(let n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.push(n);return i},t.find=(a,i)=>{for(let n of a)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(tt||(tt={}));var Vm;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Vm||(Vm={}));var pe=tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ms=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}};var Y=tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hB=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),nr=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},s={_errors:[]},a=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(a);else if(n.code==="invalid_return_type")a(n.returnTypeError);else if(n.code==="invalid_arguments")a(n.argumentsError);else if(n.path.length===0)s._errors.push(r(n));else{let o=s,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),s}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},s=[];for(let a of this.issues)if(a.path.length>0){let i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};nr.create=t=>new nr(t);var vB=(t,e)=>{let r;switch(t.code){case Y.invalid_type:t.received===pe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Y.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,tt.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:r=`Unrecognized key(s) in object: ${tt.joinValues(t.keys,", ")}`;break;case Y.invalid_union:r="Invalid input";break;case Y.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tt.joinValues(t.options)}`;break;case Y.invalid_enum_value:r=`Invalid enum value. Expected ${tt.joinValues(t.options)}, received '${t.received}'`;break;case Y.invalid_arguments:r="Invalid function arguments";break;case Y.invalid_return_type:r="Invalid function return type";break;case Y.invalid_date:r="Invalid date";break;case Y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:tt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Y.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Y.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Y.custom:r="Invalid input";break;case Y.invalid_intersection_types:r="Intersection results could not be merged";break;case Y.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Y.not_finite:r="Number must be finite";break;default:r=e.defaultError,tt.assertNever(t)}return{message:r}},Fs=vB;var DP=Fs;function gB(t){DP=t}function Pi(){return DP}var Go=t=>{let{data:e,path:r,errorMaps:s,issueData:a}=t,i=[...r,...a.path||[]],n={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="",l=s.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...a,path:i,message:o}},yB=[];function ie(t,e){let r=Pi(),s=Go({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Fs?void 0:Fs].filter(a=>!!a)});t.common.issues.push(s)}var Ut=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let s=[];for(let a of r){if(a.status==="aborted")return Re;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){let s=[];for(let a of r){let i=await a.key,n=await a.value;s.push({key:i,value:n})}return t.mergeObjectSync(e,s)}static mergeObjectSync(e,r){let s={};for(let a of r){let{key:i,value:n}=a;if(i.status==="aborted"||n.status==="aborted")return Re;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||a.alwaysSet)&&(s[i.value]=n.value)}return{status:e.value,value:s}}},Re=Object.freeze({status:"aborted"}),nn=t=>({status:"dirty",value:t}),Vt=t=>({status:"valid",value:t}),su=t=>t.status==="aborted",au=t=>t.status==="dirty",pa=t=>t.status==="valid",Ci=t=>typeof Promise<"u"&&t instanceof Promise;var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(xe||(xe={}));var Nr=class{constructor(e,r,s,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},LP=(t,e)=>{if(pa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new nr(t.common.issues);return this._error=r,this._error}}};function Ge(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:a}}var We=class{get description(){return this._def.description}_getType(e){return ms(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ut,ctx:{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Ci(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){let s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},a=this._parseSync({data:e,path:s.path,parent:s});return LP(s,a)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:r});return pa(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>pa(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){let s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){let s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},a=this._parse({data:e,path:s.path,parent:s}),i=await(Ci(a)?a:Promise.resolve(a));return LP(s,i)}refine(e,r){let s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{let n=e(a),o=()=>i.addIssue({code:Y.custom,...s(a)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(e){return new $r({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ir.create(this,this._def)}nullable(){return vs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return ma.create(this,this._def)}or(e){return fn.create([this,e],this._def)}and(e){return mn.create(this,e,this._def)}transform(e){return new $r({...Ge(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new xn({...Ge(this._def),innerType:this,defaultValue:r,typeName:re.ZodDefault})}brand(){return new Wo({typeName:re.ZodBranded,type:this,...Ge(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new bn({...Ge(this._def),innerType:this,catchValue:r,typeName:re.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Zo.create(this,e)}readonly(){return _n.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},xB=/^c[^\s-]{8,}$/i,bB=/^[0-9a-z]+$/,_B=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SB=/^[a-z0-9_-]{21}$/i,EB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Gm,TB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,AB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$P="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LB=new RegExp(`^${$P}$`);function FP(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function NB(t){return new RegExp(`^${FP(t)}$`)}function jP(t){let e=`${$P}T${FP(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function $B(t,e){return!!((e==="v4"||!e)&&TB.test(t)||(e==="v6"||!e)&&kB.test(t))}function FB(t,e){if(!EB.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function jB(t,e){return!!((e==="v4"||!e)&&OB.test(t)||(e==="v6"||!e)&&AB.test(t))}var da=class t extends We{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){let i=this._getOrReturnCtx(e);return ie(i,{code:Y.invalid_type,expected:pe.string,received:i.parsedType}),Re}let s=new Ut,a;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(a=this._getOrReturnCtx(e,a),n?ie(a,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ie(a,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")CB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"email",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Gm||(Gm=new RegExp(RB,"u")),Gm.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"emoji",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")wB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"uuid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")SB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"nanoid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")xB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"cuid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")bB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"cuid2",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")_B.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"ulid",code:Y.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),ie(a,{validation:"url",code:Y.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"regex",code:Y.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?jP(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?LB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?NB(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?PB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"duration",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?$B(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"ip",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?FB(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"jwt",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?jB(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"cidr",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?IB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"base64",code:Y.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?DB.test(e.data)||(a=this._getOrReturnCtx(e,a),ie(a,{validation:"base64url",code:Y.invalid_string,message:i.message}),s.dirty()):tt.assertNever(i);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:Y.invalid_string,...xe.errToObj(s)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...xe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...xe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...xe.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...xe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...xe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...xe.errToObj(r)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};da.create=t=>new da({checks:[],typeName:re.ZodString,coerce:t?.coerce??!1,...Ge(t)});function MB(t,e){let r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(t.toFixed(a).replace(".","")),n=Number.parseInt(e.toFixed(a).replace(".",""));return i%n/10**a}var on=class t extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){let i=this._getOrReturnCtx(e);return ie(i,{code:Y.invalid_type,expected:pe.number,received:i.parsedType}),Re}let s,a=new Ut;for(let i of this._def.checks)i.kind==="int"?tt.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?MB(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.not_finite,message:i.message}),a.dirty()):tt.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:xe.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&tt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};on.create=t=>new on({checks:[],typeName:re.ZodNumber,coerce:t?.coerce||!1,...Ge(t)});var cn=class t extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let s,a=new Ut;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):tt.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return ie(r,{code:Y.invalid_type,expected:pe.bigint,received:r.parsedType}),Re}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,s,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:xe.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};cn.create=t=>new cn({checks:[],typeName:re.ZodBigInt,coerce:t?.coerce??!1,...Ge(t)});var ln=class extends We{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){let s=this._getOrReturnCtx(e);return ie(s,{code:Y.invalid_type,expected:pe.boolean,received:s.parsedType}),Re}return Vt(e.data)}};ln.create=t=>new ln({typeName:re.ZodBoolean,coerce:t?.coerce||!1,...Ge(t)});var un=class t extends We{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){let i=this._getOrReturnCtx(e);return ie(i,{code:Y.invalid_type,expected:pe.date,received:i.parsedType}),Re}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return ie(i,{code:Y.invalid_date}),Re}let s=new Ut,a;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),ie(a,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):tt.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};un.create=t=>new un({checks:[],coerce:t?.coerce||!1,typeName:re.ZodDate,...Ge(t)});var Ti=class extends We{_parse(e){if(this._getType(e)!==pe.symbol){let s=this._getOrReturnCtx(e);return ie(s,{code:Y.invalid_type,expected:pe.symbol,received:s.parsedType}),Re}return Vt(e.data)}};Ti.create=t=>new Ti({typeName:re.ZodSymbol,...Ge(t)});var pn=class extends We{_parse(e){if(this._getType(e)!==pe.undefined){let s=this._getOrReturnCtx(e);return ie(s,{code:Y.invalid_type,expected:pe.undefined,received:s.parsedType}),Re}return Vt(e.data)}};pn.create=t=>new pn({typeName:re.ZodUndefined,...Ge(t)});var dn=class extends We{_parse(e){if(this._getType(e)!==pe.null){let s=this._getOrReturnCtx(e);return ie(s,{code:Y.invalid_type,expected:pe.null,received:s.parsedType}),Re}return Vt(e.data)}};dn.create=t=>new dn({typeName:re.ZodNull,...Ge(t)});var fa=class extends We{constructor(){super(...arguments),this._any=!0}_parse(e){return Vt(e.data)}};fa.create=t=>new fa({typeName:re.ZodAny,...Ge(t)});var Ms=class extends We{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vt(e.data)}};Ms.create=t=>new Ms({typeName:re.ZodUnknown,...Ge(t)});var Qr=class extends We{_parse(e){let r=this._getOrReturnCtx(e);return ie(r,{code:Y.invalid_type,expected:pe.never,received:r.parsedType}),Re}};Qr.create=t=>new Qr({typeName:re.ZodNever,...Ge(t)});var Oi=class extends We{_parse(e){if(this._getType(e)!==pe.undefined){let s=this._getOrReturnCtx(e);return ie(s,{code:Y.invalid_type,expected:pe.void,received:s.parsedType}),Re}return Vt(e.data)}};Oi.create=t=>new Oi({typeName:re.ZodVoid,...Ge(t)});var Us=class t extends We{_parse(e){let{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==pe.array)return ie(r,{code:Y.invalid_type,expected:pe.array,received:r.parsedType}),Re;if(a.exactLength!==null){let n=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(n||o)&&(ie(r,{code:n?Y.too_big:Y.too_small,minimum:o?a.exactLength.value:void 0,maximum:n?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ie(r,{code:Y.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ie(r,{code:Y.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>a.type._parseAsync(new Nr(r,n,r.path,o)))).then(n=>Ut.mergeArray(s,n));let i=[...r.data].map((n,o)=>a.type._parseSync(new Nr(r,n,r.path,o)));return Ut.mergeArray(s,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:xe.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:xe.toString(r)}})}nonempty(e){return this.min(1,e)}};Us.create=(t,e)=>new Us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...Ge(e)});function Ri(t){if(t instanceof or){let e={};for(let r in t.shape){let s=t.shape[r];e[r]=ir.create(Ri(s))}return new or({...t._def,shape:()=>e})}else return t instanceof Us?new Us({...t._def,type:Ri(t.element)}):t instanceof ir?ir.create(Ri(t.unwrap())):t instanceof vs?vs.create(Ri(t.unwrap())):t instanceof hs?hs.create(t.items.map(e=>Ri(e))):t}var or=class t extends We{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=tt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==pe.object){let c=this._getOrReturnCtx(e);return ie(c,{code:Y.invalid_type,expected:pe.object,received:c.parsedType}),Re}let{status:s,ctx:a}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof Qr&&this._def.unknownKeys==="strip"))for(let c in a.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],p=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Nr(a,p,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Qr){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(c==="strict")o.length>0&&(ie(a,{code:Y.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let p=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Nr(a,p,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let p=await u.key,h=await u.value;c.push({key:p,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Ut.mergeObjectSync(s,c)):Ut.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{let a=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:xe.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:re.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let s of tt.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let s of tt.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new t({...this._def,shape:()=>r})}deepPartial(){return Ri(this)}partial(e){let r={};for(let s of tt.objectKeys(this.shape)){let a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let s of tt.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof ir;)i=i._def.innerType;r[s]=i}return new t({...this._def,shape:()=>r})}keyof(){return MP(tt.objectKeys(this.shape))}};or.create=(t,e)=>new or({shape:()=>t,unknownKeys:"strip",catchall:Qr.create(),typeName:re.ZodObject,...Ge(e)});or.strictCreate=(t,e)=>new or({shape:()=>t,unknownKeys:"strict",catchall:Qr.create(),typeName:re.ZodObject,...Ge(e)});or.lazycreate=(t,e)=>new or({shape:t,unknownKeys:"strip",catchall:Qr.create(),typeName:re.ZodObject,...Ge(e)});var fn=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=this._def.options;function a(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new nr(o.ctx.common.issues));return ie(r,{code:Y.invalid_union,unionErrors:n}),Re}if(r.common.async)return Promise.all(s.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(a);{let i,n=[];for(let l of s){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new nr(l));return ie(r,{code:Y.invalid_union,unionErrors:o}),Re}}get options(){return this._def.options}};fn.create=(t,e)=>new fn({options:t,typeName:re.ZodUnion,...Ge(e)});var js=t=>t instanceof hn?js(t.schema):t instanceof $r?js(t.innerType()):t instanceof vn?[t.value]:t instanceof gn?t.options:t instanceof yn?tt.objectValues(t.enum):t instanceof xn?js(t._def.innerType):t instanceof pn?[void 0]:t instanceof dn?[null]:t instanceof ir?[void 0,...js(t.unwrap())]:t instanceof vs?[null,...js(t.unwrap())]:t instanceof Wo||t instanceof _n?js(t.unwrap()):t instanceof bn?js(t._def.innerType):[],nu=class t extends We{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return ie(r,{code:Y.invalid_type,expected:pe.object,received:r.parsedType}),Re;let s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ie(r,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){let a=new Map;for(let i of r){let n=js(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,i)}}return new t({typeName:re.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...Ge(s)})}};function Wm(t,e){let r=ms(t),s=ms(e);if(t===e)return{valid:!0,data:t};if(r===pe.object&&s===pe.object){let a=tt.objectKeys(e),i=tt.objectKeys(t).filter(o=>a.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=Wm(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===pe.array&&s===pe.array){if(t.length!==e.length)return{valid:!1};let a=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=Wm(n,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===pe.date&&s===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var mn=class extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=(i,n)=>{if(su(i)||su(n))return Re;let o=Wm(i.value,n.value);return o.valid?((au(i)||au(n))&&r.dirty(),{status:r.value,value:o.data}):(ie(s,{code:Y.invalid_intersection_types}),Re)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,n])=>a(i,n)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};mn.create=(t,e,r)=>new mn({left:t,right:e,typeName:re.ZodIntersection,...Ge(r)});var hs=class t extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.array)return ie(s,{code:Y.invalid_type,expected:pe.array,received:s.parsedType}),Re;if(s.data.length<this._def.items.length)return ie(s,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&s.data.length>this._def.items.length&&(ie(s,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...s.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Nr(s,n,s.path,o)):null}).filter(n=>!!n);return s.common.async?Promise.all(i).then(n=>Ut.mergeArray(r,n)):Ut.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};hs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hs({items:t,typeName:re.ZodTuple,rest:null,...Ge(e)})};var iu=class t extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.object)return ie(s,{code:Y.invalid_type,expected:pe.object,received:s.parsedType}),Re;let a=[],i=this._def.keyType,n=this._def.valueType;for(let o in s.data)a.push({key:i._parse(new Nr(s,o,s.path,o)),value:n._parse(new Nr(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?Ut.mergeObjectAsync(r,a):Ut.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof We?new t({keyType:e,valueType:r,typeName:re.ZodRecord,...Ge(s)}):new t({keyType:da.create(),valueType:e,typeName:re.ZodRecord,...Ge(r)})}},ki=class extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.map)return ie(s,{code:Y.invalid_type,expected:pe.map,received:s.parsedType}),Re;let a=this._def.keyType,i=this._def.valueType,n=[...s.data.entries()].map(([o,l],c)=>({key:a._parse(new Nr(s,o,s.path,[c,"key"])),value:i._parse(new Nr(s,l,s.path,[c,"value"]))}));if(s.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Re;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Re;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};ki.create=(t,e,r)=>new ki({valueType:e,keyType:t,typeName:re.ZodMap,...Ge(r)});var Ai=class t extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==pe.set)return ie(s,{code:Y.invalid_type,expected:pe.set,received:s.parsedType}),Re;let a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ie(s,{code:Y.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ie(s,{code:Y.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return Re;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...s.data.values()].map((l,c)=>i._parse(new Nr(s,l,s.path,c)));return s.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:xe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ai.create=(t,e)=>new Ai({valueType:t,minSize:null,maxSize:null,typeName:re.ZodSet,...Ge(e)});var ou=class t extends We{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.function)return ie(r,{code:Y.invalid_type,expected:pe.function,received:r.parsedType}),Re;function s(o,l){return Go({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pi(),Fs].filter(c=>!!c),issueData:{code:Y.invalid_arguments,argumentsError:l}})}function a(o,l){return Go({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pi(),Fs].filter(c=>!!c),issueData:{code:Y.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof ma){let o=this;return Vt(async function(...l){let c=new nr([]),u=await o._def.args.parseAsync(l,i).catch(d=>{throw c.addIssue(s(l,d)),c}),p=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(p,i).catch(d=>{throw c.addIssue(a(p,d)),c})})}else{let o=this;return Vt(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new nr([s(l,c.error)]);let u=Reflect.apply(n,this,c.data),p=o._def.returns.safeParse(u,i);if(!p.success)throw new nr([a(u,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:hs.create(e).rest(Ms.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new t({args:e||hs.create([]).rest(Ms.create()),returns:r||Ms.create(),typeName:re.ZodFunction,...Ge(s)})}},hn=class extends We{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};hn.create=(t,e)=>new hn({getter:t,typeName:re.ZodLazy,...Ge(e)});var vn=class extends We{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return ie(r,{received:r.data,code:Y.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:e.data}}get value(){return this._def.value}};vn.create=(t,e)=>new vn({value:t,typeName:re.ZodLiteral,...Ge(e)});function MP(t,e){return new gn({values:t,typeName:re.ZodEnum,...Ge(e)})}var gn=class t extends We{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),s=this._def.values;return ie(r,{expected:tt.joinValues(s),received:r.parsedType,code:Y.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),s=this._def.values;return ie(r,{received:r.data,code:Y.invalid_enum_value,options:s}),Re}return Vt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};gn.create=MP;var yn=class extends We{_parse(e){let r=tt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==pe.string&&s.parsedType!==pe.number){let a=tt.objectValues(r);return ie(s,{expected:tt.joinValues(a),received:s.parsedType,code:Y.invalid_type}),Re}if(this._cache||(this._cache=new Set(tt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let a=tt.objectValues(r);return ie(s,{received:s.data,code:Y.invalid_enum_value,options:a}),Re}return Vt(e.data)}get enum(){return this._def.values}};yn.create=(t,e)=>new yn({values:t,typeName:re.ZodNativeEnum,...Ge(e)});var ma=class extends We{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.promise&&r.common.async===!1)return ie(r,{code:Y.invalid_type,expected:pe.promise,received:r.parsedType}),Re;let s=r.parsedType===pe.promise?r.data:Promise.resolve(r.data);return Vt(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ma.create=(t,e)=>new ma({type:t,typeName:re.ZodPromise,...Ge(e)});var $r=class extends We{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:s}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:n=>{ie(s,n),n.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){let n=a.transform(s.data,i);if(s.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return Re;let l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?Re:l.status==="dirty"?nn(l.value):r.value==="dirty"?nn(l.value):l});{if(r.value==="aborted")return Re;let o=this._def.schema._parseSync({data:n,path:s.path,parent:s});return o.status==="aborted"?Re:o.status==="dirty"?nn(o.value):r.value==="dirty"?nn(o.value):o}}if(a.type==="refinement"){let n=o=>{let l=a.refinement(o,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Re:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?Re:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(s.common.async===!1){let n=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!pa(n))return Re;let o=a.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(n=>pa(n)?Promise.resolve(a.transform(n.value,i)).then(o=>({status:r.value,value:o})):Re);tt.assertNever(a)}};$r.create=(t,e,r)=>new $r({schema:t,typeName:re.ZodEffects,effect:e,...Ge(r)});$r.createWithPreprocess=(t,e,r)=>new $r({schema:e,effect:{type:"preprocess",transform:t},typeName:re.ZodEffects,...Ge(r)});var ir=class extends We{_parse(e){return this._getType(e)===pe.undefined?Vt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ir.create=(t,e)=>new ir({innerType:t,typeName:re.ZodOptional,...Ge(e)});var vs=class extends We{_parse(e){return this._getType(e)===pe.null?Vt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};vs.create=(t,e)=>new vs({innerType:t,typeName:re.ZodNullable,...Ge(e)});var xn=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return r.parsedType===pe.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};xn.create=(t,e)=>new xn({innerType:t,typeName:re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});var bn=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ci(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new nr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new nr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};bn.create=(t,e)=>new bn({innerType:t,typeName:re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});var Ii=class extends We{_parse(e){if(this._getType(e)!==pe.nan){let s=this._getOrReturnCtx(e);return ie(s,{code:Y.invalid_type,expected:pe.nan,received:s.parsedType}),Re}return{status:"valid",value:e.data}}};Ii.create=t=>new Ii({typeName:re.ZodNaN,...Ge(t)});var UB=Symbol("zod_brand"),Wo=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}},Zo=class t extends We{_parse(e){let{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Re:i.status==="dirty"?(r.dirty(),nn(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{let a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Re:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new t({in:e,out:r,typeName:re.ZodPipeline})}},_n=class extends We{_parse(e){let r=this._def.innerType._parse(e),s=a=>(pa(a)&&(a.value=Object.freeze(a.value)),a);return Ci(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}};_n.create=(t,e)=>new _n({innerType:t,typeName:re.ZodReadonly,...Ge(e)});function NP(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function UP(t,e={},r){return t?fa.create().superRefine((s,a)=>{let i=t(s);if(i instanceof Promise)return i.then(n=>{if(!n){let o=NP(e,s),l=o.fatal??r??!0;a.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=NP(e,s),o=n.fatal??r??!0;a.addIssue({code:"custom",...n,fatal:o})}}):fa.create()}var qB={object:or.lazycreate},re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(re||(re={}));var zB=(t,e={message:`Input not instance of ${t.name}`})=>UP(r=>r instanceof t,e),qP=da.create,zP=on.create,BB=Ii.create,HB=cn.create,BP=ln.create,VB=un.create,GB=Ti.create,WB=pn.create,ZB=dn.create,KB=fa.create,JB=Ms.create,QB=Qr.create,XB=Oi.create,YB=Us.create,eH=or.create,tH=or.strictCreate,rH=fn.create,sH=nu.create,aH=mn.create,nH=hs.create,iH=iu.create,oH=ki.create,cH=Ai.create,lH=ou.create,uH=hn.create,pH=vn.create,dH=gn.create,fH=yn.create,mH=ma.create,hH=$r.create,vH=ir.create,gH=vs.create,yH=$r.createWithPreprocess,xH=Zo.create,bH=()=>qP().optional(),_H=()=>zP().optional(),wH=()=>BP().optional(),SH={string:t=>da.create({...t,coerce:!0}),number:t=>on.create({...t,coerce:!0}),boolean:t=>ln.create({...t,coerce:!0}),bigint:t=>cn.create({...t,coerce:!0}),date:t=>un.create({...t,coerce:!0})};var EH=Re;var Zm="2025-06-18";var HP=[Zm,"2025-03-26","2024-11-05","2024-10-07"],cu="2.0",VP=_.union([_.string(),_.number().int()]),GP=_.string(),PH=_.object({progressToken:_.optional(VP)}).passthrough(),Fr=_.object({_meta:_.optional(PH)}).passthrough(),cr=_.object({method:_.string(),params:_.optional(Fr)}),Ko=_.object({_meta:_.optional(_.object({}).passthrough())}).passthrough(),gs=_.object({method:_.string(),params:_.optional(Ko)}),jr=_.object({_meta:_.optional(_.object({}).passthrough())}).passthrough(),lu=_.union([_.string(),_.number().int()]),WP=_.object({jsonrpc:_.literal(cu),id:lu}).merge(cr).strict(),ZP=t=>WP.safeParse(t).success,KP=_.object({jsonrpc:_.literal(cu)}).merge(gs).strict(),JP=t=>KP.safeParse(t).success,QP=_.object({jsonrpc:_.literal(cu),id:lu,result:jr}).strict(),Km=t=>QP.safeParse(t).success,vt;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(vt||(vt={}));var XP=_.object({jsonrpc:_.literal(cu),id:lu,error:_.object({code:_.number().int(),message:_.string(),data:_.optional(_.unknown())})}).strict(),YP=t=>XP.safeParse(t).success,eC=_.union([WP,KP,QP,XP]),uu=jr.strict(),pu=gs.extend({method:_.literal("notifications/cancelled"),params:Ko.extend({requestId:lu,reason:_.string().optional()})}),Jo=_.object({name:_.string(),title:_.optional(_.string())}).passthrough(),tC=Jo.extend({version:_.string()}),CH=_.object({experimental:_.optional(_.object({}).passthrough()),sampling:_.optional(_.object({}).passthrough()),elicitation:_.optional(_.object({}).passthrough()),roots:_.optional(_.object({listChanged:_.optional(_.boolean())}).passthrough())}).passthrough(),Jm=cr.extend({method:_.literal("initialize"),params:Fr.extend({protocolVersion:_.string(),capabilities:CH,clientInfo:tC})});var RH=_.object({experimental:_.optional(_.object({}).passthrough()),logging:_.optional(_.object({}).passthrough()),completions:_.optional(_.object({}).passthrough()),prompts:_.optional(_.object({listChanged:_.optional(_.boolean())}).passthrough()),resources:_.optional(_.object({subscribe:_.optional(_.boolean()),listChanged:_.optional(_.boolean())}).passthrough()),tools:_.optional(_.object({listChanged:_.optional(_.boolean())}).passthrough())}).passthrough(),TH=jr.extend({protocolVersion:_.string(),capabilities:RH,serverInfo:tC,instructions:_.optional(_.string())}),Qm=gs.extend({method:_.literal("notifications/initialized")});var du=cr.extend({method:_.literal("ping")}),OH=_.object({progress:_.number(),total:_.optional(_.number()),message:_.optional(_.string())}).passthrough(),fu=gs.extend({method:_.literal("notifications/progress"),params:Ko.merge(OH).extend({progressToken:VP})}),mu=cr.extend({params:Fr.extend({cursor:_.optional(GP)}).optional()}),hu=jr.extend({nextCursor:_.optional(GP)}),rC=_.object({uri:_.string(),mimeType:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}).passthrough(),sC=rC.extend({text:_.string()}),Xm=_.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),aC=rC.extend({blob:Xm}),nC=Jo.extend({uri:_.string(),description:_.optional(_.string()),mimeType:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}),kH=Jo.extend({uriTemplate:_.string(),description:_.optional(_.string()),mimeType:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}),vu=mu.extend({method:_.literal("resources/list")}),AH=hu.extend({resources:_.array(nC)}),gu=mu.extend({method:_.literal("resources/templates/list")}),IH=hu.extend({resourceTemplates:_.array(kH)}),yu=cr.extend({method:_.literal("resources/read"),params:Fr.extend({uri:_.string()})}),DH=jr.extend({contents:_.array(_.union([sC,aC]))}),LH=gs.extend({method:_.literal("notifications/resources/list_changed")}),NH=cr.extend({method:_.literal("resources/subscribe"),params:Fr.extend({uri:_.string()})}),$H=cr.extend({method:_.literal("resources/unsubscribe"),params:Fr.extend({uri:_.string()})}),FH=gs.extend({method:_.literal("notifications/resources/updated"),params:Ko.extend({uri:_.string()})}),jH=_.object({name:_.string(),description:_.optional(_.string()),required:_.optional(_.boolean())}).passthrough(),MH=Jo.extend({description:_.optional(_.string()),arguments:_.optional(_.array(jH)),_meta:_.optional(_.object({}).passthrough())}),xu=mu.extend({method:_.literal("prompts/list")}),UH=hu.extend({prompts:_.array(MH)}),bu=cr.extend({method:_.literal("prompts/get"),params:Fr.extend({name:_.string(),arguments:_.optional(_.record(_.string()))})}),Ym=_.object({type:_.literal("text"),text:_.string(),_meta:_.optional(_.object({}).passthrough())}).passthrough(),eh=_.object({type:_.literal("image"),data:Xm,mimeType:_.string(),_meta:_.optional(_.object({}).passthrough())}).passthrough(),th=_.object({type:_.literal("audio"),data:Xm,mimeType:_.string(),_meta:_.optional(_.object({}).passthrough())}).passthrough(),qH=_.object({type:_.literal("resource"),resource:_.union([sC,aC]),_meta:_.optional(_.object({}).passthrough())}).passthrough(),zH=nC.extend({type:_.literal("resource_link")}),iC=_.union([Ym,eh,th,zH,qH]),BH=_.object({role:_.enum(["user","assistant"]),content:iC}).passthrough(),HH=jr.extend({description:_.optional(_.string()),messages:_.array(BH)}),VH=gs.extend({method:_.literal("notifications/prompts/list_changed")}),GH=_.object({title:_.optional(_.string()),readOnlyHint:_.optional(_.boolean()),destructiveHint:_.optional(_.boolean()),idempotentHint:_.optional(_.boolean()),openWorldHint:_.optional(_.boolean())}).passthrough(),WH=Jo.extend({description:_.optional(_.string()),inputSchema:_.object({type:_.literal("object"),properties:_.optional(_.object({}).passthrough()),required:_.optional(_.array(_.string()))}).passthrough(),outputSchema:_.optional(_.object({type:_.literal("object"),properties:_.optional(_.object({}).passthrough()),required:_.optional(_.array(_.string()))}).passthrough()),annotations:_.optional(GH),_meta:_.optional(_.object({}).passthrough())}),_u=mu.extend({method:_.literal("tools/list")}),ZH=hu.extend({tools:_.array(WH)}),oC=jr.extend({content:_.array(iC).default([]),structuredContent:_.object({}).passthrough().optional(),isError:_.optional(_.boolean())}),jte=oC.or(jr.extend({toolResult:_.unknown()})),wu=cr.extend({method:_.literal("tools/call"),params:Fr.extend({name:_.string(),arguments:_.optional(_.record(_.unknown()))})}),KH=gs.extend({method:_.literal("notifications/tools/list_changed")}),cC=_.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),JH=cr.extend({method:_.literal("logging/setLevel"),params:Fr.extend({level:cC})}),QH=gs.extend({method:_.literal("notifications/message"),params:Ko.extend({level:cC,logger:_.optional(_.string()),data:_.unknown()})}),XH=_.object({name:_.string().optional()}).passthrough(),YH=_.object({hints:_.optional(_.array(XH)),costPriority:_.optional(_.number().min(0).max(1)),speedPriority:_.optional(_.number().min(0).max(1)),intelligencePriority:_.optional(_.number().min(0).max(1))}).passthrough(),e3=_.object({role:_.enum(["user","assistant"]),content:_.union([Ym,eh,th])}).passthrough(),t3=cr.extend({method:_.literal("sampling/createMessage"),params:Fr.extend({messages:_.array(e3),systemPrompt:_.optional(_.string()),includeContext:_.optional(_.enum(["none","thisServer","allServers"])),temperature:_.optional(_.number()),maxTokens:_.number().int(),stopSequences:_.optional(_.array(_.string())),metadata:_.optional(_.object({}).passthrough()),modelPreferences:_.optional(YH)})}),rh=jr.extend({model:_.string(),stopReason:_.optional(_.enum(["endTurn","stopSequence","maxTokens"]).or(_.string())),role:_.enum(["user","assistant"]),content:_.discriminatedUnion("type",[Ym,eh,th])}),r3=_.object({type:_.literal("boolean"),title:_.optional(_.string()),description:_.optional(_.string()),default:_.optional(_.boolean())}).passthrough(),s3=_.object({type:_.literal("string"),title:_.optional(_.string()),description:_.optional(_.string()),minLength:_.optional(_.number()),maxLength:_.optional(_.number()),format:_.optional(_.enum(["email","uri","date","date-time"]))}).passthrough(),a3=_.object({type:_.enum(["number","integer"]),title:_.optional(_.string()),description:_.optional(_.string()),minimum:_.optional(_.number()),maximum:_.optional(_.number())}).passthrough(),n3=_.object({type:_.literal("string"),title:_.optional(_.string()),description:_.optional(_.string()),enum:_.array(_.string()),enumNames:_.optional(_.array(_.string()))}).passthrough(),i3=_.union([r3,s3,a3,n3]),o3=cr.extend({method:_.literal("elicitation/create"),params:Fr.extend({message:_.string(),requestedSchema:_.object({type:_.literal("object"),properties:_.record(_.string(),i3),required:_.optional(_.array(_.string()))}).passthrough()})}),sh=jr.extend({action:_.enum(["accept","decline","cancel"]),content:_.optional(_.record(_.string(),_.unknown()))}),c3=_.object({type:_.literal("ref/resource"),uri:_.string()}).passthrough();var l3=_.object({type:_.literal("ref/prompt"),name:_.string()}).passthrough(),Su=cr.extend({method:_.literal("completion/complete"),params:Fr.extend({ref:_.union([l3,c3]),argument:_.object({name:_.string(),value:_.string()}).passthrough(),context:_.optional(_.object({arguments:_.optional(_.record(_.string(),_.string()))}))})}),u3=jr.extend({completion:_.object({values:_.array(_.string()).max(100),total:_.optional(_.number().int()),hasMore:_.optional(_.boolean())}).passthrough()}),p3=_.object({uri:_.string().startsWith("file://"),name:_.optional(_.string()),_meta:_.optional(_.object({}).passthrough())}).passthrough(),d3=cr.extend({method:_.literal("roots/list")}),ah=jr.extend({roots:_.array(p3)}),f3=gs.extend({method:_.literal("notifications/roots/list_changed")}),Mte=_.union([du,Jm,Su,JH,bu,xu,vu,gu,yu,NH,$H,wu,_u]),Ute=_.union([pu,fu,Qm,f3]),qte=_.union([uu,rh,sh,ah]),zte=_.union([du,t3,o3,d3]),Bte=_.union([pu,fu,QH,FH,LH,KH,VH]),Hte=_.union([uu,TH,u3,HH,UH,AH,IH,DH,oC,ZH]),gt=class extends Error{constructor(e,r,s){super(`MCP error ${e}: ${r}`),this.code=e,this.data=s,this.name="McpError"}};var m3=6e4,Eu=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(pu,r=>{let s=this._requestHandlerAbortControllers.get(r.params.requestId);s?.abort(r.params.reason)}),this.setNotificationHandler(fu,r=>{this._onprogress(r)}),this.setRequestHandler(du,r=>({}))}_setupTimeout(e,r,s,a,i=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(a,r),startTime:Date.now(),timeout:r,maxTotalTimeout:s,resetTimeoutOnProgress:i,onTimeout:a})}_resetTimeout(e){let r=this._timeoutInfo.get(e);if(!r)return!1;let s=Date.now()-r.startTime;if(r.maxTotalTimeout&&s>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),new gt(vt.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:s});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){let r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,s,a;this._transport=e;let i=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{i?.(),this._onclose()};let n=(s=this.transport)===null||s===void 0?void 0:s.onerror;this._transport.onerror=l=>{n?.(l),this._onerror(l)};let o=(a=this._transport)===null||a===void 0?void 0:a.onmessage;this._transport.onmessage=(l,c)=>{o?.(l,c),Km(l)||YP(l)?this._onresponse(l):ZP(l)?this._onrequest(l,c):JP(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var e;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);let s=new gt(vt.ConnectionClosed,"Connection closed");for(let a of r.values())a(s)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;let s=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;s!==void 0&&Promise.resolve().then(()=>s(e)).catch(a=>this._onerror(new Error(`Uncaught error in notification handler: ${a}`)))}_onrequest(e,r){var s,a;let i=(s=this._requestHandlers.get(e.method))!==null&&s!==void 0?s:this.fallbackRequestHandler,n=this._transport;if(i===void 0){n?.send({jsonrpc:"2.0",id:e.id,error:{code:vt.MethodNotFound,message:"Method not found"}}).catch(c=>this._onerror(new Error(`Failed to send an error response: ${c}`)));return}let o=new AbortController;this._requestHandlerAbortControllers.set(e.id,o);let l={signal:o.signal,sessionId:n?.sessionId,_meta:(a=e.params)===null||a===void 0?void 0:a._meta,sendNotification:c=>this.notification(c,{relatedRequestId:e.id}),sendRequest:(c,u,p)=>this.request(c,u,{...p,relatedRequestId:e.id}),authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo};Promise.resolve().then(()=>i(e,l)).then(c=>{if(!o.signal.aborted)return n?.send({result:c,jsonrpc:"2.0",id:e.id})},c=>{var u;if(!o.signal.aborted)return n?.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(c.code)?c.code:vt.InternalError,message:(u=c.message)!==null&&u!==void 0?u:"Internal error"}})}).catch(c=>this._onerror(new Error(`Failed to send response: ${c}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:r,...s}=e.params,a=Number(r),i=this._progressHandlers.get(a);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let n=this._responseHandlers.get(a),o=this._timeoutInfo.get(a);if(o&&n&&o.resetTimeoutOnProgress)try{this._resetTimeout(a)}catch(l){n(l);return}i(s)}_onresponse(e){let r=Number(e.id),s=this._responseHandlers.get(r);if(s===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),Km(e))s(e);else{let a=new gt(e.error.code,e.error.message,e.error.data);s(a)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}request(e,r,s){let{relatedRequestId:a,resumptionToken:i,onresumptiontoken:n}=s??{};return new Promise((o,l)=>{var c,u,p,h,d,m;if(!this._transport){l(new Error("Not connected"));return}((c=this._options)===null||c===void 0?void 0:c.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),(u=s?.signal)===null||u===void 0||u.throwIfAborted();let f=this._requestMessageId++,v={...e,jsonrpc:"2.0",id:f};s?.onprogress&&(this._progressHandlers.set(f,s.onprogress),v.params={...e.params,_meta:{...((p=e.params)===null||p===void 0?void 0:p._meta)||{},progressToken:f}});let g=C=>{var R;this._responseHandlers.delete(f),this._progressHandlers.delete(f),this._cleanupTimeout(f),(R=this._transport)===null||R===void 0||R.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:f,reason:String(C)}},{relatedRequestId:a,resumptionToken:i,onresumptiontoken:n}).catch(P=>this._onerror(new Error(`Failed to send cancellation: ${P}`))),l(C)};this._responseHandlers.set(f,C=>{var R;if(!(!((R=s?.signal)===null||R===void 0)&&R.aborted)){if(C instanceof Error)return l(C);try{let P=r.parse(C.result);o(P)}catch(P){l(P)}}}),(h=s?.signal)===null||h===void 0||h.addEventListener("abort",()=>{var C;g((C=s?.signal)===null||C===void 0?void 0:C.reason)});let x=(d=s?.timeout)!==null&&d!==void 0?d:m3,w=()=>g(new gt(vt.RequestTimeout,"Request timed out",{timeout:x}));this._setupTimeout(f,x,s?.maxTotalTimeout,w,(m=s?.resetTimeoutOnProgress)!==null&&m!==void 0?m:!1),this._transport.send(v,{relatedRequestId:a,resumptionToken:i,onresumptiontoken:n}).catch(C=>{this._cleanupTimeout(f),l(C)})})}async notification(e,r){var s,a;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(e.method),((a=(s=this._options)===null||s===void 0?void 0:s.debouncedNotificationMethods)!==null&&a!==void 0?a:[]).includes(e.method)&&!e.params&&!r?.relatedRequestId){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var l;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let c={...e,jsonrpc:"2.0"};(l=this._transport)===null||l===void 0||l.send(c,r).catch(u=>this._onerror(u))});return}let o={...e,jsonrpc:"2.0"};await this._transport.send(o,r)}setRequestHandler(e,r){let s=e.shape.method.value;this.assertRequestHandlerCapability(s),this._requestHandlers.set(s,(a,i)=>Promise.resolve(r(e.parse(a),i)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){this._notificationHandlers.set(e.shape.method.value,s=>Promise.resolve(r(e.parse(s))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}};function lC(t,e){return Object.entries(e).reduce((r,[s,a])=>(a&&typeof a=="object"?r[s]=r[s]?{...r[s],...a}:a:r[s]=a,r),{...t})}var pT=ae(uT(),1),Bu=class extends Eu{constructor(e,r){var s;super(r),this._serverInfo=e,this._capabilities=(s=r?.capabilities)!==null&&s!==void 0?s:{},this._instructions=r?.instructions,this.setRequestHandler(Jm,a=>this._oninitialize(a)),this.setNotificationHandler(Qm,()=>{var a;return(a=this.oninitialized)===null||a===void 0?void 0:a.call(this)})}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=lC(this._capabilities,e)}assertCapabilityForMethod(e){var r,s,a;switch(e){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((s=this._clientCapabilities)===null||s===void 0)&&s.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((a=this._clientCapabilities)===null||a===void 0)&&a.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"ping":case"initialize":break}}async _oninitialize(e){let r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:HP.includes(r)?r:Zm,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},uu)}async createMessage(e,r){return this.request({method:"sampling/createMessage",params:e},rh,r)}async elicitInput(e,r){let s=await this.request({method:"elicitation/create",params:e},sh,r);if(s.action==="accept"&&s.content)try{let a=new pT.default,i=a.compile(e.requestedSchema);if(!i(s.content))throw new gt(vt.InvalidParams,`Elicitation response content does not match requested schema: ${a.errorsText(i.errors)}`)}catch(a){throw a instanceof gt?a:new gt(vt.InternalError,`Error validating elicitation response: ${a}`)}return s}async listRoots(e,r){return this.request({method:"roots/list",params:e},ah,r)}async sendLoggingMessage(e){return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};var fT=Symbol("Let zodToJsonSchema decide on which parser to use");var dT={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},mT=t=>typeof t=="string"?{...dT,name:t}:{...dT,...t};var hT=t=>{let e=mT(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([s,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,s],jsonSchema:void 0}]))}};function Oh(t,e,r,s){s?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function st(t,e,r,s,a){t[e]=r,Oh(t,e,s,a)}function vT(){return{}}function gT(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==re.ZodAny&&(r.items=Ie(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&st(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&st(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(st(r,"minItems",t.exactLength.value,t.exactLength.message,e),st(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function yT(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"min":e.target==="jsonSchema7"?s.inclusive?st(r,"minimum",s.value,s.message,e):st(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),st(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?st(r,"maximum",s.value,s.message,e):st(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),st(r,"maximum",s.value,s.message,e));break;case"multipleOf":st(r,"multipleOf",s.value,s.message,e);break}return r}function xT(){return{type:"boolean"}}function Hu(t,e){return Ie(t.type._def,e)}var bT=(t,e)=>Ie(t.innerType._def,e);function kh(t,e,r){let s=r??e.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((a,i)=>kh(t,e,a))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return WV(t,e)}}var WV=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let s of t.checks)switch(s.kind){case"min":st(r,"minimum",s.value,s.message,e);break;case"max":st(r,"maximum",s.value,s.message,e);break}return r};function _T(t,e){return{...Ie(t.innerType._def,e),default:t.defaultValue()}}function wT(t,e){return e.effectStrategy==="input"?Ie(t.schema._def,e):{}}function ST(t){return{type:"string",enum:Array.from(t.values)}}var ZV=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function ET(t,e){let r=[Ie(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Ie(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),s=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,a=[];return r.forEach(i=>{if(ZV(i))a.push(...i.allOf),i.unevaluatedProperties===void 0&&(s=void 0);else{let n=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:o,...l}=i;n=l}else s=void 0;a.push(n)}}),a.length?{allOf:a,...s}:void 0}function PT(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var Ah,Xr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ah===void 0&&(Ah=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ah),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Vu(t,e){let r={type:"string"};if(t.checks)for(let s of t.checks)switch(s.kind){case"min":st(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e);break;case"max":st(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Yr(r,"email",s.message,e);break;case"format:idn-email":Yr(r,"idn-email",s.message,e);break;case"pattern:zod":Kt(r,Xr.email,s.message,e);break}break;case"url":Yr(r,"uri",s.message,e);break;case"uuid":Yr(r,"uuid",s.message,e);break;case"regex":Kt(r,s.regex,s.message,e);break;case"cuid":Kt(r,Xr.cuid,s.message,e);break;case"cuid2":Kt(r,Xr.cuid2,s.message,e);break;case"startsWith":Kt(r,RegExp(`^${Ih(s.value,e)}`),s.message,e);break;case"endsWith":Kt(r,RegExp(`${Ih(s.value,e)}$`),s.message,e);break;case"datetime":Yr(r,"date-time",s.message,e);break;case"date":Yr(r,"date",s.message,e);break;case"time":Yr(r,"time",s.message,e);break;case"duration":Yr(r,"duration",s.message,e);break;case"length":st(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e),st(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"includes":{Kt(r,RegExp(Ih(s.value,e)),s.message,e);break}case"ip":{s.version!=="v6"&&Yr(r,"ipv4",s.message,e),s.version!=="v4"&&Yr(r,"ipv6",s.message,e);break}case"base64url":Kt(r,Xr.base64url,s.message,e);break;case"jwt":Kt(r,Xr.jwt,s.message,e);break;case"cidr":{s.version!=="v6"&&Kt(r,Xr.ipv4Cidr,s.message,e),s.version!=="v4"&&Kt(r,Xr.ipv6Cidr,s.message,e);break}case"emoji":Kt(r,Xr.emoji(),s.message,e);break;case"ulid":{Kt(r,Xr.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Yr(r,"binary",s.message,e);break}case"contentEncoding:base64":{st(r,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{Kt(r,Xr.base64,s.message,e);break}}break}case"nanoid":Kt(r,Xr.nanoid,s.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function Ih(t,e){return e.patternStrategy==="escape"?JV(t):t}var KV=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function JV(t){let e="";for(let r=0;r<t.length;r++)KV.has(t[r])||(e+="\\"),e+=t[r];return e}function Yr(t,e,r,s){t.format||t.anyOf?.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&s.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&s.errorMessages&&{errorMessage:{format:r}}})):st(t,"format",e,r,s)}function Kt(t,e,r,s){t.pattern||t.allOf?.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&s.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:CT(e,s),...r&&s.errorMessages&&{errorMessage:{pattern:r}}})):st(t,"pattern",CT(e,s),r,s)}function CT(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},s=r.i?t.source.toLowerCase():t.source,a="",i=!1,n=!1,o=!1;for(let l=0;l<s.length;l++){if(i){a+=s[l],i=!1;continue}if(r.i){if(n){if(s[l].match(/[a-z]/)){o?(a+=s[l],a+=`${s[l-2]}-${s[l]}`.toUpperCase(),o=!1):s[l+1]==="-"&&s[l+2]?.match(/[a-z]/)?(a+=s[l],o=!0):a+=`${s[l]}${s[l].toUpperCase()}`;continue}}else if(s[l].match(/[a-z]/)){a+=`[${s[l]}${s[l].toUpperCase()}]`;continue}}if(r.m){if(s[l]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(s[l]==="$"){a+=`($|(?=[\r
]))`;continue}}if(r.s&&s[l]==="."){a+=n?`${s[l]}\r
`:`[${s[l]}\r
]`;continue}a+=s[l],s[l]==="\\"?i=!0:n&&s[l]==="]"?n=!1:!n&&s[l]==="["&&(n=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return a}function Gu(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===re.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((s,a)=>({...s,[a]:Ie(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",a]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:Ie(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===re.ZodString&&t.keyType._def.checks?.length){let{type:s,...a}=Vu(t.keyType._def,e);return{...r,propertyNames:a}}else{if(t.keyType?._def.typeName===re.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===re.ZodBranded&&t.keyType._def.type._def.typeName===re.ZodString&&t.keyType._def.type._def.checks?.length){let{type:s,...a}=Hu(t.keyType._def,e);return{...r,propertyNames:a}}}return r}function RT(t,e){if(e.mapStrategy==="record")return Gu(t,e);let r=Ie(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},s=Ie(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,s],minItems:2,maxItems:2}}}function TT(t){let e=t.values,s=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),a=Array.from(new Set(s.map(i=>typeof i)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:s}}function OT(){return{not:{}}}function kT(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var Xo={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function IT(t,e){if(e.target==="openApi3")return AT(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(s=>s._def.typeName in Xo&&(!s._def.checks||!s._def.checks.length))){let s=r.reduce((a,i)=>{let n=Xo[i._def.typeName];return n&&!a.includes(n)?[...a,n]:a},[]);return{type:s.length>1?s:s[0]}}else if(r.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){let s=r.reduce((a,i)=>{let n=typeof i._def.value;switch(n){case"string":case"number":case"boolean":return[...a,n];case"bigint":return[...a,"integer"];case"object":if(i._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(s.length===r.length){let a=s.filter((i,n,o)=>o.indexOf(i)===n);return{type:a.length>1?a:a[0],enum:r.reduce((i,n)=>i.includes(n._def.value)?i:[...i,n._def.value],[])}}}else if(r.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((s,a)=>[...s,...a._def.values.filter(i=>!s.includes(i))],[])};return AT(t,e)}var AT=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((s,a)=>Ie(s._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(s=>!!s&&(!e.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return r.length?{anyOf:r}:void 0};function DT(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Xo[t.innerType._def.typeName],nullable:!0}:{type:[Xo[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let s=Ie(t.innerType._def,{...e,currentPath:[...e.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}let r=Ie(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function LT(t,e){let r={type:"number"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"int":r.type="integer",Oh(r,"type",s.message,e);break;case"min":e.target==="jsonSchema7"?s.inclusive?st(r,"minimum",s.value,s.message,e):st(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),st(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?st(r,"maximum",s.value,s.message,e):st(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),st(r,"maximum",s.value,s.message,e));break;case"multipleOf":st(r,"multipleOf",s.value,s.message,e);break}return r}function NT(t,e){let r=e.target==="openAi",s={type:"object",properties:{}},a=[],i=t.shape();for(let o in i){let l=i[o];if(l===void 0||l._def===void 0)continue;let c=XV(l);c&&r&&(l instanceof ir&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);let u=Ie(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});u!==void 0&&(s.properties[o]=u,c||a.push(o))}a.length&&(s.required=a);let n=QV(t,e);return n!==void 0&&(s.additionalProperties=n),s}function QV(t,e){if(t.catchall._def.typeName!=="ZodNever")return Ie(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function XV(t){try{return t.isOptional()}catch{return!0}}var $T=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return Ie(t.innerType._def,e);let r=Ie(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var FT=(t,e)=>{if(e.pipeStrategy==="input")return Ie(t.in._def,e);if(e.pipeStrategy==="output")return Ie(t.out._def,e);let r=Ie(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),s=Ie(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,s].filter(a=>a!==void 0)}};function jT(t,e){return Ie(t.type._def,e)}function MT(t,e){let s={type:"array",uniqueItems:!0,items:Ie(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&st(s,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&st(s,"maxItems",t.maxSize.value,t.maxSize.message,e),s}function UT(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,s)=>Ie(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[]),additionalItems:Ie(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,s)=>Ie(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[])}}function qT(){return{not:{}}}function zT(){return{}}var BT=(t,e)=>Ie(t.innerType._def,e);var HT=(t,e,r)=>{switch(e){case re.ZodString:return Vu(t,r);case re.ZodNumber:return LT(t,r);case re.ZodObject:return NT(t,r);case re.ZodBigInt:return yT(t,r);case re.ZodBoolean:return xT();case re.ZodDate:return kh(t,r);case re.ZodUndefined:return qT();case re.ZodNull:return kT(r);case re.ZodArray:return gT(t,r);case re.ZodUnion:case re.ZodDiscriminatedUnion:return IT(t,r);case re.ZodIntersection:return ET(t,r);case re.ZodTuple:return UT(t,r);case re.ZodRecord:return Gu(t,r);case re.ZodLiteral:return PT(t,r);case re.ZodEnum:return ST(t);case re.ZodNativeEnum:return TT(t);case re.ZodNullable:return DT(t,r);case re.ZodOptional:return $T(t,r);case re.ZodMap:return RT(t,r);case re.ZodSet:return MT(t,r);case re.ZodLazy:return()=>t.getter()._def;case re.ZodPromise:return jT(t,r);case re.ZodNaN:case re.ZodNever:return OT();case re.ZodEffects:return wT(t,r);case re.ZodAny:return vT();case re.ZodUnknown:return zT();case re.ZodDefault:return _T(t,r);case re.ZodBranded:return Hu(t,r);case re.ZodReadonly:return BT(t,r);case re.ZodCatch:return bT(t,r);case re.ZodPipeline:return FT(t,r);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(s=>{})(e)}};function Ie(t,e,r=!1){let s=e.seen.get(t);if(e.override){let o=e.override?.(t,e,s,r);if(o!==fT)return o}if(s&&!r){let o=YV(s,e);if(o!==void 0)return o}let a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);let i=HT(t,t.typeName,e),n=typeof i=="function"?Ie(i(),e):i;if(n&&t5(t,e,n),e.postProcess){let o=e.postProcess(n,t,e);return a.jsonSchema=n,o}return a.jsonSchema=n,n}var YV=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:e5(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,s)=>e.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},e5=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},t5=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r);var Wu=(t,e)=>{let r=hT(e),s=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,u])=>({...l,[c]:Ie(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0)??{}}),{}):void 0,a=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=Ie(t._def,a===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??{},n=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;n!==void 0&&(i.title=n);let o=a===void 0?s?{...i,[r.definitionPath]:s}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...s,[a]:i}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var Dh;(function(t){t.Completable="McpCompletable"})(Dh||(Dh={}));var Di=class extends We{_parse(e){let{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}};Di.create=(t,e)=>new Di({type:t,typeName:Dh.Completable,complete:e.complete,...r5(e)});function r5(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}var Ku=class{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new Bu(e,r)}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(_u.shape.method.value),this.server.assertCanSetRequestHandler(wu.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(_u,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{let s={name:e,title:r.title,description:r.description,inputSchema:r.inputSchema?Wu(r.inputSchema,{strictUnions:!0}):s5,annotations:r.annotations};return r.outputSchema&&(s.outputSchema=Wu(r.outputSchema,{strictUnions:!0})),s})})),this.server.setRequestHandler(wu,async(e,r)=>{let s=this._registeredTools[e.params.name];if(!s)throw new gt(vt.InvalidParams,`Tool ${e.params.name} not found`);if(!s.enabled)throw new gt(vt.InvalidParams,`Tool ${e.params.name} disabled`);let a;if(s.inputSchema){let i=await s.inputSchema.safeParseAsync(e.params.arguments);if(!i.success)throw new gt(vt.InvalidParams,`Invalid arguments for tool ${e.params.name}: ${i.error.message}`);let n=i.data,o=s.callback;try{a=await Promise.resolve(o(n,r))}catch(l){a={content:[{type:"text",text:l instanceof Error?l.message:String(l)}],isError:!0}}}else{let i=s.callback;try{a=await Promise.resolve(i(r))}catch(n){a={content:[{type:"text",text:n instanceof Error?n.message:String(n)}],isError:!0}}}if(s.outputSchema&&!a.isError){if(!a.structuredContent)throw new gt(vt.InvalidParams,`Tool ${e.params.name} has an output schema but no structured content was provided`);let i=await s.outputSchema.safeParseAsync(a.structuredContent);if(!i.success)throw new gt(vt.InvalidParams,`Invalid structured content for tool ${e.params.name}: ${i.error.message}`)}return a}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(Su.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(Su,async e=>{switch(e.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return this.handleResourceCompletion(e,e.params.ref);default:throw new gt(vt.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){let s=this._registeredPrompts[r.name];if(!s)throw new gt(vt.InvalidParams,`Prompt ${r.name} not found`);if(!s.enabled)throw new gt(vt.InvalidParams,`Prompt ${r.name} disabled`);if(!s.argsSchema)return Zu;let a=s.argsSchema.shape[e.params.argument.name];if(!(a instanceof Di))return Zu;let n=await a._def.complete(e.params.argument.value,e.params.context);return GT(n)}async handleResourceCompletion(e,r){let s=Object.values(this._registeredResourceTemplates).find(n=>n.resourceTemplate.uriTemplate.toString()===r.uri);if(!s){if(this._registeredResources[r.uri])return Zu;throw new gt(vt.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let a=s.resourceTemplate.completeCallback(e.params.argument.name);if(!a)return Zu;let i=await a(e.params.argument.value,e.params.context);return GT(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(vu.shape.method.value),this.server.assertCanSetRequestHandler(gu.shape.method.value),this.server.assertCanSetRequestHandler(yu.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(vu,async(e,r)=>{let s=Object.entries(this._registeredResources).filter(([i,n])=>n.enabled).map(([i,n])=>({uri:i,name:n.name,...n.metadata})),a=[];for(let i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;let n=await i.resourceTemplate.listCallback(r);for(let o of n.resources)a.push({...i.metadata,...o})}return{resources:[...s,...a]}}),this.server.setRequestHandler(gu,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,s])=>({name:r,uriTemplate:s.resourceTemplate.uriTemplate.toString(),...s.metadata}))})),this.server.setRequestHandler(yu,async(e,r)=>{let s=new URL(e.params.uri),a=this._registeredResources[s.toString()];if(a){if(!a.enabled)throw new gt(vt.InvalidParams,`Resource ${s} disabled`);return a.readCallback(s,r)}for(let i of Object.values(this._registeredResourceTemplates)){let n=i.resourceTemplate.uriTemplate.match(s.toString());if(n)return i.readCallback(s,n,r)}throw new gt(vt.InvalidParams,`Resource ${s} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(xu.shape.method.value),this.server.assertCanSetRequestHandler(bu.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(xu,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?n5(r.argsSchema):void 0}))})),this.server.setRequestHandler(bu,async(e,r)=>{let s=this._registeredPrompts[e.params.name];if(!s)throw new gt(vt.InvalidParams,`Prompt ${e.params.name} not found`);if(!s.enabled)throw new gt(vt.InvalidParams,`Prompt ${e.params.name} disabled`);if(s.argsSchema){let a=await s.argsSchema.safeParseAsync(e.params.arguments);if(!a.success)throw new gt(vt.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${a.error.message}`);let i=a.data,n=s.callback;return await Promise.resolve(n(i,r))}else{let a=s.callback;return await Promise.resolve(a(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,r,...s){let a;typeof s[0]=="object"&&(a=s.shift());let i=s[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let n=this._createRegisteredResource(e,void 0,r,a,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let n=this._createRegisteredResourceTemplate(e,void 0,r,a,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}}registerResource(e,r,s,a){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let i=this._createRegisteredResource(e,s.title,r,s,a);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let i=this._createRegisteredResourceTemplate(e,s.title,r,s,a);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(e,r,s,a,i){let n={name:e,title:r,metadata:a,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({uri:null}),update:o=>{typeof o.uri<"u"&&o.uri!==s&&(delete this._registeredResources[s],o.uri&&(this._registeredResources[o.uri]=n)),typeof o.name<"u"&&(n.name=o.name),typeof o.title<"u"&&(n.title=o.title),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[s]=n,n}_createRegisteredResourceTemplate(e,r,s,a,i){let n={resourceTemplate:s,title:r,metadata:a,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredResourceTemplates[e],o.name&&(this._registeredResourceTemplates[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.template<"u"&&(n.resourceTemplate=o.template),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=n,n}_createRegisteredPrompt(e,r,s,a,i){let n={title:r,description:s,argsSchema:a===void 0?void 0:_.object(a),callback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredPrompts[e],o.name&&(this._registeredPrompts[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.description<"u"&&(n.description=o.description),typeof o.argsSchema<"u"&&(n.argsSchema=_.object(o.argsSchema)),typeof o.callback<"u"&&(n.callback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=n,n}_createRegisteredTool(e,r,s,a,i,n,o){let l={title:r,description:s,inputSchema:a===void 0?void 0:_.object(a),outputSchema:i===void 0?void 0:_.object(i),annotations:n,callback:o,enabled:!0,disable:()=>l.update({enabled:!1}),enable:()=>l.update({enabled:!0}),remove:()=>l.update({name:null}),update:c=>{typeof c.name<"u"&&c.name!==e&&(delete this._registeredTools[e],c.name&&(this._registeredTools[c.name]=l)),typeof c.title<"u"&&(l.title=c.title),typeof c.description<"u"&&(l.description=c.description),typeof c.paramsSchema<"u"&&(l.inputSchema=_.object(c.paramsSchema)),typeof c.callback<"u"&&(l.callback=c.callback),typeof c.annotations<"u"&&(l.annotations=c.annotations),typeof c.enabled<"u"&&(l.enabled=c.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=l,this.setToolRequestHandlers(),this.sendToolListChanged(),l}tool(e,...r){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let s,a,i,n;if(typeof r[0]=="string"&&(s=r.shift()),r.length>1){let l=r[0];VT(l)?(a=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!VT(r[0])&&(n=r.shift())):typeof l=="object"&&l!==null&&(n=r.shift())}let o=r[0];return this._createRegisteredTool(e,void 0,s,a,i,n,o)}registerTool(e,r,s){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let{title:a,description:i,inputSchema:n,outputSchema:o,annotations:l}=r;return this._createRegisteredTool(e,a,i,n,o,l,s)}prompt(e,...r){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let s;typeof r[0]=="string"&&(s=r.shift());let a;r.length>1&&(a=r.shift());let i=r[0],n=this._createRegisteredPrompt(e,void 0,s,a,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),n}registerPrompt(e,r,s){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let{title:a,description:i,argsSchema:n}=r,o=this._createRegisteredPrompt(e,a,i,n,s);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};var s5={type:"object",properties:{}};function VT(t){return typeof t!="object"||t===null?!1:Object.keys(t).length===0||Object.values(t).some(a5)}function a5(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function n5(t){return Object.entries(t.shape).map(([e,r])=>({name:e,description:r.description,required:!r.isOptional()}))}function GT(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}var Zu={completion:{values:[],hasMore:!1}};var xk=ae(require("http"),1);var Fe=ae(require("vscode"),1),ya=ae(require("path"),1);async function WT(t={}){try{let e=_o(t.uri);return{content:[{type:"text",text:JSON.stringify(e,null,2)}]}}catch(e){throw console.error("Error getting diagnostics through MCP:",e),e}}async function ZT({filePath:t,preview:e,startText:r,endText:s,selectToEndOfLine:a,makeFrontmost:i=!0}){try{if(!t)throw new Error("File path is required");let n;if(!ya.isAbsolute(t)&&Fe.workspace.workspaceFolders&&Fe.workspace.workspaceFolders.length>0){let o=Fe.workspace.workspaceFolders[0].uri.fsPath,l=ya.join(o,t);n=Fe.Uri.file(l),console.log(`Converted relative path '${t}' to absolute: '${l}'`)}else n=Fe.Uri.file(t);try{await Fe.workspace.fs.stat(n);let o=await Fe.workspace.openTextDocument(n),l=Fe.window.visibleTextEditors.some(p=>p.document.uri.toString()===n.toString()),c;if(i||!l?c=await Fe.window.showTextDocument(o,{preview:e,preserveFocus:!i}):c=Fe.window.visibleTextEditors.find(p=>p.document.uri.toString()===n.toString()),r&&c){let p=o.getText(),h={success:!0,filePath:n.fsPath,message:`Opened file: ${n.fsPath}`},d=p.indexOf(r);if(d!==-1){let m=o.positionAt(d),f;if(s){let g=p.substring(d+r.length).indexOf(s);if(g!==-1){let x=d+r.length+g+s.length;f=o.positionAt(x),a&&(f=new Fe.Position(f.line,Number.MAX_SAFE_INTEGER)),c.selection=new Fe.Selection(m,f),c.revealRange(new Fe.Range(m,f),Fe.TextEditorRevealType.InCenter),h.message=`Opened file and selected text from "${r}" to "${s}"`}else c.selection=new Fe.Selection(m,m),c.revealRange(new Fe.Range(m,m),Fe.TextEditorRevealType.InCenter),h.message=`Opened file and positioned at "${r}" (end text "${s}" not found)`}else f=o.positionAt(d+r.length),c.selection=new Fe.Selection(m,f),c.revealRange(new Fe.Range(m,f),Fe.TextEditorRevealType.InCenter),h.message=`Opened file and selected text "${r}"`}else h.message=`Opened file, but text "${r}" not found`;return{content:[{type:"text",text:h.message}]}}let u={success:!0,filePath:n.fsPath,fileUrl:o.uri.toString(),message:`Opened file: ${n.fsPath}`};return i||(u.languageId=o.languageId,u.lineCount=o.lineCount,u.isDirty=o.isDirty,u.isUntitled=o.isUntitled,u.isClosed=o.isClosed),{content:[{type:"text",text:i?u.message:JSON.stringify(u,null,2)}]}}catch{throw new Error(`File not found: ${n.fsPath}`)}}catch(n){throw console.error("Error opening file through MCP:",n),n}}async function KT(){try{let t=Fe.window.activeTextEditor,e=[];for(let s of Fe.window.tabGroups.all)for(let a of s.tabs)if(a.input instanceof Fe.TabInputText){let i=a.input.uri,n=Fe.workspace.textDocuments.find(l=>l.uri.toString()===i.toString()),o={uri:i.toString(),isActive:a.isActive,isPinned:a.isPinned,isPreview:a.isPreview,isDirty:a.isDirty,label:a.label,groupIndex:s.viewColumn?s.viewColumn-1:0,viewColumn:s.viewColumn,isGroupActive:s.isActive};n&&(o.fileName=n.fileName,o.languageId=n.languageId,o.lineCount=n.lineCount,o.isUntitled=n.isUntitled,t&&t.document.uri.toString()===i.toString()&&(o.selection={start:{line:t.selection.start.line,character:t.selection.start.character},end:{line:t.selection.end.line,character:t.selection.end.character},isReversed:t.selection.isReversed})),e.push(o)}return{content:[{type:"text",text:JSON.stringify({tabs:e},null,2)}]}}catch(t){throw console.error("Error getting open editors through MCP:",t),t}}async function JT(){try{let t=Fe.window.activeTextEditor;if(!t)return{content:[{type:"text",text:JSON.stringify({success:!1,message:"No active editor found"},null,2)}]};let e=t.selection,r=t.document,s=r.getText(e),a=r.uri.fsPath;return{content:[{type:"text",text:JSON.stringify({success:!0,text:s,filePath:a,fileUrl:r.uri.toString(),selection:{start:{line:e.start.line,character:e.start.character},end:{line:e.end.line,character:e.end.character},isEmpty:e.isEmpty}},null,2)}]}}catch(t){throw console.error("Error getting current selection through MCP:",t),t}}async function QT(){try{let e=(Fe.workspace.workspaceFolders||[]).map(r=>({name:r.name,uri:r.uri.toString(),path:r.uri.fsPath,index:r.index}));return{content:[{type:"text",text:JSON.stringify({success:!0,folders:e,rootPath:Fe.workspace.rootPath||null,workspaceFile:Fe.workspace.workspaceFile?.toString()||null},null,2)}]}}catch(t){throw console.error("Error getting workspace folders through MCP:",t),t}}async function XT({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!ya.isAbsolute(t)&&Fe.workspace.workspaceFolders&&Fe.workspace.workspaceFolders.length>0){let s=Fe.workspace.workspaceFolders[0].uri.fsPath,a=ya.join(s,t);e=Fe.Uri.file(a),console.log(`Converted relative path '${t}' to absolute: '${a}'`)}else e=Fe.Uri.file(t);let r=Fe.workspace.textDocuments.find(s=>s.uri.toString()===e.toString());return r?{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,isDirty:r.isDirty,isUntitled:r.isUntitled},null,2)}]}:{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]}}catch(e){throw console.error("Error checking document dirty state through MCP:",e),e}}async function YT({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!ya.isAbsolute(t)&&Fe.workspace.workspaceFolders&&Fe.workspace.workspaceFolders.length>0){let a=Fe.workspace.workspaceFolders[0].uri.fsPath,i=ya.join(a,t);e=Fe.Uri.file(i),console.log(`Converted relative path '${t}' to absolute: '${i}'`)}else e=Fe.Uri.file(t);let r=Fe.workspace.textDocuments.find(a=>a.uri.toString()===e.toString());if(!r)return{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]};let s=await r.save();return{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,saved:s,message:s?"Document saved successfully":"Document was not dirty or save failed"},null,2)}]}}catch(e){throw console.error("Error saving document through MCP:",e),e}}var St=ae(require("vscode"),1),Lh;async function i5(){if(!Lh){let t=St.extensions.getExtension("ms-toolsai.jupyter");if(!t)throw new Error("Jupyter extension not installed");Lh=Promise.resolve(t.activate())}return Lh}function Li(t,e){return t.error(e),{content:[{type:"text",text:e}]}}async function eO(t,e){let r=St.window.activeNotebookEditor;if(!r)return Li(t,"No active notebook editor found.");let s;try{s=await i5()}catch{return Li(t,"Unable to request Jupyter extension API. It is either not installed or not activated.")}let a=await s.kernels.getKernel(r.notebook.uri);if(!a)return Li(t,"No kernel found for the active notebook. Please connect to a kernel.");if(a.language!=="python")return Li(t,`Kernel language is ${a?.language}, not python.`);let i={content:[]};try{t.info(`Executing ${e}`);let n=new TextDecoder,o=await c5(e,r.notebook),l=r.notebook.getCells().find(p=>p.metadata.id===o);if(!l)return Li(t,"No cell found in the notebook.");let c=r.notebook.getCells().indexOf(l);if(r.revealRange(new St.NotebookRange(c,c+1),St.NotebookEditorRevealType.InCenter),!await o5(t))return Li(t,"Code execution cancelled by user. Ask the user how they would like to proceed.");await St.commands.executeCommand("notebook.cell.execute",{ranges:[{start:c,end:c+1}],document:r.notebook.uri});for(let p of l.outputs)for(let h of p.items)if(h.mime===l5){let d=JSON.parse(n.decode(h.data));t.appendLine(`Error executing code ${d.name}: ${d.message},/n ${d.stack}`),i.content.push({type:"text",text:`Error: ${d.name}: ${d.message},/n ${d.stack}`})}else if(h.mime===u5){let d=Buffer.from(h.data).toString("base64");i.content.push({type:"image",data:d,mimeType:h.mime})}else i.content.push({type:"text",text:n.decode(h.data)});t.info("Code execution completed")}catch(n){t.error(`Code execution failed with an error '${n}'`)}return i}async function o5(t){return(await St.window.showQuickPick([{label:"Execute",description:"Run the code in the notebook"},{label:"Cancel",description:"Do not execute the code"}],{title:"Claude Code Execution",placeHolder:"Choose whether to execute the code"}))?.label==="Execute"}async function c5(t,e){let r=new St.NotebookCellData(St.NotebookCellKind.Code,t,"python"),s=Math.random().toString(36).substring(2,15);r.metadata={id:s};let a=e.getCells().length,i=St.NotebookEdit.insertCells(a,[r]),n=new St.WorkspaceEdit;return n.set(e.uri,[i]),await St.workspace.applyEdit(n),s}var l5=St.NotebookCellOutputItem.error(new Error("")).mime,u5="image/png";var Ju=ae(require("vscode"),1),ys=ae(require("fs"),1),Qu=ae(require("path"),1),tO=ae(require("os"),1),rO=ae(require("http"),1);function p5(){return Math.floor(Math.random()*55536)+1e4}function sO(){let t=Qu.join(tO.homedir(),".claude","ide");return ys.existsSync(t)||ys.mkdirSync(t,{recursive:!0}),t}function Nh(t,e){let r=sO(),s=Qu.join(r,`${t}.lock`),a=ys.existsSync(s),i=Ju.workspace.workspaceFolders?.map(o=>o.uri.fsPath)||[],n={pid:process.ppid,workspaceFolders:i,ideName:Ju.env.appName,transport:"ws",runningInWindows:process.platform==="win32",authToken:e};return ys.writeFileSync(s,JSON.stringify(n)),a&&console.log(`Updated lock file with new workspace folders: ${s}`),s}function aO(t){let e=sO(),r=Qu.join(e,`${t}.lock`);if(ys.existsSync(r))try{ys.unlinkSync(r)}catch(s){console.error(`Failed to delete lock file ${r}:`,s)}}function d5(t){return new Promise(e=>{let r=rO.createServer();r.once("error",()=>{e(!1)}),r.once("listening",()=>{r.close(),e(!0)}),r.listen(t)})}async function nO(){for(let t=0;t<50;t++){let e=p5();if(await d5(e))return e}throw new Error("Failed to find an available port after multiple attempts")}var Ct=ae(require("vscode"),1),cO=ae(require("fs"),1);var iO=ae(require("vscode"),1);function es(){try{let t=iO.window.activeTerminal;t&&t.show()}catch(t){console.error("Error focusing terminal:",t)}}var xa;async function lO(t,e,r,s,a,i,n,o,l){t.info("diff from",s,"to",a,"as",n);let c=Ct.Uri.file(s);try{if((await Ct.workspace.openTextDocument(c)).isDirty){let k=cO.readFileSync(s,"utf8");c=e.createFile(s,k).uri}}catch{t.info("leftTempFileProvider.createFile",s),c=e.createFile(s,"").uri}let p=r.createFile(a,i).uri,h=await Ct.workspace.openTextDocument(p),d=D=>D.input instanceof Ct.TabInputTextDiff&&D.input.modified.toString()===p.toString();await $h(t)>0&&await new Promise(D=>setTimeout(D,200));let f={preview:!1},v=i,g=i,x;Ct.workspace.onDidChangeTextDocument(D=>{D.document.uri.toString()===p.toString()&&(v=g,g=D.document.getText(),D.contentChanges.length>3&&D.reason!==Ct.TextDocumentChangeReason.Undo&&D.reason!==Ct.TextDocumentChangeReason.Redo&&(x={time:Date.now(),contents:v}))});let w=new Promise(D=>{l.push(Ct.workspace.onWillSaveTextDocument(k=>{if(k.document.uri.toString()===p.toString()){let T=k.document.getText();x&&Date.now()-x.time<500&&(T=x.contents),D(T)}}))}),C=!0;xa&&(xa.dispose(),xa=void 0);try{xa=Ct.commands.registerCommand("type",D=>{if(!(C&&Ct.window.activeTextEditor?.document.uri.toString()===p.toString()))return Ct.commands.executeCommand("default:type",D)}),setTimeout(()=>{C=!1,xa&&(xa.dispose(),xa=void 0)},1e3),l.push(xa)}catch(D){t.warn("Could not register type command interceptor:",D)}let R=Xu(),P=await Ct.commands.executeCommand("vscode.diff",c,p,n,f);t.info("diff result",P,n,c,p,f);try{await oO(()=>Xu().some(D=>D.label===n),1e3)}catch(D){let k=Xu().filter(T=>!R.some(L=>L.label===T.label)).map(T=>({label:T.label,isDiff:T.isDiff}));throw t.error(`Failed to open diff tab, possibly new tabs: ${JSON.stringify(k)}`),D}es();let O=new Promise(D=>{l.push(o(k=>{k.activeTab&&d(k.activeTab)&&D(k)}))}).then(D=>D.accepted?(t.info("diff_accepted",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:h.getText()}]}):{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]}),N=oO(()=>!Xu().some(D=>D.label===n)).then(()=>(t.info("tab_closed",n),{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]})),I=w.then(async D=>(t.info("file_saved",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:D}]})),j=[N,O];return Ct.workspace.getConfiguration("files").get("autoSave")==="off"&&j.push(I),await Promise.race(j)}function Xu(){return Ct.window.tabGroups.all.flatMap(t=>t.tabs.map(e=>({tab:e,label:e.label,isDiff:e.input instanceof Ct.TabInputTextDiff,viewColumn:t.viewColumn,isActive:e.isActive})))}function oO(t,e){return new Promise((r,s)=>{let a,i=setInterval(()=>{t()&&(clearInterval(i),a&&clearTimeout(a),r())},100);e&&(a=setTimeout(()=>{clearInterval(i),s(new Error(`Timeout waiting after ${e}ms`))},e))})}async function Fh(t,e,r){t.environmentVariableCollection.replace(e,r),console.log(`Set ${e}=${r} in terminal environment (in-memory)`)}var A6=ae(ak(),1),I6=ae(Zh(),1),D6=ae(Qh(),1),mk=ae(up(),1),nv=ae(fk(),1);var zi=mk.default;var dp=class{constructor(e){this.ws=e;this.opened=new Promise((r,s)=>{this.ws.readyState===zi.OPEN?r():(this.ws.on("open",()=>{r()}),this.ws.on("error",a=>{s(a)}))}),this.ws.on("message",this.onMessageHandler),this.ws.on("error",this.onErrorHandler),this.ws.on("close",this.onCloseHandler)}started=!1;opened;onclose;onerror;onmessage;onMessageHandler=e=>{try{let r=JSON.parse(e.toString("utf-8")),s=eC.parse(r);this.onmessage?.(s)}catch(r){this.onErrorHandler(r)}};onErrorHandler=e=>{this.onerror?.(e instanceof Error?e:new Error("Failed to process message"))};onCloseHandler=()=>{this.onclose?.(),this.ws.off("message",this.onMessageHandler),this.ws.off("error",this.onErrorHandler),this.ws.off("close",this.onCloseHandler)};async start(){if(this.started)throw new Error("Start can only be called once per transport.");if(await this.opened,this.ws.readyState!==zi.OPEN)throw new Error("WebSocket is not open. Cannot start transport.");this.started=!0}async close(){(this.ws.readyState===zi.OPEN||this.ws.readyState===zi.CONNECTING)&&this.ws.close(),this.onCloseHandler()}async send(e){if(this.ws.readyState!==zi.OPEN)throw new Error("WebSocket is not open. Cannot send message.");let r=JSON.stringify(e);try{await new Promise((s,a)=>{this.ws.send(r,i=>{i?a(i):s()})})}catch(s){throw this.onErrorHandler(s),s}}};var iv=ae(require("vscode"),1);var Vs=null;function ov(){return Vs}function hk(t,e){let r=null,s=iv.window.onDidChangeTextEditorSelection(a=>{let i=a.textEditor,n=i.selection,o=i.document,c={text:o.getText(n),filePath:o.uri.fsPath,fileUrl:o.uri.toString(),selection:{start:{line:n.start.line,character:n.start.character},end:{line:n.end.line,character:n.end.character},isEmpty:n.isEmpty}},u=!Vs||Vs.text!==c.text||Vs.filePath!==c.filePath||Vs.selection.start.line!==c.selection.start.line||Vs.selection.start.character!==c.selection.start.character||Vs.selection.end.line!==c.selection.end.line||Vs.selection.end.character!==c.selection.end.character;Vs=c;let p=e();u&&p&&t.server&&(r&&clearTimeout(r),r=setTimeout(()=>{let h=e();h&&cv(c,h)},300))});return{dispose:()=>{s.dispose(),r&&clearTimeout(r)}}}function vk(t,e,r){t(()=>{let s=iv.window.activeTextEditor;if(!s)return;let a=s.selection,i={filePath:s.document.uri.fsPath};a.isEmpty||(i.lineStart=a.start.line,i.lineEnd=a.end.line);let n=r();n&&e.server&&(gk(i,n),es())})}function L6(){let t=lr.env.appName,e;switch(t.toLowerCase()){case"visual studio code":e="Claude Code VSCode MCP";break;case"cursor":e="Claude Code Cursor MCP";break;case"windsurf":e="Claude Code Windsurf MCP";break;default:e=`Claude Code ${t} MCP`}return e}function N6(t,e,r,s){t.logged.event(a=>{let i=s();i&&e.server?Sk(r,a,i):lv.push(a)})}function bk(t,e,r,s,a,i,n){let o=new Ku({name:L6(),version:t.extension.packageJSON.version||"0.0.1"});o.tool("openDiff","Open a git diff for the file",{old_file_path:_.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_path:_.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_contents:_.string().describe("Contents of the new file. If not provided then the current file contents of new_file_path will be used."),tab_name:_.string().describe("Path to the file to show diff for. If not provided, uses active editor.")},async({old_file_path:x,new_file_path:w,new_file_contents:C,tab_name:R})=>{let P=[];try{return await lO(s,e,r,x,w,C,R,a,P)}catch(O){throw s.error(`Error opening diff: ${O}`),O}finally{for(let O of P)O.dispose()}}),o.tool("getDiagnostics","Get language diagnostics from VS Code",{uri:_.string().optional().describe("Optional file URI to get diagnostics for. If not provided, gets diagnostics for all files.")},WT),o.tool("close_tab",{tab_name:_.string()},async({tab_name:x})=>(await $6(x,s),setTimeout(()=>{es()},500),{content:[{type:"text",text:"TAB_CLOSED"}]})),o.tool("closeAllDiffTabs","Close all diff tabs in the editor",{},async()=>{let x=await $h(s);return setTimeout(()=>{es()},500),{content:[{type:"text",text:`CLOSED_${x}_DIFF_TABS`}]}}),o.tool("openFile","Open a file in the editor and optionally select a range of text",{filePath:_.string().describe("Path to the file to open"),preview:_.boolean().describe("Whether to open the file in preview mode").default(!1),startText:_.string().describe("Text pattern to find the start of the selection range. Selects from the beginning of this match."),endText:_.string().describe("Text pattern to find the end of the selection range. Selects up to the end of this match. If not provided, only the startText match will be selected."),selectToEndOfLine:_.boolean().describe("If true, selection will extend to the end of the line containing the endText match.").default(!1),makeFrontmost:_.boolean().describe("Whether to make the file the active editor tab. If false, the file will be opened in the background without changing focus.").default(!0)},{readOnlyHint:!0},ZT),o.tool("getOpenEditors","Get information about currently open editors",{},KT),o.tool("getWorkspaceFolders","Get all workspace folders currently open in the IDE",{},QT),o.tool("getCurrentSelection","Get the current text selection in the active editor",{},JT),o.tool("checkDocumentDirty","Check if a document has unsaved changes (is dirty)",{filePath:_.string().describe("Path to the file to check")},XT),o.tool("saveDocument","Save a document with unsaved changes",{filePath:_.string().describe("Path to the file to save")},YT),o.tool("getLatestSelection","Get the most recent text selection (even if not in the active editor)",{},async()=>({content:[{type:"text",text:JSON.stringify(ov()||{success:!1,message:"No selection available"},null,2)}]})),o.tool("executeCode",`Execute python code in the Jupyter kernel for the current notebook file.
    
    All code will be executed in the current Jupyter kernel.
    
    Avoid declaring variables or modifying the state of the kernel unless the user
    explicitly asks for it.
    
    Any code executed will persist across calls to this tool, unless the kernel
    has been restarted.`,{code:_.string().describe("The code to be executed on the kernel.")},({code:x})=>eO(s,x));let l=xk.createServer(),c=new nv.default({server:l}),u=null,p=null,h=bl.getInstance(s),d=(0,yk.randomUUID)();c.on("connection",function(x,w){if(w.headers["x-claude-code-ide-authorization"]!==d){s.error("Unauthorized WebSocket connection attempt"),x.close(1008,"Unauthorized");return}if(s.info("New WS connection from:",w.url||"unknown"),u){s.info("Disconnecting previous WebSocket client"),p&&(h.unregisterClient(p),s.info(`Unregistered previous diagnostic client: ${p}`),p=null);try{u.close()}catch(P){s.error("Error closing previous transport:",P)}}let C=new dp(x);u=C;let R=null;o.connect(C).then(()=>{s.info("MCP server connected to transport"),R=h.registerClient(P=>{C.send({jsonrpc:"2.0",method:"diagnostics_changed",params:{uris:P}}).catch(O=>{s.error("Error sending diagnostics notification:",O.message)})}),p=R,s.info(`Registered diagnostic client: ${R}`),setTimeout(()=>{let P=ov();P&&cv(P,C);let O=[...lv];lv.length=0;for(let N of O)Sk(s,N,C)},500)}).catch(P=>{console.error("Error connecting transport:",P),u=null;try{x.close()}catch(O){s.error("Error closing WebSocket:",O)}}),x.on("close",()=>{s.info("WS client disconnected"),u===C&&(u=null,R&&p===R&&(h.unregisterClient(R),s.info(`Unregistered diagnostic client: ${R}`),p=null))})});let m=()=>u;N6(n,o,s,m),vk(i,o,m);let f=hk(o,m),v=null;l.on("listening",()=>{let x=l.address();x&&typeof x!="string"&&(v=x.port)});let g=lr.workspace.onDidChangeWorkspaceFolders(()=>{v!==null&&(Nh(v,d),s.info(`Updated lock file for port ${v} with new workspace folders`))});return{httpServer:l,authToken:d,dispose:async()=>{v!==null&&(aO(v),s.info(`Deleted lock file for port ${v}`)),f.dispose(),g.dispose(),h.dispose(),l.close(),typeof o.close=="function"&&await o.close()}}}async function _k(t,e,r,s){try{let a=await nO(),i=null;return new Promise((n,o)=>{t.listen(a,"127.0.0.1",async()=>{s.info(`MCP Server running on port ${a} (localhost only)`),i=Nh(a,e),console.log(`Created lock file at ${i}`);try{await Fh(r,"CLAUDE_CODE_SSE_PORT",String(a)),await Fh(r,"ENABLE_IDE_INTEGRATION","true"),n(a)}catch(l){console.error("Failed to set environment variables:",l),o(l)}}).on("error",l=>{console.error("Failed to start MCP server:",l),lr.window.showErrorMessage(`Failed to start MCP server: ${l}`),o(l)})})}catch(a){throw console.error("Failed to start MCP server:",a),lr.window.showErrorMessage(`Failed to start MCP server: ${a}`),a}}async function wk(t,e){let r=t.input;if(r instanceof lr.TabInputTextDiff)try{await(await lr.workspace.openTextDocument(r.modified)).save()}catch(s){e.error("Error saving modified file:",s)}await lr.window.tabGroups.close(t)}async function $6(t,e){for(let r of lr.window.tabGroups.all)for(let s of r.tabs)if(s.label===t)return await wk(s,e),!0;return!1}async function $h(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of lr.window.tabGroups.all)for(let s of r.tabs)s.input instanceof lr.TabInputTextDiff&&s.label.includes("[Claude Code]")&&(await wk(s,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function Sk(t,e,r){t.info("Logging event:",e.eventName,e.eventData);let s={eventName:e.eventName,eventData:e.eventData??{}};r.send({jsonrpc:"2.0",method:"log_event",params:s}).catch(a=>{t.error("Error sending log event:",a)})}var lv=[];async function cv(t,e){try{e.send({jsonrpc:"2.0",method:"selection_changed",params:t}).catch(r=>{console.error("Error sending selection change notification:",r)})}catch(r){console.error("Error sending selection change notification:",r)}}async function gk(t,e){try{e.send({jsonrpc:"2.0",method:"at_mentioned",params:t}).catch(r=>{console.error("Error sending at-mentioned notification:",r)})}catch(r){console.error("Error sending at-mentioned notification:",r)}}var ft=ae(require("vscode"),1),Ek=ae(require("path"),1);var Pk=ae(Cf(),1);function F6(t){return typeof t=="string"&&["bottom","window","beside"].includes(t)}async function j6(t,e,r=!0,s,a){t.info("Creating new Claude terminal"),r&&ft.window.withProgress({location:ft.ProgressLocation.Notification,title:"Claude Code launching...",cancellable:!1},async l=>new Promise(c=>setTimeout(c,2e3)));let i=a==="beside"||a===void 0?{viewColumn:ft.ViewColumn.Beside}:a==="window"?{viewColumn:ft.ViewColumn.One}:void 0,n=ft.window.createTerminal({name:process.env.CLAUDE_CODE_TERMINAL_TITLE||"Claude Code",iconPath:ft.Uri.file(Ek.join(e.extensionPath,"resources","claude-logo.svg")),location:i,isTransient:!0});ft.window.onDidEndTerminalShellExecution(l=>{l.terminal===n&&l.execution.commandLine.value.startsWith("claude ")&&(t.info(`Claude terminal closed after executing ${l.execution.commandLine.value}`),n.dispose())});let o=!1;return ft.window.onDidChangeTerminalShellIntegration(async l=>{let c="claude";s&&(c=(0,Pk.quote)(["claude",s])),l.terminal===n&&!o&&(o=!0,t.info("Terminal shell integration available"),l.shellIntegration.executeCommand(c))}),setTimeout(()=>{!n.shellIntegration&&!o&&(o=!0,n.sendText("claude"))},3e3),n.show(),a==="window"&&await ft.commands.executeCommand("workbench.action.moveEditorToNewWindow"),{terminal:n,claudeRunning:!0}}function Ck(t,e,r){let s=async(a,i)=>{try{await j6(t,e,!0,a,i)}catch(n){t.error("Error running Claude Code:",n),ft.window.showErrorMessage(`Failed to run Claude Code: ${n}`)}};e.subscriptions.push(ft.commands.registerCommand("claude-vscode.terminal.open",(a,i)=>{r.logEvent("run_claude_command");let n=typeof a=="string"?a:void 0,o=F6(i)?i:void 0;s(n,o)})),e.subscriptions.push(ft.commands.registerCommand("claude-vscode.terminal.open.keyboard",()=>{r.logEvent("run_claude_command_keyboard"),s()}))}function Rk(t){let e=new ft.EventEmitter;return t.push(ft.commands.registerCommand("claude-code.acceptProposedDiff",async()=>{let r=ft.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r}),es()})),t.push(ft.commands.registerCommand("claude-code.rejectProposedDiff",async()=>{let r=ft.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r}),es()})),e.event}function Tk(t,e){let r=new ft.EventEmitter;return t.push(ft.commands.registerCommand("claude-code.insertAtMentioned",async()=>{if(e?.nativeAtMentionCallback){let s=ft.window.activeTextEditor;if(!s)return;let a=s.document,i=ft.workspace.asRelativePath(a.fileName),n=s.selection,o;if(n.isEmpty)o=`@${i}`;else{let c=n.start.line+1,u=n.end.line+1;o=c!==u?`@${i}#L${c}-${u}`:`@${i}#L${c}`}e.nativeAtMentionCallback(o)||r.fire({})}else r.fire({}),es()})),r.event}var Ok=ae(require("vscode"),1),fp=class{logged=new Ok.EventEmitter;logEvent(e,r){this.logged.fire({eventName:e,eventData:r})}};function kk(t,e,r){t.subscriptions.push(e);let s=new fp;e.info("Claude code extension is now active?");let a=new Vo("_claude_fs_left");t.subscriptions.push(Gs.workspace.registerFileSystemProvider(a.scheme,a));let i=new Vo("_claude_fs_right");t.subscriptions.push(Gs.workspace.registerFileSystemProvider(i.scheme,i)),t.subscriptions.push(M6(i.scheme));let n=Rk(t.subscriptions),o=Tk(t.subscriptions,{output:e,context:t,nativeAtMentionCallback:r.nativeAtMentionCallback});Ck(e,t,s);try{let{httpServer:l,authToken:c,dispose:u}=bk(t,a,i,e,n,o,s);_k(l,c,t,e).catch(p=>{e.error("Failed to start MCP server:",p),Gs.window.showErrorMessage(`Failed to start MCP server: ${p}`)}),t.subscriptions.push({dispose:async()=>{await u()}})}catch(l){e.error("Error during extension activation:",l),Gs.window.showErrorMessage(`Failed to activate Claude Code extension: ${l}`)}}function M6(t){return Gs.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(s=>s?.document.uri.scheme===t);Gs.commands.executeCommand("setContext","claude-code.viewingProposedDiff",r)})}function uv(t){let e=t.document,r=e.fileName,s=t.selection;if(s.isEmpty)return{filePath:r,startLine:s.start.line+1,endLine:s.start.line+1};{let a=e.getText(s);return{filePath:r,startLine:s.start.line+1,endLine:s.end.line+1,startColumn:s.start.character,endColumn:s.end.character,selectedText:a}}}var Ak=!1;function U6(t){Ak=!0;let e=Xe.window.createOutputChannel("Claude VSCode",{log:!0});t.subscriptions.push(e),Xe.commands.executeCommand("setContext","claude-vscode.updateSupported",!1);let r=new Zc(t);r.migrateAllSettings();let s=new Ho("_claude_vscode_fs_left");t.subscriptions.push(Xe.workspace.registerFileSystemProvider(s.scheme,s));let a=new Ho("_claude_vscode_fs_right");t.subscriptions.push(Xe.workspace.registerFileSystemProvider(a.scheme,a));let i=new ru("_claude_vscode_fs_readonly");t.subscriptions.push(Xe.workspace.registerTextDocumentContentProvider(i.scheme,i)),t.subscriptions.push(B6(a.scheme));let n=mw(t.subscriptions),o=new Xe.EventEmitter;t.subscriptions.push(o),q6(t.subscriptions,o);let l=o.event,c=z6(t.subscriptions),u=new Bo(t.extensionUri,t,e,r,s,a,i,n,l,c,()=>oc);t.subscriptions.push(u),kk(t,e,{nativeAtMentionCallback:p=>u.hasVisibleWebview()?(o.fire(p),!0):!1}),t.subscriptions.push(Xe.window.registerWebviewViewProvider(Bo.viewType,u,{webviewOptions:{retainContextWhenHidden:!0}})),Xe.window.registerWebviewPanelSerializer("claudeVSCodePanel",{async deserializeWebviewPanel(p,h){u.setupPanel(p)}}),t.subscriptions.push(Xe.commands.registerCommand("claude-vscode.editor.open",async()=>{t.globalState.update("lastClaudeLocation",1);let{startedInNewColumn:p}=u.createPanel();p&&Xe.commands.executeCommand("workbench.action.lockEditorGroup")})),t.subscriptions.push(Xe.commands.registerCommand("claude-vscode.editor.openLast",async()=>{if(t.globalState.get("lastClaudeLocation")===0){Xe.commands.executeCommand("claude-vscode.sidebar.open");return}Xe.commands.executeCommand("claude-vscode.editor.open")})),t.globalState.get("everOpenedSidebar")&&Xe.commands.executeCommand("setContext","claude-code:sidebarVisible",!0),t.subscriptions.push(Xe.commands.registerCommand("claude-vscode.sidebar.open",async()=>{t.globalState.update("everOpenedSidebar",!0),t.globalState.update("lastClaudeLocation",0),Xe.commands.executeCommand("setContext","claude-code:sidebarVisible",!0),await Xe.commands.executeCommand("claudeVSCodeSidebar.focus")})),t.subscriptions.push(Xe.commands.registerCommand("claude-vscode.window.open",async()=>{u.createPanel(),await Xe.commands.executeCommand("workbench.action.moveEditorToNewWindow")})),t.subscriptions.push(Xe.commands.registerCommand("claude-vscode.logout",async()=>{await new Si(Ei(e),eu()).logout()?(await u.notifyLogout(),Xe.window.showInformationMessage("Successfully logged out from Claude")):Xe.window.showErrorMessage("Failed to logout completely. Some credentials may remain.")})),t.subscriptions.push(Xe.commands.registerCommand("claude-vscode.showLogs",()=>{e.show()}))}function q6(t,e){t.push(Xe.commands.registerCommand("claude-vscode.insertAtMention",async()=>{let r=Xe.window.activeTextEditor;if(!r)return;let s=r.document,a=Xe.workspace.asRelativePath(s.fileName),i=r.selection;if(i.isEmpty){e.fire(`@${a}`);return}let n=i.start.line+1,o=i.end.line+1,l=n!==o?`@${a}#${n}-${o}`:`@${a}#${n}`;e.fire(l)}))}var oc;function z6(t){let e=new Xe.EventEmitter;return t.push(Xe.window.onDidChangeTextEditorSelection(async r=>{if(!(r.textEditor!==Xe.window.activeTextEditor||!Tr("doNotExcludeSearchPatterns")&&await Td(r.textEditor.document.uri))){if(r.selections.length===0){e.fire(void 0);return}oc=uv(r.textEditor),e.fire(oc)}})),t.push(Xe.window.onDidChangeActiveTextEditor(async r=>{!r||!Tr("doNotExcludeSearchPatterns")&&await Td(r.document.uri)||(oc=uv(r),e.fire(oc))})),e.event}function B6(t){return Xe.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(s=>s?.document.uri.scheme===t);Xe.commands.executeCommand("setContext","claude-vscode.viewingProposedDiff",r)})}function H6(){console.log("Claude code extension is now deactivated"),Ak=!1}function V6(){return Xe.window.tabGroups.all.flatMap(t=>t.tabs)}0&&(module.exports={activate,deactivate,openTabs});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
