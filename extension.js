"use strict";var U9=Object.create;var Ef=Object.defineProperty;var L9=Object.getOwnPropertyDescriptor;var F9=Object.getOwnPropertyNames;var q9=Object.getPrototypeOf,Z9=Object.prototype.hasOwnProperty;var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_i=(t,e)=>{for(var r in e)Ef(t,r,{get:e[r],enumerable:!0})},UC=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of F9(e))!Z9.call(t,i)&&i!==r&&Ef(t,i,{get:()=>e[i],enumerable:!(n=L9(e,i))||n.enumerable});return t};var J=(t,e,r)=>(r=t!=null?U9(q9(t)):{},UC(e||!t||!t.__esModule?Ef(r,"default",{value:t,enumerable:!0}):r,t)),B9=t=>UC(Ef({},"__esModule",{value:!0}),t);var VC=C((Dwe,BC)=>{BC.exports=ZC;ZC.sync=H9;var FC=require("fs");function V9(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function qC(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:V9(e,r)}function ZC(t,e,r){FC.stat(t,function(n,i){r(n,n?!1:qC(i,t,e))})}function H9(t,e){return qC(FC.statSync(t),t,e)}});var KC=C((zwe,JC)=>{JC.exports=WC;WC.sync=W9;var HC=require("fs");function WC(t,e,r){HC.stat(t,function(n,i){r(n,n?!1:GC(i,e))})}function W9(t,e){return GC(HC.statSync(t),e)}function GC(t,e){return t.isFile()&&G9(t,e)}function G9(t,e){var r=t.mode,n=t.uid,i=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),l=parseInt("001",8),u=a|c,d=r&l||r&c&&i===s||r&a&&n===o||r&u&&o===0;return d}});var QC=C((Uwe,YC)=>{var Mwe=require("fs"),Tf;process.platform==="win32"||global.TESTING_WINDOWS?Tf=VC():Tf=KC();YC.exports=Bb;Bb.sync=J9;function Bb(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Bb(t,e||{},function(o,s){o?i(o):n(s)})})}Tf(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function J9(t,e){try{return Tf.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var oP=C((Lwe,iP)=>{var Ua=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",XC=require("path"),K9=Ua?";":":",eP=QC(),tP=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),rP=(t,e)=>{let r=e.colon||K9,n=t.match(/\//)||Ua&&t.match(/\\/)?[""]:[...Ua?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=Ua?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Ua?i.split(r):[""];return Ua&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},nP=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=rP(t,e),s=[],a=l=>new Promise((u,d)=>{if(l===n.length)return e.all&&s.length?u(s):d(tP(t));let m=n[l],p=/^".*"$/.test(m)?m.slice(1,-1):m,f=XC.join(p,t),v=!p&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;u(c(v,l,0))}),c=(l,u,d)=>new Promise((m,p)=>{if(d===i.length)return m(a(u+1));let f=i[d];eP(l+f,{pathExt:o},(v,g)=>{if(!v&&g)if(e.all)s.push(l+f);else return m(l+f);return m(c(l,u,d+1))})});return r?a(0).then(l=>r(null,l),r):a(0)},Y9=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=rP(t,e),o=[];for(let s=0;s<r.length;s++){let a=r[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,l=XC.join(c,t),u=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+l:l;for(let d=0;d<n.length;d++){let m=u+n[d];try{if(eP.sync(m,{pathExt:i}))if(e.all)o.push(m);else return m}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw tP(t)};iP.exports=nP;nP.sync=Y9});var aP=C((Fwe,Vb)=>{"use strict";var sP=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Vb.exports=sP;Vb.exports.default=sP});var dP=C((qwe,uP)=>{"use strict";var cP=require("path"),Q9=oP(),X9=aP();function lP(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let s;try{s=Q9.sync(t.command,{path:r[X9({env:r})],pathExt:e?cP.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=cP.resolve(i?t.options.cwd:"",s)),s}function eV(t){return lP(t)||lP(t,!0)}uP.exports=eV});var pP=C((Zwe,Wb)=>{"use strict";var Hb=/([()\][%!^"`<>&|;, *?])/g;function tV(t){return t=t.replace(Hb,"^$1"),t}function rV(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(Hb,"^$1"),e&&(t=t.replace(Hb,"^$1")),t}Wb.exports.command=tV;Wb.exports.argument=rV});var mP=C((Bwe,fP)=>{"use strict";fP.exports=/^#!(.*)/});var gP=C((Vwe,hP)=>{"use strict";var nV=mP();hP.exports=(t="")=>{let e=t.match(nV);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var yP=C((Hwe,vP)=>{"use strict";var Gb=require("fs"),iV=gP();function oV(t){let r=Buffer.alloc(150),n;try{n=Gb.openSync(t,"r"),Gb.readSync(n,r,0,150,0),Gb.closeSync(n)}catch{}return iV(r.toString())}vP.exports=oV});var wP=C((Wwe,xP)=>{"use strict";var sV=require("path"),bP=dP(),_P=pP(),aV=yP(),cV=process.platform==="win32",lV=/\.(?:com|exe)$/i,uV=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function dV(t){t.file=bP(t);let e=t.file&&aV(t.file);return e?(t.args.unshift(t.file),t.command=e,bP(t)):t.file}function pV(t){if(!cV)return t;let e=dV(t),r=!lV.test(e);if(t.options.forceShell||r){let n=uV.test(e);t.command=sV.normalize(t.command),t.command=_P.command(t.command),t.args=t.args.map(o=>_P.argument(o,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function fV(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:pV(n)}xP.exports=fV});var $P=C((Gwe,kP)=>{"use strict";var Jb=process.platform==="win32";function Kb(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function mV(t,e){if(!Jb)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let o=SP(i,e);if(o)return r.call(t,"error",o)}return r.apply(t,arguments)}}function SP(t,e){return Jb&&t===1&&!e.file?Kb(e.original,"spawn"):null}function hV(t,e){return Jb&&t===1&&!e.file?Kb(e.original,"spawnSync"):null}kP.exports={hookChildProcess:mV,verifyENOENT:SP,verifyENOENTSync:hV,notFoundError:Kb}});var Xb=C((Jwe,La)=>{"use strict";var EP=require("child_process"),Yb=wP(),Qb=$P();function TP(t,e,r){let n=Yb(t,e,r),i=EP.spawn(n.command,n.args,n.options);return Qb.hookChildProcess(i,n),i}function gV(t,e,r){let n=Yb(t,e,r),i=EP.spawnSync(n.command,n.args,n.options);return i.error=i.error||Qb.verifyENOENTSync(i.status,n),i}La.exports=TP;La.exports.spawn=TP;La.exports.sync=gV;La.exports._parse=Yb;La.exports._enoent=Qb});var sI=C((B0e,oI)=>{"use strict";var{PassThrough:cH}=require("stream");oI.exports=function(){var t=[],e=new cH({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),e;function r(o){return Array.isArray(o)?(o.forEach(r),this):(t.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return t.length==0}function i(o){t=t.filter(function(s){return s!==o}),!t.length&&e.readable&&e.end()}}});var du=C((pSe,PI)=>{"use strict";var wH="2.0.0",SH=Number.MAX_SAFE_INTEGER||9007199254740991,kH=16,$H=250,EH=["major","premajor","minor","preminor","patch","prepatch","prerelease"];PI.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:kH,MAX_SAFE_BUILD_LENGTH:$H,MAX_SAFE_INTEGER:SH,RELEASE_TYPES:EH,SEMVER_SPEC_VERSION:wH,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pu=C((fSe,II)=>{"use strict";var TH=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};II.exports=TH});var Za=C((xi,RI)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:k_,MAX_SAFE_BUILD_LENGTH:CH,MAX_LENGTH:PH}=du(),IH=pu();xi=RI.exports={};var RH=xi.re=[],OH=xi.safeRe=[],ve=xi.src=[],AH=xi.safeSrc=[],ye=xi.t={},NH=0,$_="[a-zA-Z0-9-]",jH=[["\\s",1],["\\d",PH],[$_,CH]],DH=t=>{for(let[e,r]of jH)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},He=(t,e,r)=>{let n=DH(e),i=NH++;IH(t,i,e),ye[t]=i,ve[i]=e,AH[i]=n,RH[i]=new RegExp(e,r?"g":void 0),OH[i]=new RegExp(n,r?"g":void 0)};He("NUMERICIDENTIFIER","0|[1-9]\\d*");He("NUMERICIDENTIFIERLOOSE","\\d+");He("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${$_}*`);He("MAINVERSION",`(${ve[ye.NUMERICIDENTIFIER]})\\.(${ve[ye.NUMERICIDENTIFIER]})\\.(${ve[ye.NUMERICIDENTIFIER]})`);He("MAINVERSIONLOOSE",`(${ve[ye.NUMERICIDENTIFIERLOOSE]})\\.(${ve[ye.NUMERICIDENTIFIERLOOSE]})\\.(${ve[ye.NUMERICIDENTIFIERLOOSE]})`);He("PRERELEASEIDENTIFIER",`(?:${ve[ye.NONNUMERICIDENTIFIER]}|${ve[ye.NUMERICIDENTIFIER]})`);He("PRERELEASEIDENTIFIERLOOSE",`(?:${ve[ye.NONNUMERICIDENTIFIER]}|${ve[ye.NUMERICIDENTIFIERLOOSE]})`);He("PRERELEASE",`(?:-(${ve[ye.PRERELEASEIDENTIFIER]}(?:\\.${ve[ye.PRERELEASEIDENTIFIER]})*))`);He("PRERELEASELOOSE",`(?:-?(${ve[ye.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ve[ye.PRERELEASEIDENTIFIERLOOSE]})*))`);He("BUILDIDENTIFIER",`${$_}+`);He("BUILD",`(?:\\+(${ve[ye.BUILDIDENTIFIER]}(?:\\.${ve[ye.BUILDIDENTIFIER]})*))`);He("FULLPLAIN",`v?${ve[ye.MAINVERSION]}${ve[ye.PRERELEASE]}?${ve[ye.BUILD]}?`);He("FULL",`^${ve[ye.FULLPLAIN]}$`);He("LOOSEPLAIN",`[v=\\s]*${ve[ye.MAINVERSIONLOOSE]}${ve[ye.PRERELEASELOOSE]}?${ve[ye.BUILD]}?`);He("LOOSE",`^${ve[ye.LOOSEPLAIN]}$`);He("GTLT","((?:<|>)?=?)");He("XRANGEIDENTIFIERLOOSE",`${ve[ye.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);He("XRANGEIDENTIFIER",`${ve[ye.NUMERICIDENTIFIER]}|x|X|\\*`);He("XRANGEPLAIN",`[v=\\s]*(${ve[ye.XRANGEIDENTIFIER]})(?:\\.(${ve[ye.XRANGEIDENTIFIER]})(?:\\.(${ve[ye.XRANGEIDENTIFIER]})(?:${ve[ye.PRERELEASE]})?${ve[ye.BUILD]}?)?)?`);He("XRANGEPLAINLOOSE",`[v=\\s]*(${ve[ye.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ve[ye.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ve[ye.XRANGEIDENTIFIERLOOSE]})(?:${ve[ye.PRERELEASELOOSE]})?${ve[ye.BUILD]}?)?)?`);He("XRANGE",`^${ve[ye.GTLT]}\\s*${ve[ye.XRANGEPLAIN]}$`);He("XRANGELOOSE",`^${ve[ye.GTLT]}\\s*${ve[ye.XRANGEPLAINLOOSE]}$`);He("COERCEPLAIN",`(^|[^\\d])(\\d{1,${k_}})(?:\\.(\\d{1,${k_}}))?(?:\\.(\\d{1,${k_}}))?`);He("COERCE",`${ve[ye.COERCEPLAIN]}(?:$|[^\\d])`);He("COERCEFULL",ve[ye.COERCEPLAIN]+`(?:${ve[ye.PRERELEASE]})?(?:${ve[ye.BUILD]})?(?:$|[^\\d])`);He("COERCERTL",ve[ye.COERCE],!0);He("COERCERTLFULL",ve[ye.COERCEFULL],!0);He("LONETILDE","(?:~>?)");He("TILDETRIM",`(\\s*)${ve[ye.LONETILDE]}\\s+`,!0);xi.tildeTrimReplace="$1~";He("TILDE",`^${ve[ye.LONETILDE]}${ve[ye.XRANGEPLAIN]}$`);He("TILDELOOSE",`^${ve[ye.LONETILDE]}${ve[ye.XRANGEPLAINLOOSE]}$`);He("LONECARET","(?:\\^)");He("CARETTRIM",`(\\s*)${ve[ye.LONECARET]}\\s+`,!0);xi.caretTrimReplace="$1^";He("CARET",`^${ve[ye.LONECARET]}${ve[ye.XRANGEPLAIN]}$`);He("CARETLOOSE",`^${ve[ye.LONECARET]}${ve[ye.XRANGEPLAINLOOSE]}$`);He("COMPARATORLOOSE",`^${ve[ye.GTLT]}\\s*(${ve[ye.LOOSEPLAIN]})$|^$`);He("COMPARATOR",`^${ve[ye.GTLT]}\\s*(${ve[ye.FULLPLAIN]})$|^$`);He("COMPARATORTRIM",`(\\s*)${ve[ye.GTLT]}\\s*(${ve[ye.LOOSEPLAIN]}|${ve[ye.XRANGEPLAIN]})`,!0);xi.comparatorTrimReplace="$1$2$3";He("HYPHENRANGE",`^\\s*(${ve[ye.XRANGEPLAIN]})\\s+-\\s+(${ve[ye.XRANGEPLAIN]})\\s*$`);He("HYPHENRANGELOOSE",`^\\s*(${ve[ye.XRANGEPLAINLOOSE]})\\s+-\\s+(${ve[ye.XRANGEPLAINLOOSE]})\\s*$`);He("STAR","(<|>)?=?\\s*\\*");He("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");He("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var qf=C((mSe,OI)=>{"use strict";var zH=Object.freeze({loose:!0}),MH=Object.freeze({}),UH=t=>t?typeof t!="object"?zH:t:MH;OI.exports=UH});var E_=C((hSe,jI)=>{"use strict";var AI=/^[0-9]+$/,NI=(t,e)=>{let r=AI.test(t),n=AI.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},LH=(t,e)=>NI(e,t);jI.exports={compareIdentifiers:NI,rcompareIdentifiers:LH}});var Cr=C((gSe,zI)=>{"use strict";var Zf=pu(),{MAX_LENGTH:DI,MAX_SAFE_INTEGER:Bf}=du(),{safeRe:Vf,t:Hf}=Za(),FH=qf(),{compareIdentifiers:Ba}=E_(),T_=class t{constructor(e,r){if(r=FH(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>DI)throw new TypeError(`version is longer than ${DI} characters`);Zf("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Vf[Hf.LOOSE]:Vf[Hf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Bf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Bf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Bf||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Bf)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Zf("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Ba(this.major,e.major)||Ba(this.minor,e.minor)||Ba(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Zf("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ba(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Zf("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ba(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?Vf[Hf.PRERELEASELOOSE]:Vf[Hf.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Ba(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};zI.exports=T_});var Ts=C((vSe,UI)=>{"use strict";var MI=Cr(),qH=(t,e,r=!1)=>{if(t instanceof MI)return t;try{return new MI(t,e)}catch(n){if(!r)return null;throw n}};UI.exports=qH});var FI=C((ySe,LI)=>{"use strict";var ZH=Ts(),BH=(t,e)=>{let r=ZH(t,e);return r?r.version:null};LI.exports=BH});var ZI=C((bSe,qI)=>{"use strict";var VH=Ts(),HH=(t,e)=>{let r=VH(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};qI.exports=HH});var HI=C((_Se,VI)=>{"use strict";var BI=Cr(),WH=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new BI(t instanceof BI?t.version:t,r).inc(e,n,i).version}catch{return null}};VI.exports=WH});var JI=C((xSe,GI)=>{"use strict";var WI=Ts(),GH=(t,e)=>{let r=WI(t,null,!0),n=WI(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(s)===0)return a.minor&&!a.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};GI.exports=GH});var YI=C((wSe,KI)=>{"use strict";var JH=Cr(),KH=(t,e)=>new JH(t,e).major;KI.exports=KH});var XI=C((SSe,QI)=>{"use strict";var YH=Cr(),QH=(t,e)=>new YH(t,e).minor;QI.exports=QH});var tR=C((kSe,eR)=>{"use strict";var XH=Cr(),eW=(t,e)=>new XH(t,e).patch;eR.exports=eW});var nR=C(($Se,rR)=>{"use strict";var tW=Ts(),rW=(t,e)=>{let r=tW(t,e);return r&&r.prerelease.length?r.prerelease:null};rR.exports=rW});var Rn=C((ESe,oR)=>{"use strict";var iR=Cr(),nW=(t,e,r)=>new iR(t,r).compare(new iR(e,r));oR.exports=nW});var aR=C((TSe,sR)=>{"use strict";var iW=Rn(),oW=(t,e,r)=>iW(e,t,r);sR.exports=oW});var lR=C((CSe,cR)=>{"use strict";var sW=Rn(),aW=(t,e)=>sW(t,e,!0);cR.exports=aW});var Wf=C((PSe,dR)=>{"use strict";var uR=Cr(),cW=(t,e,r)=>{let n=new uR(t,r),i=new uR(e,r);return n.compare(i)||n.compareBuild(i)};dR.exports=cW});var fR=C((ISe,pR)=>{"use strict";var lW=Wf(),uW=(t,e)=>t.sort((r,n)=>lW(r,n,e));pR.exports=uW});var hR=C((RSe,mR)=>{"use strict";var dW=Wf(),pW=(t,e)=>t.sort((r,n)=>dW(n,r,e));mR.exports=pW});var fu=C((OSe,gR)=>{"use strict";var fW=Rn(),mW=(t,e,r)=>fW(t,e,r)>0;gR.exports=mW});var Gf=C((ASe,vR)=>{"use strict";var hW=Rn(),gW=(t,e,r)=>hW(t,e,r)<0;vR.exports=gW});var C_=C((NSe,yR)=>{"use strict";var vW=Rn(),yW=(t,e,r)=>vW(t,e,r)===0;yR.exports=yW});var P_=C((jSe,bR)=>{"use strict";var bW=Rn(),_W=(t,e,r)=>bW(t,e,r)!==0;bR.exports=_W});var Jf=C((DSe,_R)=>{"use strict";var xW=Rn(),wW=(t,e,r)=>xW(t,e,r)>=0;_R.exports=wW});var Kf=C((zSe,xR)=>{"use strict";var SW=Rn(),kW=(t,e,r)=>SW(t,e,r)<=0;xR.exports=kW});var I_=C((MSe,wR)=>{"use strict";var $W=C_(),EW=P_(),TW=fu(),CW=Jf(),PW=Gf(),IW=Kf(),RW=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return $W(t,r,n);case"!=":return EW(t,r,n);case">":return TW(t,r,n);case">=":return CW(t,r,n);case"<":return PW(t,r,n);case"<=":return IW(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};wR.exports=RW});var kR=C((USe,SR)=>{"use strict";var OW=Cr(),AW=Ts(),{safeRe:Yf,t:Qf}=Za(),NW=(t,e)=>{if(t instanceof OW)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Yf[Qf.COERCEFULL]:Yf[Qf.COERCE]);else{let c=e.includePrerelease?Yf[Qf.COERCERTLFULL]:Yf[Qf.COERCERTL],l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return AW(`${n}.${i}.${o}${s}${a}`,e)};SR.exports=NW});var ER=C((LSe,$R)=>{"use strict";var R_=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};$R.exports=R_});var On=C((FSe,IR)=>{"use strict";var jW=/\s+/g,O_=class t{constructor(e,r){if(r=zW(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof A_)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(jW," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!CR(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&BW(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&qW)|(this.options.loose&&ZW))+":"+e,i=TR.get(n);if(i)return i;let o=this.options.loose,s=o?Xr[Fr.HYPHENRANGELOOSE]:Xr[Fr.HYPHENRANGE];e=e.replace(s,e3(this.options.includePrerelease)),Nt("hyphen replace",e),e=e.replace(Xr[Fr.COMPARATORTRIM],UW),Nt("comparator trim",e),e=e.replace(Xr[Fr.TILDETRIM],LW),Nt("tilde trim",e),e=e.replace(Xr[Fr.CARETTRIM],FW),Nt("caret trim",e);let a=e.split(" ").map(d=>VW(d,this.options)).join(" ").split(/\s+/).map(d=>XW(d,this.options));o&&(a=a.filter(d=>(Nt("loose invalid filter",d,this.options),!!d.match(Xr[Fr.COMPARATORLOOSE])))),Nt("range list",a);let c=new Map,l=a.map(d=>new A_(d,this.options));for(let d of l){if(CR(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return TR.set(n,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>PR(n,r)&&e.set.some(i=>PR(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new MW(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(t3(this.set[r],e,this.options))return!0;return!1}};IR.exports=O_;var DW=ER(),TR=new DW,zW=qf(),A_=mu(),Nt=pu(),MW=Cr(),{safeRe:Xr,t:Fr,comparatorTrimReplace:UW,tildeTrimReplace:LW,caretTrimReplace:FW}=Za(),{FLAG_INCLUDE_PRERELEASE:qW,FLAG_LOOSE:ZW}=du(),CR=t=>t.value==="<0.0.0-0",BW=t=>t.value==="",PR=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},VW=(t,e)=>(Nt("comp",t,e),t=GW(t,e),Nt("caret",t),t=HW(t,e),Nt("tildes",t),t=KW(t,e),Nt("xrange",t),t=QW(t,e),Nt("stars",t),t),qr=t=>!t||t.toLowerCase()==="x"||t==="*",HW=(t,e)=>t.trim().split(/\s+/).map(r=>WW(r,e)).join(" "),WW=(t,e)=>{let r=e.loose?Xr[Fr.TILDELOOSE]:Xr[Fr.TILDE];return t.replace(r,(n,i,o,s,a)=>{Nt("tilde",t,n,i,o,s,a);let c;return qr(i)?c="":qr(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:qr(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Nt("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Nt("tilde return",c),c})},GW=(t,e)=>t.trim().split(/\s+/).map(r=>JW(r,e)).join(" "),JW=(t,e)=>{Nt("caret",t,e);let r=e.loose?Xr[Fr.CARETLOOSE]:Xr[Fr.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,c)=>{Nt("caret",t,i,o,s,a,c);let l;return qr(o)?l="":qr(s)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:qr(a)?o==="0"?l=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Nt("replaceCaret pr",c),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Nt("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Nt("caret return",l),l})},KW=(t,e)=>(Nt("replaceXRanges",t,e),t.split(/\s+/).map(r=>YW(r,e)).join(" ")),YW=(t,e)=>{t=t.trim();let r=e.loose?Xr[Fr.XRANGELOOSE]:Xr[Fr.XRANGE];return t.replace(r,(n,i,o,s,a,c)=>{Nt("xRange",t,n,i,o,s,a,c);let l=qr(o),u=l||qr(s),d=u||qr(a),m=d;return i==="="&&m&&(i=""),c=e.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(u&&(s=0),a=0,i===">"?(i=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",u?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):u?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Nt("xRange return",n),n})},QW=(t,e)=>(Nt("replaceStars",t,e),t.trim().replace(Xr[Fr.STAR],"")),XW=(t,e)=>(Nt("replaceGTE0",t,e),t.trim().replace(Xr[e.includePrerelease?Fr.GTE0PRE:Fr.GTE0],"")),e3=t=>(e,r,n,i,o,s,a,c,l,u,d,m)=>(qr(n)?r="":qr(i)?r=`>=${n}.0.0${t?"-0":""}`:qr(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,qr(l)?c="":qr(u)?c=`<${+l+1}.0.0-0`:qr(d)?c=`<${l}.${+u+1}.0-0`:m?c=`<=${l}.${u}.${d}-${m}`:t?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),t3=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Nt(t[n].semver),t[n].semver!==A_.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var mu=C((qSe,DR)=>{"use strict";var hu=Symbol("SemVer ANY"),D_=class t{static get ANY(){return hu}constructor(e,r){if(r=RR(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),j_("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===hu?this.value="":this.value=this.operator+this.semver.version,j_("comp",this)}parse(e){let r=this.options.loose?OR[AR.COMPARATORLOOSE]:OR[AR.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new NR(n[2],this.options.loose):this.semver=hu}toString(){return this.value}test(e){if(j_("Comparator.test",e,this.options.loose),this.semver===hu||e===hu)return!0;if(typeof e=="string")try{e=new NR(e,this.options)}catch{return!1}return N_(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new jR(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new jR(this.value,r).test(e.semver):(r=RR(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||N_(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||N_(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};DR.exports=D_;var RR=qf(),{safeRe:OR,t:AR}=Za(),N_=I_(),j_=pu(),NR=Cr(),jR=On()});var gu=C((ZSe,zR)=>{"use strict";var r3=On(),n3=(t,e,r)=>{try{e=new r3(e,r)}catch{return!1}return e.test(t)};zR.exports=n3});var UR=C((BSe,MR)=>{"use strict";var i3=On(),o3=(t,e)=>new i3(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));MR.exports=o3});var FR=C((VSe,LR)=>{"use strict";var s3=Cr(),a3=On(),c3=(t,e,r)=>{let n=null,i=null,o=null;try{o=new a3(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new s3(n,r))}),n};LR.exports=c3});var ZR=C((HSe,qR)=>{"use strict";var l3=Cr(),u3=On(),d3=(t,e,r)=>{let n=null,i=null,o=null;try{o=new u3(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new l3(n,r))}),n};qR.exports=d3});var HR=C((WSe,VR)=>{"use strict";var z_=Cr(),p3=On(),BR=fu(),f3=(t,e)=>{t=new p3(t,e);let r=new z_("0.0.0");if(t.test(r)||(r=new z_("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new z_(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||BR(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||BR(r,o))&&(r=o)}return r&&t.test(r)?r:null};VR.exports=f3});var GR=C((GSe,WR)=>{"use strict";var m3=On(),h3=(t,e)=>{try{return new m3(t,e).range||"*"}catch{return null}};WR.exports=h3});var Xf=C((JSe,QR)=>{"use strict";var g3=Cr(),YR=mu(),{ANY:v3}=YR,y3=On(),b3=gu(),JR=fu(),KR=Gf(),_3=Kf(),x3=Jf(),w3=(t,e,r,n)=>{t=new g3(t,n),e=new y3(e,n);let i,o,s,a,c;switch(r){case">":i=JR,o=_3,s=KR,a=">",c=">=";break;case"<":i=KR,o=x3,s=JR,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(b3(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let u=e.set[l],d=null,m=null;if(u.forEach(p=>{p.semver===v3&&(p=new YR(">=0.0.0")),d=d||p,m=m||p,i(p.semver,d.semver,n)?d=p:s(p.semver,m.semver,n)&&(m=p)}),d.operator===a||d.operator===c||(!m.operator||m.operator===a)&&o(t,m.semver))return!1;if(m.operator===c&&s(t,m.semver))return!1}return!0};QR.exports=w3});var eO=C((KSe,XR)=>{"use strict";var S3=Xf(),k3=(t,e,r)=>S3(t,e,">",r);XR.exports=k3});var rO=C((YSe,tO)=>{"use strict";var $3=Xf(),E3=(t,e,r)=>$3(t,e,"<",r);tO.exports=E3});var oO=C((QSe,iO)=>{"use strict";var nO=On(),T3=(t,e,r)=>(t=new nO(t,r),e=new nO(e,r),t.intersects(e,r));iO.exports=T3});var aO=C((XSe,sO)=>{"use strict";var C3=gu(),P3=Rn();sO.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((u,d)=>P3(u,d,r));for(let u of s)C3(u,e,r)?(o=u,i||(i=u)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,d]of n)u===d?a.push(u):!d&&u===s[0]?a.push("*"):d?u===s[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e}});var fO=C((eke,pO)=>{"use strict";var cO=On(),U_=mu(),{ANY:M_}=U_,vu=gu(),L_=Rn(),I3=(t,e,r={})=>{if(t===e)return!0;t=new cO(t,r),e=new cO(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=O3(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},R3=[new U_(">=0.0.0-0")],lO=[new U_(">=0.0.0")],O3=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===M_){if(e.length===1&&e[0].semver===M_)return!0;r.includePrerelease?t=R3:t=lO}if(e.length===1&&e[0].semver===M_){if(r.includePrerelease)return!0;e=lO}let n=new Set,i,o;for(let p of t)p.operator===">"||p.operator===">="?i=uO(i,p,r):p.operator==="<"||p.operator==="<="?o=dO(o,p,r):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=L_(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!vu(p,String(i),r)||o&&!vu(p,String(o),r))return null;for(let f of e)if(!vu(p,String(f),r))return!1;return!0}let a,c,l,u,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",i){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(a=uO(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!vu(i.semver,String(p),r))return!1}if(o){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=dO(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!vu(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&l&&!o&&s!==0||o&&u&&!i&&s!==0||m||d)},uO=(t,e,r)=>{if(!t)return e;let n=L_(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},dO=(t,e,r)=>{if(!t)return e;let n=L_(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};pO.exports=I3});var q_=C((tke,gO)=>{"use strict";var F_=Za(),mO=du(),A3=Cr(),hO=E_(),N3=Ts(),j3=FI(),D3=ZI(),z3=HI(),M3=JI(),U3=YI(),L3=XI(),F3=tR(),q3=nR(),Z3=Rn(),B3=aR(),V3=lR(),H3=Wf(),W3=fR(),G3=hR(),J3=fu(),K3=Gf(),Y3=C_(),Q3=P_(),X3=Jf(),eG=Kf(),tG=I_(),rG=kR(),nG=mu(),iG=On(),oG=gu(),sG=UR(),aG=FR(),cG=ZR(),lG=HR(),uG=GR(),dG=Xf(),pG=eO(),fG=rO(),mG=oO(),hG=aO(),gG=fO();gO.exports={parse:N3,valid:j3,clean:D3,inc:z3,diff:M3,major:U3,minor:L3,patch:F3,prerelease:q3,compare:Z3,rcompare:B3,compareLoose:V3,compareBuild:H3,sort:W3,rsort:G3,gt:J3,lt:K3,eq:Y3,neq:Q3,gte:X3,lte:eG,cmp:tG,coerce:rG,Comparator:nG,Range:iG,satisfies:oG,toComparators:sG,maxSatisfying:aG,minSatisfying:cG,minVersion:lG,validRange:uG,outside:dG,gtr:pG,ltr:fG,intersects:mG,simplifyRange:hG,subset:gG,SemVer:A3,re:F_.re,src:F_.src,tokens:F_.t,SEMVER_SPEC_VERSION:mO.SEMVER_SPEC_VERSION,RELEASE_TYPES:mO.RELEASE_TYPES,compareIdentifiers:hO.compareIdentifiers,rcompareIdentifiers:hO.rcompareIdentifiers}});var Z1=C((G$e,q1)=>{var F1=require("stream").Stream,Une=require("util");q1.exports=ii;function ii(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}Une.inherits(ii,F1);ii.create=function(t,e){var r=new this;e=e||{};for(var n in e)r[n]=e[n];r.source=t;var i=t.emit;return t.emit=function(){return r._handleEmit(arguments),i.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(ii.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ii.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ii.prototype.resume=function(){this._released||this.release(),this.source.resume()};ii.prototype.pause=function(){this.source.pause()};ii.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};ii.prototype.pipe=function(){var t=F1.prototype.pipe.apply(this,arguments);return this.resume(),t};ii.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};ii.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var W1=C((J$e,H1)=>{var Lne=require("util"),V1=require("stream").Stream,B1=Z1();H1.exports=Kt;function Kt(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Lne.inherits(Kt,V1);Kt.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Kt.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Kt.prototype.append=function(t){var e=Kt.isStreamLike(t);if(e){if(!(t instanceof B1)){var r=B1.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Kt.prototype.pipe=function(t,e){return V1.prototype.pipe.call(this,t,e),this.resume(),t};Kt.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Kt.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var n=Kt.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Kt.prototype._pipeNext=function(t){this._currentStream=t;var e=Kt.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Kt.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Kt.prototype.write=function(t){this.emit("data",t)};Kt.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Kt.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Kt.prototype.end=function(){this._reset(),this.emit("end")};Kt.prototype.destroy=function(){this._reset(),this.emit("close")};Kt.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Kt.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Kt.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Kt.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var G1=C((K$e,Fne)=>{Fne.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var K1=C((Y$e,J1)=>{J1.exports=G1()});var X1=C(an=>{"use strict";var Km=K1(),qne=require("path").extname,Y1=/^\s*([^;\s]*)(?:;|\s|$)/,Zne=/^text\//i;an.charset=Q1;an.charsets={lookup:Q1};an.contentType=Bne;an.extension=Vne;an.extensions=Object.create(null);an.lookup=Hne;an.types=Object.create(null);Wne(an.extensions,an.types);function Q1(t){if(!t||typeof t!="string")return!1;var e=Y1.exec(t),r=e&&Km[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&Zne.test(e[1])?"UTF-8":!1}function Bne(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?an.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=an.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function Vne(t){if(!t||typeof t!="string")return!1;var e=Y1.exec(t),r=e&&an.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function Hne(t){if(!t||typeof t!="string")return!1;var e=qne("x."+t).toLowerCase().substr(1);return e&&an.types[e]||!1}function Wne(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(Km).forEach(function(i){var o=Km[i],s=o.extensions;if(!(!s||!s.length)){t[i]=s;for(var a=0;a<s.length;a++){var c=s[a];if(e[c]){var l=r.indexOf(Km[e[c]].source),u=r.indexOf(o.source);if(e[c]!=="application/octet-stream"&&(l>u||l===u&&e[c].substr(0,12)==="application/"))continue}e[c]=i}}})}});var tj=C((X$e,ej)=>{ej.exports=Gne;function Gne(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var bw=C((eEe,nj)=>{var rj=tj();nj.exports=Jne;function Jne(t){var e=!1;return rj(function(){e=!0}),function(n,i){e?t(n,i):rj(function(){t(n,i)})}}});var _w=C((tEe,ij)=>{ij.exports=Kne;function Kne(t){Object.keys(t.jobs).forEach(Yne.bind(t)),t.jobs={}}function Yne(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var xw=C((rEe,sj)=>{var oj=bw(),Qne=_w();sj.exports=Xne;function Xne(t,e,r,n){var i=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[i]=eie(e,i,t[i],function(o,s){i in r.jobs&&(delete r.jobs[i],o?Qne(r):r.results[i]=s,n(o,r.results))})}function eie(t,e,r,n){var i;return t.length==2?i=t(r,oj(n)):i=t(r,e,oj(n)),i}});var ww=C((nEe,aj)=>{aj.exports=tie;function tie(t,e){var r=!Array.isArray(t),n={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&n.keyedList.sort(r?e:function(i,o){return e(t[i],t[o])}),n}});var Sw=C((iEe,cj)=>{var rie=_w(),nie=bw();cj.exports=iie;function iie(t){Object.keys(this.jobs).length&&(this.index=this.size,rie(this),nie(t)(null,this.results))}});var uj=C((oEe,lj)=>{var oie=xw(),sie=ww(),aie=Sw();lj.exports=cie;function cie(t,e,r){for(var n=sie(t);n.index<(n.keyedList||t).length;)oie(t,e,n,function(i,o){if(i){r(i,o);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return aie.bind(n,r)}});var kw=C((sEe,Ym)=>{var dj=xw(),lie=ww(),uie=Sw();Ym.exports=die;Ym.exports.ascending=pj;Ym.exports.descending=pie;function die(t,e,r,n){var i=lie(t,r);return dj(t,e,i,function o(s,a){if(s){n(s,a);return}if(i.index++,i.index<(i.keyedList||t).length){dj(t,e,i,o);return}n(null,i.results)}),uie.bind(i,n)}function pj(t,e){return t<e?-1:t>e?1:0}function pie(t,e){return-1*pj(t,e)}});var mj=C((aEe,fj)=>{var fie=kw();fj.exports=mie;function mie(t,e,r){return fie(t,e,null,r)}});var gj=C((cEe,hj)=>{hj.exports={parallel:uj(),serial:mj(),serialOrdered:kw()}});var $w=C((lEe,vj)=>{"use strict";vj.exports=Object});var bj=C((uEe,yj)=>{"use strict";yj.exports=Error});var xj=C((dEe,_j)=>{"use strict";_j.exports=EvalError});var Sj=C((pEe,wj)=>{"use strict";wj.exports=RangeError});var $j=C((fEe,kj)=>{"use strict";kj.exports=ReferenceError});var Tj=C((mEe,Ej)=>{"use strict";Ej.exports=SyntaxError});var Qm=C((hEe,Cj)=>{"use strict";Cj.exports=TypeError});var Ij=C((gEe,Pj)=>{"use strict";Pj.exports=URIError});var Oj=C((vEe,Rj)=>{"use strict";Rj.exports=Math.abs});var Nj=C((yEe,Aj)=>{"use strict";Aj.exports=Math.floor});var Dj=C((bEe,jj)=>{"use strict";jj.exports=Math.max});var Mj=C((_Ee,zj)=>{"use strict";zj.exports=Math.min});var Lj=C((xEe,Uj)=>{"use strict";Uj.exports=Math.pow});var qj=C((wEe,Fj)=>{"use strict";Fj.exports=Math.round});var Bj=C((SEe,Zj)=>{"use strict";Zj.exports=Number.isNaN||function(e){return e!==e}});var Hj=C((kEe,Vj)=>{"use strict";var hie=Bj();Vj.exports=function(e){return hie(e)||e===0?e:e<0?-1:1}});var Gj=C(($Ee,Wj)=>{"use strict";Wj.exports=Object.getOwnPropertyDescriptor});var Ew=C((EEe,Jj)=>{"use strict";var Xm=Gj();if(Xm)try{Xm([],"length")}catch{Xm=null}Jj.exports=Xm});var Yj=C((TEe,Kj)=>{"use strict";var eh=Object.defineProperty||!1;if(eh)try{eh({},"a",{value:1})}catch{eh=!1}Kj.exports=eh});var Tw=C((CEe,Qj)=>{"use strict";Qj.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var tD=C((PEe,eD)=>{"use strict";var Xj=typeof Symbol<"u"&&Symbol,gie=Tw();eD.exports=function(){return typeof Xj!="function"||typeof Symbol!="function"||typeof Xj("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:gie()}});var Cw=C((IEe,rD)=>{"use strict";rD.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Pw=C((REe,nD)=>{"use strict";var vie=$w();nD.exports=vie.getPrototypeOf||null});var sD=C((OEe,oD)=>{"use strict";var yie="Function.prototype.bind called on incompatible ",bie=Object.prototype.toString,_ie=Math.max,xie="[object Function]",iD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},wie=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},Sie=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};oD.exports=function(e){var r=this;if(typeof r!="function"||bie.apply(r)!==xie)throw new TypeError(yie+r);for(var n=wie(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,iD(n,arguments));return Object(u)===u?u:this}return r.apply(e,iD(n,arguments))},s=_ie(0,r.length-n.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+Sie(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var td=C((AEe,aD)=>{"use strict";var kie=sD();aD.exports=Function.prototype.bind||kie});var th=C((NEe,cD)=>{"use strict";cD.exports=Function.prototype.call});var Iw=C((jEe,lD)=>{"use strict";lD.exports=Function.prototype.apply});var dD=C((DEe,uD)=>{"use strict";uD.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var fD=C((zEe,pD)=>{"use strict";var $ie=td(),Eie=Iw(),Tie=th(),Cie=dD();pD.exports=Cie||$ie.call(Tie,Eie)});var hD=C((MEe,mD)=>{"use strict";var Pie=td(),Iie=Qm(),Rie=th(),Oie=fD();mD.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Iie("a function is required");return Oie(Pie,Rie,e)}});var xD=C((UEe,_D)=>{"use strict";var Aie=hD(),gD=Ew(),yD;try{yD=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var Rw=!!yD&&gD&&gD(Object.prototype,"__proto__"),bD=Object,vD=bD.getPrototypeOf;_D.exports=Rw&&typeof Rw.get=="function"?Aie([Rw.get]):typeof vD=="function"?function(e){return vD(e==null?e:bD(e))}:!1});var ED=C((LEe,$D)=>{"use strict";var wD=Cw(),SD=Pw(),kD=xD();$D.exports=wD?function(e){return wD(e)}:SD?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return SD(e)}:kD?function(e){return kD(e)}:null});var Ow=C((FEe,TD)=>{"use strict";var Nie=Function.prototype.call,jie=Object.prototype.hasOwnProperty,Die=td();TD.exports=Die.call(Nie,jie)});var ND=C((qEe,AD)=>{"use strict";var ct,zie=$w(),Mie=bj(),Uie=xj(),Lie=Sj(),Fie=$j(),Rc=Tj(),Ic=Qm(),qie=Ij(),Zie=Oj(),Bie=Nj(),Vie=Dj(),Hie=Mj(),Wie=Lj(),Gie=qj(),Jie=Hj(),RD=Function,Aw=function(t){try{return RD('"use strict"; return ('+t+").constructor;")()}catch{}},rd=Ew(),Kie=Yj(),Nw=function(){throw new Ic},Yie=rd?function(){try{return arguments.callee,Nw}catch{try{return rd(arguments,"callee").get}catch{return Nw}}}():Nw,Cc=tD()(),fr=ED(),Qie=Pw(),Xie=Cw(),OD=Iw(),nd=th(),Pc={},eoe=typeof Uint8Array>"u"||!fr?ct:fr(Uint8Array),Qs={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ct:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ct:ArrayBuffer,"%ArrayIteratorPrototype%":Cc&&fr?fr([][Symbol.iterator]()):ct,"%AsyncFromSyncIteratorPrototype%":ct,"%AsyncFunction%":Pc,"%AsyncGenerator%":Pc,"%AsyncGeneratorFunction%":Pc,"%AsyncIteratorPrototype%":Pc,"%Atomics%":typeof Atomics>"u"?ct:Atomics,"%BigInt%":typeof BigInt>"u"?ct:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ct:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ct:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ct:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Mie,"%eval%":eval,"%EvalError%":Uie,"%Float16Array%":typeof Float16Array>"u"?ct:Float16Array,"%Float32Array%":typeof Float32Array>"u"?ct:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ct:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ct:FinalizationRegistry,"%Function%":RD,"%GeneratorFunction%":Pc,"%Int8Array%":typeof Int8Array>"u"?ct:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ct:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ct:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Cc&&fr?fr(fr([][Symbol.iterator]())):ct,"%JSON%":typeof JSON=="object"?JSON:ct,"%Map%":typeof Map>"u"?ct:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Cc||!fr?ct:fr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":zie,"%Object.getOwnPropertyDescriptor%":rd,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ct:Promise,"%Proxy%":typeof Proxy>"u"?ct:Proxy,"%RangeError%":Lie,"%ReferenceError%":Fie,"%Reflect%":typeof Reflect>"u"?ct:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ct:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Cc||!fr?ct:fr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ct:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Cc&&fr?fr(""[Symbol.iterator]()):ct,"%Symbol%":Cc?Symbol:ct,"%SyntaxError%":Rc,"%ThrowTypeError%":Yie,"%TypedArray%":eoe,"%TypeError%":Ic,"%Uint8Array%":typeof Uint8Array>"u"?ct:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ct:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ct:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ct:Uint32Array,"%URIError%":qie,"%WeakMap%":typeof WeakMap>"u"?ct:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ct:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ct:WeakSet,"%Function.prototype.call%":nd,"%Function.prototype.apply%":OD,"%Object.defineProperty%":Kie,"%Object.getPrototypeOf%":Qie,"%Math.abs%":Zie,"%Math.floor%":Bie,"%Math.max%":Vie,"%Math.min%":Hie,"%Math.pow%":Wie,"%Math.round%":Gie,"%Math.sign%":Jie,"%Reflect.getPrototypeOf%":Xie};if(fr)try{null.error}catch(t){CD=fr(fr(t)),Qs["%Error.prototype%"]=CD}var CD,toe=function t(e){var r;if(e==="%AsyncFunction%")r=Aw("async function () {}");else if(e==="%GeneratorFunction%")r=Aw("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Aw("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&fr&&(r=fr(i.prototype))}return Qs[e]=r,r},PD={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},id=td(),rh=Ow(),roe=id.call(nd,Array.prototype.concat),noe=id.call(OD,Array.prototype.splice),ID=id.call(nd,String.prototype.replace),nh=id.call(nd,String.prototype.slice),ioe=id.call(nd,RegExp.prototype.exec),ooe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,soe=/\\(\\)?/g,aoe=function(e){var r=nh(e,0,1),n=nh(e,-1);if(r==="%"&&n!=="%")throw new Rc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Rc("invalid intrinsic syntax, expected opening `%`");var i=[];return ID(e,ooe,function(o,s,a,c){i[i.length]=a?ID(c,soe,"$1"):s||o}),i},coe=function(e,r){var n=e,i;if(rh(PD,n)&&(i=PD[n],n="%"+i[0]+"%"),rh(Qs,n)){var o=Qs[n];if(o===Pc&&(o=toe(n)),typeof o>"u"&&!r)throw new Ic("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Rc("intrinsic "+e+" does not exist!")};AD.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Ic("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ic('"allowMissing" argument must be a boolean');if(ioe(/^%?[^%]*%?$/,e)===null)throw new Rc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=aoe(e),i=n.length>0?n[0]:"",o=coe("%"+i+"%",r),s=o.name,a=o.value,c=!1,l=o.alias;l&&(i=l[0],noe(n,roe([0,1],l)));for(var u=1,d=!0;u<n.length;u+=1){var m=n[u],p=nh(m,0,1),f=nh(m,-1);if((p==='"'||p==="'"||p==="`"||f==='"'||f==="'"||f==="`")&&p!==f)throw new Rc("property names with quotes must have matching quotes");if((m==="constructor"||!d)&&(c=!0),i+="."+m,s="%"+i+"%",rh(Qs,s))a=Qs[s];else if(a!=null){if(!(m in a)){if(!r)throw new Ic("base intrinsic for "+e+" exists, but the property is not available.");return}if(rd&&u+1>=n.length){var v=rd(a,m);d=!!v,d&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[m]}else d=rh(a,m),a=a[m];d&&!c&&(Qs[s]=a)}}return a}});var DD=C((ZEe,jD)=>{"use strict";var loe=Tw();jD.exports=function(){return loe()&&!!Symbol.toStringTag}});var UD=C((BEe,MD)=>{"use strict";var uoe=ND(),zD=uoe("%Object.defineProperty%",!0),doe=DD()(),poe=Ow(),foe=Qm(),ih=doe?Symbol.toStringTag:null;MD.exports=function(e,r){var n=arguments.length>2&&!!arguments[2]&&arguments[2].force,i=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof n<"u"&&typeof n!="boolean"||typeof i<"u"&&typeof i!="boolean")throw new foe("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");ih&&(n||!poe(e,ih))&&(zD?zD(e,ih,{configurable:!i,enumerable:!1,value:r,writable:!1}):e[ih]=r)}});var FD=C((VEe,LD)=>{LD.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var ZD=C((HEe,qD)=>{var Mw=W1(),moe=require("util"),jw=require("path"),hoe=require("http"),goe=require("https"),voe=require("url").parse,yoe=require("fs"),boe=require("stream").Stream,Dw=X1(),_oe=gj(),xoe=UD(),zw=FD();qD.exports=ft;moe.inherits(ft,Mw);function ft(t){if(!(this instanceof ft))return new ft(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Mw.call(this),t=t||{};for(var e in t)this[e]=t[e]}ft.LINE_BREAK=`\r
`;ft.DEFAULT_CONTENT_TYPE="application/octet-stream";ft.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=Mw.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(t,e,r),o=this._multiPartFooter();n(i),n(e),n(o),this._trackLength(i,e,r)};ft.prototype._trackLength=function(t,e,r){var n=0;r.knownLength!=null?n+=+r.knownLength:Buffer.isBuffer(e)?n=e.length:typeof e=="string"&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(t)+ft.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Object.prototype.hasOwnProperty.call(e,"httpVersion"))&&!(e instanceof boe))&&(r.knownLength||this._valuesToMeasure.push(e))};ft.prototype._lengthRetriever=function(t,e){Object.prototype.hasOwnProperty.call(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):yoe.stat(t.path,function(r,n){var i;if(r){e(r);return}i=n.size-(t.start?t.start:0),e(null,i)}):Object.prototype.hasOwnProperty.call(t,"httpVersion")?e(null,+t.headers["content-length"]):Object.prototype.hasOwnProperty.call(t,"httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};ft.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(e,r),i=this._getContentType(e,r),o="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(n||[]),"Content-Type":[].concat(i||[])};typeof r.header=="object"&&zw(s,r.header);var a;for(var c in s)if(Object.prototype.hasOwnProperty.call(s,c)){if(a=s[c],a==null)continue;Array.isArray(a)||(a=[a]),a.length&&(o+=c+": "+a.join("; ")+ft.LINE_BREAK)}return"--"+this.getBoundary()+ft.LINE_BREAK+o+ft.LINE_BREAK};ft.prototype._getContentDisposition=function(t,e){var r,n;return typeof e.filepath=="string"?r=jw.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=jw.basename(e.filename||t.name||t.path):t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=jw.basename(t.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n};ft.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=Dw.lookup(t.name)),!r&&t.path&&(r=Dw.lookup(t.path)),!r&&t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=Dw.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=ft.DEFAULT_CONTENT_TYPE),r};ft.prototype._multiPartFooter=function(){return function(t){var e=ft.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};ft.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+ft.LINE_BREAK};ft.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e.toLowerCase()]=t[e]);return r};ft.prototype.setBoundary=function(t){this._boundary=t};ft.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};ft.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(ft.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};ft.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};ft.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};ft.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};ft.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}_oe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){t(r);return}n.forEach(function(i){e+=i}),t(null,e)})};ft.prototype.submit=function(t,e){var r,n,i={method:"post"};return typeof t=="string"?(t=voe(t),n=zw({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},i)):(n=zw(t,i),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(t.headers),n.protocol=="https:"?r=goe.request(n):r=hoe.request(n),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&r.setHeader("Content-Length",s),this.pipe(r),e){var a,c=function(l,u){return r.removeListener("error",c),r.removeListener("response",a),e.call(this,l,u)};a=c.bind(this,null),r.on("error",c),r.on("response",a)}}.bind(this)),r};ft.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};ft.prototype.toString=function(){return"[object FormData]"};xoe(ft,"FormData")});var az=C(sz=>{"use strict";var Uoe=require("url").parse,Loe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Foe=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function qoe(t){var e=typeof t=="string"?Uoe(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||Loe[r]||0,!Zoe(n,i)))return"";var o=jc("npm_config_"+r+"_proxy")||jc(r+"_proxy")||jc("npm_config_proxy")||jc("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function Zoe(t,e){var r=(jc("npm_config_no_proxy")||jc("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,s=i?parseInt(i[2]):0;return s&&s!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!Foe.call(t,o)):t!==o}):!0}function jc(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}sz.getProxyForUrl=qoe});var lz=C((WTe,cz)=>{var Dc=1e3,zc=Dc*60,Mc=zc*60,ta=Mc*24,Boe=ta*7,Voe=ta*365.25;cz.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Hoe(t);if(r==="number"&&isFinite(t))return e.long?Goe(t):Woe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Hoe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Voe;case"weeks":case"week":case"w":return r*Boe;case"days":case"day":case"d":return r*ta;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Mc;case"minutes":case"minute":case"mins":case"min":case"m":return r*zc;case"seconds":case"second":case"secs":case"sec":case"s":return r*Dc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Woe(t){var e=Math.abs(t);return e>=ta?Math.round(t/ta)+"d":e>=Mc?Math.round(t/Mc)+"h":e>=zc?Math.round(t/zc)+"m":e>=Dc?Math.round(t/Dc)+"s":t+"ms"}function Goe(t){var e=Math.abs(t);return e>=ta?ch(t,e,ta,"day"):e>=Mc?ch(t,e,Mc,"hour"):e>=zc?ch(t,e,zc,"minute"):e>=Dc?ch(t,e,Dc,"second"):t+" ms"}function ch(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Yw=C((GTe,uz)=>{function Joe(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=lz(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let m=0;m<u.length;m++)d=(d<<5)-d+u.charCodeAt(m),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,m=null,p,f;function v(...g){if(!v.enabled)return;let h=v,b=Number(new Date),y=b-(d||b);h.diff=y,h.prev=d,h.curr=b,d=b,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let _=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(w,S)=>{if(w==="%%")return"%";_++;let $=r.formatters[S];if(typeof $=="function"){let E=g[_];w=$.call(h,E),g.splice(_,1),_--}return w}),r.formatArgs.call(h,g),(h.log||r.log).apply(h,g)}return v.namespace=u,v.useColors=r.useColors(),v.color=r.selectColor(u),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(p!==r.namespaces&&(p=r.namespaces,f=r.enabled(u)),f),set:g=>{m=g}}),typeof r.init=="function"&&r.init(v),v}function n(u,d){let m=r(this.namespace+(typeof d>"u"?":":d)+u);return m.log=this.log,m}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(" ",",").split(",").filter(Boolean);for(let m of d)m[0]==="-"?r.skips.push(m.slice(1)):r.names.push(m)}function o(u,d){let m=0,p=0,f=-1,v=0;for(;m<u.length;)if(p<d.length&&(d[p]===u[m]||d[p]==="*"))d[p]==="*"?(f=p,v=m,p++):(m++,p++);else if(f!==-1)p=f+1,v++,m=v;else return!1;for(;p<d.length&&d[p]==="*";)p++;return p===d.length}function s(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){for(let d of r.skips)if(o(u,d))return!1;for(let d of r.names)if(o(u,d))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}uz.exports=Joe});var dz=C((Sn,lh)=>{Sn.formatArgs=Yoe;Sn.save=Qoe;Sn.load=Xoe;Sn.useColors=Koe;Sn.storage=ese();Sn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Sn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Koe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Yoe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+lh.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Sn.log=console.debug||console.log||(()=>{});function Qoe(t){try{t?Sn.storage.setItem("debug",t):Sn.storage.removeItem("debug")}catch{}}function Xoe(){let t;try{t=Sn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function ese(){try{return localStorage}catch{}}lh.exports=Yw()(Sn);var{formatters:tse}=lh.exports;tse.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var fz=C((JTe,pz)=>{"use strict";pz.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var gz=C((KTe,hz)=>{"use strict";var rse=require("os"),mz=require("tty"),Un=fz(),{env:mr}=process,uh;Un("no-color")||Un("no-colors")||Un("color=false")||Un("color=never")?uh=0:(Un("color")||Un("colors")||Un("color=true")||Un("color=always"))&&(uh=1);function nse(){if("FORCE_COLOR"in mr)return mr.FORCE_COLOR==="true"?1:mr.FORCE_COLOR==="false"?0:mr.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(mr.FORCE_COLOR,10),3)}function ise(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function ose(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=nse();n!==void 0&&(uh=n);let i=r?uh:n;if(i===0)return 0;if(r){if(Un("color=16m")||Un("color=full")||Un("color=truecolor"))return 3;if(Un("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let o=i||0;if(mr.TERM==="dumb")return o;if(process.platform==="win32"){let s=rse.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in mr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in mr)||mr.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in mr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(mr.TEAMCITY_VERSION)?1:0;if(mr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in mr){let s=Number.parseInt((mr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(mr.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(mr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(mr.TERM)||"COLORTERM"in mr?1:o}function Qw(t,e={}){let r=ose(t,{streamIsTTY:t&&t.isTTY,...e});return ise(r)}hz.exports={supportsColor:Qw,stdout:Qw({isTTY:mz.isatty(1)}),stderr:Qw({isTTY:mz.isatty(2)})}});var yz=C((hr,ph)=>{var sse=require("tty"),dh=require("util");hr.init=fse;hr.log=use;hr.formatArgs=cse;hr.save=dse;hr.load=pse;hr.useColors=ase;hr.destroy=dh.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");hr.colors=[6,2,3,4,5,1];try{let t=gz();t&&(t.stderr||t).level>=2&&(hr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}hr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function ase(){return"colors"in hr.inspectOpts?!!hr.inspectOpts.colors:sse.isatty(process.stderr.fd)}function cse(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+ph.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=lse()+e+" "+t[0]}function lse(){return hr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function use(...t){return process.stderr.write(dh.formatWithOptions(hr.inspectOpts,...t)+`
`)}function dse(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function pse(){return process.env.DEBUG}function fse(t){t.inspectOpts={};let e=Object.keys(hr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=hr.inspectOpts[e[r]]}ph.exports=Yw()(hr);var{formatters:vz}=ph.exports;vz.o=function(t){return this.inspectOpts.colors=this.useColors,dh.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};vz.O=function(t){return this.inspectOpts.colors=this.useColors,dh.inspect(t,this.inspectOpts)}});var bz=C((YTe,Xw)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Xw.exports=dz():Xw.exports=yz()});var xz=C((QTe,_z)=>{var cd;_z.exports=function(){if(!cd){try{cd=bz()("follow-redirects")}catch{}typeof cd!="function"&&(cd=function(){})}cd.apply(null,arguments)}});var Ez=C((XTe,d0)=>{var ud=require("url"),ld=ud.URL,mse=require("http"),hse=require("https"),i0=require("stream").Writable,o0=require("assert"),wz=xz();(function(){var e=typeof process<"u",r=typeof window<"u"&&typeof document<"u",n=na(Error.captureStackTrace);!e&&(r||!n)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var s0=!1;try{o0(new ld(""))}catch(t){s0=t.code==="ERR_INVALID_URL"}var gse=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],a0=["abort","aborted","connect","error","socket","timeout"],c0=Object.create(null);a0.forEach(function(t){c0[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var t0=dd("ERR_INVALID_URL","Invalid URL",TypeError),r0=dd("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),vse=dd("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",r0),yse=dd("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),bse=dd("ERR_STREAM_WRITE_AFTER_END","write after end"),_se=i0.prototype.destroy||kz;function cn(t,e){i0.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(i){r.emit("error",i instanceof r0?i:new r0({cause:i}))}},this._performRequest()}cn.prototype=Object.create(i0.prototype);cn.prototype.abort=function(){u0(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};cn.prototype.destroy=function(t){return u0(this._currentRequest,t),_se.call(this,t),this};cn.prototype.write=function(t,e,r){if(this._ending)throw new bse;if(!ra(t)&&!Sse(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(na(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new yse),this.abort())};cn.prototype.end=function(t,e,r){if(na(t)?(r=t,t=e=null):na(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};cn.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};cn.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};cn.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),r.removeListener("close",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){cn.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(cn.prototype,t,{get:function(){return this._currentRequest[t]}})});cn.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};cn.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of a0)n.on(i,c0[i]);if(this._currentUrl=/^\//.test(this._options.path)?ud.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(l){if(n===s._currentRequest)if(l)s.emit("error",l);else if(o<a.length){var u=a[o++];n.finished||n.write(u.data,u.encoding,c)}else s._ended&&n.end()})()}};cn.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(u0(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new vse;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],e0(/^content-/i,this._options.headers));var s=e0(/^host$/i,this._options.headers),a=l0(this._currentUrl),c=s||a.host,l=/^\w+:/.test(r)?this._currentUrl:ud.format(Object.assign(a,{host:c})),u=xse(r,l);if(wz("redirecting to",u.href),this._isRedirect=!0,n0(u,this._options),(u.protocol!==a.protocol&&u.protocol!=="https:"||u.host!==c&&!wse(u.host,c))&&e0(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),na(i)){var d={headers:t.headers,statusCode:e},m={url:l,method:o,headers:n};i(this._options,d,m),this._sanitizeOptions(this._options)}this._performRequest()};function Sz(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(l,u,d){return kse(l)?l=n0(l):ra(l)?l=n0(l0(l)):(d=u,u=$z(l),l={protocol:i}),na(u)&&(d=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},l,u),u.nativeProtocols=r,!ra(u.host)&&!ra(u.hostname)&&(u.hostname="::1"),o0.equal(u.protocol,i,"protocol mismatch"),wz("options",u),new cn(u,d)}function c(l,u,d){var m=s.request(l,u,d);return m.end(),m}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function kz(){}function l0(t){var e;if(s0)e=new ld(t);else if(e=$z(ud.parse(t)),!ra(e.protocol))throw new t0({input:t});return e}function xse(t,e){return s0?new ld(t,e):l0(ud.resolve(e,t))}function $z(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new t0({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new t0({input:t.href||t});return t}function n0(t,e){var r=e||{};for(var n of gse)r[n]=t[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function e0(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function dd(t,e,r){function n(i){na(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=Object.create((r||Error).prototype),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),n}function u0(t,e){for(var r of a0)t.removeListener(r,c0[r]);t.on("error",kz),t.destroy(e)}function wse(t,e){o0(ra(t)&&ra(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function ra(t){return typeof t=="string"||t instanceof String}function na(t){return typeof t=="function"}function Sse(t){return typeof t=="object"&&"length"in t}function kse(t){return ld&&t instanceof ld}d0.exports=Sz({http:mse,https:hse});d0.exports.wrap=Sz});var UU=C((m1e,MU)=>{"use strict";MU.exports=function(e){return e.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s\\]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}});var HU=C((h1e,VU)=>{"use strict";var BU="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",LU=new RegExp("^"+BU+"$"),FU="|&;()<> \\t",jle='"((\\\\"|[^"])*?)"',Dle="'((\\\\'|[^'])*?)'",zle=/^#$/,qU="'",ZU='"',lS="$",ua="",Mle=4294967296;for(uS=0;uS<4;uS++)ua+=(Mle*Math.random()).toString(16);var uS,Ule=new RegExp("^"+ua);function Lle(t,e){for(var r=e.lastIndex,n=[],i;i=e.exec(t);)n.push(i),e.lastIndex===i.index&&(e.lastIndex+=1);return e.lastIndex=r,n}function Fle(t,e,r){var n=typeof t=="function"?t(r):t[r];return typeof n>"u"&&r!=""?n="":typeof n>"u"&&(n="$"),typeof n=="object"?e+ua+JSON.stringify(n)+ua:e+n}function qle(t,e,r){r||(r={});var n=r.escape||"\\",i="(\\"+n+`['"`+FU+`]|[^\\s'"`+FU+"])+",o=new RegExp(["("+BU+")","("+i+"|"+jle+"|"+Dle+")+"].join("|"),"g"),s=Lle(t,o);if(s.length===0)return[];e||(e={});var a=!1;return s.map(function(c){var l=c[0];if(!l||a)return;if(LU.test(l))return{op:l};var u=!1,d=!1,m="",p=!1,f;function v(){f+=1;var b,y,_=l.charAt(f);if(_==="{"){if(f+=1,l.charAt(f)==="}")throw new Error("Bad substitution: "+l.slice(f-2,f+1));if(b=l.indexOf("}",f),b<0)throw new Error("Bad substitution: "+l.slice(f));y=l.slice(f,b),f=b}else if(/[*@#?$!_-]/.test(_))y=_,f+=1;else{var x=l.slice(f);b=x.match(/[^\w\d_]/),b?(y=x.slice(0,b.index),f+=b.index-1):(y=x,f=l.length)}return Fle(e,"",y)}for(f=0;f<l.length;f++){var g=l.charAt(f);if(p=p||!u&&(g==="*"||g==="?"),d)m+=g,d=!1;else if(u)g===u?u=!1:u==qU?m+=g:g===n?(f+=1,g=l.charAt(f),g===ZU||g===n||g===lS?m+=g:m+=n+g):g===lS?m+=v():m+=g;else if(g===ZU||g===qU)u=g;else{if(LU.test(g))return{op:l};if(zle.test(g)){a=!0;var h={comment:t.slice(c.index+f+1)};return m.length?[m,h]:[h]}else g===n?d=!0:g===lS?m+=v():m+=g}}return p?{op:"glob",pattern:m}:m}).reduce(function(c,l){return typeof l>"u"?c:c.concat(l)},[])}VU.exports=function(e,r,n){var i=qle(e,r,n);return typeof r!="function"?i:i.reduce(function(o,s){if(typeof s=="object")return o.concat(s);var a=s.split(RegExp("("+ua+".*?"+ua+")","g"));return a.length===1?o.concat(a[0]):o.concat(a.filter(Boolean).map(function(c){return Ule.test(c)?JSON.parse(c.split(ua)[1]):c}))},[])}});var pS=C(dS=>{"use strict";dS.quote=UU();dS.parse=HU()});var zp=C(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.regexpCode=gt.getEsmExportName=gt.getProperty=gt.safeStringify=gt.stringify=gt.strConcat=gt.addCodeArg=gt.str=gt._=gt.nil=gt._Code=gt.Name=gt.IDENTIFIER=gt._CodeOrName=void 0;var jp=class{};gt._CodeOrName=jp;gt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var wa=class extends jp{constructor(e){if(super(),!gt.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};gt.Name=wa;var qn=class extends jp{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof wa&&(r[n.str]=(r[n.str]||0)+1),r),{})}};gt._Code=qn;gt.nil=new qn("");function c4(t,...e){let r=[t[0]],n=0;for(;n<e.length;)cE(r,e[n]),r.push(t[++n]);return new qn(r)}gt._=c4;var aE=new qn("+");function l4(t,...e){let r=[Dp(t[0])],n=0;for(;n<e.length;)r.push(aE),cE(r,e[n]),r.push(aE,Dp(t[++n]));return Sme(r),new qn(r)}gt.str=l4;function cE(t,e){e instanceof qn?t.push(...e._items):e instanceof wa?t.push(e):t.push(Eme(e))}gt.addCodeArg=cE;function Sme(t){let e=1;for(;e<t.length-1;){if(t[e]===aE){let r=kme(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function kme(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof wa||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof wa))return`"${t}${e.slice(1)}`}function $me(t,e){return e.emptyStr()?t:t.emptyStr()?e:l4`${t}${e}`}gt.strConcat=$me;function Eme(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Dp(Array.isArray(t)?t.join(","):t)}function Tme(t){return new qn(Dp(t))}gt.stringify=Tme;function Dp(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}gt.safeStringify=Dp;function Cme(t){return typeof t=="string"&&gt.IDENTIFIER.test(t)?new qn(`.${t}`):c4`[${t}]`}gt.getProperty=Cme;function Pme(t){if(typeof t=="string"&&gt.IDENTIFIER.test(t))return new qn(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}gt.getEsmExportName=Pme;function Ime(t){return new qn(t.toString())}gt.regexpCode=Ime});var dE=C(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.ValueScope=hn.ValueScopeName=hn.Scope=hn.varKinds=hn.UsedValueState=void 0;var mn=zp(),lE=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},ky;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(ky||(hn.UsedValueState=ky={}));hn.varKinds={const:new mn.Name("const"),let:new mn.Name("let"),var:new mn.Name("var")};var $y=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof mn.Name?e:this.name(e)}name(e){return new mn.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};hn.Scope=$y;var Ey=class extends mn.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,mn._)`.${new mn.Name(r)}[${n}]`}};hn.ValueScopeName=Ey;var Rme=(0,mn._)`\n`,uE=class extends $y{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?Rme:mn.nil}}get(){return this._scope}name(e){return new Ey(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:o}=i,s=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[o];if(a){let u=a.get(s);if(u)return u}else a=this._values[o]=new Map;a.set(s,i);let c=this._scope[o]||(this._scope[o]=[]),l=c.length;return c[l]=r.ref,i.setValue(r,{property:o,itemIndex:l}),i}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,mn._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(e,r,n={},i){let o=mn.nil;for(let s in e){let a=e[s];if(!a)continue;let c=n[s]=n[s]||new Map;a.forEach(l=>{if(c.has(l))return;c.set(l,ky.Started);let u=r(l);if(u){let d=this.opts.es5?hn.varKinds.var:hn.varKinds.const;o=(0,mn._)`${o}${d} ${l} = ${u};${this.opts._n}`}else if(u=i?.(l))o=(0,mn._)`${o}${u}${this.opts._n}`;else throw new lE(l);c.set(l,ky.Completed)})}return o}};hn.ValueScope=uE});var Qe=C(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.or=rt.and=rt.not=rt.CodeGen=rt.operators=rt.varKinds=rt.ValueScopeName=rt.ValueScope=rt.Scope=rt.Name=rt.regexpCode=rt.stringify=rt.getProperty=rt.nil=rt.strConcat=rt.str=rt._=void 0;var dt=zp(),fi=dE(),fs=zp();Object.defineProperty(rt,"_",{enumerable:!0,get:function(){return fs._}});Object.defineProperty(rt,"str",{enumerable:!0,get:function(){return fs.str}});Object.defineProperty(rt,"strConcat",{enumerable:!0,get:function(){return fs.strConcat}});Object.defineProperty(rt,"nil",{enumerable:!0,get:function(){return fs.nil}});Object.defineProperty(rt,"getProperty",{enumerable:!0,get:function(){return fs.getProperty}});Object.defineProperty(rt,"stringify",{enumerable:!0,get:function(){return fs.stringify}});Object.defineProperty(rt,"regexpCode",{enumerable:!0,get:function(){return fs.regexpCode}});Object.defineProperty(rt,"Name",{enumerable:!0,get:function(){return fs.Name}});var Iy=dE();Object.defineProperty(rt,"Scope",{enumerable:!0,get:function(){return Iy.Scope}});Object.defineProperty(rt,"ValueScope",{enumerable:!0,get:function(){return Iy.ValueScope}});Object.defineProperty(rt,"ValueScopeName",{enumerable:!0,get:function(){return Iy.ValueScopeName}});Object.defineProperty(rt,"varKinds",{enumerable:!0,get:function(){return Iy.varKinds}});rt.operators={GT:new dt._Code(">"),GTE:new dt._Code(">="),LT:new dt._Code("<"),LTE:new dt._Code("<="),EQ:new dt._Code("==="),NEQ:new dt._Code("!=="),NOT:new dt._Code("!"),OR:new dt._Code("||"),AND:new dt._Code("&&"),ADD:new dt._Code("+")};var wo=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},pE=class extends wo{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?fi.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=Rl(this.rhs,e,r)),this}get names(){return this.rhs instanceof dt._CodeOrName?this.rhs.names:{}}},Ty=class extends wo{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof dt.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Rl(this.rhs,e,r),this}get names(){let e=this.lhs instanceof dt.Name?{}:{...this.lhs.names};return Py(e,this.rhs)}},fE=class extends Ty{constructor(e,r,n,i){super(e,n,i),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},mE=class extends wo{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},hE=class extends wo{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},gE=class extends wo{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},vE=class extends wo{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Rl(this.code,e,r),this}get names(){return this.code instanceof dt._CodeOrName?this.code.names:{}}},Mp=class extends wo{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,i=n.length;for(;i--;){let o=n[i];o.optimizeNames(e,r)||(Ome(e,o.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>$a(e,r.names),{})}},So=class extends Mp{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},yE=class extends Mp{},Il=class extends So{};Il.kind="else";var Sa=class t extends So{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Il(n):n}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(u4(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Rl(this.condition,e,r),this}get names(){let e=super.names;return Py(e,this.condition),this.else&&$a(e,this.else.names),e}};Sa.kind="if";var ka=class extends So{};ka.kind="for";var bE=class extends ka{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=Rl(this.iteration,e,r),this}get names(){return $a(super.names,this.iteration.names)}},_E=class extends ka{constructor(e,r,n,i){super(),this.varKind=e,this.name=r,this.from=n,this.to=i}render(e){let r=e.es5?fi.varKinds.var:this.varKind,{name:n,from:i,to:o}=this;return`for(${r} ${n}=${i}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){let e=Py(super.names,this.from);return Py(e,this.to)}},Cy=class extends ka{constructor(e,r,n,i){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=Rl(this.iterable,e,r),this}get names(){return $a(super.names,this.iterable.names)}},Up=class extends So{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Up.kind="func";var Lp=class extends Mp{render(e){return"return "+super.render(e)}};Lp.kind="return";var xE=class extends So{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,i;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(i=this.finally)===null||i===void 0||i.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&$a(e,this.catch.names),this.finally&&$a(e,this.finally.names),e}},Fp=class extends So{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Fp.kind="catch";var qp=class extends So{render(e){return"finally"+super.render(e)}};qp.kind="finally";var wE=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new fi.Scope({parent:e}),this._nodes=[new yE]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,i){let o=this._scope.toName(r);return n!==void 0&&i&&(this._constants[o.str]=n),this._leafNode(new pE(e,o,n)),o}const(e,r,n){return this._def(fi.varKinds.const,e,r,n)}let(e,r,n){return this._def(fi.varKinds.let,e,r,n)}var(e,r,n){return this._def(fi.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new Ty(e,r,n))}add(e,r){return this._leafNode(new fE(e,rt.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==dt.nil&&this._leafNode(new vE(e)),this}object(...e){let r=["{"];for(let[n,i]of e)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,dt.addCodeArg)(r,i));return r.push("}"),new dt._Code(r)}if(e,r,n){if(this._blockNode(new Sa(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Sa(e))}else(){return this._elseNode(new Il)}endIf(){return this._endBlockNode(Sa,Il)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new bE(e),r)}forRange(e,r,n,i,o=this.opts.es5?fi.varKinds.var:fi.varKinds.let){let s=this._scope.toName(e);return this._for(new _E(o,s,r,n),()=>i(s))}forOf(e,r,n,i=fi.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let s=r instanceof dt.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,dt._)`${s}.length`,a=>{this.var(o,(0,dt._)`${s}[${a}]`),n(o)})}return this._for(new Cy("of",i,o,r),()=>n(o))}forIn(e,r,n,i=this.opts.es5?fi.varKinds.var:fi.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,dt._)`Object.keys(${r})`,n);let o=this._scope.toName(e);return this._for(new Cy("in",i,o,r),()=>n(o))}endFor(){return this._endBlockNode(ka)}label(e){return this._leafNode(new mE(e))}break(e){return this._leafNode(new hE(e))}return(e){let r=new Lp;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Lp)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new xE;if(this._blockNode(i),this.code(e),r){let o=this.name("e");this._currNode=i.catch=new Fp(o),r(o)}return n&&(this._currNode=i.finally=new qp,this.code(n)),this._endBlockNode(Fp,qp)}throw(e){return this._leafNode(new gE(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=dt.nil,n,i){return this._blockNode(new Up(e,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(Up)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Sa))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};rt.CodeGen=wE;function $a(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Py(t,e){return e instanceof dt._CodeOrName?$a(t,e.names):t}function Rl(t,e,r){if(t instanceof dt.Name)return n(t);if(!i(t))return t;return new dt._Code(t._items.reduce((o,s)=>(s instanceof dt.Name&&(s=n(s)),s instanceof dt._Code?o.push(...s._items):o.push(s),o),[]));function n(o){let s=r[o.str];return s===void 0||e[o.str]!==1?o:(delete e[o.str],s)}function i(o){return o instanceof dt._Code&&o._items.some(s=>s instanceof dt.Name&&e[s.str]===1&&r[s.str]!==void 0)}}function Ome(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function u4(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,dt._)`!${SE(t)}`}rt.not=u4;var Ame=d4(rt.operators.AND);function Nme(...t){return t.reduce(Ame)}rt.and=Nme;var jme=d4(rt.operators.OR);function Dme(...t){return t.reduce(jme)}rt.or=Dme;function d4(t){return(e,r)=>e===dt.nil?r:r===dt.nil?e:(0,dt._)`${SE(e)} ${t} ${SE(r)}`}function SE(t){return t instanceof dt.Name?t:(0,dt._)`(${t})`}});var vt=C(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.checkStrictMode=ot.getErrorPath=ot.Type=ot.useFunc=ot.setEvaluated=ot.evaluatedPropsToName=ot.mergeEvaluated=ot.eachItem=ot.unescapeJsonPointer=ot.escapeJsonPointer=ot.escapeFragment=ot.unescapeFragment=ot.schemaRefOrVal=ot.schemaHasRulesButRef=ot.schemaHasRules=ot.checkUnknownRules=ot.alwaysValidSchema=ot.toHash=void 0;var It=Qe(),zme=zp();function Mme(t){let e={};for(let r of t)e[r]=!0;return e}ot.toHash=Mme;function Ume(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(m4(t,e),!h4(e,t.self.RULES.all))}ot.alwaysValidSchema=Ume;function m4(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let i=n.RULES.keywords;for(let o in e)i[o]||y4(t,`unknown keyword: "${o}"`)}ot.checkUnknownRules=m4;function h4(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}ot.schemaHasRules=h4;function Lme(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}ot.schemaHasRulesButRef=Lme;function Fme({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,It._)`${r}`}return(0,It._)`${t}${e}${(0,It.getProperty)(n)}`}ot.schemaRefOrVal=Fme;function qme(t){return g4(decodeURIComponent(t))}ot.unescapeFragment=qme;function Zme(t){return encodeURIComponent($E(t))}ot.escapeFragment=Zme;function $E(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}ot.escapeJsonPointer=$E;function g4(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}ot.unescapeJsonPointer=g4;function Bme(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}ot.eachItem=Bme;function p4({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,o,s,a)=>{let c=s===void 0?o:s instanceof It.Name?(o instanceof It.Name?t(i,o,s):e(i,o,s),s):o instanceof It.Name?(e(i,s,o),o):r(o,s);return a===It.Name&&!(c instanceof It.Name)?n(i,c):c}}ot.mergeEvaluated={props:p4({mergeNames:(t,e,r)=>t.if((0,It._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,It._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,It._)`${r} || {}`).code((0,It._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,It._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,It._)`${r} || {}`),EE(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:v4}),items:p4({mergeNames:(t,e,r)=>t.if((0,It._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,It._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,It._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,It._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function v4(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,It._)`{}`);return e!==void 0&&EE(t,r,e),r}ot.evaluatedPropsToName=v4;function EE(t,e,r){Object.keys(r).forEach(n=>t.assign((0,It._)`${e}${(0,It.getProperty)(n)}`,!0))}ot.setEvaluated=EE;var f4={};function Vme(t,e){return t.scopeValue("func",{ref:e,code:f4[e.code]||(f4[e.code]=new zme._Code(e.code))})}ot.useFunc=Vme;var kE;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(kE||(ot.Type=kE={}));function Hme(t,e,r){if(t instanceof It.Name){let n=e===kE.Num;return r?n?(0,It._)`"[" + ${t} + "]"`:(0,It._)`"['" + ${t} + "']"`:n?(0,It._)`"/" + ${t}`:(0,It._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,It.getProperty)(t).toString():"/"+$E(t)}ot.getErrorPath=Hme;function y4(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}ot.checkStrictMode=y4});var ko=C(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});var Dr=Qe(),Wme={data:new Dr.Name("data"),valCxt:new Dr.Name("valCxt"),instancePath:new Dr.Name("instancePath"),parentData:new Dr.Name("parentData"),parentDataProperty:new Dr.Name("parentDataProperty"),rootData:new Dr.Name("rootData"),dynamicAnchors:new Dr.Name("dynamicAnchors"),vErrors:new Dr.Name("vErrors"),errors:new Dr.Name("errors"),this:new Dr.Name("this"),self:new Dr.Name("self"),scope:new Dr.Name("scope"),json:new Dr.Name("json"),jsonPos:new Dr.Name("jsonPos"),jsonLen:new Dr.Name("jsonLen"),jsonPart:new Dr.Name("jsonPart")};TE.default=Wme});var Zp=C(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.extendErrors=zr.resetErrorsCount=zr.reportExtraError=zr.reportError=zr.keyword$DataError=zr.keywordError=void 0;var mt=Qe(),Ry=vt(),Jr=ko();zr.keywordError={message:({keyword:t})=>(0,mt.str)`must pass "${t}" keyword validation`};zr.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,mt.str)`"${t}" keyword must be ${e} ($data)`:(0,mt.str)`"${t}" keyword is invalid ($data)`};function Gme(t,e=zr.keywordError,r,n){let{it:i}=t,{gen:o,compositeRule:s,allErrors:a}=i,c=x4(t,e,r);n??(s||a)?b4(o,c):_4(i,(0,mt._)`[${c}]`)}zr.reportError=Gme;function Jme(t,e=zr.keywordError,r){let{it:n}=t,{gen:i,compositeRule:o,allErrors:s}=n,a=x4(t,e,r);b4(i,a),o||s||_4(n,Jr.default.vErrors)}zr.reportExtraError=Jme;function Kme(t,e){t.assign(Jr.default.errors,e),t.if((0,mt._)`${Jr.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,mt._)`${Jr.default.vErrors}.length`,e),()=>t.assign(Jr.default.vErrors,null)))}zr.resetErrorsCount=Kme;function Yme({gen:t,keyword:e,schemaValue:r,data:n,errsCount:i,it:o}){if(i===void 0)throw new Error("ajv implementation error");let s=t.name("err");t.forRange("i",i,Jr.default.errors,a=>{t.const(s,(0,mt._)`${Jr.default.vErrors}[${a}]`),t.if((0,mt._)`${s}.instancePath === undefined`,()=>t.assign((0,mt._)`${s}.instancePath`,(0,mt.strConcat)(Jr.default.instancePath,o.errorPath))),t.assign((0,mt._)`${s}.schemaPath`,(0,mt.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign((0,mt._)`${s}.schema`,r),t.assign((0,mt._)`${s}.data`,n))})}zr.extendErrors=Yme;function b4(t,e){let r=t.const("err",e);t.if((0,mt._)`${Jr.default.vErrors} === null`,()=>t.assign(Jr.default.vErrors,(0,mt._)`[${r}]`),(0,mt._)`${Jr.default.vErrors}.push(${r})`),t.code((0,mt._)`${Jr.default.errors}++`)}function _4(t,e){let{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw((0,mt._)`new ${t.ValidationError}(${e})`):(r.assign((0,mt._)`${n}.errors`,e),r.return(!1))}var Ea={keyword:new mt.Name("keyword"),schemaPath:new mt.Name("schemaPath"),params:new mt.Name("params"),propertyName:new mt.Name("propertyName"),message:new mt.Name("message"),schema:new mt.Name("schema"),parentSchema:new mt.Name("parentSchema")};function x4(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,mt._)`{}`:Qme(t,e,r)}function Qme(t,e,r={}){let{gen:n,it:i}=t,o=[Xme(i,r),ehe(t,r)];return the(t,e,o),n.object(...o)}function Xme({errorPath:t},{instancePath:e}){let r=e?(0,mt.str)`${t}${(0,Ry.getErrorPath)(e,Ry.Type.Str)}`:t;return[Jr.default.instancePath,(0,mt.strConcat)(Jr.default.instancePath,r)]}function ehe({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let i=n?e:(0,mt.str)`${e}/${t}`;return r&&(i=(0,mt.str)`${i}${(0,Ry.getErrorPath)(r,Ry.Type.Str)}`),[Ea.schemaPath,i]}function the(t,{params:e,message:r},n){let{keyword:i,data:o,schemaValue:s,it:a}=t,{opts:c,propertyName:l,topSchemaRef:u,schemaPath:d}=a;n.push([Ea.keyword,i],[Ea.params,typeof e=="function"?e(t):e||(0,mt._)`{}`]),c.messages&&n.push([Ea.message,typeof r=="function"?r(t):r]),c.verbose&&n.push([Ea.schema,s],[Ea.parentSchema,(0,mt._)`${u}${d}`],[Jr.default.data,o]),l&&n.push([Ea.propertyName,l])}});var S4=C(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.boolOrEmptySchema=Ol.topBoolOrEmptySchema=void 0;var rhe=Zp(),nhe=Qe(),ihe=ko(),ohe={message:"boolean schema is false"};function she(t){let{gen:e,schema:r,validateName:n}=t;r===!1?w4(t,!1):typeof r=="object"&&r.$async===!0?e.return(ihe.default.data):(e.assign((0,nhe._)`${n}.errors`,null),e.return(!0))}Ol.topBoolOrEmptySchema=she;function ahe(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),w4(t)):r.var(e,!0)}Ol.boolOrEmptySchema=ahe;function w4(t,e){let{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,rhe.reportError)(i,ohe,void 0,e)}});var CE=C(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getRules=Al.isJSONType=void 0;var che=["string","number","integer","boolean","null","object","array"],lhe=new Set(che);function uhe(t){return typeof t=="string"&&lhe.has(t)}Al.isJSONType=uhe;function dhe(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Al.getRules=dhe});var PE=C(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.shouldUseRule=ms.shouldUseGroup=ms.schemaHasRulesForType=void 0;function phe({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&k4(t,n)}ms.schemaHasRulesForType=phe;function k4(t,e){return e.rules.some(r=>$4(t,r))}ms.shouldUseGroup=k4;function $4(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}ms.shouldUseRule=$4});var Bp=C(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.reportTypeError=Mr.checkDataTypes=Mr.checkDataType=Mr.coerceAndCheckDataType=Mr.getJSONTypes=Mr.getSchemaTypes=Mr.DataType=void 0;var fhe=CE(),mhe=PE(),hhe=Zp(),Ke=Qe(),E4=vt(),Nl;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Nl||(Mr.DataType=Nl={}));function ghe(t){let e=T4(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Mr.getSchemaTypes=ghe;function T4(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(fhe.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Mr.getJSONTypes=T4;function vhe(t,e){let{gen:r,data:n,opts:i}=t,o=yhe(e,i.coerceTypes),s=e.length>0&&!(o.length===0&&e.length===1&&(0,mhe.schemaHasRulesForType)(t,e[0]));if(s){let a=RE(e,n,i.strictNumbers,Nl.Wrong);r.if(a,()=>{o.length?bhe(t,e,o):OE(t)})}return s}Mr.coerceAndCheckDataType=vhe;var C4=new Set(["string","number","integer","boolean","null"]);function yhe(t,e){return e?t.filter(r=>C4.has(r)||e==="array"&&r==="array"):[]}function bhe(t,e,r){let{gen:n,data:i,opts:o}=t,s=n.let("dataType",(0,Ke._)`typeof ${i}`),a=n.let("coerced",(0,Ke._)`undefined`);o.coerceTypes==="array"&&n.if((0,Ke._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,Ke._)`${i}[0]`).assign(s,(0,Ke._)`typeof ${i}`).if(RE(e,i,o.strictNumbers),()=>n.assign(a,i))),n.if((0,Ke._)`${a} !== undefined`);for(let l of r)(C4.has(l)||l==="array"&&o.coerceTypes==="array")&&c(l);n.else(),OE(t),n.endIf(),n.if((0,Ke._)`${a} !== undefined`,()=>{n.assign(i,a),_he(t,a)});function c(l){switch(l){case"string":n.elseIf((0,Ke._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,Ke._)`"" + ${i}`).elseIf((0,Ke._)`${i} === null`).assign(a,(0,Ke._)`""`);return;case"number":n.elseIf((0,Ke._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,Ke._)`+${i}`);return;case"integer":n.elseIf((0,Ke._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,Ke._)`+${i}`);return;case"boolean":n.elseIf((0,Ke._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,Ke._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,Ke._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,Ke._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,Ke._)`[${i}]`)}}}function _he({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,Ke._)`${e} !== undefined`,()=>t.assign((0,Ke._)`${e}[${r}]`,n))}function IE(t,e,r,n=Nl.Correct){let i=n===Nl.Correct?Ke.operators.EQ:Ke.operators.NEQ,o;switch(t){case"null":return(0,Ke._)`${e} ${i} null`;case"array":o=(0,Ke._)`Array.isArray(${e})`;break;case"object":o=(0,Ke._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=s((0,Ke._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=s();break;default:return(0,Ke._)`typeof ${e} ${i} ${t}`}return n===Nl.Correct?o:(0,Ke.not)(o);function s(a=Ke.nil){return(0,Ke.and)((0,Ke._)`typeof ${e} == "number"`,a,r?(0,Ke._)`isFinite(${e})`:Ke.nil)}}Mr.checkDataType=IE;function RE(t,e,r,n){if(t.length===1)return IE(t[0],e,r,n);let i,o=(0,E4.toHash)(t);if(o.array&&o.object){let s=(0,Ke._)`typeof ${e} != "object"`;i=o.null?s:(0,Ke._)`!${e} || ${s}`,delete o.null,delete o.array,delete o.object}else i=Ke.nil;o.number&&delete o.integer;for(let s in o)i=(0,Ke.and)(i,IE(s,e,r,n));return i}Mr.checkDataTypes=RE;var xhe={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,Ke._)`{type: ${t}}`:(0,Ke._)`{type: ${e}}`};function OE(t){let e=whe(t);(0,hhe.reportError)(e,xhe)}Mr.reportTypeError=OE;function whe(t){let{gen:e,data:r,schema:n}=t,i=(0,E4.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:t}}});var I4=C(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.assignDefaults=void 0;var jl=Qe(),She=vt();function khe(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let i in r)P4(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,o)=>P4(t,o,i.default))}Oy.assignDefaults=khe;function P4(t,e,r){let{gen:n,compositeRule:i,data:o,opts:s}=t;if(r===void 0)return;let a=(0,jl._)`${o}${(0,jl.getProperty)(e)}`;if(i){(0,She.checkStrictMode)(t,`default is ignored for: ${a}`);return}let c=(0,jl._)`${a} === undefined`;s.useDefaults==="empty"&&(c=(0,jl._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,jl._)`${a} = ${(0,jl.stringify)(r)}`)}});var Zn=C(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.validateUnion=Ct.validateArray=Ct.usePattern=Ct.callValidateCode=Ct.schemaProperties=Ct.allSchemaProperties=Ct.noPropertyInData=Ct.propertyInData=Ct.isOwnProperty=Ct.hasPropFunc=Ct.reportMissingProp=Ct.checkMissingProp=Ct.checkReportMissingProp=void 0;var Dt=Qe(),AE=vt(),hs=ko(),$he=vt();function Ehe(t,e){let{gen:r,data:n,it:i}=t;r.if(jE(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Dt._)`${e}`},!0),t.error()})}Ct.checkReportMissingProp=Ehe;function The({gen:t,data:e,it:{opts:r}},n,i){return(0,Dt.or)(...n.map(o=>(0,Dt.and)(jE(t,e,o,r.ownProperties),(0,Dt._)`${i} = ${o}`)))}Ct.checkMissingProp=The;function Che(t,e){t.setParams({missingProperty:e},!0),t.error()}Ct.reportMissingProp=Che;function R4(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Dt._)`Object.prototype.hasOwnProperty`})}Ct.hasPropFunc=R4;function NE(t,e,r){return(0,Dt._)`${R4(t)}.call(${e}, ${r})`}Ct.isOwnProperty=NE;function Phe(t,e,r,n){let i=(0,Dt._)`${e}${(0,Dt.getProperty)(r)} !== undefined`;return n?(0,Dt._)`${i} && ${NE(t,e,r)}`:i}Ct.propertyInData=Phe;function jE(t,e,r,n){let i=(0,Dt._)`${e}${(0,Dt.getProperty)(r)} === undefined`;return n?(0,Dt.or)(i,(0,Dt.not)(NE(t,e,r))):i}Ct.noPropertyInData=jE;function O4(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Ct.allSchemaProperties=O4;function Ihe(t,e){return O4(e).filter(r=>!(0,AE.alwaysValidSchema)(t,e[r]))}Ct.schemaProperties=Ihe;function Rhe({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:s},a,c,l){let u=l?(0,Dt._)`${t}, ${e}, ${n}${i}`:e,d=[[hs.default.instancePath,(0,Dt.strConcat)(hs.default.instancePath,o)],[hs.default.parentData,s.parentData],[hs.default.parentDataProperty,s.parentDataProperty],[hs.default.rootData,hs.default.rootData]];s.opts.dynamicRef&&d.push([hs.default.dynamicAnchors,hs.default.dynamicAnchors]);let m=(0,Dt._)`${u}, ${r.object(...d)}`;return c!==Dt.nil?(0,Dt._)`${a}.call(${c}, ${m})`:(0,Dt._)`${a}(${m})`}Ct.callValidateCode=Rhe;var Ohe=(0,Dt._)`new RegExp`;function Ahe({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,o=i(r,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Dt._)`${i.code==="new RegExp"?Ohe:(0,$he.useFunc)(t,i)}(${r}, ${n})`})}Ct.usePattern=Ahe;function Nhe(t){let{gen:e,data:r,keyword:n,it:i}=t,o=e.name("valid");if(i.allErrors){let a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(o,!0),s(()=>e.break()),o;function s(a){let c=e.const("len",(0,Dt._)`${r}.length`);e.forRange("i",0,c,l=>{t.subschema({keyword:n,dataProp:l,dataPropType:AE.Type.Num},o),e.if((0,Dt.not)(o),a)})}}Ct.validateArray=Nhe;function jhe(t){let{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,AE.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;let s=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((c,l)=>{let u=t.subschema({keyword:n,schemaProp:l,compositeRule:!0},a);e.assign(s,(0,Dt._)`${s} || ${a}`),t.mergeValidEvaluated(u,a)||e.if((0,Dt.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}Ct.validateUnion=jhe});var j4=C(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.validateKeywordUsage=Ui.validSchemaType=Ui.funcKeywordCode=Ui.macroKeywordCode=void 0;var Kr=Qe(),Ta=ko(),Dhe=Zn(),zhe=Zp();function Mhe(t,e){let{gen:r,keyword:n,schema:i,parentSchema:o,it:s}=t,a=e.macro.call(s.self,i,o,s),c=N4(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let l=r.name("valid");t.subschema({schema:a,schemaPath:Kr.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),t.pass(l,()=>t.error(!0))}Ui.macroKeywordCode=Mhe;function Uhe(t,e){var r;let{gen:n,keyword:i,schema:o,parentSchema:s,$data:a,it:c}=t;Fhe(c,e);let l=!a&&e.compile?e.compile.call(c.self,o,s,c):e.validate,u=N4(n,i,l),d=n.let("valid");t.block$data(d,m),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function m(){if(e.errors===!1)v(),e.modifying&&A4(t),g(()=>t.error());else{let h=e.async?p():f();e.modifying&&A4(t),g(()=>Lhe(t,h))}}function p(){let h=n.let("ruleErrs",null);return n.try(()=>v((0,Kr._)`await `),b=>n.assign(d,!1).if((0,Kr._)`${b} instanceof ${c.ValidationError}`,()=>n.assign(h,(0,Kr._)`${b}.errors`),()=>n.throw(b))),h}function f(){let h=(0,Kr._)`${u}.errors`;return n.assign(h,null),v(Kr.nil),h}function v(h=e.async?(0,Kr._)`await `:Kr.nil){let b=c.opts.passContext?Ta.default.this:Ta.default.self,y=!("compile"in e&&!a||e.schema===!1);n.assign(d,(0,Kr._)`${h}${(0,Dhe.callValidateCode)(t,u,b,y)}`,e.modifying)}function g(h){var b;n.if((0,Kr.not)((b=e.valid)!==null&&b!==void 0?b:d),h)}}Ui.funcKeywordCode=Uhe;function A4(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Kr._)`${n.parentData}[${n.parentDataProperty}]`))}function Lhe(t,e){let{gen:r}=t;r.if((0,Kr._)`Array.isArray(${e})`,()=>{r.assign(Ta.default.vErrors,(0,Kr._)`${Ta.default.vErrors} === null ? ${e} : ${Ta.default.vErrors}.concat(${e})`).assign(Ta.default.errors,(0,Kr._)`${Ta.default.vErrors}.length`),(0,zhe.extendErrors)(t)},()=>t.error())}function Fhe({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function N4(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Kr.stringify)(r)})}function qhe(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Ui.validSchemaType=qhe;function Zhe({schema:t,opts:e,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");let s=i.dependencies;if(s?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[o])){let c=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Ui.validateKeywordUsage=Zhe});var z4=C(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.extendSubschemaMode=gs.extendSubschemaData=gs.getSubschema=void 0;var Li=Qe(),D4=vt();function Bhe(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,Li._)`${t.schemaPath}${(0,Li.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,Li._)`${t.schemaPath}${(0,Li.getProperty)(e)}${(0,Li.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,D4.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}gs.getSubschema=Bhe;function Vhe(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:l,dataPathArr:u,opts:d}=e,m=a.let("data",(0,Li._)`${e.data}${(0,Li.getProperty)(r)}`,!0);c(m),t.errorPath=(0,Li.str)`${l}${(0,D4.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Li._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(i!==void 0){let l=i instanceof Li.Name?i:a.let("data",i,!0);c(l),s!==void 0&&(t.propertyName=s)}o&&(t.dataTypes=o);function c(l){t.data=l,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,l]}}gs.extendSubschemaData=Vhe;function Hhe(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}gs.extendSubschemaMode=Hhe});var DE=C((wFe,M4)=>{"use strict";M4.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}});var L4=C((SFe,U4)=>{"use strict";var vs=U4.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Ay(e,n,i,t,"",t)};vs.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};vs.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};vs.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};vs.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ay(t,e,r,n,i,o,s,a,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,o,s,a,c,l);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in vs.arrayKeywords)for(var m=0;m<d.length;m++)Ay(t,e,r,d[m],i+"/"+u+"/"+m,o,i,u,n,m)}else if(u in vs.propsKeywords){if(d&&typeof d=="object")for(var p in d)Ay(t,e,r,d[p],i+"/"+u+"/"+Whe(p),o,i,u,n,p)}else(u in vs.keywords||t.allKeys&&!(u in vs.skipKeywords))&&Ay(t,e,r,d,i+"/"+u,o,i,u,n)}r(n,i,o,s,a,c,l)}}function Whe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Vp=C(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.getSchemaRefs=gn.resolveUrl=gn.normalizeId=gn._getFullPath=gn.getFullPath=gn.inlineRef=void 0;var Ghe=vt(),Jhe=DE(),Khe=L4(),Yhe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Qhe(t,e=!0){return typeof t=="boolean"?!0:e===!0?!zE(t):e?F4(t)<=e:!1}gn.inlineRef=Qhe;var Xhe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function zE(t){for(let e in t){if(Xhe.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(zE)||typeof r=="object"&&zE(r))return!0}return!1}function F4(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Yhe.has(r)&&(typeof t[r]=="object"&&(0,Ghe.eachItem)(t[r],n=>e+=F4(n)),e===1/0))return 1/0}return e}function q4(t,e="",r){r!==!1&&(e=Dl(e));let n=t.parse(e);return Z4(t,n)}gn.getFullPath=q4;function Z4(t,e){return t.serialize(e).split("#")[0]+"#"}gn._getFullPath=Z4;var ege=/#\/?$/;function Dl(t){return t?t.replace(ege,""):""}gn.normalizeId=Dl;function tge(t,e,r){return r=Dl(r),t.resolve(e,r)}gn.resolveUrl=tge;var rge=/^[a-z_][-a-z0-9._]*$/i;function nge(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=Dl(t[r]||e),o={"":i},s=q4(n,i,!1),a={},c=new Set;return Khe(t,{allKeys:!0},(d,m,p,f)=>{if(f===void 0)return;let v=s+m,g=o[f];typeof d[r]=="string"&&(g=h.call(this,d[r])),b.call(this,d.$anchor),b.call(this,d.$dynamicAnchor),o[m]=g;function h(y){let _=this.opts.uriResolver.resolve;if(y=Dl(g?_(g,y):y),c.has(y))throw u(y);c.add(y);let x=this.refs[y];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?l(d,x.schema,y):y!==Dl(v)&&(y[0]==="#"?(l(d,a[y],y),a[y]=d):this.refs[y]=v),y}function b(y){if(typeof y=="string"){if(!rge.test(y))throw new Error(`invalid anchor "${y}"`);h.call(this,`#${y}`)}}}),a;function l(d,m,p){if(m!==void 0&&!Jhe(d,m))throw u(p)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}gn.getSchemaRefs=nge});var Gp=C(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.getData=ys.KeywordCxt=ys.validateFunctionCode=void 0;var G4=S4(),B4=Bp(),UE=PE(),Ny=Bp(),ige=I4(),Wp=j4(),ME=z4(),Ie=Qe(),Be=ko(),oge=Vp(),$o=vt(),Hp=Zp();function sge(t){if(Y4(t)&&(Q4(t),K4(t))){lge(t);return}J4(t,()=>(0,G4.topBoolOrEmptySchema)(t))}ys.validateFunctionCode=sge;function J4({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},o){i.code.es5?t.func(e,(0,Ie._)`${Be.default.data}, ${Be.default.valCxt}`,n.$async,()=>{t.code((0,Ie._)`"use strict"; ${V4(r,i)}`),cge(t,i),t.code(o)}):t.func(e,(0,Ie._)`${Be.default.data}, ${age(i)}`,n.$async,()=>t.code(V4(r,i)).code(o))}function age(t){return(0,Ie._)`{${Be.default.instancePath}="", ${Be.default.parentData}, ${Be.default.parentDataProperty}, ${Be.default.rootData}=${Be.default.data}${t.dynamicRef?(0,Ie._)`, ${Be.default.dynamicAnchors}={}`:Ie.nil}}={}`}function cge(t,e){t.if(Be.default.valCxt,()=>{t.var(Be.default.instancePath,(0,Ie._)`${Be.default.valCxt}.${Be.default.instancePath}`),t.var(Be.default.parentData,(0,Ie._)`${Be.default.valCxt}.${Be.default.parentData}`),t.var(Be.default.parentDataProperty,(0,Ie._)`${Be.default.valCxt}.${Be.default.parentDataProperty}`),t.var(Be.default.rootData,(0,Ie._)`${Be.default.valCxt}.${Be.default.rootData}`),e.dynamicRef&&t.var(Be.default.dynamicAnchors,(0,Ie._)`${Be.default.valCxt}.${Be.default.dynamicAnchors}`)},()=>{t.var(Be.default.instancePath,(0,Ie._)`""`),t.var(Be.default.parentData,(0,Ie._)`undefined`),t.var(Be.default.parentDataProperty,(0,Ie._)`undefined`),t.var(Be.default.rootData,Be.default.data),e.dynamicRef&&t.var(Be.default.dynamicAnchors,(0,Ie._)`{}`)})}function lge(t){let{schema:e,opts:r,gen:n}=t;J4(t,()=>{r.$comment&&e.$comment&&e2(t),mge(t),n.let(Be.default.vErrors,null),n.let(Be.default.errors,0),r.unevaluated&&uge(t),X4(t),vge(t)})}function uge(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Ie._)`${r}.evaluated`),e.if((0,Ie._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Ie._)`${t.evaluated}.props`,(0,Ie._)`undefined`)),e.if((0,Ie._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Ie._)`${t.evaluated}.items`,(0,Ie._)`undefined`))}function V4(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Ie._)`/*# sourceURL=${r} */`:Ie.nil}function dge(t,e){if(Y4(t)&&(Q4(t),K4(t))){pge(t,e);return}(0,G4.boolOrEmptySchema)(t,e)}function K4({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Y4(t){return typeof t.schema!="boolean"}function pge(t,e){let{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&e2(t),hge(t),gge(t);let o=n.const("_errs",Be.default.errors);X4(t,o),n.var(e,(0,Ie._)`${o} === ${Be.default.errors}`)}function Q4(t){(0,$o.checkUnknownRules)(t),fge(t)}function X4(t,e){if(t.opts.jtd)return H4(t,[],!1,e);let r=(0,B4.getSchemaTypes)(t.schema),n=(0,B4.coerceAndCheckDataType)(t,r);H4(t,r,!n,e)}function fge(t){let{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,$o.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function mge(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,$o.checkStrictMode)(t,"default is ignored in the schema root")}function hge(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,oge.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function gge(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function e2({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){let o=r.$comment;if(i.$comment===!0)t.code((0,Ie._)`${Be.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){let s=(0,Ie.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,Ie._)`${Be.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function vge(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=t;r.$async?e.if((0,Ie._)`${Be.default.errors} === 0`,()=>e.return(Be.default.data),()=>e.throw((0,Ie._)`new ${i}(${Be.default.vErrors})`)):(e.assign((0,Ie._)`${n}.errors`,Be.default.vErrors),o.unevaluated&&yge(t),e.return((0,Ie._)`${Be.default.errors} === 0`))}function yge({gen:t,evaluated:e,props:r,items:n}){r instanceof Ie.Name&&t.assign((0,Ie._)`${e}.props`,r),n instanceof Ie.Name&&t.assign((0,Ie._)`${e}.items`,n)}function H4(t,e,r,n){let{gen:i,schema:o,data:s,allErrors:a,opts:c,self:l}=t,{RULES:u}=l;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,$o.schemaHasRulesButRef)(o,u))){i.block(()=>r2(t,"$ref",u.all.$ref.definition));return}c.jtd||bge(t,e),i.block(()=>{for(let m of u.rules)d(m);d(u.post)});function d(m){(0,UE.shouldUseGroup)(o,m)&&(m.type?(i.if((0,Ny.checkDataType)(m.type,s,c.strictNumbers)),W4(t,m),e.length===1&&e[0]===m.type&&r&&(i.else(),(0,Ny.reportTypeError)(t)),i.endIf()):W4(t,m),a||i.if((0,Ie._)`${Be.default.errors} === ${n||0}`))}}function W4(t,e){let{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,ige.assignDefaults)(t,e.type),r.block(()=>{for(let o of e.rules)(0,UE.shouldUseRule)(n,o)&&r2(t,o.keyword,o.definition,e.type)})}function bge(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(_ge(t,e),t.opts.allowUnionTypes||xge(t,e),wge(t,t.dataTypes))}function _ge(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{t2(t.dataTypes,r)||LE(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),kge(t,e)}}function xge(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&LE(t,"use allowUnionTypes to allow union type keyword")}function wge(t,e){let r=t.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,UE.shouldUseRule)(t.schema,i)){let{type:o}=i.definition;o.length&&!o.some(s=>Sge(e,s))&&LE(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Sge(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function t2(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function kge(t,e){let r=[];for(let n of t.dataTypes)t2(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function LE(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,$o.checkStrictMode)(t,e,t.opts.strictTypes)}var jy=class{constructor(e,r,n){if((0,Wp.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,$o.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",n2(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Wp.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Be.default.errors))}result(e,r,n){this.failResult((0,Ie.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Ie.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,Ie._)`${r} !== undefined && (${(0,Ie.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Hp.reportExtraError:Hp.reportError)(this,this.def.error,r)}$dataError(){(0,Hp.reportError)(this,this.def.$dataError||Hp.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Hp.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Ie.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Ie.nil,r=Ie.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:o,def:s}=this;n.if((0,Ie.or)((0,Ie._)`${i} === undefined`,r)),e!==Ie.nil&&n.assign(e,!0),(o.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Ie.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,Ie.or)(s(),a());function s(){if(n.length){if(!(r instanceof Ie.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,Ie._)`${(0,Ny.checkDataTypes)(c,r,o.opts.strictNumbers,Ny.DataType.Wrong)}`}return Ie.nil}function a(){if(i.validateSchema){let c=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ie._)`!${c}(${r})`}return Ie.nil}}subschema(e,r){let n=(0,ME.getSubschema)(this.it,e);(0,ME.extendSubschemaData)(n,this.it,e),(0,ME.extendSubschemaMode)(n,e);let i={...this.it,...n,items:void 0,props:void 0};return dge(i,r),i}mergeEvaluated(e,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=$o.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=$o.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,Ie.Name)),!0}};ys.KeywordCxt=jy;function r2(t,e,r,n){let i=new jy(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Wp.funcKeywordCode)(i,r):"macro"in r?(0,Wp.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Wp.funcKeywordCode)(i,r)}var $ge=/^\/(?:[^~]|~0|~1)*$/,Ege=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function n2(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,o;if(t==="")return Be.default.rootData;if(t[0]==="/"){if(!$ge.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,o=Be.default.rootData}else{let l=Ege.exec(t);if(!l)throw new Error(`Invalid JSON-pointer: ${t}`);let u=+l[1];if(i=l[2],i==="#"){if(u>=e)throw new Error(c("property/index",u));return n[e-u]}if(u>e)throw new Error(c("data",u));if(o=r[e-u],!i)return o}let s=o,a=i.split("/");for(let l of a)l&&(o=(0,Ie._)`${o}${(0,Ie.getProperty)((0,$o.unescapeJsonPointer)(l))}`,s=(0,Ie._)`${s} && ${o}`);return s;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${e}`}}ys.getData=n2});var Dy=C(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});var FE=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};qE.default=FE});var Jp=C(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});var ZE=Vp(),BE=class extends Error{constructor(e,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ZE.resolveUrl)(e,r,n),this.missingSchema=(0,ZE.normalizeId)((0,ZE.getFullPath)(e,this.missingRef))}};VE.default=BE});var My=C(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.resolveSchema=Bn.getCompilingSchema=Bn.resolveRef=Bn.compileSchema=Bn.SchemaEnv=void 0;var mi=Qe(),Tge=Dy(),Ca=ko(),hi=Vp(),i2=vt(),Cge=Gp(),zl=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,hi.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};Bn.SchemaEnv=zl;function WE(t){let e=o2.call(this,t);if(e)return e;let r=(0,hi.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new mi.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o}),a;t.$async&&(a=s.scopeValue("Error",{ref:Tge.default,code:(0,mi._)`require("ajv/dist/runtime/validation_error").default`}));let c=s.scopeName("validate");t.validateName=c;let l={gen:s,allErrors:this.opts.allErrors,data:Ca.default.data,parentData:Ca.default.parentData,parentDataProperty:Ca.default.parentDataProperty,dataNames:[Ca.default.data],dataPathArr:[mi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,mi.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:mi.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,mi._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(t),(0,Cge.validateFunctionCode)(l),s.optimize(this.opts.code.optimize);let d=s.toString();u=`${s.scopeRefs(Ca.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,t));let p=new Function(`${Ca.default.self}`,`${Ca.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:c,validateCode:d,scopeValues:s._values}),this.opts.unevaluated){let{props:f,items:v}=l;p.evaluated={props:f instanceof mi.Name?void 0:f,items:v instanceof mi.Name?void 0:v,dynamicProps:f instanceof mi.Name,dynamicItems:v instanceof mi.Name},p.source&&(p.source.evaluated=(0,mi.stringify)(p.evaluated))}return t.validate=p,t}catch(d){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(t)}}Bn.compileSchema=WE;function Pge(t,e,r){var n;r=(0,hi.resolveUrl)(this.opts.uriResolver,e,r);let i=t.refs[r];if(i)return i;let o=Oge.call(this,t,r);if(o===void 0){let s=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(o=new zl({schema:s,schemaId:a,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=Ige.call(this,o)}Bn.resolveRef=Pge;function Ige(t){return(0,hi.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:WE.call(this,t)}function o2(t){for(let e of this._compilations)if(Rge(e,t))return e}Bn.getCompilingSchema=o2;function Rge(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Oge(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||zy.call(this,t,e)}function zy(t,e){let r=this.opts.uriResolver.parse(e),n=(0,hi._getFullPath)(this.opts.uriResolver,r),i=(0,hi.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===i)return HE.call(this,r,t);let o=(0,hi.normalizeId)(n),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){let a=zy.call(this,t,s);return typeof a?.schema!="object"?void 0:HE.call(this,r,a)}if(typeof s?.schema=="object"){if(s.validate||WE.call(this,s),o===(0,hi.normalizeId)(e)){let{schema:a}=s,{schemaId:c}=this.opts,l=a[c];return l&&(i=(0,hi.resolveUrl)(this.opts.uriResolver,i,l)),new zl({schema:a,schemaId:c,root:t,baseId:i})}return HE.call(this,r,s)}}Bn.resolveSchema=zy;var Age=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function HE(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,i2.unescapeFragment)(a)];if(c===void 0)return;r=c;let l=typeof r=="object"&&r[this.opts.schemaId];!Age.has(a)&&l&&(e=(0,hi.resolveUrl)(this.opts.uriResolver,e,l))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,i2.schemaHasRulesButRef)(r,this.RULES)){let a=(0,hi.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=zy.call(this,n,a)}let{schemaId:s}=this.opts;if(o=o||new zl({schema:r,schemaId:s,root:n,baseId:e}),o.schema!==o.root.schema)return o}});var s2=C((PFe,Nge)=>{Nge.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var c2=C((IFe,a2)=>{"use strict";var jge={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};a2.exports={HEX:jge}});var g2=C((RFe,h2)=>{"use strict";var{HEX:Dge}=c2(),zge=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function p2(t){if(m2(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(zge)||[],[r]=e;return r?{host:Uge(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function GE(t,e=!1){let r="",n=!0;for(let i of t){if(Dge[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return e&&r.length===0&&(r="0"),r}function Mge(t){let e=0,r={error:!1,address:"",zone:""},n=[],i=[],o=!1,s=!1,a=!1;function c(){if(i.length){if(o===!1){let l=GE(i);if(l!==void 0)n.push(l);else return r.error=!0,!1}i.length=0}return!0}for(let l=0;l<t.length;l++){let u=t[l];if(!(u==="["||u==="]"))if(u===":"){if(s===!0&&(a=!0),!c())break;if(e++,n.push(":"),e>7){r.error=!0;break}l-1>=0&&t[l-1]===":"&&(s=!0);continue}else if(u==="%"){if(!c())break;o=!0}else{i.push(u);continue}}return i.length&&(o?r.zone=i.join(""):a?n.push(i.join("")):n.push(GE(i))),r.address=n.join(""),r}function f2(t){if(m2(t,":")<2)return{host:t,isIPV6:!1};let e=Mge(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,n=e.address;return e.zone&&(r+="%"+e.zone,n+="%25"+e.zone),{host:r,escapedHost:n,isIPV6:!0}}}function Uge(t,e){let r="",n=!0,i=t.length;for(let o=0;o<i;o++){let s=t[o];s==="0"&&n?(o+1<=i&&t[o+1]===e||o+1===i)&&(r+=s,n=!1):(s===e?n=!0:n=!1,r+=s)}return r}function m2(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}var l2=/^\.\.?\//u,u2=/^\/\.(?:\/|$)/u,d2=/^\/\.\.(?:\/|$)/u,Lge=/^\/?(?:.|\n)*?(?=\/|$)/u;function Fge(t){let e=[];for(;t.length;)if(t.match(l2))t=t.replace(l2,"");else if(t.match(u2))t=t.replace(u2,"/");else if(t.match(d2))t=t.replace(d2,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(Lge);if(r){let n=r[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function qge(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function Zge(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host),n=p2(r);if(n.isIPV4)r=n.host;else{let i=f2(n.host);i.isIPV6===!0?r=`[${i.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}h2.exports={recomposeAuthority:Zge,normalizeComponentEncoding:qge,removeDotSegments:Fge,normalizeIPv4:p2,normalizeIPv6:f2,stringArrayToHexStripped:GE}});var w2=C((OFe,x2)=>{"use strict";var Bge=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,Vge=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function v2(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function y2(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function b2(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Hge(t){return t.secure=v2(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Wge(t){if((t.port===(v2(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function Gge(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(Vge);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let i=`${n}:${e.nid||t.nid}`,o=JE[i];t.path=void 0,o&&(t=o.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function Jge(t,e){let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),i=`${r}:${e.nid||n}`,o=JE[i];o&&(t=o.serialize(t,e));let s=t,a=t.nss;return s.path=`${n||e.nid}:${a}`,e.skipEscape=!0,s}function Kge(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Bge.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Yge(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var _2={scheme:"http",domainHost:!0,parse:y2,serialize:b2},Qge={scheme:"https",domainHost:_2.domainHost,parse:y2,serialize:b2},Uy={scheme:"ws",domainHost:!0,parse:Hge,serialize:Wge},Xge={scheme:"wss",domainHost:Uy.domainHost,parse:Uy.parse,serialize:Uy.serialize},eve={scheme:"urn",parse:Gge,serialize:Jge,skipNormalize:!0},tve={scheme:"urn:uuid",parse:Kge,serialize:Yge,skipNormalize:!0},JE={http:_2,https:Qge,ws:Uy,wss:Xge,urn:eve,"urn:uuid":tve};x2.exports=JE});var k2=C((AFe,Fy)=>{"use strict";var{normalizeIPv6:rve,normalizeIPv4:nve,removeDotSegments:Kp,recomposeAuthority:ive,normalizeComponentEncoding:Ly}=g2(),KE=w2();function ove(t,e){return typeof t=="string"?t=Fi(Eo(t,e),e):typeof t=="object"&&(t=Eo(Fi(t,e),e)),t}function sve(t,e,r){let n=Object.assign({scheme:"null"},r),i=S2(Eo(t,n),Eo(e,n),n,!0);return Fi(i,{...n,skipEscape:!0})}function S2(t,e,r,n){let i={};return n||(t=Eo(Fi(t,r),r),e=Eo(Fi(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Kp(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Kp(e.path||""),i.query=e.query):(e.path?(e.path.charAt(0)==="/"?i.path=Kp(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?i.path="/"+e.path:t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=Kp(i.path)),i.query=e.query):(i.path=t.path,e.query!==void 0?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function ave(t,e,r){return typeof t=="string"?(t=unescape(t),t=Fi(Ly(Eo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Fi(Ly(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Fi(Ly(Eo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Fi(Ly(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Fi(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),i=[],o=KE[(n.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");let s=ive(r);if(s!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(s),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(a=Kp(a)),s===void 0&&(a=a.replace(/^\/\//u,"/%2F")),i.push(a)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}var cve=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function lve(t){let e=0;for(let r=0,n=t.length;r<n;++r)if(e=t.charCodeAt(r),e>126||cve[e])return!0;return!1}var uve=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Eo(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=t.indexOf("%")!==-1,o=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let s=t.match(uve);if(s){if(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5]),n.host){let c=nve(n.host);if(c.isIPV4===!1){let l=rve(c.host);n.host=l.host.toLowerCase(),o=l.isIPV6}else n.host=c.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=KE[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&o===!1&&lve(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!a||a&&!a.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var YE={SCHEMES:KE,normalize:ove,resolve:sve,resolveComponents:S2,equal:ave,serialize:Fi,parse:Eo};Fy.exports=YE;Fy.exports.default=YE;Fy.exports.fastUri=YE});var E2=C(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});var $2=k2();$2.code='require("ajv/dist/runtime/uri").default';QE.default=$2});var N2=C(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.CodeGen=Er.Name=Er.nil=Er.stringify=Er.str=Er._=Er.KeywordCxt=void 0;var dve=Gp();Object.defineProperty(Er,"KeywordCxt",{enumerable:!0,get:function(){return dve.KeywordCxt}});var Ml=Qe();Object.defineProperty(Er,"_",{enumerable:!0,get:function(){return Ml._}});Object.defineProperty(Er,"str",{enumerable:!0,get:function(){return Ml.str}});Object.defineProperty(Er,"stringify",{enumerable:!0,get:function(){return Ml.stringify}});Object.defineProperty(Er,"nil",{enumerable:!0,get:function(){return Ml.nil}});Object.defineProperty(Er,"Name",{enumerable:!0,get:function(){return Ml.Name}});Object.defineProperty(Er,"CodeGen",{enumerable:!0,get:function(){return Ml.CodeGen}});var pve=Dy(),R2=Jp(),fve=CE(),Yp=My(),mve=Qe(),Qp=Vp(),qy=Bp(),eT=vt(),T2=s2(),hve=E2(),O2=(t,e)=>new RegExp(t,e);O2.code="new RegExp";var gve=["removeAdditional","useDefaults","coerceTypes"],vve=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),yve={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},bve={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},C2=200;function _ve(t){var e,r,n,i,o,s,a,c,l,u,d,m,p,f,v,g,h,b,y,_,x,w,S,$,E;let N=t.strict,P=(e=t.code)===null||e===void 0?void 0:e.optimize,z=P===!0||P===void 0?1:P||0,V=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:O2,H=(i=t.uriResolver)!==null&&i!==void 0?i:hve.default;return{strictSchema:(s=(o=t.strictSchema)!==null&&o!==void 0?o:N)!==null&&s!==void 0?s:!0,strictNumbers:(c=(a=t.strictNumbers)!==null&&a!==void 0?a:N)!==null&&c!==void 0?c:!0,strictTypes:(u=(l=t.strictTypes)!==null&&l!==void 0?l:N)!==null&&u!==void 0?u:"log",strictTuples:(m=(d=t.strictTuples)!==null&&d!==void 0?d:N)!==null&&m!==void 0?m:"log",strictRequired:(f=(p=t.strictRequired)!==null&&p!==void 0?p:N)!==null&&f!==void 0?f:!1,code:t.code?{...t.code,optimize:z,regExp:V}:{optimize:z,regExp:V},loopRequired:(v=t.loopRequired)!==null&&v!==void 0?v:C2,loopEnum:(g=t.loopEnum)!==null&&g!==void 0?g:C2,meta:(h=t.meta)!==null&&h!==void 0?h:!0,messages:(b=t.messages)!==null&&b!==void 0?b:!0,inlineRefs:(y=t.inlineRefs)!==null&&y!==void 0?y:!0,schemaId:(_=t.schemaId)!==null&&_!==void 0?_:"$id",addUsedSchema:(x=t.addUsedSchema)!==null&&x!==void 0?x:!0,validateSchema:(w=t.validateSchema)!==null&&w!==void 0?w:!0,validateFormats:(S=t.validateFormats)!==null&&S!==void 0?S:!0,unicodeRegExp:($=t.unicodeRegExp)!==null&&$!==void 0?$:!0,int32range:(E=t.int32range)!==null&&E!==void 0?E:!0,uriResolver:H}}var Xp=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,..._ve(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new mve.ValueScope({scope:{},prefixes:vve,es5:r,lines:n}),this.logger=Eve(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,fve.getRules)(),P2.call(this,yve,e,"NOT SUPPORTED"),P2.call(this,bve,e,"DEPRECATED","warn"),this._metaOpts=kve.call(this),e.formats&&wve.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Sve.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),xve.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,i=T2;n==="id"&&(i={...T2},i.id=i.$id,delete i.$id),r&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,e,r);async function i(u,d){await o.call(this,u.$schema);let m=this._addSchema(u,d);return m.validate||s.call(this,m)}async function o(u){u&&!this.getSchema(u)&&await i.call(this,{$ref:u},!0)}async function s(u){try{return this._compileSchemaEnv(u)}catch(d){if(!(d instanceof R2.default))throw d;return a.call(this,d),await c.call(this,d.missingSchema),s.call(this,u)}}function a({missingSchema:u,missingRef:d}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${d} cannot be resolved`)}async function c(u){let d=await l.call(this,u);this.refs[u]||await o.call(this,d.$schema),this.refs[u]||this.addSchema(d,u,r)}async function l(u){let d=this._loading[u];if(d)return d;try{return await(this._loading[u]=n(u))}finally{delete this._loading[u]}}}addSchema(e,r,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(let s of e)this.addSchema(s,void 0,n,i);return this}let o;if(typeof e=="object"){let{schemaId:s}=this.opts;if(o=e[s],o!==void 0&&typeof o!="string")throw new Error(`schema ${s} must be string`)}return r=(0,Qp.normalizeId)(r||o),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,i,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,e);if(!i&&r){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return i}getSchema(e){let r;for(;typeof(r=I2.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,i=new Yp.SchemaEnv({schema:{},schemaId:n});if(r=Yp.resolveSchema.call(this,i,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=I2.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,Qp.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Cve.call(this,n,r),!r)return(0,eT.eachItem)(n,o=>XE.call(this,o)),this;Ive.call(this,r);let i={...r,type:(0,qy.getJSONTypes)(r.type),schemaType:(0,qy.getJSONTypes)(r.schemaType)};return(0,eT.eachItem)(n,i.type.length===0?o=>XE.call(this,o,i):o=>i.type.forEach(s=>XE.call(this,o,i,s))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let i=n.rules.findIndex(o=>o.keyword===e);i>=0&&n.rules.splice(i,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,o)=>i+r+o)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of r){let o=i.split("/").slice(1),s=e;for(let a of o)s=s[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:l}=c.definition,u=s[a];l&&u&&(s[a]=A2(u))}}return e}_removeAllSchemas(e,r){for(let n in e){let i=e[n];(!r||r.test(n))&&(typeof i=="string"?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,r,n,i=this.opts.validateSchema,o=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof e=="object")s=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,Qp.normalizeId)(s||n);let l=Qp.getSchemaRefs.call(this,e,n);return c=new Yp.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:n,localRefs:l}),this._cache.set(c.schema,c),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),i&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Yp.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Yp.compileSchema.call(this,e)}finally{this.opts=r}}};Xp.ValidationError=pve.default;Xp.MissingRefError=R2.default;Er.default=Xp;function P2(t,e,r,n="error"){for(let i in t){let o=i;o in e&&this.logger[n](`${r}: option ${i}. ${t[o]}`)}}function I2(t){return t=(0,Qp.normalizeId)(t),this.schemas[t]||this.refs[t]}function xve(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function wve(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Sve(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function kve(){let t={...this.opts};for(let e of gve)delete t[e];return t}var $ve={log(){},warn(){},error(){}};function Eve(t){if(t===!1)return $ve;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Tve=/^[a-z_$][a-z0-9_$:-]*$/i;function Cve(t,e){let{RULES:r}=this;if((0,eT.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Tve.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function XE(t,e,r){var n;let i=e?.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,s=i?o.post:o.rules.find(({type:c})=>c===r);if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,qy.getJSONTypes)(e.type),schemaType:(0,qy.getJSONTypes)(e.schemaType)}};e.before?Pve.call(this,s,a,e.before):s.rules.push(a),o.all[t]=a,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function Pve(t,e,r){let n=t.rules.findIndex(i=>i.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Ive(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=A2(e)),t.validateSchema=this.compile(e,!0))}var Rve={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function A2(t){return{anyOf:[t,Rve]}}});var j2=C(tT=>{"use strict";Object.defineProperty(tT,"__esModule",{value:!0});var Ove={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};tT.default=Ove});var U2=C(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.callRef=Pa.getValidate=void 0;var Ave=Jp(),D2=Zn(),vn=Qe(),Ul=ko(),z2=My(),Zy=vt(),Nve={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:c}=n,{root:l}=o;if((r==="#"||r==="#/")&&i===l.baseId)return d();let u=z2.resolveRef.call(c,l,i,r);if(u===void 0)throw new Ave.default(n.opts.uriResolver,i,r);if(u instanceof z2.SchemaEnv)return m(u);return p(u);function d(){if(o===l)return By(t,s,o,o.$async);let f=e.scopeValue("root",{ref:l});return By(t,(0,vn._)`${f}.validate`,l,l.$async)}function m(f){let v=M2(t,f);By(t,v,f,f.$async)}function p(f){let v=e.scopeValue("schema",a.code.source===!0?{ref:f,code:(0,vn.stringify)(f)}:{ref:f}),g=e.name("valid"),h=t.subschema({schema:f,dataTypes:[],schemaPath:vn.nil,topSchemaRef:v,errSchemaPath:r},g);t.mergeEvaluated(h),t.ok(g)}}};function M2(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,vn._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Pa.getValidate=M2;function By(t,e,r,n){let{gen:i,it:o}=t,{allErrors:s,schemaEnv:a,opts:c}=o,l=c.passContext?Ul.default.this:vn.nil;n?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let f=i.let("valid");i.try(()=>{i.code((0,vn._)`await ${(0,D2.callValidateCode)(t,e,l)}`),p(e),s||i.assign(f,!0)},v=>{i.if((0,vn._)`!(${v} instanceof ${o.ValidationError})`,()=>i.throw(v)),m(v),s||i.assign(f,!1)}),t.ok(f)}function d(){t.result((0,D2.callValidateCode)(t,e,l),()=>p(e),()=>m(e))}function m(f){let v=(0,vn._)`${f}.errors`;i.assign(Ul.default.vErrors,(0,vn._)`${Ul.default.vErrors} === null ? ${v} : ${Ul.default.vErrors}.concat(${v})`),i.assign(Ul.default.errors,(0,vn._)`${Ul.default.vErrors}.length`)}function p(f){var v;if(!o.opts.unevaluated)return;let g=(v=r?.validate)===null||v===void 0?void 0:v.evaluated;if(o.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(o.props=Zy.mergeEvaluated.props(i,g.props,o.props));else{let h=i.var("props",(0,vn._)`${f}.evaluated.props`);o.props=Zy.mergeEvaluated.props(i,h,o.props,vn.Name)}if(o.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(o.items=Zy.mergeEvaluated.items(i,g.items,o.items));else{let h=i.var("items",(0,vn._)`${f}.evaluated.items`);o.items=Zy.mergeEvaluated.items(i,h,o.items,vn.Name)}}}Pa.callRef=By;Pa.default=Nve});var L2=C(rT=>{"use strict";Object.defineProperty(rT,"__esModule",{value:!0});var jve=j2(),Dve=U2(),zve=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",jve.default,Dve.default];rT.default=zve});var F2=C(nT=>{"use strict";Object.defineProperty(nT,"__esModule",{value:!0});var Vy=Qe(),bs=Vy.operators,Hy={maximum:{okStr:"<=",ok:bs.LTE,fail:bs.GT},minimum:{okStr:">=",ok:bs.GTE,fail:bs.LT},exclusiveMaximum:{okStr:"<",ok:bs.LT,fail:bs.GTE},exclusiveMinimum:{okStr:">",ok:bs.GT,fail:bs.LTE}},Mve={message:({keyword:t,schemaCode:e})=>(0,Vy.str)`must be ${Hy[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Vy._)`{comparison: ${Hy[t].okStr}, limit: ${e}}`},Uve={keyword:Object.keys(Hy),type:"number",schemaType:"number",$data:!0,error:Mve,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Vy._)`${r} ${Hy[e].fail} ${n} || isNaN(${r})`)}};nT.default=Uve});var q2=C(iT=>{"use strict";Object.defineProperty(iT,"__esModule",{value:!0});var ef=Qe(),Lve={message:({schemaCode:t})=>(0,ef.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,ef._)`{multipleOf: ${t}}`},Fve={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Lve,code(t){let{gen:e,data:r,schemaCode:n,it:i}=t,o=i.opts.multipleOfPrecision,s=e.let("res"),a=o?(0,ef._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,ef._)`${s} !== parseInt(${s})`;t.fail$data((0,ef._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};iT.default=Fve});var B2=C(oT=>{"use strict";Object.defineProperty(oT,"__esModule",{value:!0});function Z2(t){let e=t.length,r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)===56320&&n++);return r}oT.default=Z2;Z2.code='require("ajv/dist/runtime/ucs2length").default'});var V2=C(sT=>{"use strict";Object.defineProperty(sT,"__esModule",{value:!0});var Ia=Qe(),qve=vt(),Zve=B2(),Bve={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Ia.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Ia._)`{limit: ${t}}`},Vve={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Bve,code(t){let{keyword:e,data:r,schemaCode:n,it:i}=t,o=e==="maxLength"?Ia.operators.GT:Ia.operators.LT,s=i.opts.unicode===!1?(0,Ia._)`${r}.length`:(0,Ia._)`${(0,qve.useFunc)(t.gen,Zve.default)}(${r})`;t.fail$data((0,Ia._)`${s} ${o} ${n}`)}};sT.default=Vve});var H2=C(aT=>{"use strict";Object.defineProperty(aT,"__esModule",{value:!0});var Hve=Zn(),Wy=Qe(),Wve={message:({schemaCode:t})=>(0,Wy.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Wy._)`{pattern: ${t}}`},Gve={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Wve,code(t){let{data:e,$data:r,schema:n,schemaCode:i,it:o}=t,s=o.opts.unicodeRegExp?"u":"",a=r?(0,Wy._)`(new RegExp(${i}, ${s}))`:(0,Hve.usePattern)(t,n);t.fail$data((0,Wy._)`!${a}.test(${e})`)}};aT.default=Gve});var W2=C(cT=>{"use strict";Object.defineProperty(cT,"__esModule",{value:!0});var tf=Qe(),Jve={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,tf.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,tf._)`{limit: ${t}}`},Kve={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Jve,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?tf.operators.GT:tf.operators.LT;t.fail$data((0,tf._)`Object.keys(${r}).length ${i} ${n}`)}};cT.default=Kve});var G2=C(lT=>{"use strict";Object.defineProperty(lT,"__esModule",{value:!0});var rf=Zn(),nf=Qe(),Yve=vt(),Qve={message:({params:{missingProperty:t}})=>(0,nf.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,nf._)`{missingProperty: ${t}}`},Xve={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Qve,code(t){let{gen:e,schema:r,schemaCode:n,data:i,$data:o,it:s}=t,{opts:a}=s;if(!o&&r.length===0)return;let c=r.length>=a.loopRequired;if(s.allErrors?l():u(),a.strictRequired){let p=t.parentSchema.properties,{definedProperties:f}=t.it;for(let v of r)if(p?.[v]===void 0&&!f.has(v)){let g=s.schemaEnv.baseId+s.errSchemaPath,h=`required property "${v}" is not defined at "${g}" (strictRequired)`;(0,Yve.checkStrictMode)(s,h,s.opts.strictRequired)}}function l(){if(c||o)t.block$data(nf.nil,d);else for(let p of r)(0,rf.checkReportMissingProp)(t,p)}function u(){let p=e.let("missing");if(c||o){let f=e.let("valid",!0);t.block$data(f,()=>m(p,f)),t.ok(f)}else e.if((0,rf.checkMissingProp)(t,r,p)),(0,rf.reportMissingProp)(t,p),e.else()}function d(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,rf.noPropertyInData)(e,i,p,a.ownProperties),()=>t.error())})}function m(p,f){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(f,(0,rf.propertyInData)(e,i,p,a.ownProperties)),e.if((0,nf.not)(f),()=>{t.error(),e.break()})},nf.nil)}}};lT.default=Xve});var J2=C(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0});var of=Qe(),eye={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,of.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,of._)`{limit: ${t}}`},tye={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:eye,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?of.operators.GT:of.operators.LT;t.fail$data((0,of._)`${r}.length ${i} ${n}`)}};uT.default=tye});var Gy=C(dT=>{"use strict";Object.defineProperty(dT,"__esModule",{value:!0});var K2=DE();K2.code='require("ajv/dist/runtime/equal").default';dT.default=K2});var Y2=C(fT=>{"use strict";Object.defineProperty(fT,"__esModule",{value:!0});var pT=Bp(),Tr=Qe(),rye=vt(),nye=Gy(),iye={message:({params:{i:t,j:e}})=>(0,Tr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Tr._)`{i: ${t}, j: ${e}}`},oye={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:iye,code(t){let{gen:e,data:r,$data:n,schema:i,parentSchema:o,schemaCode:s,it:a}=t;if(!n&&!i)return;let c=e.let("valid"),l=o.items?(0,pT.getSchemaTypes)(o.items):[];t.block$data(c,u,(0,Tr._)`${s} === false`),t.ok(c);function u(){let f=e.let("i",(0,Tr._)`${r}.length`),v=e.let("j");t.setParams({i:f,j:v}),e.assign(c,!0),e.if((0,Tr._)`${f} > 1`,()=>(d()?m:p)(f,v))}function d(){return l.length>0&&!l.some(f=>f==="object"||f==="array")}function m(f,v){let g=e.name("item"),h=(0,pT.checkDataTypes)(l,g,a.opts.strictNumbers,pT.DataType.Wrong),b=e.const("indices",(0,Tr._)`{}`);e.for((0,Tr._)`;${f}--;`,()=>{e.let(g,(0,Tr._)`${r}[${f}]`),e.if(h,(0,Tr._)`continue`),l.length>1&&e.if((0,Tr._)`typeof ${g} == "string"`,(0,Tr._)`${g} += "_"`),e.if((0,Tr._)`typeof ${b}[${g}] == "number"`,()=>{e.assign(v,(0,Tr._)`${b}[${g}]`),t.error(),e.assign(c,!1).break()}).code((0,Tr._)`${b}[${g}] = ${f}`)})}function p(f,v){let g=(0,rye.useFunc)(e,nye.default),h=e.name("outer");e.label(h).for((0,Tr._)`;${f}--;`,()=>e.for((0,Tr._)`${v} = ${f}; ${v}--;`,()=>e.if((0,Tr._)`${g}(${r}[${f}], ${r}[${v}])`,()=>{t.error(),e.assign(c,!1).break(h)})))}}};fT.default=oye});var Q2=C(hT=>{"use strict";Object.defineProperty(hT,"__esModule",{value:!0});var mT=Qe(),sye=vt(),aye=Gy(),cye={message:"must be equal to constant",params:({schemaCode:t})=>(0,mT._)`{allowedValue: ${t}}`},lye={keyword:"const",$data:!0,error:cye,code(t){let{gen:e,data:r,$data:n,schemaCode:i,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,mT._)`!${(0,sye.useFunc)(e,aye.default)}(${r}, ${i})`):t.fail((0,mT._)`${o} !== ${r}`)}};hT.default=lye});var X2=C(gT=>{"use strict";Object.defineProperty(gT,"__esModule",{value:!0});var sf=Qe(),uye=vt(),dye=Gy(),pye={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,sf._)`{allowedValues: ${t}}`},fye={keyword:"enum",schemaType:"array",$data:!0,error:pye,code(t){let{gen:e,data:r,$data:n,schema:i,schemaCode:o,it:s}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=s.opts.loopEnum,c,l=()=>c??(c=(0,uye.useFunc)(e,dye.default)),u;if(a||n)u=e.let("valid"),t.block$data(u,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let p=e.const("vSchema",o);u=(0,sf.or)(...i.map((f,v)=>m(p,v)))}t.pass(u);function d(){e.assign(u,!1),e.forOf("v",o,p=>e.if((0,sf._)`${l()}(${r}, ${p})`,()=>e.assign(u,!0).break()))}function m(p,f){let v=i[f];return typeof v=="object"&&v!==null?(0,sf._)`${l()}(${r}, ${p}[${f}])`:(0,sf._)`${r} === ${v}`}}};gT.default=fye});var eZ=C(vT=>{"use strict";Object.defineProperty(vT,"__esModule",{value:!0});var mye=F2(),hye=q2(),gye=V2(),vye=H2(),yye=W2(),bye=G2(),_ye=J2(),xye=Y2(),wye=Q2(),Sye=X2(),kye=[mye.default,hye.default,gye.default,vye.default,yye.default,bye.default,_ye.default,xye.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},wye.default,Sye.default];vT.default=kye});var bT=C(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.validateAdditionalItems=void 0;var Ra=Qe(),yT=vt(),$ye={message:({params:{len:t}})=>(0,Ra.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ra._)`{limit: ${t}}`},Eye={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:$ye,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,yT.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}tZ(t,n)}};function tZ(t,e){let{gen:r,schema:n,data:i,keyword:o,it:s}=t;s.items=!0;let a=r.const("len",(0,Ra._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Ra._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,yT.alwaysValidSchema)(s,n)){let l=r.var("valid",(0,Ra._)`${a} <= ${e.length}`);r.if((0,Ra.not)(l),()=>c(l)),t.ok(l)}function c(l){r.forRange("i",e.length,a,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:yT.Type.Num},l),s.allErrors||r.if((0,Ra.not)(l),()=>r.break())})}}af.validateAdditionalItems=tZ;af.default=Eye});var _T=C(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.validateTuple=void 0;var rZ=Qe(),Jy=vt(),Tye=Zn(),Cye={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return nZ(t,"additionalItems",e);r.items=!0,!(0,Jy.alwaysValidSchema)(r,e)&&t.ok((0,Tye.validateArray)(t))}};function nZ(t,e,r=t.schema){let{gen:n,parentSchema:i,data:o,keyword:s,it:a}=t;u(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Jy.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),l=n.const("len",(0,rZ._)`${o}.length`);r.forEach((d,m)=>{(0,Jy.alwaysValidSchema)(a,d)||(n.if((0,rZ._)`${l} > ${m}`,()=>t.subschema({keyword:s,schemaProp:m,dataProp:m},c)),t.ok(c))});function u(d){let{opts:m,errSchemaPath:p}=a,f=r.length,v=f===d.minItems&&(f===d.maxItems||d[e]===!1);if(m.strictTuples&&!v){let g=`"${s}" is ${f}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,Jy.checkStrictMode)(a,g,m.strictTuples)}}}cf.validateTuple=nZ;cf.default=Cye});var iZ=C(xT=>{"use strict";Object.defineProperty(xT,"__esModule",{value:!0});var Pye=_T(),Iye={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Pye.validateTuple)(t,"items")};xT.default=Iye});var sZ=C(wT=>{"use strict";Object.defineProperty(wT,"__esModule",{value:!0});var oZ=Qe(),Rye=vt(),Oye=Zn(),Aye=bT(),Nye={message:({params:{len:t}})=>(0,oZ.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,oZ._)`{limit: ${t}}`},jye={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Nye,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,Rye.alwaysValidSchema)(n,e)&&(i?(0,Aye.validateAdditionalItems)(t,i):t.ok((0,Oye.validateArray)(t)))}};wT.default=jye});var aZ=C(ST=>{"use strict";Object.defineProperty(ST,"__esModule",{value:!0});var Vn=Qe(),Ky=vt(),Dye={message:({params:{min:t,max:e}})=>e===void 0?(0,Vn.str)`must contain at least ${t} valid item(s)`:(0,Vn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Vn._)`{minContains: ${t}}`:(0,Vn._)`{minContains: ${t}, maxContains: ${e}}`},zye={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Dye,code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:o}=t,s,a,{minContains:c,maxContains:l}=n;o.opts.next?(s=c===void 0?1:c,a=l):s=1;let u=e.const("len",(0,Vn._)`${i}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,Ky.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Ky.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Ky.alwaysValidSchema)(o,r)){let v=(0,Vn._)`${u} >= ${s}`;a!==void 0&&(v=(0,Vn._)`${v} && ${u} <= ${a}`),t.pass(v);return}o.items=!0;let d=e.name("valid");a===void 0&&s===1?p(d,()=>e.if(d,()=>e.break())):s===0?(e.let(d,!0),a!==void 0&&e.if((0,Vn._)`${i}.length > 0`,m)):(e.let(d,!1),m()),t.result(d,()=>t.reset());function m(){let v=e.name("_valid"),g=e.let("count",0);p(v,()=>e.if(v,()=>f(g)))}function p(v,g){e.forRange("i",0,u,h=>{t.subschema({keyword:"contains",dataProp:h,dataPropType:Ky.Type.Num,compositeRule:!0},v),g()})}function f(v){e.code((0,Vn._)`${v}++`),a===void 0?e.if((0,Vn._)`${v} >= ${s}`,()=>e.assign(d,!0).break()):(e.if((0,Vn._)`${v} > ${a}`,()=>e.assign(d,!1).break()),s===1?e.assign(d,!0):e.if((0,Vn._)`${v} >= ${s}`,()=>e.assign(d,!0)))}}};ST.default=zye});var uZ=C(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.validateSchemaDeps=qi.validatePropertyDeps=qi.error=void 0;var kT=Qe(),Mye=vt(),lf=Zn();qi.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,kT.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,kT._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Uye={keyword:"dependencies",type:"object",schemaType:"object",error:qi.error,code(t){let[e,r]=Lye(t);cZ(t,e),lZ(t,r)}};function Lye({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let i=Array.isArray(t[n])?e:r;i[n]=t[n]}return[e,r]}function cZ(t,e=t.schema){let{gen:r,data:n,it:i}=t;if(Object.keys(e).length===0)return;let o=r.let("missing");for(let s in e){let a=e[s];if(a.length===0)continue;let c=(0,lf.propertyInData)(r,n,s,i.opts.ownProperties);t.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),i.allErrors?r.if(c,()=>{for(let l of a)(0,lf.checkReportMissingProp)(t,l)}):(r.if((0,kT._)`${c} && (${(0,lf.checkMissingProp)(t,a,o)})`),(0,lf.reportMissingProp)(t,o),r.else())}}qi.validatePropertyDeps=cZ;function lZ(t,e=t.schema){let{gen:r,data:n,keyword:i,it:o}=t,s=r.name("valid");for(let a in e)(0,Mye.alwaysValidSchema)(o,e[a])||(r.if((0,lf.propertyInData)(r,n,a,o.opts.ownProperties),()=>{let c=t.subschema({keyword:i,schemaProp:a},s);t.mergeValidEvaluated(c,s)},()=>r.var(s,!0)),t.ok(s))}qi.validateSchemaDeps=lZ;qi.default=Uye});var pZ=C($T=>{"use strict";Object.defineProperty($T,"__esModule",{value:!0});var dZ=Qe(),Fye=vt(),qye={message:"property name must be valid",params:({params:t})=>(0,dZ._)`{propertyName: ${t.propertyName}}`},Zye={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:qye,code(t){let{gen:e,schema:r,data:n,it:i}=t;if((0,Fye.alwaysValidSchema)(i,r))return;let o=e.name("valid");e.forIn("key",n,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),e.if((0,dZ.not)(o),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(o)}};$T.default=Zye});var TT=C(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});var Yy=Zn(),gi=Qe(),Bye=ko(),Qy=vt(),Vye={message:"must NOT have additional properties",params:({params:t})=>(0,gi._)`{additionalProperty: ${t.additionalProperty}}`},Hye={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Vye,code(t){let{gen:e,schema:r,parentSchema:n,data:i,errsCount:o,it:s}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=s;if(s.props=!0,c.removeAdditional!=="all"&&(0,Qy.alwaysValidSchema)(s,r))return;let l=(0,Yy.allSchemaProperties)(n.properties),u=(0,Yy.allSchemaProperties)(n.patternProperties);d(),t.ok((0,gi._)`${o} === ${Bye.default.errors}`);function d(){e.forIn("key",i,g=>{!l.length&&!u.length?f(g):e.if(m(g),()=>f(g))})}function m(g){let h;if(l.length>8){let b=(0,Qy.schemaRefOrVal)(s,n.properties,"properties");h=(0,Yy.isOwnProperty)(e,b,g)}else l.length?h=(0,gi.or)(...l.map(b=>(0,gi._)`${g} === ${b}`)):h=gi.nil;return u.length&&(h=(0,gi.or)(h,...u.map(b=>(0,gi._)`${(0,Yy.usePattern)(t,b)}.test(${g})`))),(0,gi.not)(h)}function p(g){e.code((0,gi._)`delete ${i}[${g}]`)}function f(g){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){p(g);return}if(r===!1){t.setParams({additionalProperty:g}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,Qy.alwaysValidSchema)(s,r)){let h=e.name("valid");c.removeAdditional==="failing"?(v(g,h,!1),e.if((0,gi.not)(h),()=>{t.reset(),p(g)})):(v(g,h),a||e.if((0,gi.not)(h),()=>e.break()))}}function v(g,h,b){let y={keyword:"additionalProperties",dataProp:g,dataPropType:Qy.Type.Str};b===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(y,h)}}};ET.default=Hye});var hZ=C(PT=>{"use strict";Object.defineProperty(PT,"__esModule",{value:!0});var Wye=Gp(),fZ=Zn(),CT=vt(),mZ=TT(),Gye={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&mZ.default.code(new Wye.KeywordCxt(o,mZ.default,"additionalProperties"));let s=(0,fZ.allSchemaProperties)(r);for(let d of s)o.definedProperties.add(d);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=CT.mergeEvaluated.props(e,(0,CT.toHash)(s),o.props));let a=s.filter(d=>!(0,CT.alwaysValidSchema)(o,r[d]));if(a.length===0)return;let c=e.name("valid");for(let d of a)l(d)?u(d):(e.if((0,fZ.propertyInData)(e,i,d,o.opts.ownProperties)),u(d),o.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(c);function l(d){return o.opts.useDefaults&&!o.compositeRule&&r[d].default!==void 0}function u(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};PT.default=Gye});var bZ=C(IT=>{"use strict";Object.defineProperty(IT,"__esModule",{value:!0});var gZ=Zn(),Xy=Qe(),vZ=vt(),yZ=vt(),Jye={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:i,it:o}=t,{opts:s}=o,a=(0,gZ.allSchemaProperties)(r),c=a.filter(v=>(0,vZ.alwaysValidSchema)(o,r[v]));if(a.length===0||c.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;let l=s.strictSchema&&!s.allowMatchingProperties&&i.properties,u=e.name("valid");o.props!==!0&&!(o.props instanceof Xy.Name)&&(o.props=(0,yZ.evaluatedPropsToName)(e,o.props));let{props:d}=o;m();function m(){for(let v of a)l&&p(v),o.allErrors?f(v):(e.var(u,!0),f(v),e.if(u))}function p(v){for(let g in l)new RegExp(v).test(g)&&(0,vZ.checkStrictMode)(o,`property ${g} matches pattern ${v} (use allowMatchingProperties)`)}function f(v){e.forIn("key",n,g=>{e.if((0,Xy._)`${(0,gZ.usePattern)(t,v)}.test(${g})`,()=>{let h=c.includes(v);h||t.subschema({keyword:"patternProperties",schemaProp:v,dataProp:g,dataPropType:yZ.Type.Str},u),o.opts.unevaluated&&d!==!0?e.assign((0,Xy._)`${d}[${g}]`,!0):!h&&!o.allErrors&&e.if((0,Xy.not)(u),()=>e.break())})})}}};IT.default=Jye});var _Z=C(RT=>{"use strict";Object.defineProperty(RT,"__esModule",{value:!0});var Kye=vt(),Yye={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,Kye.alwaysValidSchema)(n,r)){t.fail();return}let i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};RT.default=Yye});var xZ=C(OT=>{"use strict";Object.defineProperty(OT,"__esModule",{value:!0});var Qye=Zn(),Xye={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Qye.validateUnion,error:{message:"must match a schema in anyOf"}};OT.default=Xye});var wZ=C(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0});var eb=Qe(),ebe=vt(),tbe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,eb._)`{passingSchemas: ${t.passing}}`},rbe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:tbe,code(t){let{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let o=r,s=e.let("valid",!1),a=e.let("passing",null),c=e.name("_valid");t.setParams({passing:a}),e.block(l),t.result(s,()=>t.reset(),()=>t.error(!0));function l(){o.forEach((u,d)=>{let m;(0,ebe.alwaysValidSchema)(i,u)?e.var(c,!0):m=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&e.if((0,eb._)`${c} && ${s}`).assign(s,!1).assign(a,(0,eb._)`[${a}, ${d}]`).else(),e.if(c,()=>{e.assign(s,!0),e.assign(a,d),m&&t.mergeEvaluated(m,eb.Name)})})}}};AT.default=rbe});var SZ=C(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});var nbe=vt(),ibe={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=e.name("valid");r.forEach((o,s)=>{if((0,nbe.alwaysValidSchema)(n,o))return;let a=t.subschema({keyword:"allOf",schemaProp:s},i);t.ok(i),t.mergeEvaluated(a)})}};NT.default=ibe});var EZ=C(jT=>{"use strict";Object.defineProperty(jT,"__esModule",{value:!0});var tb=Qe(),$Z=vt(),obe={message:({params:t})=>(0,tb.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,tb._)`{failingKeyword: ${t.ifClause}}`},sbe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:obe,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,$Z.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=kZ(n,"then"),o=kZ(n,"else");if(!i&&!o)return;let s=e.let("valid",!0),a=e.name("_valid");if(c(),t.reset(),i&&o){let u=e.let("ifClause");t.setParams({ifClause:u}),e.if(a,l("then",u),l("else",u))}else i?e.if(a,l("then")):e.if((0,tb.not)(a),l("else"));t.pass(s,()=>t.error(!0));function c(){let u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(u)}function l(u,d){return()=>{let m=t.subschema({keyword:u},a);e.assign(s,a),t.mergeValidEvaluated(m,s),d?e.assign(d,(0,tb._)`${u}`):t.setParams({ifClause:u})}}}};function kZ(t,e){let r=t.schema[e];return r!==void 0&&!(0,$Z.alwaysValidSchema)(t,r)}jT.default=sbe});var TZ=C(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0});var abe=vt(),cbe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,abe.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};DT.default=cbe});var CZ=C(zT=>{"use strict";Object.defineProperty(zT,"__esModule",{value:!0});var lbe=bT(),ube=iZ(),dbe=_T(),pbe=sZ(),fbe=aZ(),mbe=uZ(),hbe=pZ(),gbe=TT(),vbe=hZ(),ybe=bZ(),bbe=_Z(),_be=xZ(),xbe=wZ(),wbe=SZ(),Sbe=EZ(),kbe=TZ();function $be(t=!1){let e=[bbe.default,_be.default,xbe.default,wbe.default,Sbe.default,kbe.default,hbe.default,gbe.default,mbe.default,vbe.default,ybe.default];return t?e.push(ube.default,pbe.default):e.push(lbe.default,dbe.default),e.push(fbe.default),e}zT.default=$be});var PZ=C(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0});var er=Qe(),Ebe={message:({schemaCode:t})=>(0,er.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,er._)`{format: ${t}}`},Tbe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ebe,code(t,e){let{gen:r,data:n,$data:i,schema:o,schemaCode:s,it:a}=t,{opts:c,errSchemaPath:l,schemaEnv:u,self:d}=a;if(!c.validateFormats)return;i?m():p();function m(){let f=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),v=r.const("fDef",(0,er._)`${f}[${s}]`),g=r.let("fType"),h=r.let("format");r.if((0,er._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>r.assign(g,(0,er._)`${v}.type || "string"`).assign(h,(0,er._)`${v}.validate`),()=>r.assign(g,(0,er._)`"string"`).assign(h,v)),t.fail$data((0,er.or)(b(),y()));function b(){return c.strictSchema===!1?er.nil:(0,er._)`${s} && !${h}`}function y(){let _=u.$async?(0,er._)`(${v}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,er._)`${h}(${n})`,x=(0,er._)`(typeof ${h} == "function" ? ${_} : ${h}.test(${n}))`;return(0,er._)`${h} && ${h} !== true && ${g} === ${e} && !${x}`}}function p(){let f=d.formats[o];if(!f){b();return}if(f===!0)return;let[v,g,h]=y(f);v===e&&t.pass(_());function b(){if(c.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${o}" ignored in schema at path "${l}"`}}function y(x){let w=x instanceof RegExp?(0,er.regexpCode)(x):c.code.formats?(0,er._)`${c.code.formats}${(0,er.getProperty)(o)}`:void 0,S=r.scopeValue("formats",{key:o,ref:x,code:w});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,er._)`${S}.validate`]:["string",x,S]}function _(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!u.$async)throw new Error("async format in sync schema");return(0,er._)`await ${h}(${n})`}return typeof g=="function"?(0,er._)`${h}(${n})`:(0,er._)`${h}.test(${n})`}}}};MT.default=Tbe});var IZ=C(UT=>{"use strict";Object.defineProperty(UT,"__esModule",{value:!0});var Cbe=PZ(),Pbe=[Cbe.default];UT.default=Pbe});var RZ=C(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.contentVocabulary=Ll.metadataVocabulary=void 0;Ll.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ll.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var AZ=C(LT=>{"use strict";Object.defineProperty(LT,"__esModule",{value:!0});var Ibe=L2(),Rbe=eZ(),Obe=CZ(),Abe=IZ(),OZ=RZ(),Nbe=[Ibe.default,Rbe.default,(0,Obe.default)(),Abe.default,OZ.metadataVocabulary,OZ.contentVocabulary];LT.default=Nbe});var jZ=C(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.DiscrError=void 0;var NZ;(function(t){t.Tag="tag",t.Mapping="mapping"})(NZ||(rb.DiscrError=NZ={}))});var zZ=C(qT=>{"use strict";Object.defineProperty(qT,"__esModule",{value:!0});var Fl=Qe(),FT=jZ(),DZ=My(),jbe=Jp(),Dbe=vt(),zbe={message:({params:{discrError:t,tagName:e}})=>t===FT.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Fl._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Mbe={keyword:"discriminator",type:"object",schemaType:"object",error:zbe,code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:o}=t,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),l=e.const("tag",(0,Fl._)`${r}${(0,Fl.getProperty)(a)}`);e.if((0,Fl._)`typeof ${l} == "string"`,()=>u(),()=>t.error(!1,{discrError:FT.DiscrError.Tag,tag:l,tagName:a})),t.ok(c);function u(){let p=m();e.if(!1);for(let f in p)e.elseIf((0,Fl._)`${l} === ${f}`),e.assign(c,d(p[f]));e.else(),t.error(!1,{discrError:FT.DiscrError.Mapping,tag:l,tagName:a}),e.endIf()}function d(p){let f=e.name("valid"),v=t.subschema({keyword:"oneOf",schemaProp:p},f);return t.mergeEvaluated(v,Fl.Name),f}function m(){var p;let f={},v=h(i),g=!0;for(let _=0;_<s.length;_++){let x=s[_];if(x?.$ref&&!(0,Dbe.schemaHasRulesButRef)(x,o.self.RULES)){let S=x.$ref;if(x=DZ.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,S),x instanceof DZ.SchemaEnv&&(x=x.schema),x===void 0)throw new jbe.default(o.opts.uriResolver,o.baseId,S)}let w=(p=x?.properties)===null||p===void 0?void 0:p[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(v||h(x)),b(w,_)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return f;function h({required:_}){return Array.isArray(_)&&_.includes(a)}function b(_,x){if(_.const)y(_.const,x);else if(_.enum)for(let w of _.enum)y(w,x);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function y(_,x){if(typeof _!="string"||_ in f)throw new Error(`discriminator: "${a}" values must be unique strings`);f[_]=x}}}};qT.default=Mbe});var MZ=C((xqe,Ube)=>{Ube.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var BT=C((zt,ZT)=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.MissingRefError=zt.ValidationError=zt.CodeGen=zt.Name=zt.nil=zt.stringify=zt.str=zt._=zt.KeywordCxt=zt.Ajv=void 0;var Lbe=N2(),Fbe=AZ(),qbe=zZ(),UZ=MZ(),Zbe=["/properties"],nb="http://json-schema.org/draft-07/schema",ql=class extends Lbe.default{_addVocabularies(){super._addVocabularies(),Fbe.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(qbe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(UZ,Zbe):UZ;this.addMetaSchema(e,nb,!1),this.refs["http://json-schema.org/schema"]=nb}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(nb)?nb:void 0)}};zt.Ajv=ql;ZT.exports=zt=ql;ZT.exports.Ajv=ql;Object.defineProperty(zt,"__esModule",{value:!0});zt.default=ql;var Bbe=Gp();Object.defineProperty(zt,"KeywordCxt",{enumerable:!0,get:function(){return Bbe.KeywordCxt}});var Zl=Qe();Object.defineProperty(zt,"_",{enumerable:!0,get:function(){return Zl._}});Object.defineProperty(zt,"str",{enumerable:!0,get:function(){return Zl.str}});Object.defineProperty(zt,"stringify",{enumerable:!0,get:function(){return Zl.stringify}});Object.defineProperty(zt,"nil",{enumerable:!0,get:function(){return Zl.nil}});Object.defineProperty(zt,"Name",{enumerable:!0,get:function(){return Zl.Name}});Object.defineProperty(zt,"CodeGen",{enumerable:!0,get:function(){return Zl.CodeGen}});var Vbe=Dy();Object.defineProperty(zt,"ValidationError",{enumerable:!0,get:function(){return Vbe.default}});var Hbe=Jp();Object.defineProperty(zt,"MissingRefError",{enumerable:!0,get:function(){return Hbe.default}})});var WZ=C(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.formatNames=Bi.fastFormats=Bi.fullFormats=void 0;function Zi(t,e){return{validate:t,compare:e}}Bi.fullFormats={date:Zi(ZZ,GT),time:Zi(HT(!0),JT),"date-time":Zi(LZ(!0),VZ),"iso-time":Zi(HT(),BZ),"iso-date-time":Zi(LZ(),HZ),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Qbe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:o_e,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Xbe,int32:{type:"number",validate:r_e},int64:{type:"number",validate:n_e},float:{type:"number",validate:qZ},double:{type:"number",validate:qZ},password:!0,binary:!0};Bi.fastFormats={...Bi.fullFormats,date:Zi(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,GT),time:Zi(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,JT),"date-time":Zi(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,VZ),"iso-time":Zi(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,BZ),"iso-date-time":Zi(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,HZ),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Bi.formatNames=Object.keys(Bi.fullFormats);function Wbe(t){return t%4===0&&(t%100!==0||t%400===0)}var Gbe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Jbe=[0,31,28,31,30,31,30,31,31,30,31,30,31];function ZZ(t){let e=Gbe.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&Wbe(r)?29:Jbe[n])}function GT(t,e){if(t&&e)return t>e?1:t<e?-1:0}var VT=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function HT(t){return function(r){let n=VT.exec(r);if(!n)return!1;let i=+n[1],o=+n[2],s=+n[3],a=n[4],c=n[5]==="-"?-1:1,l=+(n[6]||0),u=+(n[7]||0);if(l>23||u>59||t&&!a)return!1;if(i<=23&&o<=59&&s<60)return!0;let d=o-u*c,m=i-l*c-(d<0?1:0);return(m===23||m===-1)&&(d===59||d===-1)&&s<61}}function JT(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),n=new Date("2020-01-01T"+e).valueOf();if(r&&n)return r-n}function BZ(t,e){if(!(t&&e))return;let r=VT.exec(t),n=VT.exec(e);if(r&&n)return t=r[1]+r[2]+r[3],e=n[1]+n[2]+n[3],t>e?1:t<e?-1:0}var WT=/t|\s/i;function LZ(t){let e=HT(t);return function(n){let i=n.split(WT);return i.length===2&&ZZ(i[0])&&e(i[1])}}function VZ(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),n=new Date(e).valueOf();if(r&&n)return r-n}function HZ(t,e){if(!(t&&e))return;let[r,n]=t.split(WT),[i,o]=e.split(WT),s=GT(r,i);if(s!==void 0)return s||JT(n,o)}var Kbe=/\/|:/,Ybe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Qbe(t){return Kbe.test(t)&&Ybe.test(t)}var FZ=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Xbe(t){return FZ.lastIndex=0,FZ.test(t)}var e_e=-(2**31),t_e=2**31-1;function r_e(t){return Number.isInteger(t)&&t<=t_e&&t>=e_e}function n_e(t){return Number.isInteger(t)}function qZ(){return!0}var i_e=/[^\\]\\Z/;function o_e(t){if(i_e.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var GZ=C(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.formatLimitDefinition=void 0;var s_e=BT(),vi=Qe(),_s=vi.operators,ib={formatMaximum:{okStr:"<=",ok:_s.LTE,fail:_s.GT},formatMinimum:{okStr:">=",ok:_s.GTE,fail:_s.LT},formatExclusiveMaximum:{okStr:"<",ok:_s.LT,fail:_s.GTE},formatExclusiveMinimum:{okStr:">",ok:_s.GT,fail:_s.LTE}},a_e={message:({keyword:t,schemaCode:e})=>(0,vi.str)`should be ${ib[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,vi._)`{comparison: ${ib[t].okStr}, limit: ${e}}`};Bl.formatLimitDefinition={keyword:Object.keys(ib),type:"string",schemaType:"string",$data:!0,error:a_e,code(t){let{gen:e,data:r,schemaCode:n,keyword:i,it:o}=t,{opts:s,self:a}=o;if(!s.validateFormats)return;let c=new s_e.KeywordCxt(o,a.RULES.all.format.definition,"format");c.$data?l():u();function l(){let m=e.scopeValue("formats",{ref:a.formats,code:s.code.formats}),p=e.const("fmt",(0,vi._)`${m}[${c.schemaCode}]`);t.fail$data((0,vi.or)((0,vi._)`typeof ${p} != "object"`,(0,vi._)`${p} instanceof RegExp`,(0,vi._)`typeof ${p}.compare != "function"`,d(p)))}function u(){let m=c.schema,p=a.formats[m];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${i}": format "${m}" does not define "compare" function`);let f=e.scopeValue("formats",{key:m,ref:p,code:s.code.formats?(0,vi._)`${s.code.formats}${(0,vi.getProperty)(m)}`:void 0});t.fail$data(d(f))}function d(m){return(0,vi._)`${m}.compare(${r}, ${n}) ${ib[i].fail} 0`}},dependencies:["format"]};var c_e=t=>(t.addKeyword(Bl.formatLimitDefinition),t);Bl.default=c_e});var QZ=C((uf,YZ)=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});var Vl=WZ(),l_e=GZ(),KT=Qe(),JZ=new KT.Name("fullFormats"),u_e=new KT.Name("fastFormats"),YT=(t,e={keywords:!0})=>{if(Array.isArray(e))return KZ(t,e,Vl.fullFormats,JZ),t;let[r,n]=e.mode==="fast"?[Vl.fastFormats,u_e]:[Vl.fullFormats,JZ],i=e.formats||Vl.formatNames;return KZ(t,i,r,n),e.keywords&&(0,l_e.default)(t),t};YT.get=(t,e="full")=>{let n=(e==="fast"?Vl.fastFormats:Vl.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function KZ(t,e,r,n){var i,o;(i=(o=t.opts.code).formats)!==null&&i!==void 0||(o.formats=(0,KT._)`require("ajv-formats/dist/formats").${n}`);for(let s of e)t.addFormat(s,r[s])}YZ.exports=uf=YT;Object.defineProperty(uf,"__esModule",{value:!0});uf.default=YT});var Co=C((l2e,vB)=>{"use strict";var hB=["nodebuffer","arraybuffer","fragments"],gB=typeof Blob<"u";gB&&hB.push("blob");vB.exports={BINARY_TYPES:hB,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:gB,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var vf=C((u2e,Eb)=>{"use strict";var{EMPTY_BUFFER:H_e}=Co(),lC=Buffer[Symbol.species];function W_e(t,e){if(t.length===0)return H_e;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new lC(r.buffer,r.byteOffset,n):r}function yB(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function bB(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function G_e(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function uC(t){if(uC.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new lC(t):ArrayBuffer.isView(t)?e=new lC(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),uC.readOnly=!1),e}Eb.exports={concat:W_e,mask:yB,toArrayBuffer:G_e,toBuffer:uC,unmask:bB};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");Eb.exports.mask=function(e,r,n,i,o){o<48?yB(e,r,n,i,o):t.mask(e,r,n,i,o)},Eb.exports.unmask=function(e,r){e.length<32?bB(e,r):t.unmask(e,r)}}catch{}});var wB=C((d2e,xB)=>{"use strict";var _B=Symbol("kDone"),dC=Symbol("kRun"),pC=class{constructor(e){this[_B]=()=>{this.pending--,this[dC]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[dC]()}[dC](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[_B])}}};xB.exports=pC});var bf=C((p2e,EB)=>{"use strict";var yf=require("zlib"),SB=vf(),J_e=wB(),{kStatusCode:kB}=Co(),K_e=Buffer[Symbol.species],Y_e=Buffer.from([0,0,255,255]),Cb=Symbol("permessage-deflate"),Po=Symbol("total-length"),Kl=Symbol("callback"),ks=Symbol("buffers"),Yl=Symbol("error"),Tb,fC=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Tb){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Tb=new J_e(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Kl];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){Tb.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){Tb.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?yf.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=yf.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[Cb]=this,this._inflate[Po]=0,this._inflate[ks]=[],this._inflate.on("error",X_e),this._inflate.on("data",$B)}this._inflate[Kl]=n,this._inflate.write(e),r&&this._inflate.write(Y_e),this._inflate.flush(()=>{let o=this._inflate[Yl];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=SB.concat(this._inflate[ks],this._inflate[Po]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Po]=0,this._inflate[ks]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?yf.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=yf.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Po]=0,this._deflate[ks]=[],this._deflate.on("data",Q_e)}this._deflate[Kl]=n,this._deflate.write(e),this._deflate.flush(yf.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=SB.concat(this._deflate[ks],this._deflate[Po]);r&&(o=new K_e(o.buffer,o.byteOffset,o.length-4)),this._deflate[Kl]=null,this._deflate[Po]=0,this._deflate[ks]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};EB.exports=fC;function Q_e(t){this[ks].push(t),this[Po]+=t.length}function $B(t){if(this[Po]+=t.length,this[Cb]._maxPayload<1||this[Po]<=this[Cb]._maxPayload){this[ks].push(t);return}this[Yl]=new RangeError("Max payload size exceeded"),this[Yl].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Yl][kB]=1009,this.removeListener("data",$B),this.reset()}function X_e(t){if(this[Cb]._inflate=null,this[Yl]){this[Kl](this[Yl]);return}t[kB]=1007,this[Kl](t)}});var Ql=C((f2e,Pb)=>{"use strict";var{isUtf8:TB}=require("buffer"),{hasBlob:exe}=Co(),txe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function rxe(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function mC(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function nxe(t){return exe&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}Pb.exports={isBlob:nxe,isValidStatusCode:rxe,isValidUTF8:mC,tokenChars:txe};if(TB)Pb.exports.isValidUTF8=function(t){return t.length<24?mC(t):TB(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");Pb.exports.isValidUTF8=function(e){return e.length<32?mC(e):t(e)}}catch{}});var bC=C((m2e,NB)=>{"use strict";var{Writable:ixe}=require("stream"),CB=bf(),{BINARY_TYPES:oxe,EMPTY_BUFFER:PB,kStatusCode:sxe,kWebSocket:axe}=Co(),{concat:hC,toArrayBuffer:cxe,unmask:lxe}=vf(),{isValidStatusCode:uxe,isValidUTF8:IB}=Ql(),Ib=Buffer[Symbol.species],Hn=0,RB=1,OB=2,AB=3,gC=4,vC=5,Rb=6,yC=class extends ixe{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||oxe[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[axe]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Hn}_write(e,r,n){if(this._opcode===8&&this._state==Hn)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Ib(n.buffer,n.byteOffset+e,n.length-e),new Ib(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new Ib(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case Hn:this.getInfo(e);break;case RB:this.getPayloadLength16(e);break;case OB:this.getPayloadLength64(e);break;case AB:this.getMask();break;case gC:this.getData(e);break;case vC:case Rb:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(r[0]&64)===64;if(n&&!this._extensions[CB.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=RB:this._payloadLength===127?this._state=OB:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=AB:this._state=gC}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=gC}getData(e){let r=PB;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&lxe(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=vC,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[CB.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(s);return}this._fragments.push(o)}this.dataMessage(r),this._state===Hn&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=Hn;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=hC(n,r):this._binaryType==="arraybuffer"?i=cxe(hC(n,r)):this._binaryType==="blob"?i=new Blob(n):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=Hn):(this._state=Rb,setImmediate(()=>{this.emit("message",i,!0),this._state=Hn,this.startLoop(e)}))}else{let i=hC(n,r);if(!this._skipUTF8Validation&&!IB(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===vC||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=Hn):(this._state=Rb,setImmediate(()=>{this.emit("message",i,!1),this._state=Hn,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,PB),this.end();else{let n=e.readUInt16BE(0);if(!uxe(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(o);return}let i=new Ib(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!IB(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=Hn;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Hn):(this._state=Rb,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Hn,this.startLoop(r)}))}createError(e,r,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(s,this.createError),s.code=o,s[sxe]=i,s}};NB.exports=yC});var wC=C((g2e,zB)=>{"use strict";var{Duplex:h2e}=require("stream"),{randomFillSync:dxe}=require("crypto"),jB=bf(),{EMPTY_BUFFER:pxe,kWebSocket:fxe,NOOP:mxe}=Co(),{isBlob:Xl,isValidStatusCode:hxe}=Ql(),{mask:DB,toBuffer:Oa}=vf(),Wn=Symbol("kByteLength"),gxe=Buffer.alloc(4),Ob=8*1024,Aa,eu=Ob,bi=0,vxe=1,yxe=2,_C=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=bi,this.onerror=mxe,this[fxe]=void 0}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||gxe,r.generateMask?r.generateMask(n):(eu===Ob&&(Aa===void 0&&(Aa=Buffer.alloc(Ob)),dxe(Aa,0,Ob),eu=0),n[0]=Aa[eu++],n[1]=Aa[eu++],n[2]=Aa[eu++],n[3]=Aa[eu++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[Wn]!==void 0?a=r[Wn]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let l=Buffer.allocUnsafe(i?a+o:o);return l[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),r.mask?(l[1]|=128,l[o-4]=n[0],l[o-3]=n[1],l[o-2]=n[2],l[o-1]=n[3],s?[l,e]:i?(DB(e,n,l,o,a),[l]):(DB(e,n,e,0,a),[l,e])):[l,e]}close(e,r,n,i){let o;if(e===void 0)o=pxe;else{if(typeof e!="number"||!hxe(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[Wn]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==bi?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):Xl(e)?(i=e.size,o=!1):(e=Oa(e),i=e.length,o=Oa.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Wn]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};Xl(e)?this._state!==bi?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==bi?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):Xl(e)?(i=e.size,o=!1):(e=Oa(e),i=e.length,o=Oa.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Wn]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};Xl(e)?this._state!==bi?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==bi?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[jB.extensionName],o=r.binary?2:1,s=r.compress,a,c;typeof e=="string"?(a=Buffer.byteLength(e),c=!1):Xl(e)?(a=e.size,c=!1):(e=Oa(e),a=e.length,c=Oa.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0);let l={[Wn]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};Xl(e)?this._state!==bi?this.enqueue([this.getBlobData,e,this._compress,l,n]):this.getBlobData(e,this._compress,l,n):this._state!==bi?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}getBlobData(e,r,n,i){this._bufferedBytes+=n[Wn],this._state=yxe,e.arrayBuffer().then(o=>{if(this._socket.destroyed){let a=new Error("The socket was closed while the blob was being read");process.nextTick(xC,this,a,i);return}this._bufferedBytes-=n[Wn];let s=Oa(o);r?this.dispatch(s,r,n,i):(this._state=bi,this.sendFrame(t.frame(s,n),i),this.dequeue())}).catch(o=>{process.nextTick(bxe,this,o,i)})}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[jB.extensionName];this._bufferedBytes+=n[Wn],this._state=vxe,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");xC(this,c,i);return}this._bufferedBytes-=n[Wn],this._state=bi,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;this._state===bi&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Wn],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Wn],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};zB.exports=_C;function xC(t,e,r){typeof r=="function"&&r(e);for(let n=0;n<t._queue.length;n++){let i=t._queue[n],o=i[i.length-1];typeof o=="function"&&o(e)}}function bxe(t,e,r){xC(t,e,r),t.onerror(e)}});var HB=C((v2e,VB)=>{"use strict";var{kForOnEventAttribute:_f,kListener:SC}=Co(),MB=Symbol("kCode"),UB=Symbol("kData"),LB=Symbol("kError"),FB=Symbol("kMessage"),qB=Symbol("kReason"),tu=Symbol("kTarget"),ZB=Symbol("kType"),BB=Symbol("kWasClean"),Io=class{constructor(e){this[tu]=null,this[ZB]=e}get target(){return this[tu]}get type(){return this[ZB]}};Object.defineProperty(Io.prototype,"target",{enumerable:!0});Object.defineProperty(Io.prototype,"type",{enumerable:!0});var Na=class extends Io{constructor(e,r={}){super(e),this[MB]=r.code===void 0?0:r.code,this[qB]=r.reason===void 0?"":r.reason,this[BB]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[MB]}get reason(){return this[qB]}get wasClean(){return this[BB]}};Object.defineProperty(Na.prototype,"code",{enumerable:!0});Object.defineProperty(Na.prototype,"reason",{enumerable:!0});Object.defineProperty(Na.prototype,"wasClean",{enumerable:!0});var ru=class extends Io{constructor(e,r={}){super(e),this[LB]=r.error===void 0?null:r.error,this[FB]=r.message===void 0?"":r.message}get error(){return this[LB]}get message(){return this[FB]}};Object.defineProperty(ru.prototype,"error",{enumerable:!0});Object.defineProperty(ru.prototype,"message",{enumerable:!0});var xf=class extends Io{constructor(e,r={}){super(e),this[UB]=r.data===void 0?null:r.data}get data(){return this[UB]}};Object.defineProperty(xf.prototype,"data",{enumerable:!0});var _xe={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[_f]&&i[SC]===e&&!i[_f])return;let n;if(t==="message")n=function(o,s){let a=new xf("message",{data:s?o:o.toString()});a[tu]=this,Ab(e,this,a)};else if(t==="close")n=function(o,s){let a=new Na("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[tu]=this,Ab(e,this,a)};else if(t==="error")n=function(o){let s=new ru("error",{error:o,message:o.message});s[tu]=this,Ab(e,this,s)};else if(t==="open")n=function(){let o=new Io("open");o[tu]=this,Ab(e,this,o)};else return;n[_f]=!!r[_f],n[SC]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[SC]===e&&!r[_f]){this.removeListener(t,r);break}}};VB.exports={CloseEvent:Na,ErrorEvent:ru,Event:Io,EventTarget:_xe,MessageEvent:xf};function Ab(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var kC=C((y2e,WB)=>{"use strict";var{tokenChars:wf}=Ql();function Hi(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function xxe(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&wf[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let p=t.slice(c,u);l===44?(Hi(e,p,r),r=Object.create(null)):s=p,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&wf[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),Hi(r,t.slice(c,u),!0),l===44&&(Hi(e,s,r),r=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(i){if(wf[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:n||(n=!0),i=!1}else if(o)if(wf[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)o=!1,u=d;else if(l===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)o=!0;else if(u===-1&&wf[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let p=t.slice(c,u);n&&(p=p.replace(/\\/g,""),n=!1),Hi(r,a,p),l===44&&(Hi(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||o||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let m=t.slice(c,u);return s===void 0?Hi(e,m,r):(a===void 0?Hi(r,m,!0):n?Hi(r,a,m.replace(/\\/g,"")):Hi(r,a,m),Hi(e,s,r)),e}function wxe(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}WB.exports={format:wxe,parse:xxe}});var zb=C((x2e,o9)=>{"use strict";var Sxe=require("events"),kxe=require("https"),$xe=require("http"),KB=require("net"),Exe=require("tls"),{randomBytes:Txe,createHash:Cxe}=require("crypto"),{Duplex:b2e,Readable:_2e}=require("stream"),{URL:$C}=require("url"),$s=bf(),Pxe=bC(),Ixe=wC(),{isBlob:Rxe}=Ql(),{BINARY_TYPES:GB,EMPTY_BUFFER:Nb,GUID:Oxe,kForOnEventAttribute:EC,kListener:Axe,kStatusCode:Nxe,kWebSocket:_r,NOOP:YB}=Co(),{EventTarget:{addEventListener:jxe,removeEventListener:Dxe}}=HB(),{format:zxe,parse:Mxe}=kC(),{toBuffer:Uxe}=vf(),Lxe=30*1e3,QB=Symbol("kAborted"),TC=[8,13],Ro=["CONNECTING","OPEN","CLOSING","CLOSED"],Fxe=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Bt=class t extends Sxe{constructor(e,r,n){super(),this._binaryType=GB[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Nb,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),XB(this,e,r,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){GB.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new Pxe({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation}),o=new Ixe(e,this._extensions,n.generateMask);this._receiver=i,this._sender=o,this._socket=e,i[_r]=this,o[_r]=this,e[_r]=this,i.on("conclude",Bxe),i.on("drain",Vxe),i.on("error",Hxe),i.on("message",Wxe),i.on("ping",Gxe),i.on("pong",Jxe),o.onerror=Kxe,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",r9),e.on("data",Db),e.on("end",n9),e.on("error",i9),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[$s.extensionName]&&this._extensions[$s.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Pn(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),t9(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){CC(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Nb,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){CC(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Nb,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){CC(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[$s.extensionName]||(i.compress=!1),this._sender.send(e||Nb,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Pn(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(Bt,"CONNECTING",{enumerable:!0,value:Ro.indexOf("CONNECTING")});Object.defineProperty(Bt.prototype,"CONNECTING",{enumerable:!0,value:Ro.indexOf("CONNECTING")});Object.defineProperty(Bt,"OPEN",{enumerable:!0,value:Ro.indexOf("OPEN")});Object.defineProperty(Bt.prototype,"OPEN",{enumerable:!0,value:Ro.indexOf("OPEN")});Object.defineProperty(Bt,"CLOSING",{enumerable:!0,value:Ro.indexOf("CLOSING")});Object.defineProperty(Bt.prototype,"CLOSING",{enumerable:!0,value:Ro.indexOf("CLOSING")});Object.defineProperty(Bt,"CLOSED",{enumerable:!0,value:Ro.indexOf("CLOSED")});Object.defineProperty(Bt.prototype,"CLOSED",{enumerable:!0,value:Ro.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(Bt.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(Bt.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[EC])return e[Axe];return null},set(e){for(let r of this.listeners(t))if(r[EC]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[EC]:!0})}})});Bt.prototype.addEventListener=jxe;Bt.prototype.removeEventListener=Dxe;o9.exports=Bt;function XB(t,e,r,n){let i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:TC[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=i.autoPong,!TC.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${TC.join(", ")})`);let o;if(e instanceof $C)o=e;else try{o=new $C(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let v=new SyntaxError(c);if(t._redirects===0)throw v;jb(t,v);return}let l=s?443:80,u=Txe(16).toString("base64"),d=s?kxe.request:$xe.request,m=new Set,p;if(i.createConnection=i.createConnection||(s?Zxe:qxe),i.defaultPort=i.defaultPort||l,i.port=o.port||l,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(p=new $s(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=zxe({[$s.extensionName]:p.offer()})),r.length){for(let v of r){if(typeof v!="string"||!Fxe.test(v)||m.has(v))throw new SyntaxError("An invalid or duplicated subprotocol was specified");m.add(v)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let v=i.path.split(":");i.socketPath=v[0],i.path=v[1]}let f;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let v=n&&n.headers;if(n={...n,headers:{}},v)for(let[g,h]of Object.entries(v))n.headers[g.toLowerCase()]=h}else if(t.listenerCount("redirect")===0){let v=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!v||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,v||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),f=t._req=d(i),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=d(i);i.timeout&&f.on("timeout",()=>{Pn(t,f,"Opening handshake has timed out")}),f.on("error",v=>{f===null||f[QB]||(f=t._req=null,jb(t,v))}),f.on("response",v=>{let g=v.headers.location,h=v.statusCode;if(g&&i.followRedirects&&h>=300&&h<400){if(++t._redirects>i.maxRedirects){Pn(t,f,"Maximum redirects exceeded");return}f.abort();let b;try{b=new $C(g,e)}catch{let _=new SyntaxError(`Invalid URL: ${g}`);jb(t,_);return}XB(t,b,r,n)}else t.emit("unexpected-response",f,v)||Pn(t,f,`Unexpected server response: ${v.statusCode}`)}),f.on("upgrade",(v,g,h)=>{if(t.emit("upgrade",v),t.readyState!==Bt.CONNECTING)return;f=t._req=null;let b=v.headers.upgrade;if(b===void 0||b.toLowerCase()!=="websocket"){Pn(t,g,"Invalid Upgrade header");return}let y=Cxe("sha1").update(u+Oxe).digest("base64");if(v.headers["sec-websocket-accept"]!==y){Pn(t,g,"Invalid Sec-WebSocket-Accept header");return}let _=v.headers["sec-websocket-protocol"],x;if(_!==void 0?m.size?m.has(_)||(x="Server sent an invalid subprotocol"):x="Server sent a subprotocol but none was requested":m.size&&(x="Server sent no subprotocol"),x){Pn(t,g,x);return}_&&(t._protocol=_);let w=v.headers["sec-websocket-extensions"];if(w!==void 0){if(!p){Pn(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let S;try{S=Mxe(w)}catch{Pn(t,g,"Invalid Sec-WebSocket-Extensions header");return}let $=Object.keys(S);if($.length!==1||$[0]!==$s.extensionName){Pn(t,g,"Server indicated an extension that was not requested");return}try{p.accept(S[$s.extensionName])}catch{Pn(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[$s.extensionName]=p}t.setSocket(g,h,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(f,t):f.end()}function jb(t,e){t._readyState=Bt.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function qxe(t){return t.path=t.socketPath,KB.connect(t)}function Zxe(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=KB.isIP(t.host)?"":t.host),Exe.connect(t)}function Pn(t,e,r){t._readyState=Bt.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Pn),e.setHeader?(e[QB]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(jb,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function CC(t,e,r){if(e){let n=Rxe(e)?e.size:Uxe(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Ro[t.readyState]})`);process.nextTick(r,n)}}function Bxe(t,e){let r=this[_r];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[_r]!==void 0&&(r._socket.removeListener("data",Db),process.nextTick(e9,r._socket),t===1005?r.close():r.close(t,e))}function Vxe(){let t=this[_r];t.isPaused||t._socket.resume()}function Hxe(t){let e=this[_r];e._socket[_r]!==void 0&&(e._socket.removeListener("data",Db),process.nextTick(e9,e._socket),e.close(t[Nxe])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function JB(){this[_r].emitClose()}function Wxe(t,e){this[_r].emit("message",t,e)}function Gxe(t){let e=this[_r];e._autoPong&&e.pong(t,!this._isServer,YB),e.emit("ping",t)}function Jxe(t){this[_r].emit("pong",t)}function e9(t){t.resume()}function Kxe(t){let e=this[_r];e.readyState!==Bt.CLOSED&&(e.readyState===Bt.OPEN&&(e._readyState=Bt.CLOSING,t9(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function t9(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),Lxe)}function r9(){let t=this[_r];this.removeListener("close",r9),this.removeListener("data",Db),this.removeListener("end",n9),t._readyState=Bt.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[_r]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",JB),t._receiver.on("finish",JB))}function Db(t){this[_r]._receiver.write(t)||this.pause()}function n9(){let t=this[_r];t._readyState=Bt.CLOSING,t._receiver.end(),this.end()}function i9(){let t=this[_r];this.removeListener("error",i9),this.on("error",YB),t&&(t._readyState=Bt.CLOSING,this.destroy())}});var l9=C((S2e,c9)=>{"use strict";var w2e=zb(),{Duplex:Yxe}=require("stream");function s9(t){t.emit("close")}function Qxe(){!this.destroyed&&this._writableState.finished&&this.destroy()}function a9(t){this.removeListener("error",a9),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function Xxe(t,e){let r=!0,n=new Yxe({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(s9,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(s9,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",Qxe),n.on("error",a9),n}c9.exports=Xxe});var d9=C((k2e,u9)=>{"use strict";var{tokenChars:ewe}=Ql();function twe(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&ewe[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}u9.exports={parse:twe}});var y9=C((E2e,v9)=>{"use strict";var rwe=require("events"),Mb=require("http"),{Duplex:$2e}=require("stream"),{createHash:nwe}=require("crypto"),p9=kC(),ja=bf(),iwe=d9(),owe=zb(),{GUID:swe,kWebSocket:awe}=Co(),cwe=/^[+/0-9A-Za-z]{22}==$/,f9=0,m9=1,g9=2,PC=class extends rwe{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:owe,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Mb.createServer((n,i)=>{let o=Mb.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=lwe(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=f9}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===g9){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Sf,this);return}if(e&&this.once("close",e),this._state!==m9)if(this._state=m9,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Sf,this):process.nextTick(Sf,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Sf(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",h9);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Da(this,e,r,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){Da(this,e,r,400,"Invalid Upgrade header");return}if(o===void 0||!cwe.test(o)){Da(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==13&&a!==8){Da(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){kf(r,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=iwe.parse(c)}catch{Da(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let m=new ja(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let p=p9.parse(u);p[ja.extensionName]&&(m.accept(p[ja.extensionName]),d[ja.extensionName]=m)}catch{Da(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let m={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(m,(p,f,v,g)=>{if(!p)return kf(r,f||401,v,g);this.completeUpgrade(d,o,l,e,r,n,i)});return}if(!this.options.verifyClient(m))return kf(r,401)}this.completeUpgrade(d,o,l,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[awe])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>f9)return kf(o,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${nwe("sha1").update(r+swe).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[ja.extensionName]){let d=e[ja.extensionName].params,m=p9.format({[ja.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${m}`),u._extensions=e}this.emit("headers",l,i),o.write(l.concat(`\r
`).join(`\r
`)),o.removeListener("error",h9),u.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Sf,this)})),a(u,i)}};v9.exports=PC;function lwe(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function Sf(t){t._state=g9,t.emit("close")}function h9(){this.destroy()}function kf(t,e,r,n){r=r||Mb.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${Mb.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function Da(t,e,r,n,i,o){if(t.listenerCount("wsClientError")){let s=new Error(i);Error.captureStackTrace(s,Da),t.emit("wsClientError",s,r,e)}else kf(r,n,i,o)}});var Awe={};_i(Awe,{activate:()=>$we,deactivate:()=>Rwe,openTabs:()=>Owe});module.exports=B9(Awe);var _e=J(require("vscode"),1);var wt=J(require("vscode"),1),M6=J(require("path"),1),tC=J(require("os"),1);var LC=require("crypto");function Wi(){return(0,LC.randomBytes)(16).toString("hex")}var Lr=J(require("fs"),1);var kI=require("node:buffer"),$I=J(require("node:path"),1),Ff=J(require("node:child_process"),1),lu=J(require("node:process"),1),EI=J(Xb(),1);function e_(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}var su=J(require("node:process"),1),Fa=J(require("node:path"),1),t_=require("node:url");function Cf(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}var vV=({cwd:t=su.default.cwd(),path:e=su.default.env[Cf()],preferLocal:r=!0,execPath:n=su.default.execPath,addExecPath:i=!0}={})=>{let o=t instanceof URL?(0,t_.fileURLToPath)(t):t,s=Fa.default.resolve(o),a=[];return r&&yV(a,s),i&&bV(a,n,s),[...a,e].join(Fa.default.delimiter)},yV=(t,e)=>{let r;for(;r!==e;)t.push(Fa.default.join(e,"node_modules/.bin")),r=e,e=Fa.default.resolve(e,"..")},bV=(t,e,r)=>{let n=e instanceof URL?(0,t_.fileURLToPath)(e):e;t.push(Fa.default.resolve(r,n,".."))},CP=({env:t=su.default.env,...e}={})=>{t={...t};let r=Cf({env:t});return e.path=t[r],t[r]=vV(e),t};var _V=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let i=Object.getOwnPropertyDescriptor(t,r),o=Object.getOwnPropertyDescriptor(e,r);!xV(i,o)&&n||Object.defineProperty(t,r,o)},xV=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},wV=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},SV=(t,e)=>`/* Wrapped ${t}*/
${e}`,kV=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),$V=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),EV=(t,e,r)=>{let n=r===""?"":`with ${r.trim()}() `,i=SV.bind(null,n,e.toString());Object.defineProperty(i,"name",$V),Object.defineProperty(t,"toString",{...kV,value:i})};function r_(t,e,{ignoreNonConfigurable:r=!1}={}){let{name:n}=t;for(let i of Reflect.ownKeys(e))_V(t,e,i,r);return wV(t,e),EV(t,e,n),t}var Pf=new WeakMap,PP=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,i=t.displayName||t.name||"<anonymous>",o=function(...s){if(Pf.set(o,++n),n===1)r=t.apply(this,s),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return r_(o,t),Pf.set(o,n),o};PP.callCount=t=>{if(!Pf.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Pf.get(t)};var IP=PP;var MP=J(require("node:process"),1);var DP=require("node:os");var RP=()=>{let t=AP-OP+1;return Array.from({length:t},TV)},TV=(t,e)=>({name:`SIGRT${e+1}`,number:OP+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),OP=34,AP=64;var jP=require("node:os");var NP=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var n_=()=>{let t=RP();return[...NP,...t].map(CV)},CV=({name:t,number:e,description:r,action:n,forced:i=!1,standard:o})=>{let{signals:{[t]:s}}=jP.constants,a=s!==void 0;return{name:t,number:a?s:e,description:r,supported:a,action:n,forced:i,standard:o}};var PV=()=>{let t=n_();return Object.fromEntries(t.map(IV))},IV=({name:t,number:e,description:r,supported:n,action:i,forced:o,standard:s})=>[t,{name:t,number:e,description:r,supported:n,action:i,forced:o,standard:s}],zP=PV(),RV=()=>{let t=n_(),e=65,r=Array.from({length:e},(n,i)=>OV(i,t));return Object.assign({},...r)},OV=(t,e)=>{let r=AV(t,e);if(r===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=r;return{[t]:{name:n,number:t,description:i,supported:o,action:s,forced:a,standard:c}}},AV=(t,e)=>{let r=e.find(({name:n})=>DP.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},l0e=RV();var NV=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>t?`timed out after ${e} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",au=({stdout:t,stderr:e,all:r,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:c,isCanceled:l,killed:u,parsed:{options:{timeout:d,cwd:m=MP.default.cwd()}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let p=i===void 0?void 0:zP[i].description,f=n&&n.code,g=`Command ${NV({timedOut:c,timeout:d,errorCode:f,signal:i,signalDescription:p,exitCode:o,isCanceled:l})}: ${s}`,h=Object.prototype.toString.call(n)==="[object Error]",b=h?`${g}
${n.message}`:g,y=[b,e,t].filter(Boolean).join(`
`);return h?(n.originalMessage=n.message,n.message=y):n=new Error(y),n.shortMessage=b,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=p,n.stdout=t,n.stderr=e,n.cwd=m,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=l,n.killed=u&&!c,n};var If=["stdin","stdout","stderr"],jV=t=>If.some(e=>t[e]!==void 0),UP=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return If.map(n=>t[n]);if(jV(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${If.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,If.length);return Array.from({length:r},(n,i)=>e[i])};var FP=J(require("node:os"),1);var Es=[];Es.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Es.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Es.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var Rf=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",i_=Symbol.for("signal-exit emitter"),o_=globalThis,DV=Object.defineProperty.bind(Object),s_=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(o_[i_])return o_[i_];DV(o_,i_,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let n=this.listeners[e],i=n.indexOf(r);i!==-1&&(i===0&&n.length===1?n.length=0:n.splice(i,1))}emit(e,r,n){if(this.emitted[e])return!1;this.emitted[e]=!0;let i=!1;for(let o of this.listeners[e])i=o(r,n)===!0||i;return e==="exit"&&(i=this.emit("afterExit",r,n)||i),i}},Of=class{},zV=t=>({onExit(e,r){return t.onExit(e,r)},load(){return t.load()},unload(){return t.unload()}}),a_=class extends Of{onExit(){return()=>{}}load(){}unload(){}},c_=class extends Of{#s=l_.platform==="win32"?"SIGINT":"SIGHUP";#t=new s_;#e;#i;#o;#n={};#r=!1;constructor(e){super(),this.#e=e,this.#n={};for(let r of Es)this.#n[r]=()=>{let n=this.#e.listeners(r),{count:i}=this.#t,o=e;if(typeof o.__signal_exit_emitter__=="object"&&typeof o.__signal_exit_emitter__.count=="number"&&(i+=o.__signal_exit_emitter__.count),n.length===i){this.unload();let s=this.#t.emit("exit",null,r),a=r==="SIGHUP"?this.#s:r;s||e.kill(e.pid,a)}};this.#o=e.reallyExit,this.#i=e.emit}onExit(e,r){if(!Rf(this.#e))return()=>{};this.#r===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,e),()=>{this.#t.removeListener(n,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let e of Es)try{let r=this.#n[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#c(e,...r),this.#e.reallyExit=e=>this.#a(e)}}unload(){this.#r&&(this.#r=!1,Es.forEach(e=>{let r=this.#n[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#i,this.#e.reallyExit=this.#o,this.#t.count-=1)}#a(e){return Rf(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#o.call(this.#e,this.#e.exitCode)):0}#c(e,...r){let n=this.#i;if(e==="exit"&&Rf(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let i=n.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),i}else return n.call(this.#e,e,...r)}},l_=globalThis.process,{onExit:LP,load:g0e,unload:v0e}=zV(Rf(l_)?new c_(l_):new a_);var MV=1e3*5,qP=(t,e="SIGTERM",r={})=>{let n=t(e);return UV(t,e,r,n),n},UV=(t,e,r,n)=>{if(!LV(e,r,n))return;let i=qV(r),o=setTimeout(()=>{t("SIGKILL")},i);o.unref&&o.unref()},LV=(t,{forceKillAfterTimeout:e},r)=>FV(t)&&e!==!1&&r,FV=t=>t===FP.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",qV=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return MV;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},ZP=(t,e)=>{t.kill()&&(e.isCanceled=!0)},ZV=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},BP=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,o=new Promise((a,c)=>{i=setTimeout(()=>{ZV(t,r,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},VP=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},HP=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let i=LP(()=>{t.kill()});return n.finally(()=>{i()})};var WP=require("node:fs"),GP=require("node:child_process");function Af(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function u_(t){return Af(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}var BV=t=>t instanceof GP.ChildProcess&&typeof t.then=="function",d_=(t,e,r)=>{if(typeof r=="string")return t[e].pipe((0,WP.createWriteStream)(r)),t;if(u_(r))return t[e].pipe(r),t;if(!BV(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!u_(r.stdin))throw new TypeError("The target child process's stdin must be available.");return t[e].pipe(r.stdin),r},JP=t=>{t.stdout!==null&&(t.pipeStdout=d_.bind(void 0,t,"stdout")),t.stderr!==null&&(t.pipeStderr=d_.bind(void 0,t,"stderr")),t.all!==void 0&&(t.pipeAll=d_.bind(void 0,t,"all"))};var Uf=require("node:fs"),aI=require("node:timers/promises");var cu=async(t,{init:e,convertChunk:r,getSize:n,truncateChunk:i,addChunk:o,getFinalChunk:s,finalize:a},{maxBuffer:c=Number.POSITIVE_INFINITY}={})=>{if(!HV(t))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");let l=e();l.length=0;try{for await(let u of t){let d=WV(u),m=r[d](u,l);QP({convertedChunk:m,state:l,getSize:n,truncateChunk:i,addChunk:o,maxBuffer:c})}return VV({state:l,convertChunk:r,getSize:n,truncateChunk:i,addChunk:o,getFinalChunk:s,maxBuffer:c}),a(l)}catch(u){throw u.bufferedData=a(l),u}},VV=({state:t,getSize:e,truncateChunk:r,addChunk:n,getFinalChunk:i,maxBuffer:o})=>{let s=i(t);s!==void 0&&QP({convertedChunk:s,state:t,getSize:e,truncateChunk:r,addChunk:n,maxBuffer:o})},QP=({convertedChunk:t,state:e,getSize:r,truncateChunk:n,addChunk:i,maxBuffer:o})=>{let s=r(t),a=e.length+s;if(a<=o){KP(t,e,i,a);return}let c=n(t,o-e.length);throw c!==void 0&&KP(c,e,i,o),new Nf},KP=(t,e,r,n)=>{e.contents=r(t,e,n),e.length=n},HV=t=>typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function",WV=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let r=YP.call(t);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&YP.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:YP}=Object.prototype,Nf=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var p_=t=>t,f_=()=>{},m_=({contents:t})=>t,jf=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},Df=t=>t.length;async function h_(t,e){return cu(t,rH,e)}var GV=()=>({contents:new ArrayBuffer(0)}),JV=t=>KV.encode(t),KV=new TextEncoder,XP=t=>new Uint8Array(t),eI=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),YV=(t,e)=>t.slice(0,e),QV=(t,{contents:e,length:r},n)=>{let i=nI()?eH(e,n):XV(e,n);return new Uint8Array(i).set(t,r),i},XV=(t,e)=>{if(e<=t.byteLength)return t;let r=new ArrayBuffer(rI(e));return new Uint8Array(r).set(new Uint8Array(t),0),r},eH=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let r=new ArrayBuffer(e,{maxByteLength:rI(e)});return new Uint8Array(r).set(new Uint8Array(t),0),r},rI=t=>tI**Math.ceil(Math.log(t)/Math.log(tI)),tI=2,tH=({contents:t,length:e})=>nI()?t:t.slice(0,e),nI=()=>"resize"in ArrayBuffer.prototype,rH={init:GV,convertChunk:{string:JV,buffer:XP,arrayBuffer:XP,dataView:eI,typedArray:eI,others:jf},getSize:Df,truncateChunk:YV,addChunk:QV,getFinalChunk:f_,finalize:tH};async function zf(t,e){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return iI(await h_(t,e))}catch(r){throw r.bufferedData!==void 0&&(r.bufferedData=iI(r.bufferedData)),r}}var iI=t=>globalThis.Buffer.from(t);async function g_(t,e){return cu(t,aH,e)}var nH=()=>({contents:"",textDecoder:new TextDecoder}),Mf=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),iH=(t,{contents:e})=>e+t,oH=(t,e)=>t.slice(0,e),sH=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},aH={init:nH,convertChunk:{string:p_,buffer:Mf,arrayBuffer:Mf,dataView:Mf,typedArray:Mf,others:jf},getSize:Df,truncateChunk:oH,addChunk:iH,getFinalChunk:sH,finalize:m_};var cI=J(sI(),1),lI=t=>{if(t!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},lH=({input:t,inputFile:e})=>typeof e!="string"?t:(lI(t),(0,Uf.readFileSync)(e)),uI=t=>{let e=lH(t);if(Af(e))throw new TypeError("The `input` option cannot be a stream in sync mode");return e},uH=({input:t,inputFile:e})=>typeof e!="string"?t:(lI(t),(0,Uf.createReadStream)(e)),dI=(t,e)=>{let r=uH(e);r!==void 0&&(Af(r)?r.pipe(t.stdin):t.stdin.end(r))},pI=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=(0,cI.default)();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},v_=async(t,e)=>{if(!(!t||e===void 0)){await(0,aI.setTimeout)(0),t.destroy();try{return await e}catch(r){return r.bufferedData}}},y_=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e==="utf8"||e==="utf-8"?g_(t,{maxBuffer:n}):e===null||e==="buffer"?zf(t,{maxBuffer:n}):dH(t,n,e)},dH=async(t,e,r)=>(await zf(t,{maxBuffer:e})).toString(r),fI=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=y_(t,{encoding:n,buffer:i,maxBuffer:o}),c=y_(e,{encoding:n,buffer:i,maxBuffer:o}),l=y_(r,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,l])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},v_(t,a),v_(e,c),v_(r,l)])}};var pH=(async()=>{})().constructor.prototype,fH=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(pH,t)]),b_=(t,e)=>{for(let[r,n]of fH){let i=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:i})}},mI=t=>new Promise((e,r)=>{t.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});var vI=require("node:buffer"),yI=require("node:child_process"),bI=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],mH=/^[\w.-]+$/,hH=t=>typeof t!="string"||mH.test(t)?t:`"${t.replaceAll('"','\\"')}"`,__=(t,e)=>bI(t,e).join(" "),x_=(t,e)=>bI(t,e).map(r=>hH(r)).join(" "),gH=/ +/g;var hI=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if(e==="object"&&t!==null&&!(t instanceof yI.ChildProcess)&&"stdout"in t){let r=typeof t.stdout;if(r==="string")return t.stdout;if(vI.Buffer.isBuffer(t.stdout))return t.stdout.toString();throw new TypeError(`Unexpected "${r}" stdout in template expression`)}throw new TypeError(`Unexpected "${e}" in template expression`)},gI=(t,e,r)=>r||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],vH=({templates:t,expressions:e,tokens:r,index:n,template:i})=>{let o=i??t.raw[n],s=o.split(gH).filter(Boolean),a=gI(r,s,o.startsWith(" "));if(n===e.length)return a;let c=e[n],l=Array.isArray(c)?c.map(u=>hI(u)):[hI(c)];return gI(a,l,o.endsWith(" "))},w_=(t,e)=>{let r=[];for(let[n,i]of t.entries())r=vH({templates:t,expressions:e,tokens:r,index:n,template:i});return r};var _I=require("node:util"),xI=J(require("node:process"),1),wI=(0,_I.debuglog)("execa").enabled,Lf=(t,e)=>String(t).padStart(e,"0"),yH=()=>{let t=new Date;return`${Lf(t.getHours(),2)}:${Lf(t.getMinutes(),2)}:${Lf(t.getSeconds(),2)}.${Lf(t.getMilliseconds(),3)}`},S_=(t,{verbose:e})=>{e&&xI.default.stderr.write(`[${yH()}] ${t}
`)};var bH=1e3*1e3*100,_H=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:i})=>{let o=e?{...lu.default.env,...t}:t;return r?CP({env:o,cwd:n,execPath:i}):o},TI=(t,e,r={})=>{let n=EI.default._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:bH,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||lu.default.cwd(),execPath:lu.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:wI,...r},r.env=_H(r),r.stdio=UP(r),lu.default.platform==="win32"&&$I.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},uu=(t,e,r)=>typeof e!="string"&&!kI.Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?e_(e):e;function qa(t,e,r){let n=TI(t,e,r),i=__(t,e),o=x_(t,e);S_(o,n.options),VP(n.options);let s;try{s=Ff.default.spawn(n.file,n.args,n.options)}catch(p){let f=new Ff.default.ChildProcess,v=Promise.reject(au({error:p,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return b_(f,v),f}let a=mI(s),c=BP(s,n.options,a),l=HP(s,n.options,c),u={isCanceled:!1};s.kill=qP.bind(null,s.kill.bind(s)),s.cancel=ZP.bind(null,s,u);let m=IP(async()=>{let[{error:p,exitCode:f,signal:v,timedOut:g},h,b,y]=await fI(s,n.options,l),_=uu(n.options,h),x=uu(n.options,b),w=uu(n.options,y);if(p||f!==0||v!==null){let S=au({error:p,exitCode:f,signal:v,stdout:_,stderr:x,all:w,command:i,escapedCommand:o,parsed:n,timedOut:g,isCanceled:u.isCanceled||(n.options.signal?n.options.signal.aborted:!1),killed:s.killed});if(!n.options.reject)return S;throw S}return{command:i,escapedCommand:o,exitCode:0,stdout:_,stderr:x,all:w,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return dI(s,n.options),s.all=pI(s,n.options),JP(s),b_(s,m),s}function yn(t,e,r){let n=TI(t,e,r),i=__(t,e),o=x_(t,e);S_(o,n.options);let s=uI(n.options),a;try{a=Ff.default.spawnSync(n.file,n.args,{...n.options,input:s})}catch(u){throw au({error:u,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let c=uu(n.options,a.stdout,a.error),l=uu(n.options,a.stderr,a.error);if(a.error||a.status!==0||a.signal!==null){let u=au({stdout:c,stderr:l,error:a.error,signal:a.signal,exitCode:a.status,command:i,escapedCommand:o,parsed:n,timedOut:a.error&&a.error.code==="ETIMEDOUT",isCanceled:!1,killed:a.signal!==null});if(!n.options.reject)return u;throw u}return{command:i,escapedCommand:o,exitCode:0,stdout:c,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}var xH=({input:t,inputFile:e,stdio:r})=>t===void 0&&e===void 0&&r===void 0?{stdin:"inherit"}:{},SI=(t={})=>({preferLocal:!0,...xH(t),...t});function CI(t){function e(r,...n){if(!Array.isArray(r))return CI({...t,...r});let[i,...o]=w_(r,n);return qa(i,o,SI(t))}return e.sync=(r,...n)=>{if(!Array.isArray(r))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");let[i,...o]=w_(r,n);return yn(i,o,SI(t))},e}var uSe=CI();var D6=J(q_(),1);var vO=require("child_process"),em=class{constructor(e,r){this.logger=e;this.getClaudeBinary=r}runClaudeCommand(e,r){let n=this.runClaudeCommandRaw(e,r);return JSON.parse(n.stdout)}runClaudeCommandRaw(e,r){let n=this.getClaudeBinary(),{pathToClaudeCodeExecutable:i}=n,{executableArgs:o,env:s}=n;if(!i)throw new Error("Claude binary not available");let a=[...o,...e];i.endsWith(".js")&&(a.unshift(i),i="node");let c=(0,vO.spawnSync)(i,a,{cwd:r,env:{...process.env,...s},encoding:"utf-8",timeout:3e4});if(c.error)throw c.error;if(c.status!==0)throw new Error(`Claude CLI exited with code ${c.status}: ${c.stderr}`);return{stdout:c.stdout,stderr:c.stderr}}async listPlugins(e,r){let n=["plugin","list","--json"];if(r?.includeAvailable&&n.push("--available"),r?.includeAvailable){let i=this.runClaudeCommand(n,e),o=i.installed.map(a=>({name:a.id,manifest:{name:a.id,version:a.version},path:a.installPath,source:a.id,enabled:a.enabled,mcpServers:a.mcpServers}));return{type:"list_plugins_response",available:i.available.map(a=>({entry:{name:a.name,description:a.description},marketplaceName:a.marketplaceName,pluginId:a.pluginId,isInstalled:!1,source:a.source,installCount:a.installCount})),installed:o,errors:[]}}else{let o=this.runClaudeCommand(n,e).map(s=>({name:s.id,manifest:{name:s.id,version:s.version},path:s.installPath,source:s.id,enabled:s.enabled,mcpServers:s.mcpServers}));return{type:"list_plugins_response",available:[],installed:o,errors:[]}}}async listMarketplaces(e){return{type:"list_marketplaces_response",marketplaces:this.runClaudeCommand(["plugin","marketplace","list","--json"],e).map(i=>({name:i.name,config:{source:this.buildMarketplaceSource(i),installLocation:i.installLocation},pluginCount:0,installedCount:0}))}}buildMarketplaceSource(e){switch(e.source){case"github":return{source:"github",repo:e.repo??""};case"git":return{source:"git",url:e.url??""};case"url":return{source:"url",url:e.url??""};case"directory":return{source:"directory",path:e.path??""};case"file":return{source:"file",path:e.path??""};case"npm":return{source:"npm",package:e.package??""};default:return{source:"url",url:""}}}async installPlugin(e,r,n){return this.runClaudeCommandRaw(["plugin","install",e,"--scope",r],n),this.logger.log(`Installed plugin ${e} in ${r} scope`),{type:"install_plugin_response",needsRestart:!0}}async uninstallPlugin(e,r){return this.runClaudeCommandRaw(["plugin","uninstall",e],r),this.logger.log(`Uninstalled plugin ${e}`),{type:"uninstall_plugin_response",needsRestart:!0}}async setPluginEnabled(e,r,n){let i=r?"enable":"disable";return this.runClaudeCommandRaw(["plugin",i,e],n),this.logger.log(`Set plugin ${e} enabled=${r}`),{type:"set_plugin_enabled_response",needsRestart:!0}}async addMarketplace(e,r){return this.runClaudeCommandRaw(["plugin","marketplace","add",e],r),this.logger.log(`Added marketplace: ${e}`),{type:"add_marketplace_response"}}async removeMarketplace(e,r){return this.runClaudeCommandRaw(["plugin","marketplace","remove",e],r),this.logger.log(`Removed marketplace ${e}`),{type:"remove_marketplace_response"}}async refreshMarketplace(e,r){return this.runClaudeCommandRaw(["plugin","marketplace","update",e],r),this.logger.log(`Refreshed marketplace ${e}`),{type:"refresh_marketplace_response"}}};var Va=class t{constructor(e){this.returned=e}queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}static from(e){let r=new t;for(let n of e)r.enqueue(n);return r.done(),r}};function yO(){return{clawd:{light:"/resources/clawd.svg",dark:"/resources/clawd.svg"},"welcome-art":{light:"/resources/welcome-art-light.svg",dark:"/resources/welcome-art-dark.svg"},"clawd-with-grad-cap":{light:"/resources/ClawdWithGradCap.png",dark:"/resources/ClawdWithGradCap.png"},"onboarding-highlight-text":{light:"/resources/HighlightText.jpg",dark:"/resources/HighlightText.jpg"},"onboarding-accept-mode":{light:"/resources/AcceptMode.jpg",dark:"/resources/AcceptMode.jpg"},"onboarding-plan-mode":{light:"/resources/PlanMode.jpg",dark:"/resources/PlanMode.jpg"}}}function bO(){return{clawd:{light:"./resources/clawd.svg",dark:"./resources/clawd.svg"},"welcome-art":{light:"./resources/welcome-art-light.svg",dark:"./resources/welcome-art-dark.svg"},"clawd-with-grad-cap":{light:"./resources/ClawdWithGradCap.png",dark:"./resources/ClawdWithGradCap.png"},"onboarding-highlight-text":{light:"./resources/HighlightText.jpg",dark:"./resources/HighlightText.jpg"},"onboarding-accept-mode":{light:"./resources/AcceptMode.jpg",dark:"./resources/AcceptMode.jpg"},"onboarding-plan-mode":{light:"./resources/PlanMode.jpg",dark:"./resources/PlanMode.jpg"}}}var xU=require("child_process");var Zr=require("path"),Pr=J(require("fs"),1),rm=require("crypto");var yu=J(require("path"),1),_O=J(require("os"),1);function Ha(){return process.env.CLAUDE_CONFIG_DIR?process.env.CLAUDE_CONFIG_DIR:yu.join(_O.homedir(),".claude")}function bu(t){let e=yu.join(Ha(),"plans");return t.startsWith(e+yu.sep)}var vG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function yG(){return(0,Zr.join)(Ha(),"projects")}function tm(t){return(0,Zr.join)(yG(),t.replace(/[^a-zA-Z0-9]/g,"-"))}function Z_(t,e){return(0,Zr.join)(Ha(),"file-history",e,t)}var wi=class t{constructor(e,r,n,i,o,s,a,c,l=new Map){this.sessionMessages=e;this.messages=r;this.summaries=n;this.customTitles=i;this.projectRoot=o;this.fileModificationTimes=s;this.logger=a;this.fileHistorySnapshots=c;this.teleportedFromSessionIds=l}static cache=new Map;refreshing=Promise.resolve();async fetchSessions(){return this.getTranscripts().map(r=>{let n=r[r.length-1],i=r[0],o=xG(r),s=n.sessionId,a=this.customTitles.get(s)||this.summaries.get(n.uuid)||o,c=this.teleportedFromSessionIds.get(s);return{lastModified:new Date(n.timestamp).getTime(),messageCount:r.length,isSidechain:i.isSidechain,id:n.sessionId,summary:a,teleportedFromSessionId:c}})}getTranscripts(){let e=[...this.messages.values()],r=new Set(e.map(n=>n.parentUuid));return e.filter(n=>!r.has(n.uuid)).map(n=>this.getTranscript(n)).filter(n=>n.length)}getSessionMessages(e){let r=this.sessionMessages.get(e);if(!r)return[];let i=Array.from(this.messages.values()).filter(s=>r.has(s.uuid)).filter(s=>!s.isSidechain).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime())[0];return i?this.getTranscript(i).map(_G).filter(s=>!!s):[]}async getSessionDiffs(e,r,n){}getTranscript(e,r=!1){let n=[],i=e;for(;i;){n.unshift(i);let o=i.parentUuid??(r?i.logicalParentUuid:null);i=o?this.messages.get(o):void 0}return n}static async load(e,r){let n=tm(e);if(!t.cache.has(n)){let o=new t(new Map,new Map,new Map,new Map,e,new Map,r,new Map);t.cache.set(n,o)}let i=t.cache.get(n);return await i.refresh(),i}refresh(){return this.refreshing=this.refreshing.then(async()=>this.performRefresh()),this.refreshing}async performRefresh(){let e=tm(this.projectRoot),r=await Pr.promises.readdir(e),n=[];for(let i of r){let o=(0,Zr.join)(e,i);if(!o.endsWith(".jsonl"))continue;let s=bG((0,Zr.basename)(o,".jsonl"));if(s)try{let a=await Pr.promises.stat(o),c=this.fileModificationTimes.get(o)||0;a.mtime.getTime()>c&&n.push({path:o,sessionId:s,mtime:a.mtime.getTime()})}catch{if(this.fileModificationTimes.has(o)){this.fileModificationTimes.delete(o),this.sessionMessages.delete(s);for(let[a,c]of this.messages.entries())c.sessionId===s&&this.messages.delete(a)}}}for(let{path:i,sessionId:o,mtime:s}of n){let a=this.sessionMessages.get(o);if(a)for(let m of a)this.messages.delete(m),this.summaries.delete(m),this.fileHistorySnapshots.delete(m);this.customTitles.delete(o);let c=new Map,l=new Map,u,d=new Map;try{let m=!1,p=!1;for(let f of await xO(i))if(f.type==="user"||f.type==="assistant"||f.type==="attachment"||f.type==="system"){if(!m&&(m=!0,f.isSidechain===!0)){p=!0;break}c.set(f.uuid,f)}else f.type==="progress"?c.set(f.uuid,f):f.type==="summary"&&f.leafUuid?l.set(f.leafUuid,f.summary):f.type==="custom-title"&&f.customTitle?u=f.customTitle:f.type==="teleported-from"&&f.remoteSessionId?this.teleportedFromSessionIds.set(o,f.remoteSessionId):f.type==="file-history-snapshot"&&d.set(f.messageId,f);if(p)this.sessionMessages.delete(o),this.fileModificationTimes.delete(i);else{this.sessionMessages.set(o,new Set(c.keys()));for(let[f,v]of c.entries())this.messages.set(f,v);for(let[f,v]of l.entries())this.summaries.set(f,v);u&&this.customTitles.set(o,u);for(let[f,v]of d.entries())this.fileHistorySnapshots.set(f,v);this.fileModificationTimes.set(i,s)}}catch{}}}async saveSession(e,r,n,i){let o=tm(this.projectRoot),s=(0,Zr.join)(o,`${e}.jsonl`);await Pr.promises.mkdir(o,{recursive:!0});let a="",c=new Set,l=new Map,u=null,d=Date.now(),m=0;for(let p of r){if(!("message"in p))continue;let f=p.uuid||(0,rm.randomUUID)();c.add(f);let v=new Date(d+m).toISOString();m++;let g;if(p.type==="user")g={type:"user",message:p.message,uuid:f,parentUuid:u,sessionId:e,timestamp:v,cwd:this.projectRoot,userType:"unknown",version:"1.0",isSidechain:!1};else if(p.type==="assistant")g={type:"assistant",message:p.message,uuid:f,parentUuid:u,sessionId:e,timestamp:v,cwd:this.projectRoot,userType:"unknown",version:"1.0",isSidechain:!1,requestId:f};else continue;l.set(f,g),a+=JSON.stringify(g)+`
`,u=f}n&&u&&(a+=JSON.stringify({type:"summary",leafUuid:u,summary:n})+`
`),i&&(a+=JSON.stringify({type:"teleported-from",remoteSessionId:i})+`
`,this.teleportedFromSessionIds.set(e,i)),await Pr.promises.writeFile(s,a),this.sessionMessages.set(e,c);for(let[p,f]of l.entries())this.messages.set(p,f);this.logger.log(`Saved teleported session ${e} with ${r.length} messages`)}async forkSession(e,r){let n=this.sessionMessages.get(e);if(!n)throw new Error(`Session ${e} not found`);let o=Array.from(this.messages.values()).filter(x=>n.has(x.uuid)).sort((x,w)=>new Date(w.timestamp).getTime()-new Date(x.timestamp).getTime())[0];if(!o)throw new Error(`No messages found for session ${e}`);let s=this.getTranscript(o,!!r);if(r){let x=-1;for(let w=s.length-1;w>=0;w--)if(s[w].uuid===r){x=w;break}if(x===-1)throw new Error(`Message ${r} not found in session ${e}`);s=s.slice(0,x+1)}let a=(0,rm.randomUUID)(),c=tm(this.projectRoot),l=(0,Zr.join)(c,`${a}.jsonl`),u=s.length>0?this.summaries.get(s[s.length-1].uuid):void 0,d=(0,Zr.join)(c,`${e}.jsonl`),m=new Map;for(let x of await xO(d))x.type==="file-history-snapshot"&&m.set(x.messageId,x);let p=new Map;for(let x of s)p.set(x.uuid,(0,rm.randomUUID)());let f=s.filter(x=>x.type!=="progress"),v=[],g=[],h="",b=new Date().toISOString(),y=new Set;for(let x=0;x<f.length;x++){let w=f[x],S=p.get(w.uuid),$=null;if(w.parentUuid){let z=w.parentUuid;for(;z;){let V=s.find(H=>H.uuid===z);if(!V)break;if(V.type!=="progress"){$=p.get(z)||null;break}z=V.parentUuid}}let E=x===f.length-1?b:w.timestamp,N={...w,uuid:S,parentUuid:$,sessionId:a,timestamp:E};N.type==="assistant"&&N.message&&(N={...N,message:{...N.message,id:S}}),v.push(N),h+=JSON.stringify(N)+`
`;let P=m.get(w.uuid);if(P){let z=p.get(w.uuid),V={...P,messageId:z,snapshot:{...P.snapshot,messageId:z}};h+=JSON.stringify(V)+`
`,g.push(V),wG(P.snapshot,e,a,this.logger,y)}}await Pr.promises.appendFile(l,h);let _=v[v.length-1]?.uuid;if(u&&_){let x={type:"summary",leafUuid:_,summary:u};await Pr.promises.appendFile(l,JSON.stringify(x)+`
`)}this.sessionMessages.set(a,new Set(v.map(x=>x.uuid)));for(let x of v)this.messages.set(x.uuid,x);for(let x of g)this.fileHistorySnapshots.set(x.messageId,x);return u&&_&&this.summaries.set(_,u),a}};function bG(t){return typeof t!="string"?null:vG.test(t)?t:null}async function xO(t){try{let e=await Pr.promises.readFile(t,"utf8");return e.trim()?e.split(`
`).filter(r=>r.trim()).map(r=>{try{return JSON.parse(r)}catch{return null}}).filter(r=>r!==null):[]}catch{return[]}}function _G(t){if(t.type!=="progress"&&!t.isMeta){if(t.type==="user")return{type:"user",message:t.message,uuid:t.uuid,session_id:t.sessionId,parent_tool_use_id:null};if(t.type==="assistant")return{type:"assistant",message:t.message,uuid:t.uuid,session_id:t.sessionId,parent_tool_use_id:null};if(t.type==="system")return;if(t.type==="attachment")return}}function xG(t){let e;for(let i of t)if(i.type==="user"&&!i.isMeta)e=i;else if(e)break;if(!e||e.type!=="user")return"No prompt";let r=e.message?.content,n="";return typeof r=="string"?n=r:Array.isArray(r)?n=r.findLast(o=>o.type==="text")?.text||"No prompt":n="No prompt",n=n.replace(/\n/g," ").trim(),n.length>45&&(n=n.slice(0,45)+"..."),n}async function wG(t,e,r,n,i){for(let o of Object.values(t.trackedFileBackups)){if(!o.backupFileName||i.has(o.backupFileName))continue;i.add(o.backupFileName);let s=Z_(o.backupFileName,e),a=Z_(o.backupFileName,r);if(!Pr.existsSync(s)){n.error(`FileHistory: Backup file does not exist at ${s}`);continue}if(Pr.existsSync(a))continue;let c=(0,Zr.dirname)(a);Pr.existsSync(c)||await Pr.promises.mkdir(c,{recursive:!0});try{await Pr.promises.link(s,a),n.log(`FileHistory: Hard linked backup ${o.backupFileName} from ${e} to ${r}`)}catch{n.log(`FileHistory: Hard link failed, falling back to copy for ${o.backupFileName}`);try{await Pr.promises.copyFile(s,a),n.log(`FileHistory: Copied backup ${o.backupFileName} from ${e} to ${r}`)}catch(l){n.error(`FileHistory: Failed to copy backup ${o.backupFileName}: ${l}`)}}}}function SG(t,e){if(typeof t!="object"||t===null)return null;let r=t;if(typeof r.filePath=="string"&&typeof r.oldString=="string"&&typeof r.newString=="string"&&typeof r.originalFile=="string"&&typeof r.replaceAll=="boolean"){let n=r.filePath.startsWith("/")?r.filePath:(0,Zr.join)(e,r.filePath),i=r.replaceAll?r.originalFile.replaceAll(r.oldString,r.newString):r.originalFile.replace(r.oldString,r.newString);return{filePath:n,oldContent:r.originalFile,newContent:i}}if(typeof r.filePath=="string"&&typeof r.content=="string"&&(r.type==="create"||r.type==="update")){let n=r.filePath.startsWith("/")?r.filePath:(0,Zr.join)(e,r.filePath),i=typeof r.originalFile=="string"?r.originalFile:null;return{filePath:n,oldContent:i,newContent:r.content}}return null}var wO=["Edit","Write"],bn={totalSessions:0,recentSessions:0,editsAccepted:0,editsAutoAccepted:0,editsDeclined:0};function SO(){return bn}function kO(t){let e=Date.now(),r=7*24*60*60*1e3,n=e-r,i=t.length,o=t.filter(s=>s.lastModified>=n).length;return bn={...bn,totalSessions:i,recentSessions:o},bn}function $O(t,e){wO.includes(t)&&(e.result.behavior==="allow"?bn={...bn,editsAccepted:bn.editsAccepted+1}:bn={...bn,editsDeclined:bn.editsDeclined+1})}var B_=new Set;function EO(t){if(t.type==="assistant"&&Array.isArray(t.message.content))for(let e of t.message.content)e.type==="tool_use"&&wO.includes(e.name)&&B_.add(e.id);if(t.type==="user"&&Array.isArray(t.message.content))for(let e of t.message.content)e.type==="tool_result"&&!e.is_error&&B_.has(e.tool_use_id)&&(bn={...bn,editsAutoAccepted:bn.editsAutoAccepted+1},B_.delete(e.tool_use_id))}var Wa=J(require("node:child_process"),1);async function nm(t){return new Promise(async e=>{try{let r=process.platform==="win32"?Wa.spawn("powershell.exe",["-NoProfile","-Command",`(Get-CimInstance Win32_Process -Filter "ParentProcessId=${t}").ProcessId`]):process.platform==="darwin"?Wa.spawn("bash",["-c",`ps -eo pid,ppid | awk '$2 == ${t} {print $1}'`]):Wa.spawn("bash",["-c",`ps -o pid= --ppid ${t}`]),n="";r.stdout.on("data",i=>{n+=i.toString()}),r.on("close",()=>{let i=n.trim().split(/\r?\n/).map(o=>o.trim()).filter(o=>o.length>0);e(i)}),r.on("error",i=>{console.error(`Error finding children: ${i}`),e([])})}catch(r){console.error(`Error checking for child processes: ${r}`),e([])}})}async function V_(t){return new Promise(e=>{try{let r=process.platform==="win32"?Wa.spawn("powershell.exe",["-NoProfile","-Command",`(Get-CimInstance Win32_Process -Filter "ProcessId=${t}").CommandLine`]):Wa.spawn("bash",["-c",`ps -p ${t} -o command=`]),n="";r.stdout.on("data",i=>{n+=i.toString()}),r.on("close",()=>{e(n.trim())}),r.on("error",i=>{console.error(`Error getting process command: ${i}`),e("")})}catch(r){console.error(`Error checking process command: ${r}`),e("")}})}var tx=require("path"),SA=require("url"),kA=require("events"),EA=require("child_process"),TA=require("readline"),qe=J(require("fs"),1),Ei=require("fs/promises"),OA=require("path"),AA=require("os"),Rs=require("path"),jA=require("process"),rx=require("fs"),DA=require("crypto"),VA=require("crypto"),hc=require("fs"),nx=require("path"),HA=require("crypto");var Dte={},kG=Object.create,{getPrototypeOf:$G,defineProperty:ex,getOwnPropertyNames:EG}=Object,TG=Object.prototype.hasOwnProperty,mA=(t,e,r)=>{r=t!=null?kG($G(t)):{};let n=e||!t||!t.__esModule?ex(r,"default",{value:t,enumerable:!0}):r;for(let i of EG(t))TG.call(n,i)||ex(n,i,{get:()=>t[i],enumerable:!0});return n},me=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),hA=(t,e)=>{for(var r in e)ex(t,r,{get:e[r],enumerable:!0,configurable:!0,set:n=>e[r]=()=>n})},dke=Symbol.dispose||Symbol.for("Symbol.dispose"),pke=Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose");var lm=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(b){if(super(),!t.IDENTIFIER.test(b))throw Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((y,_)=>`${y}${_}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((y,_)=>(_ instanceof r&&(y[_.str]=(y[_.str]||0)+1),y),{})}}t._Code=n,t.nil=new n("");function i(h,...b){let y=[h[0]],_=0;for(;_<b.length;)a(y,b[_]),y.push(h[++_]);return new n(y)}t._=i;var o=new n("+");function s(h,...b){let y=[p(h[0])],_=0;for(;_<b.length;)y.push(o),a(y,b[_]),y.push(o,p(h[++_]));return c(y),new n(y)}t.str=s;function a(h,b){b instanceof n?h.push(...b._items):b instanceof r?h.push(b):h.push(d(b))}t.addCodeArg=a;function c(h){let b=1;for(;b<h.length-1;){if(h[b]===o){let y=l(h[b-1],h[b+1]);if(y!==void 0){h.splice(b-1,3,y);continue}h[b++]="+"}b++}}function l(h,b){if(b==='""')return h;if(h==='""')return b;if(typeof h=="string")return b instanceof r||h[h.length-1]!=='"'?void 0:typeof b!="string"?`${h.slice(0,-1)}${b}"`:b[0]==='"'?h.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(h instanceof r))return`"${h}${b.slice(1)}`}function u(h,b){return b.emptyStr()?h:h.emptyStr()?b:s`${h}${b}`}t.strConcat=u;function d(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:p(Array.isArray(h)?h.join(","):h)}function m(h){return new n(p(h))}t.stringify=m;function p(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function f(h){return typeof h=="string"&&t.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}t.getProperty=f;function v(h){if(typeof h=="string"&&t.IDENTIFIER.test(h))return new n(`${h}`);throw Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}t.getEsmExportName=v;function g(h){return new n(h.toString())}t.regexpCode=g}),TO=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;var e=lm();class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){let u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(l)||this._prefixes&&!this._prefixes.has(l))throw Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}t.Scope=i;class o extends e.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:d}){this.value=l,this.scopePath=e._`.${new e.Name(u)}[${d}]`}}t.ValueScopeName=o;var s=e._`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:e.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var d;if(u.ref===void 0)throw Error("CodeGen: ref must be passed in value");let m=this.toName(l),{prefix:p}=m,f=(d=u.key)!==null&&d!==void 0?d:u.ref,v=this._values[p];if(v){let b=v.get(f);if(b)return b}else v=this._values[p]=new Map;v.set(f,m);let g=this._scope[p]||(this._scope[p]=[]),h=g.length;return g[h]=u.ref,m.setValue(u,{property:p,itemIndex:h}),m}getValue(l,u){let d=this._values[l];if(d)return d.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw Error(`CodeGen: name "${d}" has no value`);return e._`${l}${d.scopePath}`})}scopeCode(l=this._values,u,d){return this._reduceValues(l,m=>{if(m.value===void 0)throw Error(`CodeGen: name "${m}" has no value`);return m.value.code},u,d)}_reduceValues(l,u,d={},m){let p=e.nil;for(let f in l){let v=l[f];if(!v)continue;let g=d[f]=d[f]||new Map;v.forEach(h=>{if(g.has(h))return;g.set(h,n.Started);let b=u(h);if(b){let y=this.opts.es5?t.varKinds.var:t.varKinds.const;p=e._`${p}${y} ${h} = ${b};${this.opts._n}`}else if(b=m?.(h))p=e._`${p}${b}${this.opts._n}`;else throw new r(h);g.set(h,n.Completed)})}return p}}t.ValueScope=a}),Xe=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var e=lm(),r=TO(),n=lm();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=TO();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(k,T){return this}}class s extends o{constructor(k,T,F){super(),this.varKind=k,this.name=T,this.rhs=F}render({es5:k,_n:T}){let F=k?r.varKinds.var:this.varKind,Se=this.rhs===void 0?"":` = ${this.rhs}`;return`${F} ${this.name}${Se};`+T}optimizeNames(k,T){if(k[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,k,T)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(k,T,F){super(),this.lhs=k,this.rhs=T,this.sideEffects=F}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,T){if(!(this.lhs instanceof e.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,k,T),this}get names(){let k=this.lhs instanceof e.Name?{}:{...this.lhs.names};return V(k,this.rhs)}}class c extends a{constructor(k,T,F,Se){super(k,F,Se),this.op=T}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class l extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class u extends o{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class d extends o{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class m extends o{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,T){return this.code=H(this.code,k,T),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends o{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((T,F)=>T+F.render(k),"")}optimizeNodes(){let{nodes:k}=this,T=k.length;for(;T--;){let F=k[T].optimizeNodes();Array.isArray(F)?k.splice(T,1,...F):F?k[T]=F:k.splice(T,1)}return k.length>0?this:void 0}optimizeNames(k,T){let{nodes:F}=this,Se=F.length;for(;Se--;){let le=F[Se];le.optimizeNames(k,T)||(re(k,le.names),F.splice(Se,1))}return F.length>0?this:void 0}get names(){return this.nodes.reduce((k,T)=>z(k,T.names),{})}}class f extends p{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class v extends p{}class g extends f{}g.kind="else";class h extends f{constructor(k,T){super(T),this.condition=k}render(k){let T=`if(${this.condition})`+super.render(k);return this.else&&(T+="else "+this.else.render(k)),T}optimizeNodes(){super.optimizeNodes();let k=this.condition;if(k===!0)return this.nodes;let T=this.else;if(T){let F=T.optimizeNodes();T=this.else=Array.isArray(F)?new g(F):F}if(T)return k===!1?T instanceof h?T:T.nodes:this.nodes.length?this:new h(Pe(k),T instanceof h?[T]:T.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,T){var F;if(this.else=(F=this.else)===null||F===void 0?void 0:F.optimizeNames(k,T),!!(super.optimizeNames(k,T)||this.else))return this.condition=H(this.condition,k,T),this}get names(){let k=super.names;return V(k,this.condition),this.else&&z(k,this.else.names),k}}h.kind="if";class b extends f{}b.kind="for";class y extends b{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,T){if(super.optimizeNames(k,T))return this.iteration=H(this.iteration,k,T),this}get names(){return z(super.names,this.iteration.names)}}class _ extends b{constructor(k,T,F,Se){super(),this.varKind=k,this.name=T,this.from=F,this.to=Se}render(k){let T=k.es5?r.varKinds.var:this.varKind,{name:F,from:Se,to:le}=this;return`for(${T} ${F}=${Se}; ${F}<${le}; ${F}++)`+super.render(k)}get names(){let k=V(super.names,this.from);return V(k,this.to)}}class x extends b{constructor(k,T,F,Se){super(),this.loop=k,this.varKind=T,this.name=F,this.iterable=Se}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,T){if(super.optimizeNames(k,T))return this.iterable=H(this.iterable,k,T),this}get names(){return z(super.names,this.iterable.names)}}class w extends f{constructor(k,T,F){super(),this.name=k,this.args=T,this.async=F}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}w.kind="func";class S extends p{render(k){return"return "+super.render(k)}}S.kind="return";class $ extends f{render(k){let T="try"+super.render(k);return this.catch&&(T+=this.catch.render(k)),this.finally&&(T+=this.finally.render(k)),T}optimizeNodes(){var k,T;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(T=this.finally)===null||T===void 0||T.optimizeNodes(),this}optimizeNames(k,T){var F,Se;return super.optimizeNames(k,T),(F=this.catch)===null||F===void 0||F.optimizeNames(k,T),(Se=this.finally)===null||Se===void 0||Se.optimizeNames(k,T),this}get names(){let k=super.names;return this.catch&&z(k,this.catch.names),this.finally&&z(k,this.finally.names),k}}class E extends f{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}E.kind="catch";class N extends f{render(k){return"finally"+super.render(k)}}N.kind="finally";class P{constructor(k,T={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...T,_n:T.lines?`
`:""},this._extScope=k,this._scope=new r.Scope({parent:k}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,T){let F=this._extScope.value(k,T);return(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(k,T){return this._extScope.getValue(k,T)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,T,F,Se){let le=this._scope.toName(T);return F!==void 0&&Se&&(this._constants[le.str]=F),this._leafNode(new s(k,le,F)),le}const(k,T,F){return this._def(r.varKinds.const,k,T,F)}let(k,T,F){return this._def(r.varKinds.let,k,T,F)}var(k,T,F){return this._def(r.varKinds.var,k,T,F)}assign(k,T,F){return this._leafNode(new a(k,T,F))}add(k,T){return this._leafNode(new c(k,t.operators.ADD,T))}code(k){return typeof k=="function"?k():k!==e.nil&&this._leafNode(new m(k)),this}object(...k){let T=["{"];for(let[F,Se]of k)T.length>1&&T.push(","),T.push(F),(F!==Se||this.opts.es5)&&(T.push(":"),(0,e.addCodeArg)(T,Se));return T.push("}"),new e._Code(T)}if(k,T,F){if(this._blockNode(new h(k)),T&&F)this.code(T).else().code(F).endIf();else if(T)this.code(T).endIf();else if(F)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new h(k))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(h,g)}_for(k,T){return this._blockNode(k),T&&this.code(T).endFor(),this}for(k,T){return this._for(new y(k),T)}forRange(k,T,F,Se,le=this.opts.es5?r.varKinds.var:r.varKinds.let){let nt=this._scope.toName(k);return this._for(new _(le,nt,T,F),()=>Se(nt))}forOf(k,T,F,Se=r.varKinds.const){let le=this._scope.toName(k);if(this.opts.es5){let nt=T instanceof e.Name?T:this.var("_arr",T);return this.forRange("_i",0,e._`${nt}.length`,st=>{this.var(le,e._`${nt}[${st}]`),F(le)})}return this._for(new x("of",Se,le,T),()=>F(le))}forIn(k,T,F,Se=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,e._`Object.keys(${T})`,F);let le=this._scope.toName(k);return this._for(new x("in",Se,le,T),()=>F(le))}endFor(){return this._endBlockNode(b)}label(k){return this._leafNode(new l(k))}break(k){return this._leafNode(new u(k))}return(k){let T=new S;if(this._blockNode(T),this.code(k),T.nodes.length!==1)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(k,T,F){if(!T&&!F)throw Error('CodeGen: "try" without "catch" and "finally"');let Se=new $;if(this._blockNode(Se),this.code(k),T){let le=this.name("e");this._currNode=Se.catch=new E(le),T(le)}return F&&(this._currNode=Se.finally=new N,this.code(F)),this._endBlockNode(E,N)}throw(k){return this._leafNode(new d(k))}block(k,T){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(T),this}endBlock(k){let T=this._blockStarts.pop();if(T===void 0)throw Error("CodeGen: not in self-balancing block");let F=this._nodes.length-T;if(F<0||k!==void 0&&F!==k)throw Error(`CodeGen: wrong number of nodes: ${F} vs ${k} expected`);return this._nodes.length=T,this}func(k,T=e.nil,F,Se){return this._blockNode(new w(k,T,F)),Se&&this.code(Se).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,T){let F=this._currNode;if(F instanceof k||T&&F instanceof T)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${T?`${k.kind}/${T.kind}`:k.kind}"`)}_elseNode(k){let T=this._currNode;if(!(T instanceof h))throw Error('CodeGen: "else" without "if"');return this._currNode=T.else=k,this}get _root(){return this._nodes[0]}get _currNode(){let k=this._nodes;return k[k.length-1]}set _currNode(k){let T=this._nodes;T[T.length-1]=k}}t.CodeGen=P;function z(j,k){for(let T in k)j[T]=(j[T]||0)+(k[T]||0);return j}function V(j,k){return k instanceof e._CodeOrName?z(j,k.names):j}function H(j,k,T){if(j instanceof e.Name)return F(j);if(!Se(j))return j;return new e._Code(j._items.reduce((le,nt)=>(nt instanceof e.Name&&(nt=F(nt)),nt instanceof e._Code?le.push(...nt._items):le.push(nt),le),[]));function F(le){let nt=T[le.str];return nt===void 0||k[le.str]!==1?le:(delete k[le.str],nt)}function Se(le){return le instanceof e._Code&&le._items.some(nt=>nt instanceof e.Name&&k[nt.str]===1&&T[nt.str]!==void 0)}}function re(j,k){for(let T in k)j[T]=(j[T]||0)-(k[T]||0)}function Pe(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:e._`!${U(j)}`}t.not=Pe;var fe=R(t.operators.AND);function we(...j){return j.reduce(fe)}t.and=we;var Ne=R(t.operators.OR);function G(...j){return j.reduce(Ne)}t.or=G;function R(j){return(k,T)=>k===e.nil?T:T===e.nil?k:e._`${U(k)} ${j} ${U(T)}`}function U(j){return j instanceof e.Name?j:e._`(${j})`}}),yt=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;var e=Xe(),r=lm();function n(w){let S={};for(let $ of w)S[$]=!0;return S}t.toHash=n;function i(w,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(o(w,S),!s(S,w.self.RULES.all))}t.alwaysValidSchema=i;function o(w,S=w.schema){let{opts:$,self:E}=w;if(!$.strictSchema||typeof S=="boolean")return;let N=E.RULES.keywords;for(let P in S)N[P]||x(w,`unknown keyword: "${P}"`)}t.checkUnknownRules=o;function s(w,S){if(typeof w=="boolean")return!w;for(let $ in w)if(S[$])return!0;return!1}t.schemaHasRules=s;function a(w,S){if(typeof w=="boolean")return!w;for(let $ in w)if($!=="$ref"&&S.all[$])return!0;return!1}t.schemaHasRulesButRef=a;function c({topSchemaRef:w,schemaPath:S},$,E,N){if(!N){if(typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="string")return e._`${$}`}return e._`${w}${S}${(0,e.getProperty)(E)}`}t.schemaRefOrVal=c;function l(w){return m(decodeURIComponent(w))}t.unescapeFragment=l;function u(w){return encodeURIComponent(d(w))}t.escapeFragment=u;function d(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=d;function m(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=m;function p(w,S){if(Array.isArray(w))for(let $ of w)S($);else S(w)}t.eachItem=p;function f({mergeNames:w,mergeToName:S,mergeValues:$,resultToName:E}){return(N,P,z,V)=>{let H=z===void 0?P:z instanceof e.Name?(P instanceof e.Name?w(N,P,z):S(N,P,z),z):P instanceof e.Name?(S(N,z,P),P):$(P,z);return V===e.Name&&!(H instanceof e.Name)?E(N,H):H}}t.mergeEvaluated={props:f({mergeNames:(w,S,$)=>w.if(e._`${$} !== true && ${S} !== undefined`,()=>{w.if(e._`${S} === true`,()=>w.assign($,!0),()=>w.assign($,e._`${$} || {}`).code(e._`Object.assign(${$}, ${S})`))}),mergeToName:(w,S,$)=>w.if(e._`${$} !== true`,()=>{S===!0?w.assign($,!0):(w.assign($,e._`${$} || {}`),g(w,$,S))}),mergeValues:(w,S)=>w===!0?!0:{...w,...S},resultToName:v}),items:f({mergeNames:(w,S,$)=>w.if(e._`${$} !== true && ${S} !== undefined`,()=>w.assign($,e._`${S} === true ? true : ${$} > ${S} ? ${$} : ${S}`)),mergeToName:(w,S,$)=>w.if(e._`${$} !== true`,()=>w.assign($,S===!0?!0:e._`${$} > ${S} ? ${$} : ${S}`)),mergeValues:(w,S)=>w===!0?!0:Math.max(w,S),resultToName:(w,S)=>w.var("items",S)})};function v(w,S){if(S===!0)return w.var("props",!0);let $=w.var("props",e._`{}`);return S!==void 0&&g(w,$,S),$}t.evaluatedPropsToName=v;function g(w,S,$){Object.keys($).forEach(E=>w.assign(e._`${S}${(0,e.getProperty)(E)}`,!0))}t.setEvaluated=g;var h={};function b(w,S){return w.scopeValue("func",{ref:S,code:h[S.code]||(h[S.code]=new r._Code(S.code))})}t.useFunc=b;var y;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(y||(t.Type=y={}));function _(w,S,$){if(w instanceof e.Name){let E=S===y.Num;return $?E?e._`"[" + ${w} + "]"`:e._`"['" + ${w} + "']"`:E?e._`"/" + ${w}`:e._`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,e.getProperty)(w).toString():"/"+d(w)}t.getErrorPath=_;function x(w,S,$=w.opts.strictSchema){if($){if(S=`strict mode: ${S}`,$===!0)throw Error(S);w.self.logger.warn(S)}}t.checkStrictMode=x}),Lo=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};t.default=r}),Sm=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;var e=Xe(),r=yt(),n=Lo();t.keywordError={message:({keyword:g})=>e.str`must pass "${g}" keyword validation`},t.keyword$DataError={message:({keyword:g,schemaType:h})=>h?e.str`"${g}" keyword must be ${h} ($data)`:e.str`"${g}" keyword is invalid ($data)`};function i(g,h=t.keywordError,b,y){let{it:_}=g,{gen:x,compositeRule:w,allErrors:S}=_,$=d(g,h,b);y??(w||S)?c(x,$):l(_,e._`[${$}]`)}t.reportError=i;function o(g,h=t.keywordError,b){let{it:y}=g,{gen:_,compositeRule:x,allErrors:w}=y,S=d(g,h,b);c(_,S),!(x||w)&&l(y,n.default.vErrors)}t.reportExtraError=o;function s(g,h){g.assign(n.default.errors,h),g.if(e._`${n.default.vErrors} !== null`,()=>g.if(h,()=>g.assign(e._`${n.default.vErrors}.length`,h),()=>g.assign(n.default.vErrors,null)))}t.resetErrorsCount=s;function a({gen:g,keyword:h,schemaValue:b,data:y,errsCount:_,it:x}){if(_===void 0)throw Error("ajv implementation error");let w=g.name("err");g.forRange("i",_,n.default.errors,S=>{g.const(w,e._`${n.default.vErrors}[${S}]`),g.if(e._`${w}.instancePath === undefined`,()=>g.assign(e._`${w}.instancePath`,(0,e.strConcat)(n.default.instancePath,x.errorPath))),g.assign(e._`${w}.schemaPath`,e.str`${x.errSchemaPath}/${h}`),x.opts.verbose&&(g.assign(e._`${w}.schema`,b),g.assign(e._`${w}.data`,y))})}t.extendErrors=a;function c(g,h){let b=g.const("err",h);g.if(e._`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,e._`[${b}]`),e._`${n.default.vErrors}.push(${b})`),g.code(e._`${n.default.errors}++`)}function l(g,h){let{gen:b,validateName:y,schemaEnv:_}=g;_.$async?b.throw(e._`new ${g.ValidationError}(${h})`):(b.assign(e._`${y}.errors`,h),b.return(!1))}var u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(g,h,b){let{createErrors:y}=g.it;return y===!1?e._`{}`:m(g,h,b)}function m(g,h,b={}){let{gen:y,it:_}=g,x=[p(_,b),f(g,b)];return v(g,h,x),y.object(...x)}function p({errorPath:g},{instancePath:h}){let b=h?e.str`${g}${(0,r.getErrorPath)(h,r.Type.Str)}`:g;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,b)]}function f({keyword:g,it:{errSchemaPath:h}},{schemaPath:b,parentSchema:y}){let _=y?h:e.str`${h}/${g}`;return b&&(_=e.str`${_}${(0,r.getErrorPath)(b,r.Type.Str)}`),[u.schemaPath,_]}function v(g,{params:h,message:b},y){let{keyword:_,data:x,schemaValue:w,it:S}=g,{opts:$,propertyName:E,topSchemaRef:N,schemaPath:P}=S;y.push([u.keyword,_],[u.params,typeof h=="function"?h(g):h||e._`{}`]),$.messages&&y.push([u.message,typeof b=="function"?b(g):b]),$.verbose&&y.push([u.schema,w],[u.parentSchema,e._`${N}${P}`],[n.default.data,x]),E&&y.push([u.propertyName,E])}}),CG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;var e=Sm(),r=Xe(),n=Lo(),i={message:"boolean schema is false"};function o(c){let{gen:l,schema:u,validateName:d}=c;u===!1?a(c,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign(r._`${d}.errors`,null),l.return(!0))}t.topBoolOrEmptySchema=o;function s(c,l){let{gen:u,schema:d}=c;d===!1?(u.var(l,!1),a(c)):u.var(l,!0)}t.boolOrEmptySchema=s;function a(c,l){let{gen:u,data:d}=c,m={gen:u,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(m,i,void 0,l)}}),gA=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;var e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function n(o){return typeof o=="string"&&r.has(o)}t.isJSONType=n;function i(){let o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}t.getRules=i}),vA=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0;function e({schema:i,self:o},s){let a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}t.schemaHasRulesForType=e;function r(i,o){return o.rules.some(s=>n(i,s))}t.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}t.shouldUseRule=n}),um=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;var e=gA(),r=vA(),n=Sm(),i=Xe(),o=yt(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s||(t.DataType=s={}));function a(y){let _=c(y.type);if(_.includes("null")){if(y.nullable===!1)throw Error("type: null contradicts nullable: false")}else{if(!_.length&&y.nullable!==void 0)throw Error('"nullable" cannot be used without "type"');y.nullable===!0&&_.push("null")}return _}t.getSchemaTypes=a;function c(y){let _=Array.isArray(y)?y:y?[y]:[];if(_.every(e.isJSONType))return _;throw Error("type must be JSONType or JSONType[]: "+_.join(","))}t.getJSONTypes=c;function l(y,_){let{gen:x,data:w,opts:S}=y,$=d(_,S.coerceTypes),E=_.length>0&&!($.length===0&&_.length===1&&(0,r.schemaHasRulesForType)(y,_[0]));if(E){let N=v(_,w,S.strictNumbers,s.Wrong);x.if(N,()=>{$.length?m(y,_,$):h(y)})}return E}t.coerceAndCheckDataType=l;var u=new Set(["string","number","integer","boolean","null"]);function d(y,_){return _?y.filter(x=>u.has(x)||_==="array"&&x==="array"):[]}function m(y,_,x){let{gen:w,data:S,opts:$}=y,E=w.let("dataType",i._`typeof ${S}`),N=w.let("coerced",i._`undefined`);$.coerceTypes==="array"&&w.if(i._`${E} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>w.assign(S,i._`${S}[0]`).assign(E,i._`typeof ${S}`).if(v(_,S,$.strictNumbers),()=>w.assign(N,S))),w.if(i._`${N} !== undefined`);for(let z of x)(u.has(z)||z==="array"&&$.coerceTypes==="array")&&P(z);w.else(),h(y),w.endIf(),w.if(i._`${N} !== undefined`,()=>{w.assign(S,N),p(y,N)});function P(z){switch(z){case"string":w.elseIf(i._`${E} == "number" || ${E} == "boolean"`).assign(N,i._`"" + ${S}`).elseIf(i._`${S} === null`).assign(N,i._`""`);return;case"number":w.elseIf(i._`${E} == "boolean" || ${S} === null
              || (${E} == "string" && ${S} && ${S} == +${S})`).assign(N,i._`+${S}`);return;case"integer":w.elseIf(i._`${E} === "boolean" || ${S} === null
              || (${E} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(N,i._`+${S}`);return;case"boolean":w.elseIf(i._`${S} === "false" || ${S} === 0 || ${S} === null`).assign(N,!1).elseIf(i._`${S} === "true" || ${S} === 1`).assign(N,!0);return;case"null":w.elseIf(i._`${S} === "" || ${S} === 0 || ${S} === false`),w.assign(N,null);return;case"array":w.elseIf(i._`${E} === "string" || ${E} === "number"
              || ${E} === "boolean" || ${S} === null`).assign(N,i._`[${S}]`)}}}function p({gen:y,parentData:_,parentDataProperty:x},w){y.if(i._`${_} !== undefined`,()=>y.assign(i._`${_}[${x}]`,w))}function f(y,_,x,w=s.Correct){let S=w===s.Correct?i.operators.EQ:i.operators.NEQ,$;switch(y){case"null":return i._`${_} ${S} null`;case"array":$=i._`Array.isArray(${_})`;break;case"object":$=i._`${_} && typeof ${_} == "object" && !Array.isArray(${_})`;break;case"integer":$=E(i._`!(${_} % 1) && !isNaN(${_})`);break;case"number":$=E();break;default:return i._`typeof ${_} ${S} ${y}`}return w===s.Correct?$:(0,i.not)($);function E(N=i.nil){return(0,i.and)(i._`typeof ${_} == "number"`,N,x?i._`isFinite(${_})`:i.nil)}}t.checkDataType=f;function v(y,_,x,w){if(y.length===1)return f(y[0],_,x,w);let S,$=(0,o.toHash)(y);if($.array&&$.object){let E=i._`typeof ${_} != "object"`;S=$.null?E:i._`!${_} || ${E}`,delete $.null,delete $.array,delete $.object}else S=i.nil;$.number&&delete $.integer;for(let E in $)S=(0,i.and)(S,f(E,_,x,w));return S}t.checkDataTypes=v;var g={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:_})=>typeof y=="string"?i._`{type: ${y}}`:i._`{type: ${_}}`};function h(y){let _=b(y);(0,n.reportError)(_,g)}t.reportTypeError=h;function b(y){let{gen:_,data:x,schema:w}=y,S=(0,o.schemaRefOrVal)(y,w,"type");return{gen:_,keyword:"type",data:x,schema:w.type,schemaCode:S,schemaValue:S,parentSchema:w,params:{},it:y}}}),PG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;var e=Xe(),r=yt();function n(o,s){let{properties:a,items:c}=o.schema;if(s==="object"&&a)for(let l in a)i(o,l,a[l].default);else s==="array"&&Array.isArray(c)&&c.forEach((l,u)=>i(o,u,l.default))}t.assignDefaults=n;function i(o,s,a){let{gen:c,compositeRule:l,data:u,opts:d}=o;if(a===void 0)return;let m=e._`${u}${(0,e.getProperty)(s)}`;if(l){(0,r.checkStrictMode)(o,`default is ignored for: ${m}`);return}let p=e._`${m} === undefined`;d.useDefaults==="empty"&&(p=e._`${p} || ${m} === null || ${m} === ""`),c.if(p,e._`${m} = ${(0,e.stringify)(a)}`)}}),ti=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;var e=Xe(),r=yt(),n=Lo(),i=yt();function o(y,_){let{gen:x,data:w,it:S}=y;x.if(d(x,w,_,S.opts.ownProperties),()=>{y.setParams({missingProperty:e._`${_}`},!0),y.error()})}t.checkReportMissingProp=o;function s({gen:y,data:_,it:{opts:x}},w,S){return(0,e.or)(...w.map($=>(0,e.and)(d(y,_,$,x.ownProperties),e._`${S} = ${$}`)))}t.checkMissingProp=s;function a(y,_){y.setParams({missingProperty:_},!0),y.error()}t.reportMissingProp=a;function c(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:e._`Object.prototype.hasOwnProperty`})}t.hasPropFunc=c;function l(y,_,x){return e._`${c(y)}.call(${_}, ${x})`}t.isOwnProperty=l;function u(y,_,x,w){let S=e._`${_}${(0,e.getProperty)(x)} !== undefined`;return w?e._`${S} && ${l(y,_,x)}`:S}t.propertyInData=u;function d(y,_,x,w){let S=e._`${_}${(0,e.getProperty)(x)} === undefined`;return w?(0,e.or)(S,(0,e.not)(l(y,_,x))):S}t.noPropertyInData=d;function m(y){return y?Object.keys(y).filter(_=>_!=="__proto__"):[]}t.allSchemaProperties=m;function p(y,_){return m(_).filter(x=>!(0,r.alwaysValidSchema)(y,_[x]))}t.schemaProperties=p;function f({schemaCode:y,data:_,it:{gen:x,topSchemaRef:w,schemaPath:S,errorPath:$},it:E},N,P,z){let V=z?e._`${y}, ${_}, ${w}${S}`:_,H=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,$)],[n.default.parentData,E.parentData],[n.default.parentDataProperty,E.parentDataProperty],[n.default.rootData,n.default.rootData]];E.opts.dynamicRef&&H.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);let re=e._`${V}, ${x.object(...H)}`;return P!==e.nil?e._`${N}.call(${P}, ${re})`:e._`${N}(${re})`}t.callValidateCode=f;var v=e._`new RegExp`;function g({gen:y,it:{opts:_}},x){let w=_.unicodeRegExp?"u":"",{regExp:S}=_.code,$=S(x,w);return y.scopeValue("pattern",{key:$.toString(),ref:$,code:e._`${S.code==="new RegExp"?v:(0,i.useFunc)(y,S)}(${x}, ${w})`})}t.usePattern=g;function h(y){let{gen:_,data:x,keyword:w,it:S}=y,$=_.name("valid");if(S.allErrors){let N=_.let("valid",!0);return E(()=>_.assign(N,!1)),N}return _.var($,!0),E(()=>_.break()),$;function E(N){let P=_.const("len",e._`${x}.length`);_.forRange("i",0,P,z=>{y.subschema({keyword:w,dataProp:z,dataPropType:r.Type.Num},$),_.if((0,e.not)($),N)})}}t.validateArray=h;function b(y){let{gen:_,schema:x,keyword:w,it:S}=y;if(!Array.isArray(x))throw Error("ajv implementation error");if(x.some(N=>(0,r.alwaysValidSchema)(S,N))&&!S.opts.unevaluated)return;let $=_.let("valid",!1),E=_.name("_valid");_.block(()=>x.forEach((N,P)=>{let z=y.subschema({keyword:w,schemaProp:P,compositeRule:!0},E);_.assign($,e._`${$} || ${E}`),!y.mergeValidEvaluated(z,E)&&_.if((0,e.not)($))})),y.result($,()=>y.reset(),()=>y.error(!0))}t.validateUnion=b}),IG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;var e=Xe(),r=Lo(),n=ti(),i=Sm();function o(p,f){let{gen:v,keyword:g,schema:h,parentSchema:b,it:y}=p,_=f.macro.call(y.self,h,b,y),x=u(v,g,_);y.opts.validateSchema!==!1&&y.self.validateSchema(_,!0);let w=v.name("valid");p.subschema({schema:_,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${g}`,topSchemaRef:x,compositeRule:!0},w),p.pass(w,()=>p.error(!0))}t.macroKeywordCode=o;function s(p,f){var v;let{gen:g,keyword:h,schema:b,parentSchema:y,$data:_,it:x}=p;l(x,f);let w=!_&&f.compile?f.compile.call(x.self,b,y,x):f.validate,S=u(g,h,w),$=g.let("valid");p.block$data($,E),p.ok((v=f.valid)!==null&&v!==void 0?v:$);function E(){if(f.errors===!1)z(),f.modifying&&a(p),V(()=>p.error());else{let H=f.async?N():P();f.modifying&&a(p),V(()=>c(p,H))}}function N(){let H=g.let("ruleErrs",null);return g.try(()=>z(e._`await `),re=>g.assign($,!1).if(e._`${re} instanceof ${x.ValidationError}`,()=>g.assign(H,e._`${re}.errors`),()=>g.throw(re))),H}function P(){let H=e._`${S}.errors`;return g.assign(H,null),z(e.nil),H}function z(H=f.async?e._`await `:e.nil){let re=x.opts.passContext?r.default.this:r.default.self,Pe=!("compile"in f&&!_||f.schema===!1);g.assign($,e._`${H}${(0,n.callValidateCode)(p,S,re,Pe)}`,f.modifying)}function V(H){var re;g.if((0,e.not)((re=f.valid)!==null&&re!==void 0?re:$),H)}}t.funcKeywordCode=s;function a(p){let{gen:f,data:v,it:g}=p;f.if(g.parentData,()=>f.assign(v,e._`${g.parentData}[${g.parentDataProperty}]`))}function c(p,f){let{gen:v}=p;v.if(e._`Array.isArray(${f})`,()=>{v.assign(r.default.vErrors,e._`${r.default.vErrors} === null ? ${f} : ${r.default.vErrors}.concat(${f})`).assign(r.default.errors,e._`${r.default.vErrors}.length`),(0,i.extendErrors)(p)},()=>p.error())}function l({schemaEnv:p},f){if(f.async&&!p.$async)throw Error("async keyword in sync schema")}function u(p,f,v){if(v===void 0)throw Error(`keyword "${f}" failed to compile`);return p.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function d(p,f,v=!1){return!f.length||f.some(g=>g==="array"?Array.isArray(p):g==="object"?p&&typeof p=="object"&&!Array.isArray(p):typeof p==g||v&&typeof p>"u")}t.validSchemaType=d;function m({schema:p,opts:f,self:v,errSchemaPath:g},h,b){if(Array.isArray(h.keyword)?!h.keyword.includes(b):h.keyword!==b)throw Error("ajv implementation error");let y=h.dependencies;if(y?.some(_=>!Object.prototype.hasOwnProperty.call(p,_)))throw Error(`parent schema must have dependencies of ${b}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(p[b])){let _=`keyword "${b}" value is invalid at path "${g}": `+v.errorsText(h.validateSchema.errors);if(f.validateSchema==="log")v.logger.error(_);else throw Error(_)}}t.validateKeywordUsage=m}),RG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;var e=Xe(),r=yt();function n(s,{keyword:a,schemaProp:c,schema:l,schemaPath:u,errSchemaPath:d,topSchemaRef:m}){if(a!==void 0&&l!==void 0)throw Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){let p=s.schema[a];return c===void 0?{schema:p,schemaPath:e._`${s.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:p[c],schemaPath:e._`${s.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(c)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(c)}`}}if(l!==void 0){if(u===void 0||d===void 0||m===void 0)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:m,errSchemaPath:d}}throw Error('either "keyword" or "schema" must be passed')}t.getSubschema=n;function i(s,a,{dataProp:c,dataPropType:l,data:u,dataTypes:d,propertyName:m}){if(u!==void 0&&c!==void 0)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:p}=a;if(c!==void 0){let{errorPath:v,dataPathArr:g,opts:h}=a,b=p.let("data",e._`${a.data}${(0,e.getProperty)(c)}`,!0);f(b),s.errorPath=e.str`${v}${(0,r.getErrorPath)(c,l,h.jsPropertySyntax)}`,s.parentDataProperty=e._`${c}`,s.dataPathArr=[...g,s.parentDataProperty]}if(u!==void 0){let v=u instanceof e.Name?u:p.let("data",u,!0);f(v),m!==void 0&&(s.propertyName=m)}d&&(s.dataTypes=d);function f(v){s.data=v,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,v]}}t.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:c,compositeRule:l,createErrors:u,allErrors:d}){l!==void 0&&(s.compositeRule=l),u!==void 0&&(s.createErrors=u),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=a,s.jtdMetadata=c}t.extendSubschemaMode=o}),yA=me((t,e)=>{e.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,s,a;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(s=o;s--!==0;)if(!r(n[s],i[s]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(a=Object.keys(n),o=a.length,o!==Object.keys(i).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(i,a[s]))return!1;for(s=o;s--!==0;){var c=a[s];if(!r(n[c],i[c]))return!1}return!0}return n!==n&&i!==i}}),OG=me((t,e)=>{var r=e.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var c=typeof a=="function"?a:a.pre||function(){},l=a.post||function(){};n(s,c,l,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,c,l,u,d,m,p,f){if(c&&typeof c=="object"&&!Array.isArray(c)){s(c,l,u,d,m,p,f);for(var v in c){var g=c[v];if(Array.isArray(g)){if(v in r.arrayKeywords)for(var h=0;h<g.length;h++)n(o,s,a,g[h],l+"/"+v+"/"+h,u,l,v,c,h)}else if(v in r.propsKeywords){if(g&&typeof g=="object")for(var b in g)n(o,s,a,g[b],l+"/"+v+"/"+i(b),u,l,v,c,b)}else(v in r.keywords||o.allKeys&&!(v in r.skipKeywords))&&n(o,s,a,g,l+"/"+v,u,l,v,c)}a(c,l,u,d,m,p,f)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}),km=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;var e=yt(),r=yA(),n=OG(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(g,h=!0){return typeof g=="boolean"?!0:h===!0?!a(g):h?c(g)<=h:!1}t.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(g){for(let h in g){if(s.has(h))return!0;let b=g[h];if(Array.isArray(b)&&b.some(a)||typeof b=="object"&&a(b))return!0}return!1}function c(g){let h=0;for(let b in g){if(b==="$ref")return 1/0;if(h++,!i.has(b)&&(typeof g[b]=="object"&&(0,e.eachItem)(g[b],y=>h+=c(y)),h===1/0))return 1/0}return h}function l(g,h="",b){b!==!1&&(h=m(h));let y=g.parse(h);return u(g,y)}t.getFullPath=l;function u(g,h){return g.serialize(h).split("#")[0]+"#"}t._getFullPath=u;var d=/#\/?$/;function m(g){return g?g.replace(d,""):""}t.normalizeId=m;function p(g,h,b){return b=m(b),g.resolve(h,b)}t.resolveUrl=p;var f=/^[a-z_][-a-z0-9._]*$/i;function v(g,h){if(typeof g=="boolean")return{};let{schemaId:b,uriResolver:y}=this.opts,_=m(g[b]||h),x={"":_},w=l(y,_,!1),S={},$=new Set;return n(g,{allKeys:!0},(P,z,V,H)=>{if(H===void 0)return;let re=w+z,Pe=x[H];typeof P[b]=="string"&&(Pe=fe.call(this,P[b])),we.call(this,P.$anchor),we.call(this,P.$dynamicAnchor),x[z]=Pe;function fe(Ne){let G=this.opts.uriResolver.resolve;if(Ne=m(Pe?G(Pe,Ne):Ne),$.has(Ne))throw N(Ne);$.add(Ne);let R=this.refs[Ne];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?E(P,R.schema,Ne):Ne!==m(re)&&(Ne[0]==="#"?(E(P,S[Ne],Ne),S[Ne]=P):this.refs[Ne]=re),Ne}function we(Ne){if(typeof Ne=="string"){if(!f.test(Ne))throw Error(`invalid anchor "${Ne}"`);fe.call(this,`#${Ne}`)}}}),S;function E(P,z,V){if(z!==void 0&&!r(P,z))throw N(V)}function N(P){return Error(`reference "${P}" resolves to more than one schema`)}}t.getSchemaRefs=v}),$m=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;var e=CG(),r=um(),n=vA(),i=um(),o=PG(),s=IG(),a=RG(),c=Xe(),l=Lo(),u=km(),d=yt(),m=Sm();function p(A){if(w(A)&&($(A),x(A))){h(A);return}f(A,()=>(0,e.topBoolOrEmptySchema)(A))}t.validateFunctionCode=p;function f({gen:A,validateName:D,schema:B,schemaEnv:X,opts:ke},it){ke.code.es5?A.func(D,c._`${l.default.data}, ${l.default.valCxt}`,X.$async,()=>{A.code(c._`"use strict"; ${y(B,ke)}`),g(A,ke),A.code(it)}):A.func(D,c._`${l.default.data}, ${v(ke)}`,X.$async,()=>A.code(y(B,ke)).code(it))}function v(A){return c._`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${A.dynamicRef?c._`, ${l.default.dynamicAnchors}={}`:c.nil}}={}`}function g(A,D){A.if(l.default.valCxt,()=>{A.var(l.default.instancePath,c._`${l.default.valCxt}.${l.default.instancePath}`),A.var(l.default.parentData,c._`${l.default.valCxt}.${l.default.parentData}`),A.var(l.default.parentDataProperty,c._`${l.default.valCxt}.${l.default.parentDataProperty}`),A.var(l.default.rootData,c._`${l.default.valCxt}.${l.default.rootData}`),D.dynamicRef&&A.var(l.default.dynamicAnchors,c._`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{A.var(l.default.instancePath,c._`""`),A.var(l.default.parentData,c._`undefined`),A.var(l.default.parentDataProperty,c._`undefined`),A.var(l.default.rootData,l.default.data),D.dynamicRef&&A.var(l.default.dynamicAnchors,c._`{}`)})}function h(A){let{schema:D,opts:B,gen:X}=A;f(A,()=>{B.$comment&&D.$comment&&H(A),P(A),X.let(l.default.vErrors,null),X.let(l.default.errors,0),B.unevaluated&&b(A),E(A),re(A)})}function b(A){let{gen:D,validateName:B}=A;A.evaluated=D.const("evaluated",c._`${B}.evaluated`),D.if(c._`${A.evaluated}.dynamicProps`,()=>D.assign(c._`${A.evaluated}.props`,c._`undefined`)),D.if(c._`${A.evaluated}.dynamicItems`,()=>D.assign(c._`${A.evaluated}.items`,c._`undefined`))}function y(A,D){let B=typeof A=="object"&&A[D.schemaId];return B&&(D.code.source||D.code.process)?c._`/*# sourceURL=${B} */`:c.nil}function _(A,D){if(w(A)&&($(A),x(A))){S(A,D);return}(0,e.boolOrEmptySchema)(A,D)}function x({schema:A,self:D}){if(typeof A=="boolean")return!A;for(let B in A)if(D.RULES.all[B])return!0;return!1}function w(A){return typeof A.schema!="boolean"}function S(A,D){let{schema:B,gen:X,opts:ke}=A;ke.$comment&&B.$comment&&H(A),z(A),V(A);let it=X.const("_errs",l.default.errors);E(A,it),X.var(D,c._`${it} === ${l.default.errors}`)}function $(A){(0,d.checkUnknownRules)(A),N(A)}function E(A,D){if(A.opts.jtd)return fe(A,[],!1,D);let B=(0,r.getSchemaTypes)(A.schema),X=(0,r.coerceAndCheckDataType)(A,B);fe(A,B,!X,D)}function N(A){let{schema:D,errSchemaPath:B,opts:X,self:ke}=A;D.$ref&&X.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(D,ke.RULES)&&ke.logger.warn(`$ref: keywords ignored in schema at path "${B}"`)}function P(A){let{schema:D,opts:B}=A;D.default!==void 0&&B.useDefaults&&B.strictSchema&&(0,d.checkStrictMode)(A,"default is ignored in the schema root")}function z(A){let D=A.schema[A.opts.schemaId];D&&(A.baseId=(0,u.resolveUrl)(A.opts.uriResolver,A.baseId,D))}function V(A){if(A.schema.$async&&!A.schemaEnv.$async)throw Error("async schema in sync schema")}function H({gen:A,schemaEnv:D,schema:B,errSchemaPath:X,opts:ke}){let it=B.$comment;if(ke.$comment===!0)A.code(c._`${l.default.self}.logger.log(${it})`);else if(typeof ke.$comment=="function"){let xr=c.str`${X}/$comment`,Gn=A.scopeValue("root",{ref:D.root});A.code(c._`${l.default.self}.opts.$comment(${it}, ${xr}, ${Gn}.schema)`)}}function re(A){let{gen:D,schemaEnv:B,validateName:X,ValidationError:ke,opts:it}=A;B.$async?D.if(c._`${l.default.errors} === 0`,()=>D.return(l.default.data),()=>D.throw(c._`new ${ke}(${l.default.vErrors})`)):(D.assign(c._`${X}.errors`,l.default.vErrors),it.unevaluated&&Pe(A),D.return(c._`${l.default.errors} === 0`))}function Pe({gen:A,evaluated:D,props:B,items:X}){B instanceof c.Name&&A.assign(c._`${D}.props`,B),X instanceof c.Name&&A.assign(c._`${D}.items`,X)}function fe(A,D,B,X){let{gen:ke,schema:it,data:xr,allErrors:Gn,opts:Yr,self:Qr}=A,{RULES:wr}=Qr;if(it.$ref&&(Yr.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(it,wr))){ke.block(()=>le(A,"$ref",wr.all.$ref.definition));return}Yr.jtd||Ne(A,D),ke.block(()=>{for(let In of wr.rules)Ma(In);Ma(wr.post)});function Ma(In){(0,n.shouldUseGroup)(it,In)&&(In.type?(ke.if((0,i.checkDataType)(In.type,xr,Yr.strictNumbers)),we(A,In),D.length===1&&D[0]===In.type&&B&&(ke.else(),(0,i.reportTypeError)(A)),ke.endIf()):we(A,In),Gn||ke.if(c._`${l.default.errors} === ${X||0}`))}}function we(A,D){let{gen:B,schema:X,opts:{useDefaults:ke}}=A;ke&&(0,o.assignDefaults)(A,D.type),B.block(()=>{for(let it of D.rules)(0,n.shouldUseRule)(X,it)&&le(A,it.keyword,it.definition,D.type)})}function Ne(A,D){A.schemaEnv.meta||!A.opts.strictTypes||(G(A,D),!A.opts.allowUnionTypes&&R(A,D),U(A,A.dataTypes))}function G(A,D){if(D.length){if(!A.dataTypes.length){A.dataTypes=D;return}D.forEach(B=>{k(A.dataTypes,B)||F(A,`type "${B}" not allowed by context "${A.dataTypes.join(",")}"`)}),T(A,D)}}function R(A,D){D.length>1&&!(D.length===2&&D.includes("null"))&&F(A,"use allowUnionTypes to allow union type keyword")}function U(A,D){let B=A.self.RULES.all;for(let X in B){let ke=B[X];if(typeof ke=="object"&&(0,n.shouldUseRule)(A.schema,ke)){let{type:it}=ke.definition;it.length&&!it.some(xr=>j(D,xr))&&F(A,`missing type "${it.join(",")}" for keyword "${X}"`)}}}function j(A,D){return A.includes(D)||D==="number"&&A.includes("integer")}function k(A,D){return A.includes(D)||D==="integer"&&A.includes("number")}function T(A,D){let B=[];for(let X of A.dataTypes)k(D,X)?B.push(X):D.includes("integer")&&X==="number"&&B.push("integer");A.dataTypes=B}function F(A,D){let B=A.schemaEnv.baseId+A.errSchemaPath;D+=` at "${B}" (strictTypes)`,(0,d.checkStrictMode)(A,D,A.opts.strictTypes)}class Se{constructor(D,B,X){if((0,s.validateKeywordUsage)(D,B,X),this.gen=D.gen,this.allErrors=D.allErrors,this.keyword=X,this.data=D.data,this.schema=D.schema[X],this.$data=B.$data&&D.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(D,this.schema,X,this.$data),this.schemaType=B.schemaType,this.parentSchema=D.schema,this.params={},this.it=D,this.def=B,this.$data)this.schemaCode=D.gen.const("vSchema",Mt(this.$data,D));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,B.schemaType,B.allowUndefined))throw Error(`${X} value must be ${JSON.stringify(B.schemaType)}`);("code"in B?B.trackErrors:B.errors!==!1)&&(this.errsCount=D.gen.const("_errs",l.default.errors))}result(D,B,X){this.failResult((0,c.not)(D),B,X)}failResult(D,B,X){this.gen.if(D),X?X():this.error(),B?(this.gen.else(),B(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(D,B){this.failResult((0,c.not)(D),void 0,B)}fail(D){if(D===void 0){this.error(),!this.allErrors&&this.gen.if(!1);return}this.gen.if(D),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(D){if(!this.$data)return this.fail(D);let{schemaCode:B}=this;this.fail(c._`${B} !== undefined && (${(0,c.or)(this.invalid$data(),D)})`)}error(D,B,X){if(B){this.setParams(B),this._error(D,X),this.setParams({});return}this._error(D,X)}_error(D,B){(D?m.reportExtraError:m.reportError)(this,this.def.error,B)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(this.errsCount===void 0)throw Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(D){this.allErrors||this.gen.if(D)}setParams(D,B){B?Object.assign(this.params,D):this.params=D}block$data(D,B,X=c.nil){this.gen.block(()=>{this.check$data(D,X),B()})}check$data(D=c.nil,B=c.nil){if(!this.$data)return;let{gen:X,schemaCode:ke,schemaType:it,def:xr}=this;X.if((0,c.or)(c._`${ke} === undefined`,B)),D!==c.nil&&X.assign(D,!0),(it.length||xr.validateSchema)&&(X.elseIf(this.invalid$data()),this.$dataError(),D!==c.nil&&X.assign(D,!1)),X.else()}invalid$data(){let{gen:D,schemaCode:B,schemaType:X,def:ke,it}=this;return(0,c.or)(xr(),Gn());function xr(){if(X.length){if(!(B instanceof c.Name))throw Error("ajv implementation error");let Yr=Array.isArray(X)?X:[X];return c._`${(0,i.checkDataTypes)(Yr,B,it.opts.strictNumbers,i.DataType.Wrong)}`}return c.nil}function Gn(){if(ke.validateSchema){let Yr=D.scopeValue("validate$data",{ref:ke.validateSchema});return c._`!${Yr}(${B})`}return c.nil}}subschema(D,B){let X=(0,a.getSubschema)(this.it,D);(0,a.extendSubschemaData)(X,this.it,D),(0,a.extendSubschemaMode)(X,D);let ke={...this.it,...X,items:void 0,props:void 0};return _(ke,B),ke}mergeEvaluated(D,B){let{it:X,gen:ke}=this;X.opts.unevaluated&&(X.props!==!0&&D.props!==void 0&&(X.props=d.mergeEvaluated.props(ke,D.props,X.props,B)),X.items!==!0&&D.items!==void 0&&(X.items=d.mergeEvaluated.items(ke,D.items,X.items,B)))}mergeValidEvaluated(D,B){let{it:X,gen:ke}=this;if(X.opts.unevaluated&&(X.props!==!0||X.items!==!0))return ke.if(B,()=>this.mergeEvaluated(D,c.Name)),!0}}t.KeywordCxt=Se;function le(A,D,B,X){let ke=new Se(A,B,D);"code"in B?B.code(ke,X):ke.$data&&B.validate?(0,s.funcKeywordCode)(ke,B):"macro"in B?(0,s.macroKeywordCode)(ke,B):(B.compile||B.validate)&&(0,s.funcKeywordCode)(ke,B)}var nt=/^\/(?:[^~]|~0|~1)*$/,st=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Mt(A,{dataLevel:D,dataNames:B,dataPathArr:X}){let ke,it;if(A==="")return l.default.rootData;if(A[0]==="/"){if(!nt.test(A))throw Error(`Invalid JSON-pointer: ${A}`);ke=A,it=l.default.rootData}else{let Qr=st.exec(A);if(!Qr)throw Error(`Invalid JSON-pointer: ${A}`);let wr=+Qr[1];if(ke=Qr[2],ke==="#"){if(wr>=D)throw Error(Yr("property/index",wr));return X[D-wr]}if(wr>D)throw Error(Yr("data",wr));if(it=B[D-wr],!ke)return it}let xr=it,Gn=ke.split("/");for(let Qr of Gn)Qr&&(it=c._`${it}${(0,c.getProperty)((0,d.unescapeJsonPointer)(Qr))}`,xr=c._`${xr} && ${it}`);return xr;function Yr(Qr,wr){return`Cannot access ${Qr} ${wr} levels up, current level is ${D}`}}t.getData=Mt}),zx=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}t.default=e}),Em=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=km();class r extends Error{constructor(i,o,s,a){super(a||`can't resolve reference ${s} from id ${o}`),this.missingRef=(0,e.resolveUrl)(i,o,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(i,this.missingRef))}}t.default=r}),Mx=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;var e=Xe(),r=zx(),n=Lo(),i=km(),o=yt(),s=$m();class a{constructor(b){var y;this.refs={},this.dynamicAnchors={};let _;typeof b.schema=="object"&&(_=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(y=b.baseId)!==null&&y!==void 0?y:(0,i.normalizeId)(_?.[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=_?.$async,this.refs={}}}t.SchemaEnv=a;function c(h){let b=d.call(this,h);if(b)return b;let y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:_,lines:x}=this.opts.code,{ownProperties:w}=this.opts,S=new e.CodeGen(this.scope,{es5:_,lines:x,ownProperties:w}),$;h.$async&&($=S.scopeValue("Error",{ref:r.default,code:e._`require("ajv/dist/runtime/validation_error").default`}));let E=S.scopeName("validate");h.validateName=E;let N={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,e.stringify)(h.schema)}:{ref:h.schema}),validateName:E,ValidationError:$,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:e.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:e._`""`,opts:this.opts,self:this},P;try{this._compilations.add(h),(0,s.validateFunctionCode)(N),S.optimize(this.opts.code.optimize);let z=S.toString();P=`${S.scopeRefs(n.default.scope)}return ${z}`,this.opts.code.process&&(P=this.opts.code.process(P,h));let V=Function(`${n.default.self}`,`${n.default.scope}`,P)(this,this.scope.get());if(this.scope.value(E,{ref:V}),V.errors=null,V.schema=h.schema,V.schemaEnv=h,h.$async&&(V.$async=!0),this.opts.code.source===!0&&(V.source={validateName:E,validateCode:z,scopeValues:S._values}),this.opts.unevaluated){let{props:H,items:re}=N;V.evaluated={props:H instanceof e.Name?void 0:H,items:re instanceof e.Name?void 0:re,dynamicProps:H instanceof e.Name,dynamicItems:re instanceof e.Name},V.source&&(V.source.evaluated=(0,e.stringify)(V.evaluated))}return h.validate=V,h}catch(z){throw delete h.validate,delete h.validateName,P&&this.logger.error("Error compiling schema, function code:",P),z}finally{this._compilations.delete(h)}}t.compileSchema=c;function l(h,b,y){var _;y=(0,i.resolveUrl)(this.opts.uriResolver,b,y);let x=h.refs[y];if(x)return x;let w=p.call(this,h,y);if(w===void 0){let S=(_=h.localRefs)===null||_===void 0?void 0:_[y],{schemaId:$}=this.opts;S&&(w=new a({schema:S,schemaId:$,root:h,baseId:b}))}if(w!==void 0)return h.refs[y]=u.call(this,w)}t.resolveRef=l;function u(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:c.call(this,h)}function d(h){for(let b of this._compilations)if(m(b,h))return b}t.getCompilingSchema=d;function m(h,b){return h.schema===b.schema&&h.root===b.root&&h.baseId===b.baseId}function p(h,b){let y;for(;typeof(y=this.refs[b])=="string";)b=y;return y||this.schemas[b]||f.call(this,h,b)}function f(h,b){let y=this.opts.uriResolver.parse(b),_=(0,i._getFullPath)(this.opts.uriResolver,y),x=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&_===x)return g.call(this,y,h);let w=(0,i.normalizeId)(_),S=this.refs[w]||this.schemas[w];if(typeof S=="string"){let $=f.call(this,h,S);return typeof $?.schema!="object"?void 0:g.call(this,y,$)}if(typeof S?.schema=="object"){if(S.validate||c.call(this,S),w===(0,i.normalizeId)(b)){let{schema:$}=S,{schemaId:E}=this.opts,N=$[E];return N&&(x=(0,i.resolveUrl)(this.opts.uriResolver,x,N)),new a({schema:$,schemaId:E,root:h,baseId:x})}return g.call(this,y,S)}}t.resolveSchema=f;var v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(h,{baseId:b,schema:y,root:_}){var x;if(((x=h.fragment)===null||x===void 0?void 0:x[0])!=="/")return;for(let $ of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;let E=y[(0,o.unescapeFragment)($)];if(E===void 0)return;y=E;let N=typeof y=="object"&&y[this.opts.schemaId];!v.has($)&&N&&(b=(0,i.resolveUrl)(this.opts.uriResolver,b,N))}let w;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){let $=(0,i.resolveUrl)(this.opts.uriResolver,b,y.$ref);w=f.call(this,_,$)}let{schemaId:S}=this.opts;if(w=w||new a({schema:y,schemaId:S,root:_,baseId:b}),w.schema!==w.root.schema)return w}}),AG=me((t,e)=>{e.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),NG=me((t,e)=>{var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};e.exports={HEX:r}}),jG=me((t,e)=>{var{HEX:r}=NG(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(h){if(l(h,".")<3)return{host:h,isIPV4:!1};let b=h.match(n)||[],[y]=b;return y?{host:c(y,"."),isIPV4:!0}:{host:h,isIPV4:!1}}function o(h,b=!1){let y="",_=!0;for(let x of h){if(r[x]===void 0)return;x!=="0"&&_===!0&&(_=!1),_||(y+=x)}return b&&y.length===0&&(y="0"),y}function s(h){let b=0,y={error:!1,address:"",zone:""},_=[],x=[],w=!1,S=!1,$=!1;function E(){if(x.length){if(w===!1){let N=o(x);if(N!==void 0)_.push(N);else return y.error=!0,!1}x.length=0}return!0}for(let N=0;N<h.length;N++){let P=h[N];if(!(P==="["||P==="]"))if(P===":"){if(S===!0&&($=!0),!E())break;if(b++,_.push(":"),b>7){y.error=!0;break}N-1>=0&&h[N-1]===":"&&(S=!0);continue}else if(P==="%"){if(!E())break;w=!0}else{x.push(P);continue}}return x.length&&(w?y.zone=x.join(""):$?_.push(x.join("")):_.push(o(x))),y.address=_.join(""),y}function a(h){if(l(h,":")<2)return{host:h,isIPV6:!1};let b=s(h);if(b.error)return{host:h,isIPV6:!1};{let{address:y,address:_}=b;return b.zone&&(y+="%"+b.zone,_+="%25"+b.zone),{host:y,escapedHost:_,isIPV6:!0}}}function c(h,b){let y="",_=!0,x=h.length;for(let w=0;w<x;w++){let S=h[w];S==="0"&&_?(w+1<=x&&h[w+1]===b||w+1===x)&&(y+=S,_=!1):(S===b?_=!0:_=!1,y+=S)}return y}function l(h,b){let y=0;for(let _=0;_<h.length;_++)h[_]===b&&y++;return y}var u=/^\.\.?\//u,d=/^\/\.(?:\/|$)/u,m=/^\/\.\.(?:\/|$)/u,p=/^\/?(?:.|\n)*?(?=\/|$)/u;function f(h){let b=[];for(;h.length;)if(h.match(u))h=h.replace(u,"");else if(h.match(d))h=h.replace(d,"/");else if(h.match(m))h=h.replace(m,"/"),b.pop();else if(h==="."||h==="..")h="";else{let y=h.match(p);if(y){let _=y[0];h=h.slice(_.length),b.push(_)}else throw Error("Unexpected dot segment condition")}return b.join("")}function v(h,b){let y=b!==!0?escape:unescape;return h.scheme!==void 0&&(h.scheme=y(h.scheme)),h.userinfo!==void 0&&(h.userinfo=y(h.userinfo)),h.host!==void 0&&(h.host=y(h.host)),h.path!==void 0&&(h.path=y(h.path)),h.query!==void 0&&(h.query=y(h.query)),h.fragment!==void 0&&(h.fragment=y(h.fragment)),h}function g(h){let b=[];if(h.userinfo!==void 0&&(b.push(h.userinfo),b.push("@")),h.host!==void 0){let y=unescape(h.host),_=i(y);if(_.isIPV4)y=_.host;else{let x=a(_.host);x.isIPV6===!0?y=`[${x.escapedHost}]`:y=h.host}b.push(y)}return(typeof h.port=="number"||typeof h.port=="string")&&(b.push(":"),b.push(String(h.port))),b.length?b.join(""):void 0}e.exports={recomposeAuthority:g,normalizeComponentEncoding:v,removeDotSegments:f,normalizeIPv4:i,normalizeIPv6:a,stringArrayToHexStripped:o}}),DG=me((t,e)=>{var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}function o(_){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_}function s(_){let x=String(_.scheme).toLowerCase()==="https";return(_.port===(x?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}function a(_){return _.secure=i(_),_.resourceName=(_.path||"/")+(_.query?"?"+_.query:""),_.path=void 0,_.query=void 0,_}function c(_){if((_.port===(i(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){let[x,w]=_.resourceName.split("?");_.path=x&&x!=="/"?x:void 0,_.query=w,_.resourceName=void 0}return _.fragment=void 0,_}function l(_,x){if(!_.path)return _.error="URN can not be parsed",_;let w=_.path.match(n);if(w){let S=x.scheme||_.scheme||"urn";_.nid=w[1].toLowerCase(),_.nss=w[2];let $=`${S}:${x.nid||_.nid}`,E=y[$];_.path=void 0,E&&(_=E.parse(_,x))}else _.error=_.error||"URN can not be parsed.";return _}function u(_,x){let w=x.scheme||_.scheme||"urn",S=_.nid.toLowerCase(),$=`${w}:${x.nid||S}`,E=y[$];E&&(_=E.serialize(_,x));let N=_,P=_.nss;return N.path=`${S||x.nid}:${P}`,x.skipEscape=!0,N}function d(_,x){let w=_;return w.uuid=w.nss,w.nss=void 0,!x.tolerant&&(!w.uuid||!r.test(w.uuid))&&(w.error=w.error||"UUID is not valid."),w}function m(_){let x=_;return x.nss=(_.uuid||"").toLowerCase(),x}var p={scheme:"http",domainHost:!0,parse:o,serialize:s},f={scheme:"https",domainHost:p.domainHost,parse:o,serialize:s},v={scheme:"ws",domainHost:!0,parse:a,serialize:c},g={scheme:"wss",domainHost:v.domainHost,parse:v.parse,serialize:v.serialize},h={scheme:"urn",parse:l,serialize:u,skipNormalize:!0},b={scheme:"urn:uuid",parse:d,serialize:m,skipNormalize:!0},y={http:p,https:f,ws:v,wss:g,urn:h,"urn:uuid":b};e.exports=y}),zG=me((t,e)=>{var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:s}=jG(),a=DG();function c(b,y){return typeof b=="string"?b=m(g(b,y),y):typeof b=="object"&&(b=g(m(b,y),y)),b}function l(b,y,_){let x=Object.assign({scheme:"null"},_),w=u(g(b,x),g(y,x),x,!0);return m(w,{...x,skipEscape:!0})}function u(b,y,_,x){let w={};return x||(b=g(m(b,_),_),y=g(m(y,_),_)),_=_||{},!_.tolerant&&y.scheme?(w.scheme=y.scheme,w.userinfo=y.userinfo,w.host=y.host,w.port=y.port,w.path=i(y.path||""),w.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(w.userinfo=y.userinfo,w.host=y.host,w.port=y.port,w.path=i(y.path||""),w.query=y.query):(y.path?(y.path.charAt(0)==="/"?w.path=i(y.path):((b.userinfo!==void 0||b.host!==void 0||b.port!==void 0)&&!b.path?w.path="/"+y.path:b.path?w.path=b.path.slice(0,b.path.lastIndexOf("/")+1)+y.path:w.path=y.path,w.path=i(w.path)),w.query=y.query):(w.path=b.path,y.query!==void 0?w.query=y.query:w.query=b.query),w.userinfo=b.userinfo,w.host=b.host,w.port=b.port),w.scheme=b.scheme),w.fragment=y.fragment,w}function d(b,y,_){return typeof b=="string"?(b=unescape(b),b=m(s(g(b,_),!0),{..._,skipEscape:!0})):typeof b=="object"&&(b=m(s(b,!0),{..._,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=m(s(g(y,_),!0),{..._,skipEscape:!0})):typeof y=="object"&&(y=m(s(y,!0),{..._,skipEscape:!0})),b.toLowerCase()===y.toLowerCase()}function m(b,y){let _={host:b.host,scheme:b.scheme,userinfo:b.userinfo,port:b.port,path:b.path,query:b.query,nid:b.nid,nss:b.nss,uuid:b.uuid,fragment:b.fragment,reference:b.reference,resourceName:b.resourceName,secure:b.secure,error:""},x=Object.assign({},y),w=[],S=a[(x.scheme||_.scheme||"").toLowerCase()];S&&S.serialize&&S.serialize(_,x),_.path!==void 0&&(x.skipEscape?_.path=unescape(_.path):(_.path=escape(_.path),_.scheme!==void 0&&(_.path=_.path.split("%3A").join(":")))),x.reference!=="suffix"&&_.scheme&&w.push(_.scheme,":");let $=o(_);if($!==void 0&&(x.reference!=="suffix"&&w.push("//"),w.push($),_.path&&_.path.charAt(0)!=="/"&&w.push("/")),_.path!==void 0){let E=_.path;!x.absolutePath&&(!S||!S.absolutePath)&&(E=i(E)),$===void 0&&(E=E.replace(/^\/\//u,"/%2F")),w.push(E)}return _.query!==void 0&&w.push("?",_.query),_.fragment!==void 0&&w.push("#",_.fragment),w.join("")}var p=Array.from({length:127},(b,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function f(b){let y=0;for(let _=0,x=b.length;_<x;++_)if(y=b.charCodeAt(_),y>126||p[y])return!0;return!1}var v=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function g(b,y){let _=Object.assign({},y),x={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},w=b.indexOf("%")!==-1,S=!1;_.reference==="suffix"&&(b=(_.scheme?_.scheme+":":"")+"//"+b);let $=b.match(v);if($){if(x.scheme=$[1],x.userinfo=$[3],x.host=$[4],x.port=parseInt($[5],10),x.path=$[6]||"",x.query=$[7],x.fragment=$[8],isNaN(x.port)&&(x.port=$[5]),x.host){let N=n(x.host);if(N.isIPV4===!1){let P=r(N.host);x.host=P.host.toLowerCase(),S=P.isIPV6}else x.host=N.host,S=!0}x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&x.query===void 0&&!x.path?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",_.reference&&_.reference!=="suffix"&&_.reference!==x.reference&&(x.error=x.error||"URI is not a "+_.reference+" reference.");let E=a[(_.scheme||x.scheme||"").toLowerCase()];if(!_.unicodeSupport&&(!E||!E.unicodeSupport)&&x.host&&(_.domainHost||E&&E.domainHost)&&S===!1&&f(x.host))try{x.host=URL.domainToASCII(x.host.toLowerCase())}catch(N){x.error=x.error||"Host's domain name can not be converted to ASCII: "+N}(!E||E&&!E.skipNormalize)&&(w&&x.scheme!==void 0&&(x.scheme=unescape(x.scheme)),w&&x.host!==void 0&&(x.host=unescape(x.host)),x.path&&(x.path=escape(unescape(x.path))),x.fragment&&(x.fragment=encodeURI(decodeURIComponent(x.fragment)))),E&&E.parse&&E.parse(x,_)}else x.error=x.error||"URI can not be parsed.";return x}var h={SCHEMES:a,normalize:c,resolve:l,resolveComponents:u,equal:d,serialize:m,parse:g};e.exports=h,e.exports.default=h,e.exports.fastUri=h}),MG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=zG();e.code='require("ajv/dist/runtime/uri").default',t.default=e}),UG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=$m();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Xe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=zx(),i=Em(),o=gA(),s=Mx(),a=Xe(),c=km(),l=um(),u=yt(),d=AG(),m=MG(),p=(G,R)=>new RegExp(G,R);p.code="new RegExp";var f=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function y(G){var R,U,j,k,T,F,Se,le,nt,st,Mt,A,D,B,X,ke,it,xr,Gn,Yr,Qr,wr,Ma,In,qb;let ou=G.strict,Zb=(R=G.code)===null||R===void 0?void 0:R.optimize,zC=Zb===!0||Zb===void 0?1:Zb||0,MC=(j=(U=G.code)===null||U===void 0?void 0:U.regExp)!==null&&j!==void 0?j:p,M9=(k=G.uriResolver)!==null&&k!==void 0?k:m.default;return{strictSchema:(F=(T=G.strictSchema)!==null&&T!==void 0?T:ou)!==null&&F!==void 0?F:!0,strictNumbers:(le=(Se=G.strictNumbers)!==null&&Se!==void 0?Se:ou)!==null&&le!==void 0?le:!0,strictTypes:(st=(nt=G.strictTypes)!==null&&nt!==void 0?nt:ou)!==null&&st!==void 0?st:"log",strictTuples:(A=(Mt=G.strictTuples)!==null&&Mt!==void 0?Mt:ou)!==null&&A!==void 0?A:"log",strictRequired:(B=(D=G.strictRequired)!==null&&D!==void 0?D:ou)!==null&&B!==void 0?B:!1,code:G.code?{...G.code,optimize:zC,regExp:MC}:{optimize:zC,regExp:MC},loopRequired:(X=G.loopRequired)!==null&&X!==void 0?X:b,loopEnum:(ke=G.loopEnum)!==null&&ke!==void 0?ke:b,meta:(it=G.meta)!==null&&it!==void 0?it:!0,messages:(xr=G.messages)!==null&&xr!==void 0?xr:!0,inlineRefs:(Gn=G.inlineRefs)!==null&&Gn!==void 0?Gn:!0,schemaId:(Yr=G.schemaId)!==null&&Yr!==void 0?Yr:"$id",addUsedSchema:(Qr=G.addUsedSchema)!==null&&Qr!==void 0?Qr:!0,validateSchema:(wr=G.validateSchema)!==null&&wr!==void 0?wr:!0,validateFormats:(Ma=G.validateFormats)!==null&&Ma!==void 0?Ma:!0,unicodeRegExp:(In=G.unicodeRegExp)!==null&&In!==void 0?In:!0,int32range:(qb=G.int32range)!==null&&qb!==void 0?qb:!0,uriResolver:M9}}class _{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...y(R)};let{es5:U,lines:j}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:v,es5:U,lines:j}),this.logger=z(R.logger);let k=R.validateFormats;R.validateFormats=!1,this.RULES=(0,o.getRules)(),x.call(this,g,R,"NOT SUPPORTED"),x.call(this,h,R,"DEPRECATED","warn"),this._metaOpts=N.call(this),R.formats&&$.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&E.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),S.call(this),R.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:R,meta:U,schemaId:j}=this.opts,k=d;j==="id"&&(k={...d},k.id=k.$id,delete k.$id),U&&R&&this.addMetaSchema(k,k[j],!1)}defaultMeta(){let{meta:R,schemaId:U}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[U]||R:void 0}validate(R,U){let j;if(typeof R=="string"){if(j=this.getSchema(R),!j)throw Error(`no schema with key or ref "${R}"`)}else j=this.compile(R);let k=j(U);return"$async"in j||(this.errors=j.errors),k}compile(R,U){let j=this._addSchema(R,U);return j.validate||this._compileSchemaEnv(j)}compileAsync(R,U){if(typeof this.opts.loadSchema!="function")throw Error("options.loadSchema should be a function");let{loadSchema:j}=this.opts;return k.call(this,R,U);async function k(st,Mt){await T.call(this,st.$schema);let A=this._addSchema(st,Mt);return A.validate||F.call(this,A)}async function T(st){st&&!this.getSchema(st)&&await k.call(this,{$ref:st},!0)}async function F(st){try{return this._compileSchemaEnv(st)}catch(Mt){if(!(Mt instanceof i.default))throw Mt;return Se.call(this,Mt),await le.call(this,Mt.missingSchema),F.call(this,st)}}function Se({missingSchema:st,missingRef:Mt}){if(this.refs[st])throw Error(`AnySchema ${st} is loaded but ${Mt} cannot be resolved`)}async function le(st){let Mt=await nt.call(this,st);this.refs[st]||await T.call(this,Mt.$schema),this.refs[st]||this.addSchema(Mt,st,U)}async function nt(st){let Mt=this._loading[st];if(Mt)return Mt;try{return await(this._loading[st]=j(st))}finally{delete this._loading[st]}}}addSchema(R,U,j,k=this.opts.validateSchema){if(Array.isArray(R)){for(let F of R)this.addSchema(F,void 0,j,k);return this}let T;if(typeof R=="object"){let{schemaId:F}=this.opts;if(T=R[F],T!==void 0&&typeof T!="string")throw Error(`schema ${F} must be string`)}return U=(0,c.normalizeId)(U||T),this._checkUnique(U),this.schemas[U]=this._addSchema(R,j,U,k,!0),this}addMetaSchema(R,U,j=this.opts.validateSchema){return this.addSchema(R,U,!0,j),this}validateSchema(R,U){if(typeof R=="boolean")return!0;let j;if(j=R.$schema,j!==void 0&&typeof j!="string")throw Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let k=this.validate(j,R);if(!k&&U){let T="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(T);else throw Error(T)}return k}getSchema(R){let U;for(;typeof(U=w.call(this,R))=="string";)R=U;if(U===void 0){let{schemaId:j}=this.opts,k=new s.SchemaEnv({schema:{},schemaId:j});if(U=s.resolveSchema.call(this,k,R),!U)return;this.refs[R]=U}return U.validate||this._compileSchemaEnv(U)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let U=w.call(this,R);return typeof U=="object"&&this._cache.delete(U.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{let U=R;this._cache.delete(U);let j=R[this.opts.schemaId];return j&&(j=(0,c.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(let U of R)this.addKeyword(U);return this}addKeyword(R,U){let j;if(typeof R=="string")j=R,typeof U=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),U.keyword=j);else if(typeof R=="object"&&U===void 0){if(U=R,j=U.keyword,Array.isArray(j)&&!j.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(H.call(this,j,U),!U)return(0,u.eachItem)(j,T=>re.call(this,T)),this;fe.call(this,U);let k={...U,type:(0,l.getJSONTypes)(U.type),schemaType:(0,l.getJSONTypes)(U.schemaType)};return(0,u.eachItem)(j,k.type.length===0?T=>re.call(this,T,k):T=>k.type.forEach(F=>re.call(this,T,k,F))),this}getKeyword(R){let U=this.RULES.all[R];return typeof U=="object"?U.definition:!!U}removeKeyword(R){let{RULES:U}=this;delete U.keywords[R],delete U.all[R];for(let j of U.rules){let k=j.rules.findIndex(T=>T.keyword===R);k>=0&&j.rules.splice(k,1)}return this}addFormat(R,U){return typeof U=="string"&&(U=new RegExp(U)),this.formats[R]=U,this}errorsText(R=this.errors,{separator:U=", ",dataVar:j="data"}={}){return!R||R.length===0?"No errors":R.map(k=>`${j}${k.instancePath} ${k.message}`).reduce((k,T)=>k+U+T)}$dataMetaSchema(R,U){let j=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(let k of U){let T=k.split("/").slice(1),F=R;for(let Se of T)F=F[Se];for(let Se in j){let le=j[Se];if(typeof le!="object")continue;let{$data:nt}=le.definition,st=F[Se];nt&&st&&(F[Se]=Ne(st))}}return R}_removeAllSchemas(R,U){for(let j in R){let k=R[j];(!U||U.test(j))&&(typeof k=="string"?delete R[j]:k&&!k.meta&&(this._cache.delete(k.schema),delete R[j]))}}_addSchema(R,U,j,k=this.opts.validateSchema,T=this.opts.addUsedSchema){let F,{schemaId:Se}=this.opts;if(typeof R=="object")F=R[Se];else{if(this.opts.jtd)throw Error("schema must be object");if(typeof R!="boolean")throw Error("schema must be object or boolean")}let le=this._cache.get(R);if(le!==void 0)return le;j=(0,c.normalizeId)(F||j);let nt=c.getSchemaRefs.call(this,R,j);return le=new s.SchemaEnv({schema:R,schemaId:Se,meta:U,baseId:j,localRefs:nt}),this._cache.set(le.schema,le),T&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=le),k&&this.validateSchema(R,!0),le}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):s.compileSchema.call(this,R),!R.validate)throw Error("ajv implementation error");return R.validate}_compileMetaSchema(R){let U=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,R)}finally{this.opts=U}}}_.ValidationError=n.default,_.MissingRefError=i.default,t.default=_;function x(G,R,U,j="error"){for(let k in G){let T=k;T in R&&this.logger[j](`${U}: option ${k}. ${G[T]}`)}}function w(G){return G=(0,c.normalizeId)(G),this.schemas[G]||this.refs[G]}function S(){let G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(let R in G)this.addSchema(G[R],R)}function $(){for(let G in this.opts.formats){let R=this.opts.formats[G];R&&this.addFormat(G,R)}}function E(G){if(Array.isArray(G)){this.addVocabulary(G);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let R in G){let U=G[R];U.keyword||(U.keyword=R),this.addKeyword(U)}}function N(){let G={...this.opts};for(let R of f)delete G[R];return G}var P={log(){},warn(){},error(){}};function z(G){if(G===!1)return P;if(G===void 0)return console;if(G.log&&G.warn&&G.error)return G;throw Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function H(G,R){let{RULES:U}=this;if((0,u.eachItem)(G,j=>{if(U.keywords[j])throw Error(`Keyword ${j} is already defined`);if(!V.test(j))throw Error(`Keyword ${j} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw Error('$data keyword must have "code" or "validate" function')}function re(G,R,U){var j;let k=R?.post;if(U&&k)throw Error('keyword with "post" flag cannot have "type"');let{RULES:T}=this,F=k?T.post:T.rules.find(({type:le})=>le===U);if(F||(F={type:U,rules:[]},T.rules.push(F)),T.keywords[G]=!0,!R)return;let Se={keyword:G,definition:{...R,type:(0,l.getJSONTypes)(R.type),schemaType:(0,l.getJSONTypes)(R.schemaType)}};R.before?Pe.call(this,F,Se,R.before):F.rules.push(Se),T.all[G]=Se,(j=R.implements)===null||j===void 0||j.forEach(le=>this.addKeyword(le))}function Pe(G,R,U){let j=G.rules.findIndex(k=>k.keyword===U);j>=0?G.rules.splice(j,0,R):(G.rules.push(R),this.logger.warn(`rule ${U} is not defined`))}function fe(G){let{metaSchema:R}=G;R!==void 0&&(G.$data&&this.opts.$data&&(R=Ne(R)),G.validateSchema=this.compile(R,!0))}var we={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ne(G){return{anyOf:[G,we]}}}),LG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=e}),FG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;var e=Em(),r=ti(),n=Xe(),i=Lo(),o=Mx(),s=yt(),a={keyword:"$ref",schemaType:"string",code(u){let{gen:d,schema:m,it:p}=u,{baseId:f,schemaEnv:v,validateName:g,opts:h,self:b}=p,{root:y}=v;if((m==="#"||m==="#/")&&f===y.baseId)return x();let _=o.resolveRef.call(b,y,f,m);if(_===void 0)throw new e.default(p.opts.uriResolver,f,m);if(_ instanceof o.SchemaEnv)return w(_);return S(_);function x(){if(v===y)return l(u,g,v,v.$async);let $=d.scopeValue("root",{ref:y});return l(u,n._`${$}.validate`,y,y.$async)}function w($){let E=c(u,$);l(u,E,$,$.$async)}function S($){let E=d.scopeValue("schema",h.code.source===!0?{ref:$,code:(0,n.stringify)($)}:{ref:$}),N=d.name("valid"),P=u.subschema({schema:$,dataTypes:[],schemaPath:n.nil,topSchemaRef:E,errSchemaPath:m},N);u.mergeEvaluated(P),u.ok(N)}}};function c(u,d){let{gen:m}=u;return d.validate?m.scopeValue("validate",{ref:d.validate}):n._`${m.scopeValue("wrapper",{ref:d})}.validate`}t.getValidate=c;function l(u,d,m,p){let{gen:f,it:v}=u,{allErrors:g,schemaEnv:h,opts:b}=v,y=b.passContext?i.default.this:n.nil;p?_():x();function _(){if(!h.$async)throw Error("async schema referenced by sync schema");let $=f.let("valid");f.try(()=>{f.code(n._`await ${(0,r.callValidateCode)(u,d,y)}`),S(d),!g&&f.assign($,!0)},E=>{f.if(n._`!(${E} instanceof ${v.ValidationError})`,()=>f.throw(E)),w(E),!g&&f.assign($,!1)}),u.ok($)}function x(){u.result((0,r.callValidateCode)(u,d,y),()=>S(d),()=>w(d))}function w($){let E=n._`${$}.errors`;f.assign(i.default.vErrors,n._`${i.default.vErrors} === null ? ${E} : ${i.default.vErrors}.concat(${E})`),f.assign(i.default.errors,n._`${i.default.vErrors}.length`)}function S($){var E;if(!v.opts.unevaluated)return;let N=(E=m?.validate)===null||E===void 0?void 0:E.evaluated;if(v.props!==!0)if(N&&!N.dynamicProps)N.props!==void 0&&(v.props=s.mergeEvaluated.props(f,N.props,v.props));else{let P=f.var("props",n._`${$}.evaluated.props`);v.props=s.mergeEvaluated.props(f,P,v.props,n.Name)}if(v.items!==!0)if(N&&!N.dynamicItems)N.items!==void 0&&(v.items=s.mergeEvaluated.items(f,N.items,v.items));else{let P=f.var("items",n._`${$}.evaluated.items`);v.items=s.mergeEvaluated.items(f,P,v.items,n.Name)}}}t.callRef=l,t.default=a}),qG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=LG(),r=FG(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];t.default=n}),ZG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=e.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>e.str`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>e._`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){let{keyword:a,data:c,schemaCode:l}=s;s.fail$data(e._`${c} ${n[a].fail} ${l} || isNaN(${c})`)}};t.default=o}),BG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r={message:({schemaCode:i})=>e.str`must be multiple of ${i}`,params:({schemaCode:i})=>e._`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){let{gen:o,data:s,schemaCode:a,it:c}=i,l=c.opts.multipleOfPrecision,u=o.let("res"),d=l?e._`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:e._`${u} !== parseInt(${u})`;i.fail$data(e._`(${a} === 0 || (${u} = ${s}/${a}, ${d}))`)}};t.default=n}),VG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});function e(r){let n=r.length,i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}t.default=e,e.code='require("ajv/dist/runtime/ucs2length").default'}),HG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n=VG(),i={message({keyword:s,schemaCode:a}){let c=s==="maxLength"?"more":"fewer";return e.str`must NOT have ${c} than ${a} characters`},params:({schemaCode:s})=>e._`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){let{keyword:a,data:c,schemaCode:l,it:u}=s,d=a==="maxLength"?e.operators.GT:e.operators.LT,m=u.opts.unicode===!1?e._`${c}.length`:e._`${(0,r.useFunc)(s.gen,n.default)}(${c})`;s.fail$data(e._`${m} ${d} ${l}`)}};t.default=o}),WG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=ti(),r=Xe(),n={message:({schemaCode:o})=>r.str`must match pattern "${o}"`,params:({schemaCode:o})=>r._`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){let{data:s,$data:a,schema:c,schemaCode:l,it:u}=o,d=u.opts.unicodeRegExp?"u":"",m=a?r._`(new RegExp(${l}, ${d}))`:(0,e.usePattern)(o,c);o.fail$data(r._`!${m}.test(${s})`)}};t.default=i}),GG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r={message({keyword:i,schemaCode:o}){let s=i==="maxProperties"?"more":"fewer";return e.str`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>e._`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){let{keyword:o,data:s,schemaCode:a}=i,c=o==="maxProperties"?e.operators.GT:e.operators.LT;i.fail$data(e._`Object.keys(${s}).length ${c} ${a}`)}};t.default=n}),JG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=ti(),r=Xe(),n=yt(),i={message:({params:{missingProperty:s}})=>r.str`must have required property '${s}'`,params:({params:{missingProperty:s}})=>r._`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){let{gen:a,schema:c,schemaCode:l,data:u,$data:d,it:m}=s,{opts:p}=m;if(!d&&c.length===0)return;let f=c.length>=p.loopRequired;if(m.allErrors?v():g(),p.strictRequired){let y=s.parentSchema.properties,{definedProperties:_}=s.it;for(let x of c)if(y?.[x]===void 0&&!_.has(x)){let w=m.schemaEnv.baseId+m.errSchemaPath,S=`required property "${x}" is not defined at "${w}" (strictRequired)`;(0,n.checkStrictMode)(m,S,m.opts.strictRequired)}}function v(){if(f||d)s.block$data(r.nil,h);else for(let y of c)(0,e.checkReportMissingProp)(s,y)}function g(){let y=a.let("missing");if(f||d){let _=a.let("valid",!0);s.block$data(_,()=>b(y,_)),s.ok(_)}else a.if((0,e.checkMissingProp)(s,c,y)),(0,e.reportMissingProp)(s,y),a.else()}function h(){a.forOf("prop",l,y=>{s.setParams({missingProperty:y}),a.if((0,e.noPropertyInData)(a,u,y,p.ownProperties),()=>s.error())})}function b(y,_){s.setParams({missingProperty:y}),a.forOf(y,l,()=>{a.assign(_,(0,e.propertyInData)(a,u,y,p.ownProperties)),a.if((0,r.not)(_),()=>{s.error(),a.break()})},r.nil)}}};t.default=o}),KG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r={message({keyword:i,schemaCode:o}){let s=i==="maxItems"?"more":"fewer";return e.str`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>e._`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){let{keyword:o,data:s,schemaCode:a}=i,c=o==="maxItems"?e.operators.GT:e.operators.LT;i.fail$data(e._`${s}.length ${c} ${a}`)}};t.default=n}),Ux=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=yA();e.code='require("ajv/dist/runtime/equal").default',t.default=e}),YG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=um(),r=Xe(),n=yt(),i=Ux(),o={message:({params:{i:a,j:c}})=>r.str`must NOT have duplicate items (items ## ${c} and ${a} are identical)`,params:({params:{i:a,j:c}})=>r._`{i: ${a}, j: ${c}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){let{gen:c,data:l,$data:u,schema:d,parentSchema:m,schemaCode:p,it:f}=a;if(!u&&!d)return;let v=c.let("valid"),g=m.items?(0,e.getSchemaTypes)(m.items):[];a.block$data(v,h,r._`${p} === false`),a.ok(v);function h(){let x=c.let("i",r._`${l}.length`),w=c.let("j");a.setParams({i:x,j:w}),c.assign(v,!0),c.if(r._`${x} > 1`,()=>(b()?y:_)(x,w))}function b(){return g.length>0&&!g.some(x=>x==="object"||x==="array")}function y(x,w){let S=c.name("item"),$=(0,e.checkDataTypes)(g,S,f.opts.strictNumbers,e.DataType.Wrong),E=c.const("indices",r._`{}`);c.for(r._`;${x}--;`,()=>{c.let(S,r._`${l}[${x}]`),c.if($,r._`continue`),g.length>1&&c.if(r._`typeof ${S} == "string"`,r._`${S} += "_"`),c.if(r._`typeof ${E}[${S}] == "number"`,()=>{c.assign(w,r._`${E}[${S}]`),a.error(),c.assign(v,!1).break()}).code(r._`${E}[${S}] = ${x}`)})}function _(x,w){let S=(0,n.useFunc)(c,i.default),$=c.name("outer");c.label($).for(r._`;${x}--;`,()=>c.for(r._`${w} = ${x}; ${w}--;`,()=>c.if(r._`${S}(${l}[${x}], ${l}[${w}])`,()=>{a.error(),c.assign(v,!1).break($)})))}}};t.default=s}),QG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n=Ux(),i={message:"must be equal to constant",params:({schemaCode:s})=>e._`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){let{gen:a,data:c,$data:l,schemaCode:u,schema:d}=s;l||d&&typeof d=="object"?s.fail$data(e._`!${(0,r.useFunc)(a,n.default)}(${c}, ${u})`):s.fail(e._`${d} !== ${c}`)}};t.default=o}),XG=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n=Ux(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>e._`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){let{gen:a,data:c,$data:l,schema:u,schemaCode:d,it:m}=s;if(!l&&u.length===0)throw Error("enum must have non-empty array");let p=u.length>=m.opts.loopEnum,f,v=()=>f??(f=(0,r.useFunc)(a,n.default)),g;if(p||l)g=a.let("valid"),s.block$data(g,h);else{if(!Array.isArray(u))throw Error("ajv implementation error");let y=a.const("vSchema",d);g=(0,e.or)(...u.map((_,x)=>b(y,x)))}s.pass(g);function h(){a.assign(g,!1),a.forOf("v",d,y=>a.if(e._`${v()}(${c}, ${y})`,()=>a.assign(g,!0).break()))}function b(y,_){let x=u[_];return typeof x=="object"&&x!==null?e._`${v()}(${c}, ${y}[${_}])`:e._`${c} === ${x}`}}};t.default=o}),eJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=ZG(),r=BG(),n=HG(),i=WG(),o=GG(),s=JG(),a=KG(),c=YG(),l=QG(),u=XG(),d=[e.default,r.default,n.default,i.default,o.default,s.default,a.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];t.default=d}),bA=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;var e=Xe(),r=yt(),n={message:({params:{len:s}})=>e.str`must NOT have more than ${s} items`,params:({params:{len:s}})=>e._`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){let{parentSchema:a,it:c}=s,{items:l}=a;if(!Array.isArray(l)){(0,r.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,l)}};function o(s,a){let{gen:c,schema:l,data:u,keyword:d,it:m}=s;m.items=!0;let p=c.const("len",e._`${u}.length`);if(l===!1)s.setParams({len:a.length}),s.pass(e._`${p} <= ${a.length}`);else if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){let v=c.var("valid",e._`${p} <= ${a.length}`);c.if((0,e.not)(v),()=>f(v)),s.ok(v)}function f(v){c.forRange("i",a.length,p,g=>{s.subschema({keyword:d,dataProp:g,dataPropType:r.Type.Num},v),!m.allErrors&&c.if((0,e.not)(v),()=>c.break())})}}t.validateAdditionalItems=o,t.default=i}),_A=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;var e=Xe(),r=yt(),n=ti(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){let{schema:a,it:c}=s;if(Array.isArray(a))return o(s,"additionalItems",a);c.items=!0,!(0,r.alwaysValidSchema)(c,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,c=s.schema){let{gen:l,parentSchema:u,data:d,keyword:m,it:p}=s;g(u),p.opts.unevaluated&&c.length&&p.items!==!0&&(p.items=r.mergeEvaluated.items(l,c.length,p.items));let f=l.name("valid"),v=l.const("len",e._`${d}.length`);c.forEach((h,b)=>{(0,r.alwaysValidSchema)(p,h)||(l.if(e._`${v} > ${b}`,()=>s.subschema({keyword:m,schemaProp:b,dataProp:b},f)),s.ok(f))});function g(h){let{opts:b,errSchemaPath:y}=p,_=c.length,x=_===h.minItems&&(_===h.maxItems||h[a]===!1);if(b.strictTuples&&!x){let w=`"${m}" is ${_}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(p,w,b.strictTuples)}}}t.validateTuple=o,t.default=i}),tJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=_A(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};t.default=r}),rJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n=ti(),i=bA(),o={message:({params:{len:a}})=>e.str`must NOT have more than ${a} items`,params:({params:{len:a}})=>e._`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){let{schema:c,parentSchema:l,it:u}=a,{prefixItems:d}=l;u.items=!0,!(0,r.alwaysValidSchema)(u,c)&&(d?(0,i.validateAdditionalItems)(a,d):a.ok((0,n.validateArray)(a)))}};t.default=s}),nJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n={message:({params:{min:o,max:s}})=>s===void 0?e.str`must contain at least ${o} valid item(s)`:e.str`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?e._`{minContains: ${o}}`:e._`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){let{gen:s,schema:a,parentSchema:c,data:l,it:u}=o,d,m,{minContains:p,maxContains:f}=c;u.opts.next?(d=p===void 0?1:p,m=f):d=1;let v=s.const("len",e._`${l}.length`);if(o.setParams({min:d,max:m}),m===void 0&&d===0){(0,r.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(m!==void 0&&d>m){(0,r.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(u,a)){let _=e._`${v} >= ${d}`;m!==void 0&&(_=e._`${_} && ${v} <= ${m}`),o.pass(_);return}u.items=!0;let g=s.name("valid");m===void 0&&d===1?b(g,()=>s.if(g,()=>s.break())):d===0?(s.let(g,!0),m!==void 0&&s.if(e._`${l}.length > 0`,h)):(s.let(g,!1),h()),o.result(g,()=>o.reset());function h(){let _=s.name("_valid"),x=s.let("count",0);b(_,()=>s.if(_,()=>y(x)))}function b(_,x){s.forRange("i",0,v,w=>{o.subschema({keyword:"contains",dataProp:w,dataPropType:r.Type.Num,compositeRule:!0},_),x()})}function y(_){s.code(e._`${_}++`),m===void 0?s.if(e._`${_} >= ${d}`,()=>s.assign(g,!0).break()):(s.if(e._`${_} > ${m}`,()=>s.assign(g,!1).break()),d===1?s.assign(g,!0):s.if(e._`${_} >= ${d}`,()=>s.assign(g,!0)))}}};t.default=i}),iJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;var e=Xe(),r=yt(),n=ti();t.error={message:({params:{property:c,depsCount:l,deps:u}})=>{let d=l===1?"property":"properties";return e.str`must have ${d} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:d}})=>e._`{property: ${c},
    missingProperty: ${d},
    depsCount: ${l},
    deps: ${u}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){let[l,u]=o(c);s(c,l),a(c,u)}};function o({schema:c}){let l={},u={};for(let d in c){if(d==="__proto__")continue;let m=Array.isArray(c[d])?l:u;m[d]=c[d]}return[l,u]}function s(c,l=c.schema){let{gen:u,data:d,it:m}=c;if(Object.keys(l).length===0)return;let p=u.let("missing");for(let f in l){let v=l[f];if(v.length===0)continue;let g=(0,n.propertyInData)(u,d,f,m.opts.ownProperties);c.setParams({property:f,depsCount:v.length,deps:v.join(", ")}),m.allErrors?u.if(g,()=>{for(let h of v)(0,n.checkReportMissingProp)(c,h)}):(u.if(e._`${g} && (${(0,n.checkMissingProp)(c,v,p)})`),(0,n.reportMissingProp)(c,p),u.else())}}t.validatePropertyDeps=s;function a(c,l=c.schema){let{gen:u,data:d,keyword:m,it:p}=c,f=u.name("valid");for(let v in l)(0,r.alwaysValidSchema)(p,l[v])||(u.if((0,n.propertyInData)(u,d,v,p.opts.ownProperties),()=>{let g=c.subschema({keyword:m,schemaProp:v},f);c.mergeValidEvaluated(g,f)},()=>u.var(f,!0)),c.ok(f))}t.validateSchemaDeps=a,t.default=i}),oJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n={message:"property name must be valid",params:({params:o})=>e._`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){let{gen:s,schema:a,data:c,it:l}=o;if((0,r.alwaysValidSchema)(l,a))return;let u=s.name("valid");s.forIn("key",c,d=>{o.setParams({propertyName:d}),o.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},u),s.if((0,e.not)(u),()=>{o.error(!0),!l.allErrors&&s.break()})}),o.ok(u)}};t.default=i}),xA=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=ti(),r=Xe(),n=Lo(),i=yt(),o={message:"must NOT have additional properties",params:({params:a})=>r._`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){let{gen:c,schema:l,parentSchema:u,data:d,errsCount:m,it:p}=a;if(!m)throw Error("ajv implementation error");let{allErrors:f,opts:v}=p;if(p.props=!0,v.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(p,l))return;let g=(0,e.allSchemaProperties)(u.properties),h=(0,e.allSchemaProperties)(u.patternProperties);b(),a.ok(r._`${m} === ${n.default.errors}`);function b(){c.forIn("key",d,S=>{!g.length&&!h.length?x(S):c.if(y(S),()=>x(S))})}function y(S){let $;if(g.length>8){let E=(0,i.schemaRefOrVal)(p,u.properties,"properties");$=(0,e.isOwnProperty)(c,E,S)}else g.length?$=(0,r.or)(...g.map(E=>r._`${S} === ${E}`)):$=r.nil;return h.length&&($=(0,r.or)($,...h.map(E=>r._`${(0,e.usePattern)(a,E)}.test(${S})`))),(0,r.not)($)}function _(S){c.code(r._`delete ${d}[${S}]`)}function x(S){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1){_(S);return}if(l===!1){a.setParams({additionalProperty:S}),a.error(),!f&&c.break();return}if(typeof l=="object"&&!(0,i.alwaysValidSchema)(p,l)){let $=c.name("valid");v.removeAdditional==="failing"?(w(S,$,!1),c.if((0,r.not)($),()=>{a.reset(),_(S)})):(w(S,$),!f&&c.if((0,r.not)($),()=>c.break()))}}function w(S,$,E){let N={keyword:"additionalProperties",dataProp:S,dataPropType:i.Type.Str};E===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(N,$)}}};t.default=s}),sJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=$m(),r=ti(),n=yt(),i=xA(),o={keyword:"properties",type:"object",schemaType:"object",code(s){let{gen:a,schema:c,parentSchema:l,data:u,it:d}=s;d.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&i.default.code(new e.KeywordCxt(d,i.default,"additionalProperties"));let m=(0,r.allSchemaProperties)(c);for(let h of m)d.definedProperties.add(h);d.opts.unevaluated&&m.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(a,(0,n.toHash)(m),d.props));let p=m.filter(h=>!(0,n.alwaysValidSchema)(d,c[h]));if(p.length===0)return;let f=a.name("valid");for(let h of p)v(h)?g(h):(a.if((0,r.propertyInData)(a,u,h,d.opts.ownProperties)),g(h),!d.allErrors&&a.else().var(f,!0),a.endIf()),s.it.definedProperties.add(h),s.ok(f);function v(h){return d.opts.useDefaults&&!d.compositeRule&&c[h].default!==void 0}function g(h){s.subschema({keyword:"properties",schemaProp:h,dataProp:h},f)}}};t.default=o}),aJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=ti(),r=Xe(),n=yt(),i=yt(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){let{gen:a,schema:c,data:l,parentSchema:u,it:d}=s,{opts:m}=d,p=(0,e.allSchemaProperties)(c),f=p.filter(x=>(0,n.alwaysValidSchema)(d,c[x]));if(p.length===0||f.length===p.length&&(!d.opts.unevaluated||d.props===!0))return;let v=m.strictSchema&&!m.allowMatchingProperties&&u.properties,g=a.name("valid");d.props!==!0&&!(d.props instanceof r.Name)&&(d.props=(0,i.evaluatedPropsToName)(a,d.props));let{props:h}=d;b();function b(){for(let x of p)v&&y(x),d.allErrors?_(x):(a.var(g,!0),_(x),a.if(g))}function y(x){for(let w in v)new RegExp(x).test(w)&&(0,n.checkStrictMode)(d,`property ${w} matches pattern ${x} (use allowMatchingProperties)`)}function _(x){a.forIn("key",l,w=>{a.if(r._`${(0,e.usePattern)(s,x)}.test(${w})`,()=>{let S=f.includes(x);S||s.subschema({keyword:"patternProperties",schemaProp:x,dataProp:w,dataPropType:i.Type.Str},g),d.opts.unevaluated&&h!==!0?a.assign(r._`${h}[${w}]`,!0):!S&&!d.allErrors&&a.if((0,r.not)(g),()=>a.break())})})}}};t.default=o}),cJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=yt(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){let{gen:i,schema:o,it:s}=n;if((0,e.alwaysValidSchema)(s,o)){n.fail();return}let a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};t.default=r}),lJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=ti(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e.validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r}),uJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>e._`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){let{gen:s,schema:a,parentSchema:c,it:l}=o;if(!Array.isArray(a))throw Error("ajv implementation error");if(l.opts.discriminator&&c.discriminator)return;let u=a,d=s.let("valid",!1),m=s.let("passing",null),p=s.name("_valid");o.setParams({passing:m}),s.block(f),o.result(d,()=>o.reset(),()=>o.error(!0));function f(){u.forEach((v,g)=>{let h;(0,r.alwaysValidSchema)(l,v)?s.var(p,!0):h=o.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},p),g>0&&s.if(e._`${p} && ${d}`).assign(d,!1).assign(m,e._`[${m}, ${g}]`).else(),s.if(p,()=>{s.assign(d,!0),s.assign(m,g),h&&o.mergeEvaluated(h,e.Name)})})}}};t.default=i}),dJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=yt(),r={keyword:"allOf",schemaType:"array",code(n){let{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw Error("ajv implementation error");let a=i.name("valid");o.forEach((c,l)=>{if((0,e.alwaysValidSchema)(s,c))return;let u=n.subschema({keyword:"allOf",schemaProp:l},a);n.ok(a),n.mergeEvaluated(u)})}};t.default=r}),pJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=yt(),n={message:({params:s})=>e.str`must match "${s.ifClause}" schema`,params:({params:s})=>e._`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){let{gen:a,parentSchema:c,it:l}=s;c.then===void 0&&c.else===void 0&&(0,r.checkStrictMode)(l,'"if" without "then" and "else" is ignored');let u=o(l,"then"),d=o(l,"else");if(!u&&!d)return;let m=a.let("valid",!0),p=a.name("_valid");if(f(),s.reset(),u&&d){let g=a.let("ifClause");s.setParams({ifClause:g}),a.if(p,v("then",g),v("else",g))}else u?a.if(p,v("then")):a.if((0,e.not)(p),v("else"));s.pass(m,()=>s.error(!0));function f(){let g=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},p);s.mergeEvaluated(g)}function v(g,h){return()=>{let b=s.subschema({keyword:g},p);a.assign(m,p),s.mergeValidEvaluated(b,m),h?a.assign(h,e._`${g}`):s.setParams({ifClause:g})}}}};function o(s,a){let c=s.schema[a];return c!==void 0&&!(0,r.alwaysValidSchema)(s,c)}t.default=i}),fJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=yt(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,e.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};t.default=r}),mJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=bA(),r=tJ(),n=_A(),i=rJ(),o=nJ(),s=iJ(),a=oJ(),c=xA(),l=sJ(),u=aJ(),d=cJ(),m=lJ(),p=uJ(),f=dJ(),v=pJ(),g=fJ();function h(b=!1){let y=[d.default,m.default,p.default,f.default,v.default,g.default,a.default,c.default,s.default,l.default,u.default];return b?y.push(r.default,i.default):y.push(e.default,n.default),y.push(o.default),y}t.default=h}),hJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r={message:({schemaCode:i})=>e.str`must match format "${i}"`,params:({schemaCode:i})=>e._`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){let{gen:s,data:a,$data:c,schema:l,schemaCode:u,it:d}=i,{opts:m,errSchemaPath:p,schemaEnv:f,self:v}=d;if(!m.validateFormats)return;c?g():h();function g(){let b=s.scopeValue("formats",{ref:v.formats,code:m.code.formats}),y=s.const("fDef",e._`${b}[${u}]`),_=s.let("fType"),x=s.let("format");s.if(e._`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(_,e._`${y}.type || "string"`).assign(x,e._`${y}.validate`),()=>s.assign(_,e._`"string"`).assign(x,y)),i.fail$data((0,e.or)(w(),S()));function w(){return m.strictSchema===!1?e.nil:e._`${u} && !${x}`}function S(){let $=f.$async?e._`(${y}.async ? await ${x}(${a}) : ${x}(${a}))`:e._`${x}(${a})`,E=e._`(typeof ${x} == "function" ? ${$} : ${x}.test(${a}))`;return e._`${x} && ${x} !== true && ${_} === ${o} && !${E}`}}function h(){let b=v.formats[l];if(!b){w();return}if(b===!0)return;let[y,_,x]=S(b);y===o&&i.pass($());function w(){if(m.strictSchema===!1){v.logger.warn(E());return}throw Error(E());function E(){return`unknown format "${l}" ignored in schema at path "${p}"`}}function S(E){let N=E instanceof RegExp?(0,e.regexpCode)(E):m.code.formats?e._`${m.code.formats}${(0,e.getProperty)(l)}`:void 0,P=s.scopeValue("formats",{key:l,ref:E,code:N});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,e._`${P}.validate`]:["string",E,P]}function $(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!f.$async)throw Error("async format in sync schema");return e._`await ${x}(${a})`}return typeof _=="function"?e._`${x}(${a})`:e._`${x}.test(${a})`}}}};t.default=n}),gJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=hJ(),r=[e.default];t.default=r}),vJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),yJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=qG(),r=eJ(),n=mJ(),i=gJ(),o=vJ(),s=[e.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];t.default=s}),bJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0;var e;(function(r){r.Tag="tag",r.Mapping="mapping"})(e||(t.DiscrError=e={}))}),_J=me(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Xe(),r=bJ(),n=Mx(),i=Em(),o=yt(),s={message:({params:{discrError:c,tagName:l}})=>c===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:c,tag:l,tagName:u}})=>e._`{error: ${c}, tag: ${u}, tagValue: ${l}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(c){let{gen:l,data:u,schema:d,parentSchema:m,it:p}=c,{oneOf:f}=m;if(!p.opts.discriminator)throw Error("discriminator: requires discriminator option");let v=d.propertyName;if(typeof v!="string")throw Error("discriminator: requires propertyName");if(d.mapping)throw Error("discriminator: mapping is not supported");if(!f)throw Error("discriminator: requires oneOf keyword");let g=l.let("valid",!1),h=l.const("tag",e._`${u}${(0,e.getProperty)(v)}`);l.if(e._`typeof ${h} == "string"`,()=>b(),()=>c.error(!1,{discrError:r.DiscrError.Tag,tag:h,tagName:v})),c.ok(g);function b(){let x=_();l.if(!1);for(let w in x)l.elseIf(e._`${h} === ${w}`),l.assign(g,y(x[w]));l.else(),c.error(!1,{discrError:r.DiscrError.Mapping,tag:h,tagName:v}),l.endIf()}function y(x){let w=l.name("valid"),S=c.subschema({keyword:"oneOf",schemaProp:x},w);return c.mergeEvaluated(S,e.Name),w}function _(){var x;let w={},S=E(m),$=!0;for(let z=0;z<f.length;z++){let V=f[z];if(V?.$ref&&!(0,o.schemaHasRulesButRef)(V,p.self.RULES)){let re=V.$ref;if(V=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,re),V instanceof n.SchemaEnv&&(V=V.schema),V===void 0)throw new i.default(p.opts.uriResolver,p.baseId,re)}let H=(x=V?.properties)===null||x===void 0?void 0:x[v];if(typeof H!="object")throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${v}"`);$=$&&(S||E(V)),N(H,z)}if(!$)throw Error(`discriminator: "${v}" must be required`);return w;function E({required:z}){return Array.isArray(z)&&z.includes(v)}function N(z,V){if(z.const)P(z.const,V);else if(z.enum)for(let H of z.enum)P(H,V);else throw Error(`discriminator: "properties/${v}" must have "const" or "enum"`)}function P(z,V){if(typeof z!="string"||z in w)throw Error(`discriminator: "${v}" values must be unique strings`);w[z]=V}}}};t.default=a}),xJ=me((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),wA=me((t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;var r=UG(),n=yJ(),i=_J(),o=xJ(),s=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(f=>this.addVocabulary(f)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let f=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(f,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=$m();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=Xe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=zx();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var m=Em();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}),wJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(P,z){return{validate:P,compare:z}}t.fullFormats={date:e(o,s),time:e(c(!0),l),"date-time":e(m(!0),p),"iso-time":e(c(),u),"iso-date-time":e(m(),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:N,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:w},int64:{type:"number",validate:S},float:{type:"number",validate:$},double:{type:"number",validate:$},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(P){return P%4===0&&(P%100!==0||P%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(P){let z=n.exec(P);if(!z)return!1;let V=+z[1],H=+z[2],re=+z[3];return H>=1&&H<=12&&re>=1&&re<=(H===2&&r(V)?29:i[H])}function s(P,z){if(P&&z)return P>z?1:P<z?-1:0}var a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(P){return function(z){let V=a.exec(z);if(!V)return!1;let H=+V[1],re=+V[2],Pe=+V[3],fe=V[4],we=V[5]==="-"?-1:1,Ne=+(V[6]||0),G=+(V[7]||0);if(Ne>23||G>59||P&&!fe)return!1;if(H<=23&&re<=59&&Pe<60)return!0;let R=re-G*we,U=H-Ne*we-(R<0?1:0);return(U===23||U===-1)&&(R===59||R===-1)&&Pe<61}}function l(P,z){if(!(P&&z))return;let V=new Date("2020-01-01T"+P).valueOf(),H=new Date("2020-01-01T"+z).valueOf();if(V&&H)return V-H}function u(P,z){if(!(P&&z))return;let V=a.exec(P),H=a.exec(z);if(V&&H)return P=V[1]+V[2]+V[3],z=H[1]+H[2]+H[3],P>z?1:P<z?-1:0}var d=/t|\s/i;function m(P){let z=c(P);return function(V){let H=V.split(d);return H.length===2&&o(H[0])&&z(H[1])}}function p(P,z){if(!(P&&z))return;let V=new Date(P).valueOf(),H=new Date(z).valueOf();if(V&&H)return V-H}function f(P,z){if(!(P&&z))return;let[V,H]=P.split(d),[re,Pe]=z.split(d),fe=s(V,re);if(fe!==void 0)return fe||l(H,Pe)}var v=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(P){return v.test(P)&&g.test(P)}var b=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(P){return b.lastIndex=0,b.test(P)}var _=-2147483648,x=2147483647;function w(P){return Number.isInteger(P)&&P<=x&&P>=_}function S(P){return Number.isInteger(P)}function $(){return!0}var E=/[^\\]\\Z/;function N(P){if(E.test(P))return!1;try{return new RegExp(P),!0}catch{return!1}}}),SJ=me(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;var e=wA(),r=Xe(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:c})=>r.str`should be ${i[a].okStr} ${c}`,params:({keyword:a,schemaCode:c})=>r._`{comparison: ${i[a].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){let{gen:c,data:l,schemaCode:u,keyword:d,it:m}=a,{opts:p,self:f}=m;if(!p.validateFormats)return;let v=new e.KeywordCxt(m,f.RULES.all.format.definition,"format");v.$data?g():h();function g(){let y=c.scopeValue("formats",{ref:f.formats,code:p.code.formats}),_=c.const("fmt",r._`${y}[${v.schemaCode}]`);a.fail$data((0,r.or)(r._`typeof ${_} != "object"`,r._`${_} instanceof RegExp`,r._`typeof ${_}.compare != "function"`,b(_)))}function h(){let y=v.schema,_=f.formats[y];if(!_||_===!0)return;if(typeof _!="object"||_ instanceof RegExp||typeof _.compare!="function")throw Error(`"${d}": format "${y}" does not define "compare" function`);let x=c.scopeValue("formats",{key:y,ref:_,code:p.code.formats?r._`${p.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(b(x))}function b(y){return r._`${y}.compare(${l}, ${u}) ${i[d].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(t.formatLimitDefinition),a);t.default=s}),kJ=me((t,e)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=wJ(),n=SJ(),i=Xe(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(l,u={keywords:!0})=>{if(Array.isArray(u))return c(l,u,r.fullFormats,o),l;let[d,m]=u.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],p=u.formats||r.formatNames;return c(l,p,d,m),u.keywords&&(0,n.default)(l),l};a.get=(l,u="full")=>{let d=(u==="fast"?r.fastFormats:r.fullFormats)[l];if(!d)throw Error(`Unknown format "${l}"`);return d};function c(l,u,d,m){var p,f;(p=(f=l.opts.code).formats)!==null&&p!==void 0||(f.formats=i._`require("ajv-formats/dist/formats").${m}`);for(let v of u)l.addFormat(v,d[v])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a}),$J=50;function $A(t=$J){let e=new AbortController;return(0,kA.setMaxListeners)(t,e.signal),e}var EJ=typeof global=="object"&&global&&global.Object===Object&&global,TJ=EJ,CJ=typeof self=="object"&&self&&self.Object===Object&&self,PJ=TJ||CJ||Function("return this")(),Lx=PJ,IJ=Lx.Symbol,dm=IJ,CA=Object.prototype,RJ=CA.hasOwnProperty,OJ=CA.toString,_u=dm?dm.toStringTag:void 0;function AJ(t){var e=RJ.call(t,_u),r=t[_u];try{t[_u]=void 0;var n=!0}catch{}var i=OJ.call(t);return n&&(e?t[_u]=r:delete t[_u]),i}var NJ=AJ,jJ=Object.prototype,DJ=jJ.toString;function zJ(t){return DJ.call(t)}var MJ=zJ,UJ="[object Null]",LJ="[object Undefined]",CO=dm?dm.toStringTag:void 0;function FJ(t){return t==null?t===void 0?LJ:UJ:CO&&CO in Object(t)?NJ(t):MJ(t)}var qJ=FJ;function ZJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var PA=ZJ,BJ="[object AsyncFunction]",VJ="[object Function]",HJ="[object GeneratorFunction]",WJ="[object Proxy]";function GJ(t){if(!PA(t))return!1;var e=qJ(t);return e==VJ||e==HJ||e==BJ||e==WJ}var JJ=GJ,KJ=Lx["__core-js_shared__"],H_=KJ,PO=function(){var t=/[^.]+$/.exec(H_&&H_.keys&&H_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function YJ(t){return!!PO&&PO in t}var QJ=YJ,XJ=Function.prototype,eK=XJ.toString;function tK(t){if(t!=null){try{return eK.call(t)}catch{}try{return t+""}catch{}}return""}var rK=tK,nK=/[\\^$.*+?()[\]{}|]/g,iK=/^\[object .+?Constructor\]$/,oK=Function.prototype,sK=Object.prototype,aK=oK.toString,cK=sK.hasOwnProperty,lK=RegExp("^"+aK.call(cK).replace(nK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uK(t){if(!PA(t)||QJ(t))return!1;var e=JJ(t)?lK:iK;return e.test(rK(t))}var dK=uK;function pK(t,e){return t?.[e]}var fK=pK;function mK(t,e){var r=fK(t,e);return dK(r)?r:void 0}var IA=mK,hK=IA(Object,"create"),Cu=hK;function gK(){this.__data__=Cu?Cu(null):{},this.size=0}var vK=gK;function yK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bK=yK,_K="__lodash_hash_undefined__",xK=Object.prototype,wK=xK.hasOwnProperty;function SK(t){var e=this.__data__;if(Cu){var r=e[t];return r===_K?void 0:r}return wK.call(e,t)?e[t]:void 0}var kK=SK,$K=Object.prototype,EK=$K.hasOwnProperty;function TK(t){var e=this.__data__;return Cu?e[t]!==void 0:EK.call(e,t)}var CK=TK,PK="__lodash_hash_undefined__";function IK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Cu&&e===void 0?PK:e,this}var RK=IK;function dc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dc.prototype.clear=vK;dc.prototype.delete=bK;dc.prototype.get=kK;dc.prototype.has=CK;dc.prototype.set=RK;var IO=dc;function OK(){this.__data__=[],this.size=0}var AK=OK;function NK(t,e){return t===e||t!==t&&e!==e}var jK=NK;function DK(t,e){for(var r=t.length;r--;)if(jK(t[r][0],e))return r;return-1}var Tm=DK,zK=Array.prototype,MK=zK.splice;function UK(t){var e=this.__data__,r=Tm(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():MK.call(e,r,1),--this.size,!0}var LK=UK;function FK(t){var e=this.__data__,r=Tm(e,t);return r<0?void 0:e[r][1]}var qK=FK;function ZK(t){return Tm(this.__data__,t)>-1}var BK=ZK;function VK(t,e){var r=this.__data__,n=Tm(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var HK=VK;function pc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pc.prototype.clear=AK;pc.prototype.delete=LK;pc.prototype.get=qK;pc.prototype.has=BK;pc.prototype.set=HK;var WK=pc,GK=IA(Lx,"Map"),JK=GK;function KK(){this.size=0,this.__data__={hash:new IO,map:new(JK||WK),string:new IO}}var YK=KK;function QK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var XK=QK;function e5(t,e){var r=t.__data__;return XK(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Cm=e5;function t5(t){var e=Cm(this,t).delete(t);return this.size-=e?1:0,e}var r5=t5;function n5(t){return Cm(this,t).get(t)}var i5=n5;function o5(t){return Cm(this,t).has(t)}var s5=o5;function a5(t,e){var r=Cm(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var c5=a5;function fc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fc.prototype.clear=YK;fc.prototype.delete=r5;fc.prototype.get=i5;fc.prototype.has=s5;fc.prototype.set=c5;var RA=fc,l5="Expected a function";function Fx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw TypeError(l5);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Fx.Cache||RA),r}Fx.Cache=RA;var mc=Fx;function u5(t,e){t.destroyed||t.write(e)}function d5(t){u5(process.stderr,t)}var p5=mc(t=>{if(!t||t.trim()==="")return null;let e=t.split(",").map(o=>o.trim()).filter(Boolean);if(e.length===0)return null;let r=e.some(o=>o.startsWith("!")),n=e.some(o=>!o.startsWith("!"));if(r&&n)return null;let i=e.map(o=>o.replace(/^!/,"").toLowerCase());return{include:r?[]:i,exclude:r?i:[],isExclusive:r}});function f5(t){let e=[],r=t.match(/^MCP server ["']([^"']+)["']/);if(r&&r[1])e.push("mcp"),e.push(r[1].toLowerCase());else{let o=t.match(/^([^:[]+):/);o&&o[1]&&e.push(o[1].trim().toLowerCase())}let n=t.match(/^\[([^\]]+)]/);n&&n[1]&&e.push(n[1].trim().toLowerCase()),t.toLowerCase().includes("statsig event:")&&e.push("statsig");let i=t.match(/:\s*([^:]+?)(?:\s+(?:type|mode|status|event))?:/);if(i&&i[1]){let o=i[1].trim().toLowerCase();o.length<30&&!o.includes(" ")&&e.push(o)}return Array.from(new Set(e))}function m5(t,e){return e?t.length===0?!1:e.isExclusive?!t.some(r=>e.exclude.includes(r)):t.some(r=>e.include.includes(r)):!0}function h5(t,e){if(!e)return!0;let r=f5(t);return m5(r,e)}function NA(){return process.env.CLAUDE_CONFIG_DIR??(0,OA.join)((0,AA.homedir)(),".claude")}function RO(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}function zA(t){return{name:t,default:3e4,validate:e=>{if(!e)return{effective:3e4,status:"valid"};let r=parseInt(e,10);return isNaN(r)||r<=0?{effective:3e4,status:"invalid",message:`Invalid value "${e}" (using default: 30000)`}:r>15e4?{effective:15e4,status:"capped",message:`Capped from ${r} to 150000`}:{effective:r,status:"valid"}}}}var g5=zA("BASH_MAX_OUTPUT_LENGTH"),mke=zA("TASK_MAX_OUTPUT_LENGTH"),v5={name:"CLAUDE_CODE_MAX_OUTPUT_TOKENS",default:32e3,validate:t=>{if(!t)return{effective:32e3,status:"valid"};let e=parseInt(t,10);return isNaN(e)||e<=0?{effective:32e3,status:"invalid",message:`Invalid value "${t}" (using default: 32000)`}:e>64e3?{effective:64e3,status:"capped",message:`Capped from ${e} to 64000`}:{effective:e,status:"valid"}}};function y5(){let t="";return typeof process<"u"&&typeof process.cwd=="function"&&typeof rx.realpathSync=="function"&&(t=(0,rx.realpathSync)((0,jA.cwd)())),{originalCwd:t,projectRoot:t,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:t,modelUsage:{},mainLoopModelOverride:void 0,initialMainLoopModel:null,modelStrings:null,isInteractive:!1,clientType:"cli",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:["userSettings","projectSettings","localSettings","flagSettings","policySettings"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:(0,DA.randomUUID)(),parentSessionId:void 0,loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[g5,v5],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[],useCoworkPlugins:!1,sessionBypassPermissionsMode:!1,sessionTrustAccepted:!1,sessionPersistenceDisabled:!1,hasExitedPlanMode:!1,needsPlanModeExitAttachment:!1,hasExitedDelegateMode:!1,needsDelegateModeExitAttachment:!1,lspRecommendationShownThisSession:!1,initJsonSchema:null,registeredHooks:null,planSlugCache:new Map,teleportedSessionInfo:null,invokedSkills:new Map,slowOperations:[],promptCacheBreaks:[],sdkBetas:void 0,mainThreadAgentType:void 0,isRemoteMode:!1,directConnectServerUrl:void 0,additionalDirectoriesForClaudeMd:[],resumedTranscriptPath:null}}var b5=y5();function _5(){return b5.sessionId}function x5({writeFn:t,flushIntervalMs:e=1e3,maxBufferSize:r=100,immediateMode:n=!1}){let i=[],o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){i.length!==0&&(t(i.join("")),i=[],s())}function c(){o||(o=setTimeout(a,e))}return{write(l){if(n){t(l);return}i.push(l),c(),i.length>=r&&a()},flush:a,dispose(){a()}}}var OO=new Set;function w5(t){return OO.add(t),()=>OO.delete(t)}var MA=1/0;function S5(t){return t===null?"null":t===void 0?"undefined":Array.isArray(t)?`Array[${t.length}]`:typeof t=="object"?`Object{${Object.keys(t).length} keys}`:typeof t=="string"?`string(${t.length} chars)`:typeof t}function UA(t,e){let r=performance.now();try{return e()}finally{performance.now()-r>MA}}function Si(t,e,r){let n=S5(t);return UA(`JSON.stringify(${n})`,()=>JSON.stringify(t,e,r))}var LA=(t,e)=>{let r=typeof t=="string"?t.length:0;return UA(`JSON.parse(${r} chars)`,()=>JSON.parse(t,e))},k5=mc(()=>RO(process.env.DEBUG)||RO(process.env.DEBUG_SDK)||process.argv.includes("--debug")||process.argv.includes("-d")||FA()||process.argv.some(t=>t.startsWith("--debug="))||qA()!==null),$5=mc(()=>{let t=process.argv.find(r=>r.startsWith("--debug="));if(!t)return null;let e=t.substring(8);return p5(e)}),FA=mc(()=>process.argv.includes("--debug-to-stderr")||process.argv.includes("-d2e")),qA=mc(()=>{for(let t=0;t<process.argv.length;t++){let e=process.argv[t];if(e.startsWith("--debug-file="))return e.substring(13);if(e==="--debug-file"&&t+1<process.argv.length)return process.argv[t+1]}return null});function E5(t){if(typeof process>"u"||typeof process.versions>"u"||typeof process.versions.node>"u")return!1;let e=$5();return h5(t,e)}var T5=!1,im=null;function C5(){return im||(im=x5({writeFn:t=>{let e=ZA();Ki().existsSync((0,Rs.dirname)(e))||Ki().mkdirSync((0,Rs.dirname)(e)),Ki().appendFileSync(e,t),P5()},flushIntervalMs:1e3,maxBufferSize:100,immediateMode:k5()}),w5(async()=>im?.dispose())),im}function Cs(t,{level:e}={level:"debug"}){if(!E5(t))return;T5&&t.includes(`
`)&&(t=Si(t));let r=`${new Date().toISOString()} [${e.toUpperCase()}] ${t.trim()}
`;if(FA()){d5(r);return}C5().write(r)}function ZA(){return qA()??process.env.CLAUDE_CODE_DEBUG_LOGS_DIR??(0,Rs.join)(NA(),"debug",`${_5()}.txt`)}var P5=mc(()=>{if(process.argv[2]!=="--ripgrep")try{let t=ZA(),e=(0,Rs.dirname)(t),r=(0,Rs.join)(e,"latest");if(Ki().existsSync(e)||Ki().mkdirSync(e),Ki().existsSync(r))try{Ki().unlinkSync(r)}catch{}Ki().symlinkSync(t,r)}catch{}});function rr(t,e){let r=performance.now();try{return e()}finally{performance.now()-r>MA}}var I5={cwd(){return process.cwd()},existsSync(t){return rr(`existsSync(${t})`,()=>qe.existsSync(t))},async stat(t){return(0,Ei.stat)(t)},async readdir(t){return(0,Ei.readdir)(t,{withFileTypes:!0})},async unlink(t){return(0,Ei.unlink)(t)},async rmdir(t){return(0,Ei.rmdir)(t)},async rm(t,e){return(0,Ei.rm)(t,e)},statSync(t){return rr(`statSync(${t})`,()=>qe.statSync(t))},lstatSync(t){return rr(`lstatSync(${t})`,()=>qe.lstatSync(t))},readFileSync(t,e){return rr(`readFileSync(${t})`,()=>qe.readFileSync(t,{encoding:e.encoding}))},readFileBytesSync(t){return rr(`readFileBytesSync(${t})`,()=>qe.readFileSync(t))},readSync(t,e){return rr(`readSync(${t}, ${e.length} bytes)`,()=>{let r;try{r=qe.openSync(t,"r");let n=Buffer.alloc(e.length),i=qe.readSync(r,n,0,e.length,0);return{buffer:n,bytesRead:i}}finally{r&&qe.closeSync(r)}})},appendFileSync(t,e,r){return rr(`appendFileSync(${t}, ${e.length} chars)`,()=>{if(!qe.existsSync(t)&&r?.mode!==void 0){let n=qe.openSync(t,"a",r.mode);try{qe.appendFileSync(n,e)}finally{qe.closeSync(n)}}else qe.appendFileSync(t,e)})},copyFileSync(t,e){return rr(`copyFileSync(${t} \u2192 ${e})`,()=>qe.copyFileSync(t,e))},unlinkSync(t){return rr(`unlinkSync(${t})`,()=>qe.unlinkSync(t))},renameSync(t,e){return rr(`renameSync(${t} \u2192 ${e})`,()=>qe.renameSync(t,e))},linkSync(t,e){return rr(`linkSync(${t} \u2192 ${e})`,()=>qe.linkSync(t,e))},symlinkSync(t,e){return rr(`symlinkSync(${t} \u2192 ${e})`,()=>qe.symlinkSync(t,e))},readlinkSync(t){return rr(`readlinkSync(${t})`,()=>qe.readlinkSync(t))},realpathSync(t){return rr(`realpathSync(${t})`,()=>qe.realpathSync(t))},mkdirSync(t,e){return rr(`mkdirSync(${t})`,()=>{if(!qe.existsSync(t)){let r={recursive:!0};e?.mode!==void 0&&(r.mode=e.mode),qe.mkdirSync(t,r)}})},readdirSync(t){return rr(`readdirSync(${t})`,()=>qe.readdirSync(t,{withFileTypes:!0}))},readdirStringSync(t){return rr(`readdirStringSync(${t})`,()=>qe.readdirSync(t))},isDirEmptySync(t){return rr(`isDirEmptySync(${t})`,()=>this.readdirSync(t).length===0)},rmdirSync(t){return rr(`rmdirSync(${t})`,()=>qe.rmdirSync(t))},rmSync(t,e){return rr(`rmSync(${t})`,()=>qe.rmSync(t,e))},createWriteStream(t){return qe.createWriteStream(t)}},R5=I5;function Ki(){return R5}var Is=class extends Error{};function BA(){return process.versions.bun!==void 0}var om=null,AO=!1;function O5(){if(AO)return om;if(AO=!0,!process.env.DEBUG_CLAUDE_AGENT_SDK)return null;let t=(0,nx.join)(NA(),"debug");return om=(0,nx.join)(t,`sdk-${(0,VA.randomUUID)()}.txt`),!(0,hc.existsSync)(t)&&(0,hc.mkdirSync)(t,{recursive:!0}),process.stderr.write(`SDK debug logs: ${om}
`),om}function No(t){let e=O5();if(!e)return;let r=`${new Date().toISOString()} ${t}
`;(0,hc.appendFileSync)(e,r)}function A5(t,e){let r={...t};if(e){let n={sandbox:e};if(r.settings)try{n={...LA(r.settings),sandbox:e}}catch{}r.settings=Si(n)}return r}var ix=class{options;process;processStdin;processStdout;ready=!1;abortController;exitError;exitListeners=[];processExitHandler;abortHandler;constructor(e){this.options=e,this.abortController=e.abortController||$A(),this.initialize()}getDefaultExecutable(){return BA()?"bun":"node"}spawnLocalProcess(e){let{command:r,args:n,cwd:i,env:o,signal:s}=e,a=o.DEBUG_CLAUDE_AGENT_SDK||this.options.stderr?"pipe":"ignore",c=(0,EA.spawn)(r,n,{cwd:i,stdio:["pipe","pipe",a],signal:s,env:o,windowsHide:!0});return(o.DEBUG_CLAUDE_AGENT_SDK||this.options.stderr)&&c.stderr.on("data",l=>{let u=l.toString();No(u),this.options.stderr&&this.options.stderr(u)}),{stdin:c.stdin,stdout:c.stdout,get killed(){return c.killed},get exitCode(){return c.exitCode},kill:c.kill.bind(c),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c)}}initialize(){try{let{additionalDirectories:e=[],agent:r,betas:n,cwd:i,executable:o=this.getDefaultExecutable(),executableArgs:s=[],extraArgs:a={},pathToClaudeCodeExecutable:c,env:l={...process.env},maxThinkingTokens:u,maxTurns:d,maxBudgetUsd:m,model:p,fallbackModel:f,jsonSchema:v,permissionMode:g,allowDangerouslySkipPermissions:h,permissionPromptToolName:b,continueConversation:y,resume:_,settingSources:x,allowedTools:w=[],disallowedTools:S=[],tools:$,mcpServers:E,strictMcpConfig:N,canUseTool:P,includePartialMessages:z,plugins:V,sandbox:H}=this.options,re=["--output-format","stream-json","--verbose","--input-format","stream-json"];if(u!==void 0&&re.push("--max-thinking-tokens",u.toString()),d&&re.push("--max-turns",d.toString()),m!==void 0&&re.push("--max-budget-usd",m.toString()),p&&re.push("--model",p),r&&re.push("--agent",r),n&&n.length>0&&re.push("--betas",n.join(",")),v&&re.push("--json-schema",Si(v)),l.DEBUG_CLAUDE_AGENT_SDK&&re.push("--debug-to-stderr"),P){if(b)throw Error("canUseTool callback cannot be used with permissionPromptToolName. Please use one or the other.");re.push("--permission-prompt-tool","stdio")}else b&&re.push("--permission-prompt-tool",b);if(y&&re.push("--continue"),_&&re.push("--resume",_),w.length>0&&re.push("--allowedTools",w.join(",")),S.length>0&&re.push("--disallowedTools",S.join(",")),$!==void 0&&(Array.isArray($)?$.length===0?re.push("--tools",""):re.push("--tools",$.join(",")):re.push("--tools","default")),E&&Object.keys(E).length>0&&re.push("--mcp-config",Si({mcpServers:E})),x&&re.push("--setting-sources",x.join(",")),N&&re.push("--strict-mcp-config"),g&&re.push("--permission-mode",g),h&&re.push("--allow-dangerously-skip-permissions"),f){if(p&&f===p)throw Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");re.push("--fallback-model",f)}z&&re.push("--include-partial-messages");for(let U of e)re.push("--add-dir",U);if(V&&V.length>0)for(let U of V)if(U.type==="local")re.push("--plugin-dir",U.path);else throw Error(`Unsupported plugin type: ${U.type}`);this.options.forkSession&&re.push("--fork-session"),this.options.resumeSessionAt&&re.push("--resume-session-at",this.options.resumeSessionAt),this.options.persistSession===!1&&re.push("--no-session-persistence");let Pe=A5(a??{},H);for(let[U,j]of Object.entries(Pe))j===null?re.push(`--${U}`):re.push(`--${U}`,j);l.CLAUDE_CODE_ENTRYPOINT||(l.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),delete l.NODE_OPTIONS,l.DEBUG_CLAUDE_AGENT_SDK?l.DEBUG="1":delete l.DEBUG;let fe=N5(c),we=fe?c:o,Ne=fe?[...s,...re]:[...s,c,...re],G={command:we,args:Ne,cwd:i,env:l,signal:this.abortController.signal};if(this.options.spawnClaudeCodeProcess)No(`Spawning Claude Code (custom): ${we} ${Ne.join(" ")}`),this.process=this.options.spawnClaudeCodeProcess(G);else{if(!Ki().existsSync(c)){let U=fe?`Claude Code native binary not found at ${c}. Please ensure Claude Code is installed via native installer or specify a valid path with options.pathToClaudeCodeExecutable.`:`Claude Code executable not found at ${c}. Is options.pathToClaudeCodeExecutable set?`;throw ReferenceError(U)}No(`Spawning Claude Code: ${we} ${Ne.join(" ")}`),this.process=this.spawnLocalProcess(G)}this.processStdin=this.process.stdin,this.processStdout=this.process.stdout;let R=()=>{this.process&&!this.process.killed&&this.process.kill("SIGTERM")};this.processExitHandler=R,this.abortHandler=R,process.on("exit",this.processExitHandler),this.abortController.signal.addEventListener("abort",this.abortHandler),this.process.on("error",U=>{this.ready=!1,this.abortController.signal.aborted?this.exitError=new Is("Claude Code process aborted by user"):(this.exitError=Error(`Failed to spawn Claude Code process: ${U.message}`),No(this.exitError.message))}),this.process.on("exit",(U,j)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new Is("Claude Code process aborted by user");else{let k=this.getProcessExitError(U,j);k&&(this.exitError=k,No(k.message))}}),this.ready=!0}catch(e){throw this.ready=!1,e}}getProcessExitError(e,r){if(e!==0&&e!==null)return Error(`Claude Code process exited with code ${e}`);if(r)return Error(`Claude Code process terminated by signal ${r}`)}write(e){if(this.abortController.signal.aborted)throw new Is("Operation aborted");if(!this.ready||!this.processStdin)throw Error("ProcessTransport is not ready for writing");if(this.process?.killed||this.process?.exitCode!==null)throw Error("Cannot write to terminated process");if(this.exitError)throw Error(`Cannot write to process that exited with error: ${this.exitError.message}`);No(`[ProcessTransport] Writing to stdin: ${e.substring(0,100)}`);try{this.processStdin.write(e)||No("[ProcessTransport] Write buffer full, data queued")}catch(r){throw this.ready=!1,Error(`Failed to write to process stdin: ${r.message}`)}}close(){this.processStdin&&(this.processStdin.end(),this.processStdin=void 0),this.abortHandler&&(this.abortController.signal.removeEventListener("abort",this.abortHandler),this.abortHandler=void 0);for(let{handler:e}of this.exitListeners)this.process?.off("exit",e);this.exitListeners=[],this.process&&!this.process.killed&&(this.process.kill("SIGTERM"),setTimeout(()=>{this.process&&!this.process.killed&&this.process.kill("SIGKILL")},5e3)),this.ready=!1,this.processExitHandler&&(process.off("exit",this.processExitHandler),this.processExitHandler=void 0)}isReady(){return this.ready}async*readMessages(){if(!this.processStdout)throw Error("ProcessTransport output stream not available");let e=(0,TA.createInterface)({input:this.processStdout});try{for await(let r of e)if(r.trim())try{yield LA(r)}catch{throw No(`Non-JSON stdout: ${r}`),Error(`CLI output was not valid JSON. This may indicate an error during startup. Output: ${r.slice(0,200)}${r.length>200?"...":""}`)}await this.waitForExit()}catch(r){throw r}finally{e.close()}}endInput(){this.processStdin&&this.processStdin.end()}getInputStream(){return this.processStdin}onExit(e){if(!this.process)return()=>{};let r=(n,i)=>{let o=this.getProcessExitError(n,i);e(o)};return this.process.on("exit",r),this.exitListeners.push({callback:e,handler:r}),()=>{this.process&&this.process.off("exit",r);let n=this.exitListeners.findIndex(i=>i.handler===r);n!==-1&&this.exitListeners.splice(n,1)}}async waitForExit(){if(!this.process){if(this.exitError)throw this.exitError;return}if(this.process.exitCode!==null||this.process.killed){if(this.exitError)throw this.exitError;return}return new Promise((e,r)=>{let n=(o,s)=>{if(this.abortController.signal.aborted){r(new Is("Operation aborted"));return}let a=this.getProcessExitError(o,s);a?r(a):e()};this.process.once("exit",n);let i=o=>{this.process.off("exit",n),r(o)};this.process.once("error",i),this.process.once("exit",()=>{this.process.off("error",i)})})}};function N5(t){return![".js",".mjs",".tsx",".ts",".jsx"].some(e=>t.endsWith(e))}var ox=class{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(e){this.returned=e}[Symbol.asyncIterator](){if(this.started)throw Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}},sx=class{sendMcpMessage;isClosed=!1;constructor(e){this.sendMcpMessage=e}onclose;onerror;onmessage;async start(){}async send(e){if(this.isClosed)throw Error("Transport is closed");this.sendMcpMessage(e)}async close(){this.isClosed||(this.isClosed=!0,this.onclose?.())}},ax=class{transport;isSingleUserTurn;canUseTool;hooks;abortController;jsonSchema;initConfig;pendingControlResponses=new Map;cleanupPerformed=!1;sdkMessages;inputStream=new ox;initialization;cancelControllers=new Map;hookCallbacks=new Map;nextCallbackId=0;sdkMcpTransports=new Map;sdkMcpServerInstances=new Map;pendingMcpResponses=new Map;firstResultReceivedResolve;firstResultReceived=!1;hasBidirectionalNeeds(){return this.sdkMcpTransports.size>0||this.hooks!==void 0&&Object.keys(this.hooks).length>0||this.canUseTool!==void 0}constructor(e,r,n,i,o,s=new Map,a,c){this.transport=e,this.isSingleUserTurn=r,this.canUseTool=n,this.hooks=i,this.abortController=o,this.jsonSchema=a,this.initConfig=c;for(let[l,u]of s)this.connectSdkMcpServer(l,u);this.sdkMessages=this.readSdkMessages(),this.readMessages(),this.initialization=this.initialize(),this.initialization.catch(()=>{})}setError(e){this.inputStream.error(e)}close(){this.cleanup()}cleanup(e){if(!this.cleanupPerformed){this.cleanupPerformed=!0;try{this.transport.close(),this.pendingControlResponses.clear(),this.pendingMcpResponses.clear(),this.cancelControllers.clear(),this.hookCallbacks.clear();for(let r of this.sdkMcpTransports.values())try{r.close()}catch{}this.sdkMcpTransports.clear(),e?this.inputStream.error(e):this.inputStream.done()}catch{}}}next(...[e]){return this.sdkMessages.next(e)}return(e){return this.sdkMessages.return(e)}throw(e){return this.sdkMessages.throw(e)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){try{for await(let e of this.transport.readMessages()){if(e.type==="control_response"){let r=this.pendingControlResponses.get(e.response.request_id);r&&r(e.response);continue}else if(e.type==="control_request"){this.handleControlRequest(e);continue}else if(e.type==="control_cancel_request"){this.handleControlCancelRequest(e);continue}else if(e.type==="keep_alive")continue;e.type==="result"&&(this.firstResultReceived=!0,this.firstResultReceivedResolve&&this.firstResultReceivedResolve(),this.isSingleUserTurn&&(Cs("[Query.readMessages] First result received for single-turn query, closing stdin"),this.transport.endInput())),this.inputStream.enqueue(e)}this.firstResultReceivedResolve&&this.firstResultReceivedResolve(),this.inputStream.done(),this.cleanup()}catch(e){this.firstResultReceivedResolve&&this.firstResultReceivedResolve(),this.inputStream.error(e),this.cleanup(e)}}async handleControlRequest(e){let r=new AbortController;this.cancelControllers.set(e.request_id,r);try{let n=await this.processControlRequest(e,r.signal),i={type:"control_response",response:{subtype:"success",request_id:e.request_id,response:n}};await Promise.resolve(this.transport.write(Si(i)+`
`))}catch(n){let i={type:"control_response",response:{subtype:"error",request_id:e.request_id,error:n.message||String(n)}};await Promise.resolve(this.transport.write(Si(i)+`
`))}finally{this.cancelControllers.delete(e.request_id)}}handleControlCancelRequest(e){let r=this.cancelControllers.get(e.request_id);r&&(r.abort(),this.cancelControllers.delete(e.request_id))}async processControlRequest(e,r){if(e.request.subtype==="can_use_tool"){if(!this.canUseTool)throw Error("canUseTool callback is not provided.");return{...await this.canUseTool(e.request.tool_name,e.request.input,{signal:r,suggestions:e.request.permission_suggestions,blockedPath:e.request.blocked_path,decisionReason:e.request.decision_reason,toolUseID:e.request.tool_use_id,agentID:e.request.agent_id}),toolUseID:e.request.tool_use_id}}else{if(e.request.subtype==="hook_callback")return await this.handleHookCallbacks(e.request.callback_id,e.request.input,e.request.tool_use_id,r);if(e.request.subtype==="mcp_message"){let n=e.request,i=this.sdkMcpTransports.get(n.server_name);if(!i)throw Error(`SDK MCP server not found: ${n.server_name}`);return"method"in n.message&&"id"in n.message&&n.message.id!==null?{mcp_response:await this.handleMcpControlRequest(n.server_name,n,i)}:(i.onmessage&&i.onmessage(n.message),{mcp_response:{jsonrpc:"2.0",result:{},id:0}})}}throw Error("Unsupported control request subtype: "+e.request.subtype)}async*readSdkMessages(){for await(let e of this.inputStream)yield e}async initialize(){let e;if(this.hooks){e={};for(let[i,o]of Object.entries(this.hooks))o.length>0&&(e[i]=o.map(s=>{let a=[];for(let c of s.hooks){let l=`hook_${this.nextCallbackId++}`;this.hookCallbacks.set(l,c),a.push(l)}return{matcher:s.matcher,hookCallbackIds:a,timeout:s.timeout}}))}let r=this.sdkMcpTransports.size>0?Array.from(this.sdkMcpTransports.keys()):void 0,n={subtype:"initialize",hooks:e,sdkMcpServers:r,jsonSchema:this.jsonSchema,systemPrompt:this.initConfig?.systemPrompt,appendSystemPrompt:this.initConfig?.appendSystemPrompt,agents:this.initConfig?.agents};return(await this.request(n)).response}async interrupt(){await this.request({subtype:"interrupt"})}async setPermissionMode(e){await this.request({subtype:"set_permission_mode",mode:e})}async setModel(e){await this.request({subtype:"set_model",model:e})}async setMaxThinkingTokens(e){await this.request({subtype:"set_max_thinking_tokens",max_thinking_tokens:e})}async rewindFiles(e,r){return(await this.request({subtype:"rewind_files",user_message_id:e,dry_run:r?.dryRun})).response}async processPendingPermissionRequests(e){for(let r of e)r.request.subtype==="can_use_tool"&&this.handleControlRequest(r).catch(()=>{})}request(e){let r=Math.random().toString(36).substring(2,15),n={request_id:r,type:"control_request",request:e};return new Promise((i,o)=>{this.pendingControlResponses.set(r,s=>{s.subtype==="success"?i(s):(o(Error(s.error)),s.pending_permission_requests&&this.processPendingPermissionRequests(s.pending_permission_requests))}),Promise.resolve(this.transport.write(Si(n)+`
`))})}async supportedCommands(){return(await this.initialization).commands}async supportedModels(){return(await this.initialization).models}async reconnectMcpServer(e){await this.request({subtype:"mcp_reconnect",serverName:e})}async toggleMcpServer(e,r){await this.request({subtype:"mcp_toggle",serverName:e,enabled:r})}async mcpServerStatus(){return(await this.request({subtype:"mcp_status"})).response.mcpServers}async setMcpServers(e){let r={},n={};for(let[a,c]of Object.entries(e))c.type==="sdk"&&"instance"in c?r[a]=c.instance:n[a]=c;let i=new Set(this.sdkMcpServerInstances.keys()),o=new Set(Object.keys(r));for(let a of i)o.has(a)||await this.disconnectSdkMcpServer(a);for(let[a,c]of Object.entries(r))i.has(a)||this.connectSdkMcpServer(a,c);let s={};for(let a of Object.keys(r))s[a]={type:"sdk",name:a};return(await this.request({subtype:"mcp_set_servers",servers:{...n,...s}})).response}async accountInfo(){return(await this.initialization).account}async streamInput(e){Cs("[Query.streamInput] Starting to process input stream");try{let r=0;for await(let n of e){if(r++,Cs(`[Query.streamInput] Processing message ${r}: ${n.type}`),this.abortController?.signal.aborted)break;await Promise.resolve(this.transport.write(Si(n)+`
`))}Cs(`[Query.streamInput] Finished processing ${r} messages from input stream`),r>0&&this.hasBidirectionalNeeds()&&(Cs("[Query.streamInput] Has bidirectional needs, waiting for first result"),await this.waitForFirstResult()),Cs("[Query] Calling transport.endInput() to close stdin to CLI process"),this.transport.endInput()}catch(r){if(!(r instanceof Is))throw r}}waitForFirstResult(){return this.firstResultReceived?(Cs("[Query.waitForFirstResult] Result already received, returning immediately"),Promise.resolve()):new Promise(e=>{if(this.abortController?.signal.aborted){e();return}this.abortController?.signal.addEventListener("abort",()=>e(),{once:!0}),this.firstResultReceivedResolve=e})}handleHookCallbacks(e,r,n,i){let o=this.hookCallbacks.get(e);if(!o)throw Error(`No hook callback found for ID: ${e}`);return o(r,n,{signal:i})}connectSdkMcpServer(e,r){let n=new sx(i=>this.sendMcpServerMessageToCli(e,i));this.sdkMcpTransports.set(e,n),this.sdkMcpServerInstances.set(e,r),r.connect(n)}async disconnectSdkMcpServer(e){let r=this.sdkMcpTransports.get(e);r&&(await r.close(),this.sdkMcpTransports.delete(e)),this.sdkMcpServerInstances.delete(e)}sendMcpServerMessageToCli(e,r){if("id"in r&&r.id!==null&&r.id!==void 0){let i=`${e}:${r.id}`,o=this.pendingMcpResponses.get(i);if(o){o.resolve(r),this.pendingMcpResponses.delete(i);return}}let n={type:"control_request",request_id:(0,HA.randomUUID)(),request:{subtype:"mcp_message",server_name:e,message:r}};this.transport.write(Si(n)+`
`)}handleMcpControlRequest(e,r,n){let i="id"in r.message?r.message.id:null,o=`${e}:${i}`;return new Promise((s,a)=>{let c=()=>{this.pendingMcpResponses.delete(o)},l=d=>{c(),s(d)},u=d=>{c(),a(d)};if(this.pendingMcpResponses.set(o,{resolve:l,reject:u}),n.onmessage)n.onmessage(r.message);else{c(),a(Error("No message handler registered"));return}})}};var ht;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw Error()}t.assertNever=r,t.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(let s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ht||(ht={}));var NO;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(NO||(NO={}));var be=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Do=t=>{switch(typeof t){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(t)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(t)?be.array:t===null?be.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?be.promise:typeof Map<"u"&&t instanceof Map?be.map:typeof Set<"u"&&t instanceof Set?be.set:typeof Date<"u"&&t instanceof Date?be.date:be.object;default:return be.unknown}},K=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),An=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,c=0;for(;c<s.path.length;){let l=s.path[c];c!==s.path.length-1?a[l]=a[l]||{_errors:[]}:(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(s))),a=a[l],c++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let o=i.path[0];r[o]=r[o]||[],r[o].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};An.create=t=>new An(t);var j5=(t,e)=>{let r;switch(t.code){case K.invalid_type:t.received===be.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case K.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case K.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=e.defaultError,ht.assertNever(t)}return{message:r}},Pu=j5,D5=Pu;function cx(){return D5}var lx=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)a=l(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}};function pe(t,e){let r=cx(),n=lx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Pu?void 0:Pu].filter(i=>!!i)});t.common.issues.push(n)}var Vr=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let o=await i.key,s=await i.value;n.push({key:o,value:s})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Ue;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:e.value,value:n}}},Ue=Object.freeze({status:"aborted"}),Su=t=>({status:"dirty",value:t}),en=t=>({status:"valid",value:t}),jO=t=>t.status==="aborted",DO=t=>t.status==="dirty",Ya=t=>t.status==="valid",pm=t=>typeof Promise<"u"&&t instanceof Promise,Ee;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ee||(Ee={}));var Nn=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},zO=(t,e)=>{if(Ya(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new An(t.common.issues);return this._error=r,this._error}}};function We(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,s)=>{let{message:a}=t;return o.code==="invalid_enum_value"?{message:a??s.defaultError}:typeof s.data>"u"?{message:a??n??s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:a??r??s.defaultError}},description:i}}var et=class{get description(){return this._def.description}_getType(e){return Do(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vr,ctx:{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(pm(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},i=this._parseSync({data:e,path:n.path,parent:n});return zO(n,i)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:r});return Ya(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Ya(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},i=this._parse({data:e,path:n.path,parent:n}),o=await(pm(i)?i:Promise.resolve(i));return zO(n,o)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{let s=e(i),a=()=>o.addIssue({code:K.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Qn({schema:this,typeName:Q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yn.create(this,this._def)}nullable(){return Qi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Uo.create(this)}promise(){return Os.create(this,this._def)}or(e){return tc.create([this,e],this._def)}and(e){return rc.create(this,e,this._def)}transform(e){return new Qn({...We(this._def),schema:this,typeName:Q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new ac({...We(this._def),innerType:this,defaultValue:r,typeName:Q.ZodDefault})}brand(){return new fm({typeName:Q.ZodBranded,type:this,...We(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new cc({...We(this._def),innerType:this,catchValue:r,typeName:Q.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return mm.create(this,e)}readonly(){return lc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},z5=/^c[^\s-]{8,}$/i,M5=/^[0-9a-z]+$/,U5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,L5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F5=/^[a-z0-9_-]{21}$/i,q5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Z5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,V5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",W_,H5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,W5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,G5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,J5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Y5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Q5=new RegExp(`^${WA}$`);function GA(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function X5(t){return new RegExp(`^${GA(t)}$`)}function e8(t){let e=`${WA}T${GA(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function t8(t,e){return!!((e==="v4"||!e)&&H5.test(t)||(e==="v6"||!e)&&G5.test(t))}function r8(t,e){if(!q5.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function n8(t,e){return!!((e==="v4"||!e)&&W5.test(t)||(e==="v6"||!e)&&J5.test(t))}var Qa=class t extends et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==be.string){let i=this._getOrReturnCtx(e);return pe(i,{code:K.invalid_type,expected:be.string,received:i.parsedType}),Ue}let r=new Vr,n;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),pe(n,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),pe(n,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,s=e.data.length<i.value;(o||s)&&(n=this._getOrReturnCtx(e,n),o?pe(n,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&pe(n,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")B5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"email",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")W_||(W_=new RegExp(V5,"u")),W_.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"emoji",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")L5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"uuid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")F5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"nanoid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")z5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"cuid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")M5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"cuid2",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")U5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"ulid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),pe(n,{validation:"url",code:K.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,!i.regex.test(e.data)&&(n=this._getOrReturnCtx(e,n),pe(n,{validation:"regex",code:K.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),pe(n,{code:K.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),pe(n,{code:K.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),pe(n,{code:K.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?e8(i).test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{code:K.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Q5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{code:K.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?X5(i).test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{code:K.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Z5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"duration",code:K.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?t8(e.data,i.version)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"ip",code:K.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?r8(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"jwt",code:K.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?n8(e.data,i.version)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"cidr",code:K.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?K5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"base64",code:K.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Y5.test(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{validation:"base64url",code:K.invalid_string,message:i.message}),r.dirty()):ht.assertNever(i);return{status:r.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:K.invalid_string,...Ee.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ee.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ee.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ee.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ee.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ee.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ee.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ee.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ee.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Ee.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ee.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ee.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ee.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ee.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ee.errToObj(r)})}nonempty(e){return this.min(1,Ee.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Qa.create=t=>new Qa({checks:[],typeName:Q.ZodString,coerce:t?.coerce??!1,...We(t)});function i8(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}var Iu=class t extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==be.number){let i=this._getOrReturnCtx(e);return pe(i,{code:K.invalid_type,expected:be.number,received:i.parsedType}),Ue}let r,n=new Vr;for(let i of this._def.checks)i.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:K.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:K.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:K.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?i8(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),pe(r,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:K.not_finite,message:i.message}),n.dirty()):ht.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ee.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ee.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ee.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ee.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ee.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Iu.create=t=>new Iu({checks:[],typeName:Q.ZodNumber,coerce:t?.coerce||!1,...We(t)});var Ru=class t extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==be.bigint)return this._getInvalidInput(e);let r,n=new Vr;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:K.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:K.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):ht.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.bigint,received:r.parsedType}),Ue}gte(e,r){return this.setLimit("min",e,!0,Ee.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ee.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ee.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ee.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ee.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ru.create=t=>new Ru({checks:[],typeName:Q.ZodBigInt,coerce:t?.coerce??!1,...We(t)});var Ou=class extends et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==be.boolean){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.boolean,received:r.parsedType}),Ue}return en(e.data)}};Ou.create=t=>new Ou({typeName:Q.ZodBoolean,coerce:t?.coerce||!1,...We(t)});var Au=class t extends et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==be.date){let i=this._getOrReturnCtx(e);return pe(i,{code:K.invalid_type,expected:be.date,received:i.parsedType}),Ue}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return pe(i,{code:K.invalid_date}),Ue}let r=new Vr,n;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),pe(n,{code:K.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),pe(n,{code:K.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ht.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ee.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ee.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Au.create=t=>new Au({checks:[],coerce:t?.coerce||!1,typeName:Q.ZodDate,...We(t)});var Nu=class extends et{_parse(e){if(this._getType(e)!==be.symbol){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.symbol,received:r.parsedType}),Ue}return en(e.data)}};Nu.create=t=>new Nu({typeName:Q.ZodSymbol,...We(t)});var Xa=class extends et{_parse(e){if(this._getType(e)!==be.undefined){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.undefined,received:r.parsedType}),Ue}return en(e.data)}};Xa.create=t=>new Xa({typeName:Q.ZodUndefined,...We(t)});var ec=class extends et{_parse(e){if(this._getType(e)!==be.null){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.null,received:r.parsedType}),Ue}return en(e.data)}};ec.create=t=>new ec({typeName:Q.ZodNull,...We(t)});var ju=class extends et{constructor(){super(...arguments),this._any=!0}_parse(e){return en(e.data)}};ju.create=t=>new ju({typeName:Q.ZodAny,...We(t)});var Mo=class extends et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return en(e.data)}};Mo.create=t=>new Mo({typeName:Q.ZodUnknown,...We(t)});var $i=class extends et{_parse(e){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.never,received:r.parsedType}),Ue}};$i.create=t=>new $i({typeName:Q.ZodNever,...We(t)});var Du=class extends et{_parse(e){if(this._getType(e)!==be.undefined){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.void,received:r.parsedType}),Ue}return en(e.data)}};Du.create=t=>new Du({typeName:Q.ZodVoid,...We(t)});var Uo=class t extends et{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==be.array)return pe(r,{code:K.invalid_type,expected:be.array,received:r.parsedType}),Ue;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(pe(r,{code:s?K.too_big:K.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(pe(r,{code:K.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(pe(r,{code:K.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new Nn(r,s,r.path,a)))).then(s=>Vr.mergeArray(n,s));let o=[...r.data].map((s,a)=>i.type._parseSync(new Nn(r,s,r.path,a)));return Vr.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:Ee.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:Ee.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:Ee.toString(r)}})}nonempty(e){return this.min(1,e)}};Uo.create=(t,e)=>new Uo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Q.ZodArray,...We(e)});function Ga(t){if(t instanceof _n){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Yn.create(Ga(n))}return new _n({...t._def,shape:()=>e})}else return t instanceof Uo?new Uo({...t._def,type:Ga(t.element)}):t instanceof Yn?Yn.create(Ga(t.unwrap())):t instanceof Qi?Qi.create(Ga(t.unwrap())):t instanceof Yi?Yi.create(t.items.map(e=>Ga(e))):t}var _n=class t extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=ht.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==be.object){let c=this._getOrReturnCtx(e);return pe(c,{code:K.invalid_type,expected:be.object,received:c.parsedType}),Ue}let{status:r,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof $i&&this._def.unknownKeys==="strip"))for(let c in n.data)o.includes(c)||s.push(c);let a=[];for(let c of o){let l=i[c],u=n.data[c];a.push({key:{status:"valid",value:c},value:l._parse(new Nn(n,u,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof $i){let c=this._def.unknownKeys;if(c==="passthrough")for(let l of s)a.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(c==="strict")s.length>0&&(pe(n,{code:K.unrecognized_keys,keys:s}),r.dirty());else if(c!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let l of s){let u=n.data[l];a.push({key:{status:"valid",value:l},value:c._parse(new Nn(n,u,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let c=[];for(let l of a){let u=await l.key,d=await l.value;c.push({key:u,value:d,alwaysSet:l.alwaysSet})}return c}).then(c=>Vr.mergeObjectSync(r,c)):Vr.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(e){return Ee.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ee.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Q.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let n of ht.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let n of ht.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}deepPartial(){return Ga(this)}partial(e){let r={};for(let n of ht.objectKeys(this.shape)){let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let n of ht.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Yn;)i=i._def.innerType;r[n]=i}return new t({...this._def,shape:()=>r})}keyof(){return JA(ht.objectKeys(this.shape))}};_n.create=(t,e)=>new _n({shape:()=>t,unknownKeys:"strip",catchall:$i.create(),typeName:Q.ZodObject,...We(e)});_n.strictCreate=(t,e)=>new _n({shape:()=>t,unknownKeys:"strict",catchall:$i.create(),typeName:Q.ZodObject,...We(e)});_n.lazycreate=(t,e)=>new _n({shape:t,unknownKeys:"strip",catchall:$i.create(),typeName:Q.ZodObject,...We(e)});var tc=class extends et{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new An(a.ctx.common.issues));return pe(r,{code:K.invalid_union,unionErrors:s}),Ue}if(r.common.async)return Promise.all(n.map(async o=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o,s=[];for(let c of n){let l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(c=>new An(c));return pe(r,{code:K.invalid_union,unionErrors:a}),Ue}}get options(){return this._def.options}};tc.create=(t,e)=>new tc({options:t,typeName:Q.ZodUnion,...We(e)});var Gi=t=>t instanceof nc?Gi(t.schema):t instanceof Qn?Gi(t.innerType()):t instanceof ic?[t.value]:t instanceof oc?t.options:t instanceof sc?ht.objectValues(t.enum):t instanceof ac?Gi(t._def.innerType):t instanceof Xa?[void 0]:t instanceof ec?[null]:t instanceof Yn?[void 0,...Gi(t.unwrap())]:t instanceof Qi?[null,...Gi(t.unwrap())]:t instanceof fm||t instanceof lc?Gi(t.unwrap()):t instanceof cc?Gi(t._def.innerType):[],ux=class t extends et{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==be.object)return pe(r,{code:K.invalid_type,expected:be.object,received:r.parsedType}),Ue;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(pe(r,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let o of r){let s=Gi(o.shape[e]);if(!s.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new t({typeName:Q.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...We(n)})}};function dx(t,e){let r=Do(t),n=Do(e);if(t===e)return{valid:!0,data:t};if(r===be.object&&n===be.object){let i=ht.objectKeys(e),o=ht.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(let a of o){let c=dx(t[a],e[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(r===be.array&&n===be.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let s=t[o],a=e[o],c=dx(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===be.date&&n===be.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var rc=class extends et{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(o,s)=>{if(jO(o)||jO(s))return Ue;let a=dx(o.value,s.value);return a.valid?((DO(o)||DO(s))&&r.dirty(),{status:r.value,value:a.data}):(pe(n,{code:K.invalid_intersection_types}),Ue)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};rc.create=(t,e,r)=>new rc({left:t,right:e,typeName:Q.ZodIntersection,...We(r)});var Yi=class t extends et{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==be.array)return pe(n,{code:K.invalid_type,expected:be.array,received:n.parsedType}),Ue;if(n.data.length<this._def.items.length)return pe(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&n.data.length>this._def.items.length&&(pe(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((o,s)=>{let a=this._def.items[s]||this._def.rest;return a?a._parse(new Nn(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Vr.mergeArray(r,o)):Vr.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Yi.create=(t,e)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yi({items:t,typeName:Q.ZodTuple,rest:null,...We(e)})};var px=class t extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==be.object)return pe(n,{code:K.invalid_type,expected:be.object,received:n.parsedType}),Ue;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new Nn(n,a,n.path,a)),value:s._parse(new Nn(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Vr.mergeObjectAsync(r,i):Vr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof et?new t({keyType:e,valueType:r,typeName:Q.ZodRecord,...We(n)}):new t({keyType:Qa.create(),valueType:e,typeName:Q.ZodRecord,...We(r)})}},zu=class extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==be.map)return pe(n,{code:K.invalid_type,expected:be.map,received:n.parsedType}),Ue;let i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new Nn(n,a,n.path,[l,"key"])),value:o._parse(new Nn(n,c,n.path,[l,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of s){let l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ue;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of s){let{key:l,value:u}=c;if(l.status==="aborted"||u.status==="aborted")return Ue;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}};zu.create=(t,e,r)=>new zu({valueType:e,keyType:t,typeName:Q.ZodMap,...We(r)});var Mu=class t extends et{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==be.set)return pe(n,{code:K.invalid_type,expected:be.set,received:n.parsedType}),Ue;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(pe(n,{code:K.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(pe(n,{code:K.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function s(c){let l=new Set;for(let u of c){if(u.status==="aborted")return Ue;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}let a=[...n.data.values()].map((c,l)=>o._parse(new Nn(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:Ee.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:Ee.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Mu.create=(t,e)=>new Mu({valueType:t,minSize:null,maxSize:null,typeName:Q.ZodSet,...We(e)});var fx=class t extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==be.function)return pe(r,{code:K.invalid_type,expected:be.function,received:r.parsedType}),Ue;function n(a,c){return lx({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,cx(),Pu].filter(l=>!!l),issueData:{code:K.invalid_arguments,argumentsError:c}})}function i(a,c){return lx({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,cx(),Pu].filter(l=>!!l),issueData:{code:K.invalid_return_type,returnTypeError:c}})}let o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Os){let a=this;return en(async function(...c){let l=new An([]),u=await a._def.args.parseAsync(c,o).catch(m=>{throw l.addIssue(n(c,m)),l}),d=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(d,o).catch(m=>{throw l.addIssue(i(d,m)),l})})}else{let a=this;return en(function(...c){let l=a._def.args.safeParse(c,o);if(!l.success)throw new An([n(c,l.error)]);let u=Reflect.apply(s,this,l.data),d=a._def.returns.safeParse(u,o);if(!d.success)throw new An([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Yi.create(e).rest(Mo.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Yi.create([]).rest(Mo.create()),returns:r||Mo.create(),typeName:Q.ZodFunction,...We(n)})}},nc=class extends et{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};nc.create=(t,e)=>new nc({getter:t,typeName:Q.ZodLazy,...We(e)});var ic=class extends et{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return pe(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}};ic.create=(t,e)=>new ic({value:t,typeName:Q.ZodLiteral,...We(e)});function JA(t,e){return new oc({values:t,typeName:Q.ZodEnum,...We(e)})}var oc=class t extends et{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return pe(r,{expected:ht.joinValues(n),received:r.parsedType,code:K.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return pe(r,{received:r.data,code:K.invalid_enum_value,options:n}),Ue}return en(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};oc.create=JA;var sc=class extends et{_parse(e){let r=ht.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==be.string&&n.parsedType!==be.number){let i=ht.objectValues(r);return pe(n,{expected:ht.joinValues(i),received:n.parsedType,code:K.invalid_type}),Ue}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let i=ht.objectValues(r);return pe(n,{received:n.data,code:K.invalid_enum_value,options:i}),Ue}return en(e.data)}get enum(){return this._def.values}};sc.create=(t,e)=>new sc({values:t,typeName:Q.ZodNativeEnum,...We(e)});var Os=class extends et{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==be.promise&&r.common.async===!1)return pe(r,{code:K.invalid_type,expected:be.promise,received:r.parsedType}),Ue;let n=r.parsedType===be.promise?r.data:Promise.resolve(r.data);return en(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Os.create=(t,e)=>new Os({type:t,typeName:Q.ZodPromise,...We(e)});var Qn=class extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{pe(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(n.data,o);if(n.common.async)return Promise.resolve(s).then(async a=>{if(r.value==="aborted")return Ue;let c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?Ue:c.status==="dirty"||r.value==="dirty"?Su(c.value):c});{if(r.value==="aborted")return Ue;let a=this._def.schema._parseSync({data:s,path:n.path,parent:n});return a.status==="aborted"?Ue:a.status==="dirty"||r.value==="dirty"?Su(a.value):a}}if(i.type==="refinement"){let s=a=>{let c=i.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ue:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Ue:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ya(s))return Ue;let a=i.transform(s.value,o);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Ya(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):Ue);ht.assertNever(i)}};Qn.create=(t,e,r)=>new Qn({schema:t,typeName:Q.ZodEffects,effect:e,...We(r)});Qn.createWithPreprocess=(t,e,r)=>new Qn({schema:e,effect:{type:"preprocess",transform:t},typeName:Q.ZodEffects,...We(r)});var Yn=class extends et{_parse(e){return this._getType(e)===be.undefined?en(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Yn.create=(t,e)=>new Yn({innerType:t,typeName:Q.ZodOptional,...We(e)});var Qi=class extends et{_parse(e){return this._getType(e)===be.null?en(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Qi.create=(t,e)=>new Qi({innerType:t,typeName:Q.ZodNullable,...We(e)});var ac=class extends et{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===be.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};ac.create=(t,e)=>new ac({innerType:t,typeName:Q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...We(e)});var cc=class extends et{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pm(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new An(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new An(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};cc.create=(t,e)=>new cc({innerType:t,typeName:Q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...We(e)});var Uu=class extends et{_parse(e){if(this._getType(e)!==be.nan){let r=this._getOrReturnCtx(e);return pe(r,{code:K.invalid_type,expected:be.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}};Uu.create=t=>new Uu({typeName:Q.ZodNaN,...We(t)});var hke=Symbol("zod_brand"),fm=class extends et{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},mm=class t extends et{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ue:i.status==="dirty"?(r.dirty(),Su(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ue:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:Q.ZodPipeline})}},lc=class extends et{_parse(e){let r=this._def.innerType._parse(e),n=i=>(Ya(i)&&(i.value=Object.freeze(i.value)),i);return pm(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};lc.create=(t,e)=>new lc({innerType:t,typeName:Q.ZodReadonly,...We(e)});var gke={object:_n.lazycreate},Q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Q||(Q={}));var vke=Qa.create,yke=Iu.create,bke=Uu.create,_ke=Ru.create,xke=Ou.create,wke=Au.create,Ske=Nu.create,kke=Xa.create,$ke=ec.create,Eke=ju.create,Tke=Mo.create,Cke=$i.create,Pke=Du.create,Ike=Uo.create,o8=_n.create,Rke=_n.strictCreate,Oke=tc.create,Ake=ux.create,Nke=rc.create,jke=Yi.create,Dke=px.create,zke=zu.create,Mke=Mu.create,Uke=fx.create,Lke=nc.create,Fke=ic.create,qke=oc.create,Zke=sc.create,Bke=Os.create,Vke=Qn.create,Hke=Yn.create,Wke=Qi.create,Gke=Qn.createWithPreprocess,Jke=mm.create,Kke=Object.freeze({status:"aborted"});function q(t,e,r){function n(a,c){var l;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(l=a._zod).traits??(l.traits=new Set),a._zod.traits.add(t),e(a,c);for(let u in s.prototype)u in a||Object.defineProperty(a,u,{value:s.prototype[u].bind(a)});a._zod.constr=s,a._zod.def=c}let i=r?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function s(a){var c;let l=r?.Parent?new o:this;n(l,a),(c=l._zod).deferred??(c.deferred=[]);for(let u of l._zod.deferred)u();return l}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}var Yke=Symbol("zod_brand"),As=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},mx={};function Xi(t){return t&&Object.assign(mx,t),mx}var $t={};hA($t,{unwrapMessage:()=>ku,stringifyPrimitive:()=>Vx,required:()=>k8,randomString:()=>f8,propertyKeyTypes:()=>XA,promiseAllObject:()=>p8,primitiveTypes:()=>g8,prefixIssues:()=>zo,pick:()=>b8,partial:()=>S8,optionalKeys:()=>eN,omit:()=>_8,numKeys:()=>m8,nullish:()=>Im,normalizeParams:()=>ze,merge:()=>w8,jsonStringifyReplacer:()=>KA,joinValues:()=>hx,issue:()=>rN,isPlainObject:()=>Fu,isObject:()=>Lu,getSizableOrigin:()=>$8,getParsedType:()=>h8,getLengthableOrigin:()=>Om,getEnumValues:()=>qx,getElementAtPath:()=>d8,floatSafeRemainder:()=>YA,finalizeIssue:()=>eo,extend:()=>x8,escapeRegex:()=>gc,esc:()=>Ja,defineLazy:()=>jt,createTransparentProxy:()=>v8,clone:()=>to,cleanRegex:()=>Rm,cleanEnum:()=>E8,captureStackTrace:()=>Bx,cached:()=>Pm,assignProp:()=>Zx,assertNotEqual:()=>a8,assertNever:()=>l8,assertIs:()=>c8,assertEqual:()=>s8,assert:()=>u8,allowsEval:()=>QA,aborted:()=>Ka,NUMBER_FORMAT_RANGES:()=>tN,Class:()=>gx,BIGINT_FORMAT_RANGES:()=>y8});function s8(t){return t}function a8(t){return t}function c8(t){}function l8(t){throw Error()}function u8(t){}function qx(t){let e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,n])=>e.indexOf(+r)===-1).map(([r,n])=>n)}function hx(t,e="|"){return t.map(r=>Vx(r)).join(e)}function KA(t,e){return typeof e=="bigint"?e.toString():e}function Pm(t){return{get value(){{let e=t();return Object.defineProperty(this,"value",{value:e}),e}throw Error("cached value already set")}}}function Im(t){return t==null}function Rm(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function YA(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}function jt(t,e,r){Object.defineProperty(t,e,{get(){{let n=r();return t[e]=n,n}throw Error("cached value already set")},set(n){Object.defineProperty(t,e,{value:n})},configurable:!0})}function Zx(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function d8(t,e){return e?e.reduce((r,n)=>r?.[n],t):t}function p8(t){let e=Object.keys(t),r=e.map(n=>t[n]);return Promise.all(r).then(n=>{let i={};for(let o=0;o<e.length;o++)i[e[o]]=n[o];return i})}function f8(t=10){let e="";for(let r=0;r<t;r++)e+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return e}function Ja(t){return JSON.stringify(t)}var Bx=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function Lu(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var QA=Pm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch{return!1}});function Fu(t){if(Lu(t)===!1)return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(Lu(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function m8(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var h8=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw Error(`Unknown data type: ${e}`)}},XA=new Set(["string","number","symbol"]),g8=new Set(["string","number","bigint","boolean","symbol","undefined"]);function gc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function to(t,e,r){let n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function ze(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function v8(t){let e;return new Proxy({},{get(r,n,i){return e??(e=t()),Reflect.get(e,n,i)},set(r,n,i,o){return e??(e=t()),Reflect.set(e,n,i,o)},has(r,n){return e??(e=t()),Reflect.has(e,n)},deleteProperty(r,n){return e??(e=t()),Reflect.deleteProperty(e,n)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,n){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,n)},defineProperty(r,n,i){return e??(e=t()),Reflect.defineProperty(e,n,i)}})}function Vx(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function eN(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var tN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},y8={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function b8(t,e){let r={},n=t._zod.def;for(let i in e){if(!(i in n.shape))throw Error(`Unrecognized key: "${i}"`);e[i]&&(r[i]=n.shape[i])}return to(t,{...t._zod.def,shape:r,checks:[]})}function _8(t,e){let r={...t._zod.def.shape},n=t._zod.def;for(let i in e){if(!(i in n.shape))throw Error(`Unrecognized key: "${i}"`);e[i]&&delete r[i]}return to(t,{...t._zod.def,shape:r,checks:[]})}function x8(t,e){if(!Fu(e))throw Error("Invalid input to extend: expected a plain object");let r={...t._zod.def,get shape(){let n={...t._zod.def.shape,...e};return Zx(this,"shape",n),n},checks:[]};return to(t,r)}function w8(t,e){return to(t,{...t._zod.def,get shape(){let r={...t._zod.def.shape,...e._zod.def.shape};return Zx(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function S8(t,e,r){let n=e._zod.def.shape,i={...n};if(r)for(let o in r){if(!(o in n))throw Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=t?new t({type:"optional",innerType:n[o]}):n[o])}else for(let o in n)i[o]=t?new t({type:"optional",innerType:n[o]}):n[o];return to(e,{...e._zod.def,shape:i,checks:[]})}function k8(t,e,r){let n=e._zod.def.shape,i={...n};if(r)for(let o in r){if(!(o in i))throw Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new t({type:"nonoptional",innerType:n[o]}))}else for(let o in n)i[o]=new t({type:"nonoptional",innerType:n[o]});return to(e,{...e._zod.def,shape:i,checks:[]})}function Ka(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function zo(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function ku(t){return typeof t=="string"?t:t?.message}function eo(t,e,r){let n={...t,path:t.path??[]};if(!t.message){let i=ku(t.inst?._zod.def?.error?.(t))??ku(e?.error?.(t))??ku(r.customError?.(t))??ku(r.localeError?.(t))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,!e?.reportInput&&delete n.input,n}function $8(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function Om(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function rN(...t){let[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}function E8(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var gx=class{constructor(...e){}},nN=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,KA,2)},enumerable:!0})},iN=q("$ZodError",nN),Am=q("$ZodError",nN,{Parent:Error});function T8(t,e=r=>r.message){let r={},n=[];for(let i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function C8(t,e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(r(s));else{let a=n,c=0;for(;c<s.path.length;){let l=s.path[c];c!==s.path.length-1?a[l]=a[l]||{_errors:[]}:(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(s))),a=a[l],c++}}};return i(t),n}var oN=t=>(e,r,n,i)=>{let o=n?Object.assign(n,{async:!1}):{async:!1},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new As;if(s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>eo(c,o,Xi())));throw Bx(a,i?.callee),a}return s.value},P8=oN(Am),sN=t=>async(e,r,n,i)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>eo(c,o,Xi())));throw Bx(a,i?.callee),a}return s.value},I8=sN(Am),aN=t=>(e,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new As;return o.issues.length?{success:!1,error:new(t??iN)(o.issues.map(s=>eo(s,i,Xi())))}:{success:!0,data:o.value}},Hx=aN(Am),cN=t=>async(e,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(s=>eo(s,i,Xi())))}:{success:!0,data:o.value}},Wx=cN(Am),R8=/^[cC][^\s-]{8,}$/,O8=/^[0-9a-z]+$/,A8=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,N8=/^[0-9a-vA-V]{20}$/,j8=/^[A-Za-z0-9]{27}$/,D8=/^[a-zA-Z0-9_-]{21}$/,z8=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,M8=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,MO=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,U8=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;function L8(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}var F8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q8=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Z8=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,B8=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,V8=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,lN=/^[A-Za-z0-9_-]*$/,H8=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,W8=/^\+(?:[0-9]){6,14}[0-9]$/,uN="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",G8=new RegExp(`^${uN}$`);function dN(t){return typeof t.precision=="number"?t.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":t.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${t.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function J8(t){return new RegExp(`^${dN(t)}$`)}function K8(t){let e=dN({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");let n=`${e}(?:${r.join("|")})`;return new RegExp(`^${uN}T(?:${n})$`)}var Y8=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Q8=/^\d+$/,X8=/^-?\d+(?:\.\d+)?/i,eY=/true|false/i,tY=/null/i,rY=/^[^A-Z]*$/,nY=/^[^a-z]*$/,rn=q("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),pN={number:"number",bigint:"bigint",object:"date"},fN=q("$ZodCheckLessThan",(t,e)=>{rn.init(t,e);let r=pN[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),mN=q("$ZodCheckGreaterThan",(t,e)=>{rn.init(t,e);let r=pN[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),iY=q("$ZodCheckMultipleOf",(t,e)=>{rn.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):YA(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),oY=q("$ZodCheckNumberFormat",(t,e)=>{rn.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),n=r?"int":"number",[i,o]=tN[e.format];t._zod.onattach.push(s=>{let a=s._zod.bag;a.format=e.format,a.minimum=i,a.maximum=o,r&&(a.pattern=Q8)}),t._zod.check=s=>{let a=s.value;if(r){if(!Number.isInteger(a)){s.issues.push({expected:n,format:e.format,code:"invalid_type",input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inst:t})}}),sY=q("$ZodCheckMaxLength",(t,e)=>{rn.init(t,e),t._zod.when=r=>{let n=r.value;return!Im(n)&&n.length!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{let n=r.value;if(n.length<=e.maximum)return;let i=Om(n);r.issues.push({origin:i,code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),aY=q("$ZodCheckMinLength",(t,e)=>{rn.init(t,e),t._zod.when=r=>{let n=r.value;return!Im(n)&&n.length!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{let n=r.value;if(n.length>=e.minimum)return;let i=Om(n);r.issues.push({origin:i,code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),cY=q("$ZodCheckLengthEquals",(t,e)=>{rn.init(t,e),t._zod.when=r=>{let n=r.value;return!Im(n)&&n.length!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length}),t._zod.check=r=>{let n=r.value,i=n.length;if(i===e.length)return;let o=Om(n),s=i>e.length;r.issues.push({origin:o,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Nm=q("$ZodCheckStringFormat",(t,e)=>{var r,n;rn.init(t,e),t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),lY=q("$ZodCheckRegex",(t,e)=>{Nm.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),uY=q("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=rY),Nm.init(t,e)}),dY=q("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=nY),Nm.init(t,e)}),pY=q("$ZodCheckIncludes",(t,e)=>{rn.init(t,e);let r=gc(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{let o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),fY=q("$ZodCheckStartsWith",(t,e)=>{rn.init(t,e);let r=new RegExp(`^${gc(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),mY=q("$ZodCheckEndsWith",(t,e)=>{rn.init(t,e);let r=new RegExp(`.*${gc(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),hY=q("$ZodCheckOverwrite",(t,e)=>{rn.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}}),vx=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let r=e.split(`
`).filter(o=>o),n=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(n)).map(o=>" ".repeat(this.indent*2)+o);for(let o of i)this.content.push(o)}compile(){let e=Function,r=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...r,n.join(`
`))}},gY={major:4,minor:0,patch:0},Ot=q("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=gY;let n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(let i of n)for(let o of i._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let i=(o,s,a)=>{let c=Ka(o),l;for(let u of s){if(u._zod.when){if(!u._zod.when(o))continue}else if(c)continue;let d=o.issues.length,m=u._zod.check(o);if(m instanceof Promise&&a?.async===!1)throw new As;if(l||m instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await m,o.issues.length!==d&&(c||(c=Ka(o,d)))});else{if(o.issues.length===d)continue;c||(c=Ka(o,d))}}return l?l.then(()=>o):o};t._zod.run=(o,s)=>{let a=t._zod.parse(o,s);if(a instanceof Promise){if(s.async===!1)throw new As;return a.then(c=>i(c,n,s))}return i(a,n,s)}}t["~standard"]={validate:i=>{try{let o=Hx(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Wx(t,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),Gx=q("$ZodString",(t,e)=>{Ot.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Y8(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Ut=q("$ZodStringFormat",(t,e)=>{Nm.init(t,e),Gx.init(t,e)}),vY=q("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=M8),Ut.init(t,e)}),yY=q("$ZodUUID",(t,e)=>{if(e.version){let r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=MO(r))}else e.pattern??(e.pattern=MO());Ut.init(t,e)}),bY=q("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=U8),Ut.init(t,e)}),_Y=q("$ZodURL",(t,e)=>{Ut.init(t,e),t._zod.check=r=>{try{let n=r.value,i=new URL(n),o=i.href;e.hostname&&(e.hostname.lastIndex=0,!e.hostname.test(i.hostname)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:H8.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,!e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!n.endsWith("/")&&o.endsWith("/")?r.value=o.slice(0,-1):r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),xY=q("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=L8()),Ut.init(t,e)}),wY=q("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=D8),Ut.init(t,e)}),SY=q("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=R8),Ut.init(t,e)}),kY=q("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=O8),Ut.init(t,e)}),$Y=q("$ZodULID",(t,e)=>{e.pattern??(e.pattern=A8),Ut.init(t,e)}),EY=q("$ZodXID",(t,e)=>{e.pattern??(e.pattern=N8),Ut.init(t,e)}),TY=q("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=j8),Ut.init(t,e)}),CY=q("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=K8(e)),Ut.init(t,e)}),PY=q("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=G8),Ut.init(t,e)}),IY=q("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=J8(e)),Ut.init(t,e)}),RY=q("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=z8),Ut.init(t,e)}),OY=q("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=F8),Ut.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),AY=q("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=q8),Ut.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),NY=q("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Z8),Ut.init(t,e)}),jY=q("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=B8),Ut.init(t,e),t._zod.check=r=>{let[n,i]=r.value.split("/");try{if(!i)throw Error();let o=Number(i);if(`${o}`!==i||o<0||o>128)throw Error();new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function hN(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var DY=q("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=V8),Ut.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{hN(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function zY(t){if(!lN.test(t))return!1;let e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return hN(r)}var MY=q("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=lN),Ut.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{zY(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),UY=q("$ZodE164",(t,e)=>{e.pattern??(e.pattern=W8),Ut.init(t,e)});function LY(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}var FY=q("$ZodJWT",(t,e)=>{Ut.init(t,e),t._zod.check=r=>{LY(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),gN=q("$ZodNumber",(t,e)=>{Ot.init(t,e),t._zod.pattern=t._zod.bag.pattern??X8,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),r}}),qY=q("$ZodNumber",(t,e)=>{oY.init(t,e),gN.init(t,e)}),ZY=q("$ZodBoolean",(t,e)=>{Ot.init(t,e),t._zod.pattern=eY,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),BY=q("$ZodNull",(t,e)=>{Ot.init(t,e),t._zod.pattern=tY,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),r}}),VY=q("$ZodUnknown",(t,e)=>{Ot.init(t,e),t._zod.parse=r=>r}),HY=q("$ZodNever",(t,e)=>{Ot.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function UO(t,e,r){t.issues.length&&e.issues.push(...zo(r,t.issues)),e.value[r]=t.value}var WY=q("$ZodArray",(t,e)=>{Ot.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);let o=[];for(let s=0;s<i.length;s++){let a=i[s],c=e.element._zod.run({value:a,issues:[]},n);c instanceof Promise?o.push(c.then(l=>UO(l,r,s))):UO(c,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function sm(t,e,r){t.issues.length&&e.issues.push(...zo(r,t.issues)),e.value[r]=t.value}function LO(t,e,r,n){t.issues.length?n[r]===void 0?r in n?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...zo(r,t.issues)):t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}var vN=q("$ZodObject",(t,e)=>{Ot.init(t,e);let r=Pm(()=>{let u=Object.keys(e.shape);for(let m of u)if(!(e.shape[m]instanceof Ot))throw Error(`Invalid element at key "${m}": expected a Zod schema`);let d=eN(e.shape);return{shape:e.shape,keys:u,keySet:new Set(u),numKeys:u.length,optionalKeys:new Set(d)}});jt(t._zod,"propValues",()=>{let u=e.shape,d={};for(let m in u){let p=u[m]._zod;if(p.values){d[m]??(d[m]=new Set);for(let f of p.values)d[m].add(f)}}return d});let n=u=>{let d=new vx(["shape","payload","ctx"]),m=r.value,p=h=>{let b=Ja(h);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};d.write("const input = payload.value;");let f=Object.create(null),v=0;for(let h of m.keys)f[h]=`key_${v++}`;d.write("const newResult = {}");for(let h of m.keys)if(m.optionalKeys.has(h)){let b=f[h];d.write(`const ${b} = ${p(h)};`);let y=Ja(h);d.write(`
        if (${b}.issues.length) {
          if (input[${y}] === undefined) {
            if (${y} in input) {
              newResult[${y}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${b}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${y}, ...iss.path] : [${y}],
              }))
            );
          }
        } else if (${b}.value === undefined) {
          if (${y} in input) newResult[${y}] = undefined;
        } else {
          newResult[${y}] = ${b}.value;
        }
        `)}else{let b=f[h];d.write(`const ${b} = ${p(h)};`),d.write(`
          if (${b}.issues.length) payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Ja(h)}, ...iss.path] : [${Ja(h)}]
          })));`),d.write(`newResult[${Ja(h)}] = ${b}.value`)}d.write("payload.value = newResult;"),d.write("return payload;");let g=d.compile();return(h,b)=>g(u,h,b)},i,o=Lu,s=!mx.jitless,a=s&&QA.value,c=e.catchall,l;t._zod.parse=(u,d)=>{l??(l=r.value);let m=u.value;if(!o(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),u;let p=[];if(s&&a&&d?.async===!1&&d.jitless!==!0)i||(i=n(e.shape)),u=i(u,d);else{u.value={};let b=l.shape;for(let y of l.keys){let _=b[y],x=_._zod.run({value:m[y],issues:[]},d),w=_._zod.optin==="optional"&&_._zod.optout==="optional";x instanceof Promise?p.push(x.then(S=>w?LO(S,u,y,m):sm(S,u,y))):w?LO(x,u,y,m):sm(x,u,y)}}if(!c)return p.length?Promise.all(p).then(()=>u):u;let f=[],v=l.keySet,g=c._zod,h=g.def.type;for(let b of Object.keys(m)){if(v.has(b))continue;if(h==="never"){f.push(b);continue}let y=g.run({value:m[b],issues:[]},d);y instanceof Promise?p.push(y.then(_=>sm(_,u,b))):sm(y,u,b)}return f.length&&u.issues.push({code:"unrecognized_keys",keys:f,input:m,inst:t}),p.length?Promise.all(p).then(()=>u):u}});function FO(t,e,r,n){for(let i of t)if(i.issues.length===0)return e.value=i.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(i=>i.issues.map(o=>eo(o,n,Xi())))}),e}var yN=q("$ZodUnion",(t,e)=>{Ot.init(t,e),jt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),jt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),jt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),jt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){let r=e.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>Rm(n.source)).join("|")})$`)}}),t._zod.parse=(r,n)=>{let i=!1,o=[];for(let s of e.options){let a=s._zod.run({value:r.value,issues:[]},n);if(a instanceof Promise)o.push(a),i=!0;else{if(a.issues.length===0)return a;o.push(a)}}return i?Promise.all(o).then(s=>FO(s,r,t,n)):FO(o,r,t,n)}}),GY=q("$ZodDiscriminatedUnion",(t,e)=>{yN.init(t,e);let r=t._zod.parse;jt(t._zod,"propValues",()=>{let i={};for(let o of e.options){let s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let[a,c]of Object.entries(s)){i[a]||(i[a]=new Set);for(let l of c)i[a].add(l)}}return i});let n=Pm(()=>{let i=e.options,o=new Map;for(let s of i){let a=s._zod.propValues[e.discriminator];if(!a||a.size===0)throw Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(let c of a){if(o.has(c))throw Error(`Duplicate discriminator value "${String(c)}"`);o.set(c,s)}}return o});t._zod.parse=(i,o)=>{let s=i.value;if(!Lu(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:t}),i;let a=n.value.get(s?.[e.discriminator]);return a?a._zod.run(i,o):e.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:s,path:[e.discriminator],inst:t}),i)}}),JY=q("$ZodIntersection",(t,e)=>{Ot.init(t,e),t._zod.parse=(r,n)=>{let i=r.value,o=e.left._zod.run({value:i,issues:[]},n),s=e.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([a,c])=>qO(r,a,c)):qO(r,o,s)}});function yx(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Fu(t)&&Fu(e)){let r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(let o of n){let s=yx(t[o],e[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n],s=yx(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function qO(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),Ka(t))return t;let n=yx(e.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}var KY=q("$ZodRecord",(t,e)=>{Ot.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Fu(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;let o=[];if(e.keyType._zod.values){let s=e.keyType._zod.values;r.value={};for(let c of s)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){let l=e.valueType._zod.run({value:i[c],issues:[]},n);l instanceof Promise?o.push(l.then(u=>{u.issues.length&&r.issues.push(...zo(c,u.issues)),r.value[c]=u.value})):(l.issues.length&&r.issues.push(...zo(c,l.issues)),r.value[c]=l.value)}let a;for(let c in i)s.has(c)||(a=a??[],a.push(c));a&&a.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:a})}else{r.value={};for(let s of Reflect.ownKeys(i)){if(s==="__proto__")continue;let a=e.keyType._zod.run({value:s,issues:[]},n);if(a instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(a.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(l=>eo(l,n,Xi())),input:s,path:[s],inst:t}),r.value[a.value]=a.value;continue}let c=e.valueType._zod.run({value:i[s],issues:[]},n);c instanceof Promise?o.push(c.then(l=>{l.issues.length&&r.issues.push(...zo(s,l.issues)),r.value[a.value]=l.value})):(c.issues.length&&r.issues.push(...zo(s,c.issues)),r.value[a.value]=c.value)}}return o.length?Promise.all(o).then(()=>r):r}}),YY=q("$ZodEnum",(t,e)=>{Ot.init(t,e);let r=qx(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(n=>XA.has(typeof n)).map(n=>typeof n=="string"?gc(n):n.toString()).join("|")})$`),t._zod.parse=(n,i)=>{let o=n.value;return t._zod.values.has(o)||n.issues.push({code:"invalid_value",values:r,input:o,inst:t}),n}}),QY=q("$ZodLiteral",(t,e)=>{Ot.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?gc(r):r?r.toString():String(r)).join("|")})$`),t._zod.parse=(r,n)=>{let i=r.value;return t._zod.values.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}}),XY=q("$ZodTransform",(t,e)=>{Ot.init(t,e),t._zod.parse=(r,n)=>{let i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(r.value=o,r));if(i instanceof Promise)throw new As;return r.value=i,r}}),e7=q("$ZodOptional",(t,e)=>{Ot.init(t,e),t._zod.optin="optional",t._zod.optout="optional",jt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),jt(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Rm(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,n):r.value===void 0?r:e.innerType._zod.run(r,n)}),t7=q("$ZodNullable",(t,e)=>{Ot.init(t,e),jt(t._zod,"optin",()=>e.innerType._zod.optin),jt(t._zod,"optout",()=>e.innerType._zod.optout),jt(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Rm(r.source)}|null)$`):void 0}),jt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),r7=q("$ZodDefault",(t,e)=>{Ot.init(t,e),t._zod.optin="optional",jt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=e.defaultValue,r;let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>ZO(o,e)):ZO(i,e)}});function ZO(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var n7=q("$ZodPrefault",(t,e)=>{Ot.init(t,e),t._zod.optin="optional",jt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),i7=q("$ZodNonOptional",(t,e)=>{Ot.init(t,e),jt(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>BO(o,t)):BO(i,t)}});function BO(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var o7=q("$ZodCatch",(t,e)=>{Ot.init(t,e),t._zod.optin="optional",jt(t._zod,"optout",()=>e.innerType._zod.optout),jt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(s=>eo(s,n,Xi()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(o=>eo(o,n,Xi()))},input:r.value}),r.issues=[]),r)}}),s7=q("$ZodPipe",(t,e)=>{Ot.init(t,e),jt(t._zod,"values",()=>e.in._zod.values),jt(t._zod,"optin",()=>e.in._zod.optin),jt(t._zod,"optout",()=>e.out._zod.optout),t._zod.parse=(r,n)=>{let i=e.in._zod.run(r,n);return i instanceof Promise?i.then(o=>VO(o,e,n)):VO(i,e,n)}});function VO(t,e,r){return Ka(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}var a7=q("$ZodReadonly",(t,e)=>{Ot.init(t,e),jt(t._zod,"propValues",()=>e.innerType._zod.propValues),jt(t._zod,"values",()=>e.innerType._zod.values),jt(t._zod,"optin",()=>e.innerType._zod.optin),jt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(HO):HO(i)}});function HO(t){return t.value=Object.freeze(t.value),t}var c7=q("$ZodCustom",(t,e)=>{rn.init(t,e),Ot.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{let n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(o=>WO(o,r,n,t));WO(i,r,n,t)}});function WO(t,e,r,n){if(!t){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(rN(i))}}var l7=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},u7=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(n){return t[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${l7(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${Vx(n.values[0])}`:`Invalid option: expected one of ${hx(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=e(n.origin);return o?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${o.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=e(n.origin);return o?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${o.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${hx(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function d7(){return{localeError:u7()}}var Qke=Symbol("ZodOutput"),Xke=Symbol("ZodInput"),hm=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){let n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}remove(e){return this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function p7(){return new hm}var $u=p7();function f7(t,e){return new t({type:"string",...ze(e)})}function m7(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...ze(e)})}function GO(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...ze(e)})}function h7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...ze(e)})}function g7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ze(e)})}function v7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ze(e)})}function y7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ze(e)})}function b7(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...ze(e)})}function _7(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...ze(e)})}function x7(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...ze(e)})}function w7(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...ze(e)})}function S7(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...ze(e)})}function k7(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...ze(e)})}function $7(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...ze(e)})}function E7(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...ze(e)})}function T7(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...ze(e)})}function C7(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...ze(e)})}function P7(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ze(e)})}function I7(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ze(e)})}function R7(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...ze(e)})}function O7(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...ze(e)})}function A7(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...ze(e)})}function N7(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...ze(e)})}function j7(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ze(e)})}function D7(t,e){return new t({type:"string",format:"date",check:"string_format",...ze(e)})}function z7(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...ze(e)})}function M7(t,e){return new t({type:"string",format:"duration",check:"string_format",...ze(e)})}function U7(t,e){return new t({type:"number",checks:[],...ze(e)})}function L7(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...ze(e)})}function F7(t,e){return new t({type:"boolean",...ze(e)})}function q7(t,e){return new t({type:"null",...ze(e)})}function Z7(t){return new t({type:"unknown"})}function B7(t,e){return new t({type:"never",...ze(e)})}function JO(t,e){return new fN({check:"less_than",...ze(e),value:t,inclusive:!1})}function G_(t,e){return new fN({check:"less_than",...ze(e),value:t,inclusive:!0})}function KO(t,e){return new mN({check:"greater_than",...ze(e),value:t,inclusive:!1})}function J_(t,e){return new mN({check:"greater_than",...ze(e),value:t,inclusive:!0})}function YO(t,e){return new iY({check:"multiple_of",...ze(e),value:t})}function bN(t,e){return new sY({check:"max_length",...ze(e),maximum:t})}function gm(t,e){return new aY({check:"min_length",...ze(e),minimum:t})}function _N(t,e){return new cY({check:"length_equals",...ze(e),length:t})}function V7(t,e){return new lY({check:"string_format",format:"regex",...ze(e),pattern:t})}function H7(t){return new uY({check:"string_format",format:"lowercase",...ze(t)})}function W7(t){return new dY({check:"string_format",format:"uppercase",...ze(t)})}function G7(t,e){return new pY({check:"string_format",format:"includes",...ze(e),includes:t})}function J7(t,e){return new fY({check:"string_format",format:"starts_with",...ze(e),prefix:t})}function K7(t,e){return new mY({check:"string_format",format:"ends_with",...ze(e),suffix:t})}function qu(t){return new hY({check:"overwrite",tx:t})}function Y7(t){return qu(e=>e.normalize(t))}function Q7(){return qu(t=>t.trim())}function X7(){return qu(t=>t.toLowerCase())}function eQ(){return qu(t=>t.toUpperCase())}function tQ(t,e,r){return new t({type:"array",element:e,...ze(r)})}function rQ(t,e,r){let n=ze(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function nQ(t,e,r){return new t({type:"custom",check:"custom",fn:e,...ze(r)})}var vm=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??$u,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,r={path:[],schemaPath:[]}){var n;let i=e._zod.def,o={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;let a={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(e,a);let c=e._zod.toJSONSchema?.();if(c)a.schema=c;else{let u={...r,schemaPath:[...r.schemaPath,e],path:r.path},d=e._zod.parent;if(d)a.ref=d,this.process(d,u),this.seen.get(d).isParent=!0;else{let m=a.schema;switch(i.type){case"string":{let p=m;p.type="string";let{minimum:f,maximum:v,format:g,patterns:h,contentEncoding:b}=e._zod.bag;if(typeof f=="number"&&(p.minLength=f),typeof v=="number"&&(p.maxLength=v),g&&(p.format=o[g]??g,p.format===""&&delete p.format),b&&(p.contentEncoding=b),h&&h.size>0){let y=[...h];y.length===1?p.pattern=y[0].source:y.length>1&&(a.schema.allOf=[...y.map(_=>({...this.target==="draft-7"?{type:"string"}:{},pattern:_.source}))])}break}case"number":{let p=m,{minimum:f,maximum:v,format:g,multipleOf:h,exclusiveMaximum:b,exclusiveMinimum:y}=e._zod.bag;typeof g=="string"&&g.includes("int")?p.type="integer":p.type="number",typeof y=="number"&&(p.exclusiveMinimum=y),typeof f=="number"&&(p.minimum=f,typeof y=="number"&&(y>=f?delete p.minimum:delete p.exclusiveMinimum)),typeof b=="number"&&(p.exclusiveMaximum=b),typeof v=="number"&&(p.maximum=v,typeof b=="number"&&(b<=v?delete p.maximum:delete p.exclusiveMaximum)),typeof h=="number"&&(p.multipleOf=h);break}case"boolean":{let p=m;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{m.type="null";break}case"any":break;case"unknown":break;case"undefined":case"never":{m.not={};break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let p=m,{minimum:f,maximum:v}=e._zod.bag;typeof f=="number"&&(p.minItems=f),typeof v=="number"&&(p.maxItems=v),p.type="array",p.items=this.process(i.element,{...u,path:[...u.path,"items"]});break}case"object":{let p=m;p.type="object",p.properties={};let f=i.shape;for(let h in f)p.properties[h]=this.process(f[h],{...u,path:[...u.path,"properties",h]});let v=new Set(Object.keys(f)),g=new Set([...v].filter(h=>{let b=i.shape[h]._zod;return this.io==="input"?b.optin===void 0:b.optout===void 0}));g.size>0&&(p.required=Array.from(g)),i.catchall?._zod.def.type==="never"?p.additionalProperties=!1:i.catchall?i.catchall&&(p.additionalProperties=this.process(i.catchall,{...u,path:[...u.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{let p=m;p.anyOf=i.options.map((f,v)=>this.process(f,{...u,path:[...u.path,"anyOf",v]}));break}case"intersection":{let p=m,f=this.process(i.left,{...u,path:[...u.path,"allOf",0]}),v=this.process(i.right,{...u,path:[...u.path,"allOf",1]}),g=b=>"allOf"in b&&Object.keys(b).length===1,h=[...g(f)?f.allOf:[f],...g(v)?v.allOf:[v]];p.allOf=h;break}case"tuple":{let p=m;p.type="array";let f=i.items.map((h,b)=>this.process(h,{...u,path:[...u.path,"prefixItems",b]}));if(this.target==="draft-2020-12"?p.prefixItems=f:p.items=f,i.rest){let h=this.process(i.rest,{...u,path:[...u.path,"items"]});this.target==="draft-2020-12"?p.items=h:p.additionalItems=h}i.rest&&(p.items=this.process(i.rest,{...u,path:[...u.path,"items"]}));let{minimum:v,maximum:g}=e._zod.bag;typeof v=="number"&&(p.minItems=v),typeof g=="number"&&(p.maxItems=g);break}case"record":{let p=m;p.type="object",p.propertyNames=this.process(i.keyType,{...u,path:[...u.path,"propertyNames"]}),p.additionalProperties=this.process(i.valueType,{...u,path:[...u.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let p=m,f=qx(i.entries);f.every(v=>typeof v=="number")&&(p.type="number"),f.every(v=>typeof v=="string")&&(p.type="string"),p.enum=f;break}case"literal":{let p=m,f=[];for(let v of i.values)if(v===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");f.push(Number(v))}else f.push(v);if(f.length!==0)if(f.length===1){let v=f[0];p.type=v===null?"null":typeof v,p.const=v}else f.every(v=>typeof v=="number")&&(p.type="number"),f.every(v=>typeof v=="string")&&(p.type="string"),f.every(v=>typeof v=="boolean")&&(p.type="string"),f.every(v=>v===null)&&(p.type="null"),p.enum=f;break}case"file":{let p=m,f={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:g,mime:h}=e._zod.bag;v!==void 0&&(f.minLength=v),g!==void 0&&(f.maxLength=g),h?h.length===1?(f.contentMediaType=h[0],Object.assign(p,f)):p.anyOf=h.map(b=>({...f,contentMediaType:b})):Object.assign(p,f);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let p=this.process(i.innerType,u);m.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,u),a.ref=i.innerType;break}case"success":{let p=m;p.type="boolean";break}case"default":{this.process(i.innerType,u),a.ref=i.innerType,m.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,u),a.ref=i.innerType,this.io==="input"&&(m._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,u),a.ref=i.innerType;let p;try{p=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}m.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let p=m,f=e._zod.pattern;if(!f)throw Error("Pattern not found in template literal");p.type="string",p.pattern=f.source;break}case"pipe":{let p=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(p,u),a.ref=p;break}case"readonly":{this.process(i.innerType,u),a.ref=i.innerType,m.readOnly=!0;break}case"promise":{this.process(i.innerType,u),a.ref=i.innerType;break}case"optional":{this.process(i.innerType,u),a.ref=i.innerType;break}case"lazy":{let p=e._zod.innerType;this.process(p,u),a.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}default:}}}let l=this.metadataRegistry.get(e);return l&&Object.assign(a.schema,l),this.io==="input"&&cr(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(e);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let o=u=>{let d=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let f=n.external.registry.get(u[0])?.id;if(f)return{ref:n.external.uri(f)};let v=u[1].defId??u[1].schema.id??`schema${this.counter++}`;return u[1].defId=v,{defId:v,ref:`${n.external.uri("__shared")}#/${d}/${v}`}}if(u[1]===i)return{ref:"#"};let m=`#/${d}/`,p=u[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:m+p}},s=u=>{if(u[1].schema.$ref)return;let d=u[1],{ref:m,defId:p}=o(u);d.def={...d.schema},p&&(d.defId=p);let f=d.schema;for(let v in f)delete f[v];f.$ref=m};for(let u of this.seen.entries()){let d=u[1];if(e===u[0]){s(u);continue}if(n.external){let m=n.external.registry.get(u[0])?.id;if(e!==u[0]&&m){s(u);continue}}if(this.metadataRegistry.get(u[0])?.id){s(u);continue}if(d.cycle){if(n.cycles==="throw")throw Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);n.cycles==="ref"&&s(u);continue}if(d.count>1&&n.reused==="ref"){s(u);continue}}let a=(u,d)=>{let m=this.seen.get(u),p=m.def??m.schema,f={...p};if(m.ref===null)return;let v=m.ref;if(m.ref=null,v){a(v,d);let g=this.seen.get(v).schema;g.$ref&&d.target==="draft-7"?(p.allOf=p.allOf??[],p.allOf.push(g)):(Object.assign(p,g),Object.assign(p,f))}m.isParent||this.override({zodSchema:u,jsonSchema:p,path:m.path??[]})};for(let u of[...this.seen.entries()].reverse())a(u[0],{target:this.target});let c={};this.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?c.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),Object.assign(c,i.def);let l=n.external?.defs??{};for(let u of this.seen.entries()){let d=u[1];d.def&&d.defId&&(l[d.defId]=d.def)}!n.external&&Object.keys(l).length>0&&(this.target==="draft-2020-12"?c.$defs=l:c.definitions=l);try{return JSON.parse(JSON.stringify(c))}catch{throw Error("Error converting schema to JSON.")}}};function iQ(t,e){if(t instanceof hm){let n=new vm(e),i={};for(let a of t._idmap.entries()){let[c,l]=a;n.process(l)}let o={},s={registry:t,uri:e?.uri||(a=>a),defs:i};for(let a of t._idmap.entries()){let[c,l]=a;o[c]=n.emit(l,{...e,external:s})}if(Object.keys(i).length>0){let a=n.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[a]:i}}return{schemas:o}}let r=new vm(e);return r.process(t),r.emit(t,e)}function cr(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let n=t._zod.def;switch(n.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return cr(n.element,r);case"object":{for(let i in n.shape)if(cr(n.shape[i],r))return!0;return!1}case"union":{for(let i of n.options)if(cr(i,r))return!0;return!1}case"intersection":return cr(n.left,r)||cr(n.right,r);case"tuple":{for(let i of n.items)if(cr(i,r))return!0;return!!(n.rest&&cr(n.rest,r))}case"record":return cr(n.keyType,r)||cr(n.valueType,r);case"map":return cr(n.keyType,r)||cr(n.valueType,r);case"set":return cr(n.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return cr(n.innerType,r);case"lazy":return cr(n.getter(),r);case"default":return cr(n.innerType,r);case"prefault":return cr(n.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return cr(n.in,r)||cr(n.out,r);case"success":return!1;case"catch":return!1;default:}throw Error(`Unknown schema type: ${n.type}`)}var oQ=q("ZodMiniType",(t,e)=>{if(!t._zod)throw Error("Uninitialized schema in ZodMiniType.");Ot.init(t,e),t.def=e,t.parse=(r,n)=>P8(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>Hx(t,r,n),t.parseAsync=async(r,n)=>I8(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>Wx(t,r,n),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>to(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t)}),sQ=q("ZodMiniObject",(t,e)=>{vN.init(t,e),oQ.init(t,e),$t.defineLazy(t,"shape",()=>e.shape)});function QO(t,e){let r={type:"object",get shape(){return $t.assignProp(this,"shape",{...t}),this.shape},...$t.normalizeParams(e)};return new sQ(r)}function Xn(t){return!!t._zod}function Eu(t){let e=Object.values(t);if(e.length===0)return QO({});let r=e.every(Xn),n=e.every(i=>!Xn(i));if(r)return QO(t);if(n)return o8(t);throw Error("Mixed Zod versions detected in object shape.")}function Tu(t,e){return Xn(t)?Hx(t,e):t.safeParse(e)}async function K_(t,e){return Xn(t)?await Wx(t,e):await t.safeParseAsync(e)}function Zu(t){var e,r;if(!t)return;let n;if(Xn(t)?n=(r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.shape:n=t.shape,!!n){if(typeof n=="function")try{return n()}catch{return}return n}}function xu(t){var e;if(t){if(typeof t=="object"){let r=t,n=t;if(!r._def&&!n._zod){let i=Object.values(t);if(i.length>0&&i.every(o=>typeof o=="object"&&o!==null&&(o._def!==void 0||o._zod!==void 0||typeof o.parse=="function")))return Eu(t)}}if(Xn(t)){let r=(e=t._zod)===null||e===void 0?void 0:e.def;if(r&&(r.type==="object"||r.shape!==void 0))return t}else if(t.shape!==void 0)return t}}function Y_(t){if(t&&typeof t=="object"){if("message"in t&&typeof t.message=="string")return t.message;if("issues"in t&&Array.isArray(t.issues)&&t.issues.length>0){let e=t.issues[0];if(e&&typeof e=="object"&&"message"in e)return String(e.message)}try{return JSON.stringify(t)}catch{return String(t)}}return String(t)}function aQ(t){var e,r,n,i;if(Xn(t))return(r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.description;let o=t;return(n=t.description)!==null&&n!==void 0?n:(i=o._def)===null||i===void 0?void 0:i.description}function cQ(t){var e,r,n;if(Xn(t))return((r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.type)==="optional";let i=t;return typeof t.isOptional=="function"?t.isOptional():((n=i._def)===null||n===void 0?void 0:n.typeName)==="ZodOptional"}function xN(t){var e;if(Xn(t)){let i=(e=t._zod)===null||e===void 0?void 0:e.def;if(i){if(i.value!==void 0)return i.value;if(Array.isArray(i.values)&&i.values.length>0)return i.values[0]}}let r=t._def;if(r){if(r.value!==void 0)return r.value;if(Array.isArray(r.values)&&r.values.length>0)return r.values[0]}let n=t.value;if(n!==void 0)return n}var wN={};hA(wN,{time:()=>CN,duration:()=>IN,datetime:()=>kN,date:()=>EN,ZodISOTime:()=>TN,ZodISODuration:()=>PN,ZodISODateTime:()=>SN,ZodISODate:()=>$N});var SN=q("ZodISODateTime",(t,e)=>{CY.init(t,e),Ht.init(t,e)});function kN(t){return j7(SN,t)}var $N=q("ZodISODate",(t,e)=>{PY.init(t,e),Ht.init(t,e)});function EN(t){return D7($N,t)}var TN=q("ZodISOTime",(t,e)=>{IY.init(t,e),Ht.init(t,e)});function CN(t){return z7(TN,t)}var PN=q("ZodISODuration",(t,e)=>{RY.init(t,e),Ht.init(t,e)});function IN(t){return M7(PN,t)}var RN=(t,e)=>{iN.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>C8(t,r)},flatten:{value:r=>T8(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},e$e=q("ZodError",RN),jm=q("ZodError",RN,{Parent:Error}),lQ=oN(jm),uQ=sN(jm),dQ=aN(jm),pQ=cN(jm),Vt=q("ZodType",(t,e)=>(Ot.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>to(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>lQ(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>dQ(t,r,n),t.parseAsync=async(r,n)=>uQ(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>pQ(t,r,n),t.spa=t.safeParseAsync,t.refine=(r,n)=>t.check(rX(r,n)),t.superRefine=r=>t.check(nX(r)),t.overwrite=r=>t.check(qu(r)),t.optional=()=>Re(t),t.nullable=()=>tA(t),t.nullish=()=>Re(tA(t)),t.nonoptional=r=>GQ(t,r),t.array=()=>pt(t),t.or=r=>Lt([t,r]),t.and=r=>Jx(t,r),t.transform=r=>_x(t,MN(r)),t.default=r=>VQ(t,r),t.prefault=r=>WQ(t,r),t.catch=r=>KQ(t,r),t.pipe=r=>_x(t,r),t.readonly=()=>XQ(t),t.describe=r=>{let n=t.clone();return $u.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return $u.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return $u.get(t);let n=t.clone();return $u.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),ON=q("_ZodString",(t,e)=>{Gx.init(t,e),Vt.init(t,e);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(V7(...n)),t.includes=(...n)=>t.check(G7(...n)),t.startsWith=(...n)=>t.check(J7(...n)),t.endsWith=(...n)=>t.check(K7(...n)),t.min=(...n)=>t.check(gm(...n)),t.max=(...n)=>t.check(bN(...n)),t.length=(...n)=>t.check(_N(...n)),t.nonempty=(...n)=>t.check(gm(1,...n)),t.lowercase=n=>t.check(H7(n)),t.uppercase=n=>t.check(W7(n)),t.trim=()=>t.check(Q7()),t.normalize=(...n)=>t.check(Y7(...n)),t.toLowerCase=()=>t.check(X7()),t.toUpperCase=()=>t.check(eQ())}),fQ=q("ZodString",(t,e)=>{Gx.init(t,e),ON.init(t,e),t.email=r=>t.check(m7(mQ,r)),t.url=r=>t.check(b7(hQ,r)),t.jwt=r=>t.check(N7(IQ,r)),t.emoji=r=>t.check(_7(gQ,r)),t.guid=r=>t.check(GO(XO,r)),t.uuid=r=>t.check(h7(am,r)),t.uuidv4=r=>t.check(g7(am,r)),t.uuidv6=r=>t.check(v7(am,r)),t.uuidv7=r=>t.check(y7(am,r)),t.nanoid=r=>t.check(x7(vQ,r)),t.guid=r=>t.check(GO(XO,r)),t.cuid=r=>t.check(w7(yQ,r)),t.cuid2=r=>t.check(S7(bQ,r)),t.ulid=r=>t.check(k7(_Q,r)),t.base64=r=>t.check(R7(TQ,r)),t.base64url=r=>t.check(O7(CQ,r)),t.xid=r=>t.check($7(xQ,r)),t.ksuid=r=>t.check(E7(wQ,r)),t.ipv4=r=>t.check(T7(SQ,r)),t.ipv6=r=>t.check(C7(kQ,r)),t.cidrv4=r=>t.check(P7($Q,r)),t.cidrv6=r=>t.check(I7(EQ,r)),t.e164=r=>t.check(A7(PQ,r)),t.datetime=r=>t.check(kN(r)),t.date=r=>t.check(EN(r)),t.time=r=>t.check(CN(r)),t.duration=r=>t.check(IN(r))});function L(t){return f7(fQ,t)}var Ht=q("ZodStringFormat",(t,e)=>{Ut.init(t,e),ON.init(t,e)}),mQ=q("ZodEmail",(t,e)=>{bY.init(t,e),Ht.init(t,e)}),XO=q("ZodGUID",(t,e)=>{vY.init(t,e),Ht.init(t,e)}),am=q("ZodUUID",(t,e)=>{yY.init(t,e),Ht.init(t,e)}),hQ=q("ZodURL",(t,e)=>{_Y.init(t,e),Ht.init(t,e)}),gQ=q("ZodEmoji",(t,e)=>{xY.init(t,e),Ht.init(t,e)}),vQ=q("ZodNanoID",(t,e)=>{wY.init(t,e),Ht.init(t,e)}),yQ=q("ZodCUID",(t,e)=>{SY.init(t,e),Ht.init(t,e)}),bQ=q("ZodCUID2",(t,e)=>{kY.init(t,e),Ht.init(t,e)}),_Q=q("ZodULID",(t,e)=>{$Y.init(t,e),Ht.init(t,e)}),xQ=q("ZodXID",(t,e)=>{EY.init(t,e),Ht.init(t,e)}),wQ=q("ZodKSUID",(t,e)=>{TY.init(t,e),Ht.init(t,e)}),SQ=q("ZodIPv4",(t,e)=>{OY.init(t,e),Ht.init(t,e)}),kQ=q("ZodIPv6",(t,e)=>{AY.init(t,e),Ht.init(t,e)}),$Q=q("ZodCIDRv4",(t,e)=>{NY.init(t,e),Ht.init(t,e)}),EQ=q("ZodCIDRv6",(t,e)=>{jY.init(t,e),Ht.init(t,e)}),TQ=q("ZodBase64",(t,e)=>{DY.init(t,e),Ht.init(t,e)}),CQ=q("ZodBase64URL",(t,e)=>{MY.init(t,e),Ht.init(t,e)}),PQ=q("ZodE164",(t,e)=>{UY.init(t,e),Ht.init(t,e)}),IQ=q("ZodJWT",(t,e)=>{FY.init(t,e),Ht.init(t,e)}),AN=q("ZodNumber",(t,e)=>{gN.init(t,e),Vt.init(t,e),t.gt=(n,i)=>t.check(KO(n,i)),t.gte=(n,i)=>t.check(J_(n,i)),t.min=(n,i)=>t.check(J_(n,i)),t.lt=(n,i)=>t.check(JO(n,i)),t.lte=(n,i)=>t.check(G_(n,i)),t.max=(n,i)=>t.check(G_(n,i)),t.int=n=>t.check(eA(n)),t.safe=n=>t.check(eA(n)),t.positive=n=>t.check(KO(0,n)),t.nonnegative=n=>t.check(J_(0,n)),t.negative=n=>t.check(JO(0,n)),t.nonpositive=n=>t.check(G_(0,n)),t.multipleOf=(n,i)=>t.check(YO(n,i)),t.step=(n,i)=>t.check(YO(n,i)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Rt(t){return U7(AN,t)}var RQ=q("ZodNumberFormat",(t,e)=>{qY.init(t,e),AN.init(t,e)});function eA(t){return L7(RQ,t)}var OQ=q("ZodBoolean",(t,e)=>{ZY.init(t,e),Vt.init(t,e)});function Ir(t){return F7(OQ,t)}var AQ=q("ZodNull",(t,e)=>{BY.init(t,e),Vt.init(t,e)});function NN(t){return q7(AQ,t)}var NQ=q("ZodUnknown",(t,e)=>{VY.init(t,e),Vt.init(t,e)});function lr(){return Z7(NQ)}var jQ=q("ZodNever",(t,e)=>{HY.init(t,e),Vt.init(t,e)});function DQ(t){return B7(jQ,t)}var zQ=q("ZodArray",(t,e)=>{WY.init(t,e),Vt.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(gm(r,n)),t.nonempty=r=>t.check(gm(1,r)),t.max=(r,n)=>t.check(bN(r,n)),t.length=(r,n)=>t.check(_N(r,n)),t.unwrap=()=>t.element});function pt(t,e){return tQ(zQ,t,e)}var jN=q("ZodObject",(t,e)=>{vN.init(t,e),Vt.init(t,e),$t.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>Rr(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:lr()}),t.loose=()=>t.clone({...t._zod.def,catchall:lr()}),t.strict=()=>t.clone({...t._zod.def,catchall:DQ()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>$t.extend(t,r),t.merge=r=>$t.merge(t,r),t.pick=r=>$t.pick(t,r),t.omit=r=>$t.omit(t,r),t.partial=(...r)=>$t.partial(UN,t,r[0]),t.required=(...r)=>$t.required(LN,t,r[0])});function oe(t,e){let r={type:"object",get shape(){return $t.assignProp(this,"shape",{...t}),this.shape},...$t.normalizeParams(e)};return new jN(r)}function ei(t,e){return new jN({type:"object",get shape(){return $t.assignProp(this,"shape",{...t}),this.shape},catchall:lr(),...$t.normalizeParams(e)})}var DN=q("ZodUnion",(t,e)=>{yN.init(t,e),Vt.init(t,e),t.options=e.options});function Lt(t,e){return new DN({type:"union",options:t,...$t.normalizeParams(e)})}var MQ=q("ZodDiscriminatedUnion",(t,e)=>{DN.init(t,e),GY.init(t,e)});function zN(t,e,r){return new MQ({type:"union",options:e,discriminator:t,...$t.normalizeParams(r)})}var UQ=q("ZodIntersection",(t,e)=>{JY.init(t,e),Vt.init(t,e)});function Jx(t,e){return new UQ({type:"intersection",left:t,right:e})}var LQ=q("ZodRecord",(t,e)=>{KY.init(t,e),Vt.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function ur(t,e,r){return new LQ({type:"record",keyType:t,valueType:e,...$t.normalizeParams(r)})}var bx=q("ZodEnum",(t,e)=>{YY.init(t,e),Vt.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{let o={};for(let s of n)if(r.has(s))o[s]=e.entries[s];else throw Error(`Key ${s} not found in enum`);return new bx({...e,checks:[],...$t.normalizeParams(i),entries:o})},t.exclude=(n,i)=>{let o={...e.entries};for(let s of n)if(r.has(s))delete o[s];else throw Error(`Key ${s} not found in enum`);return new bx({...e,checks:[],...$t.normalizeParams(i),entries:o})}});function Rr(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new bx({type:"enum",entries:r,...$t.normalizeParams(e)})}var FQ=q("ZodLiteral",(t,e)=>{QY.init(t,e),Vt.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Oe(t,e){return new FQ({type:"literal",values:Array.isArray(t)?t:[t],...$t.normalizeParams(e)})}var qQ=q("ZodTransform",(t,e)=>{XY.init(t,e),Vt.init(t,e),t._zod.parse=(r,n)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push($t.issue(o,r.value,e));else{let s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!0),r.issues.push($t.issue(s))}};let i=e.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function MN(t){return new qQ({type:"transform",transform:t})}var UN=q("ZodOptional",(t,e)=>{e7.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Re(t){return new UN({type:"optional",innerType:t})}var ZQ=q("ZodNullable",(t,e)=>{t7.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function tA(t){return new ZQ({type:"nullable",innerType:t})}var BQ=q("ZodDefault",(t,e)=>{r7.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function VQ(t,e){return new BQ({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var HQ=q("ZodPrefault",(t,e)=>{n7.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function WQ(t,e){return new HQ({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var LN=q("ZodNonOptional",(t,e)=>{i7.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function GQ(t,e){return new LN({type:"nonoptional",innerType:t,...$t.normalizeParams(e)})}var JQ=q("ZodCatch",(t,e)=>{o7.init(t,e),Vt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function KQ(t,e){return new JQ({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var YQ=q("ZodPipe",(t,e)=>{s7.init(t,e),Vt.init(t,e),t.in=e.in,t.out=e.out});function _x(t,e){return new YQ({type:"pipe",in:t,out:e})}var QQ=q("ZodReadonly",(t,e)=>{a7.init(t,e),Vt.init(t,e)});function XQ(t){return new QQ({type:"readonly",innerType:t})}var FN=q("ZodCustom",(t,e)=>{c7.init(t,e),Vt.init(t,e)});function eX(t,e){let r=new rn({check:"custom",...$t.normalizeParams(e)});return r._zod.check=t,r}function tX(t,e){return rQ(FN,t??(()=>!0),e)}function rX(t,e={}){return nQ(FN,t,e)}function nX(t,e){let r=eX(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push($t.issue(i,n.value,r._zod.def));else{let o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=r),o.continue??(o.continue=!r._zod.def.abort),n.issues.push($t.issue(o))}},t(n.value,n)),e);return r}function qN(t,e){return _x(MN(t),e)}Xi(d7());var ZN="2025-11-25",iX=[ZN,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],Ji="io.modelcontextprotocol/related-task",Dm="2.0",ki=tX(t=>t!==null&&(typeof t=="object"||typeof t=="function")),BN=Lt([L(),Rt().int()]),VN=L(),oX=ei({ttl:Lt([Rt(),NN()]).optional(),pollInterval:Rt().optional()}),Kx=ei({taskId:L()}),sX=ei({progressToken:BN.optional(),[Ji]:Kx.optional()}),nn=ei({task:oX.optional(),_meta:sX.optional()}),Sr=oe({method:L(),params:nn.optional()}),Ns=ei({_meta:oe({[Ji]:Re(Kx)}).passthrough().optional()}),jn=oe({method:L(),params:Ns.optional()}),Or=ei({_meta:ei({[Ji]:Kx.optional()}).optional()}),zm=Lt([L(),Rt().int()]),HN=oe({jsonrpc:Oe(Dm),id:zm,...Sr.shape}).strict(),rA=t=>HN.safeParse(t).success,WN=oe({jsonrpc:Oe(Dm),...jn.shape}).strict(),aX=t=>WN.safeParse(t).success,GN=oe({jsonrpc:Oe(Dm),id:zm,result:Or}).strict(),cm=t=>GN.safeParse(t).success,je;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(je||(je={}));var JN=oe({jsonrpc:Oe(Dm),id:zm,error:oe({code:Rt().int(),message:L(),data:Re(lr())})}).strict(),cX=t=>JN.safeParse(t).success,t$e=Lt([HN,WN,GN,JN]),Yx=Or.strict(),lX=Ns.extend({requestId:zm,reason:L().optional()}),Qx=jn.extend({method:Oe("notifications/cancelled"),params:lX}),uX=oe({src:L(),mimeType:L().optional(),sizes:pt(L()).optional()}),Bu=oe({icons:pt(uX).optional()}),uc=oe({name:L(),title:L().optional()}),KN=uc.extend({...uc.shape,...Bu.shape,version:L(),websiteUrl:L().optional()}),dX=Jx(oe({applyDefaults:Ir().optional()}),ur(L(),lr())),pX=qN(t=>t&&typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length===0?{form:{}}:t,Jx(oe({form:dX.optional(),url:ki.optional()}),ur(L(),lr()).optional())),fX=oe({list:Re(oe({}).passthrough()),cancel:Re(oe({}).passthrough()),requests:Re(oe({sampling:Re(oe({createMessage:Re(oe({}).passthrough())}).passthrough()),elicitation:Re(oe({create:Re(oe({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),mX=oe({list:Re(oe({}).passthrough()),cancel:Re(oe({}).passthrough()),requests:Re(oe({tools:Re(oe({call:Re(oe({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),hX=oe({experimental:ur(L(),ki).optional(),sampling:oe({context:ki.optional(),tools:ki.optional()}).optional(),elicitation:pX.optional(),roots:oe({listChanged:Ir().optional()}).optional(),tasks:Re(fX)}),gX=nn.extend({protocolVersion:L(),capabilities:hX,clientInfo:KN}),YN=Sr.extend({method:Oe("initialize"),params:gX}),vX=oe({experimental:ur(L(),ki).optional(),logging:ki.optional(),completions:ki.optional(),prompts:Re(oe({listChanged:Re(Ir())})),resources:oe({subscribe:Ir().optional(),listChanged:Ir().optional()}).optional(),tools:oe({listChanged:Ir().optional()}).optional(),tasks:Re(mX)}).passthrough(),yX=Or.extend({protocolVersion:L(),capabilities:vX,serverInfo:KN,instructions:L().optional()}),QN=jn.extend({method:Oe("notifications/initialized")}),Xx=Sr.extend({method:Oe("ping")}),bX=oe({progress:Rt(),total:Re(Rt()),message:Re(L())}),_X=oe({...Ns.shape,...bX.shape,progressToken:BN}),ew=jn.extend({method:Oe("notifications/progress"),params:_X}),xX=nn.extend({cursor:VN.optional()}),Vu=Sr.extend({params:xX.optional()}),Hu=Or.extend({nextCursor:Re(VN)}),Wu=oe({taskId:L(),status:Rr(["working","input_required","completed","failed","cancelled"]),ttl:Lt([Rt(),NN()]),createdAt:L(),lastUpdatedAt:L(),pollInterval:Re(Rt()),statusMessage:Re(L())}),Mm=Or.extend({task:Wu}),wX=Ns.merge(Wu),ym=jn.extend({method:Oe("notifications/tasks/status"),params:wX}),tw=Sr.extend({method:Oe("tasks/get"),params:nn.extend({taskId:L()})}),rw=Or.merge(Wu),nw=Sr.extend({method:Oe("tasks/result"),params:nn.extend({taskId:L()})}),iw=Vu.extend({method:Oe("tasks/list")}),ow=Hu.extend({tasks:pt(Wu)}),SX=Sr.extend({method:Oe("tasks/cancel"),params:nn.extend({taskId:L()})}),kX=Or.merge(Wu),XN=oe({uri:L(),mimeType:Re(L()),_meta:ur(L(),lr()).optional()}),e1=XN.extend({text:L()}),sw=L().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),t1=XN.extend({blob:sw}),vc=oe({audience:pt(Rr(["user","assistant"])).optional(),priority:Rt().min(0).max(1).optional(),lastModified:wN.datetime({offset:!0}).optional()}),r1=oe({...uc.shape,...Bu.shape,uri:L(),description:Re(L()),mimeType:Re(L()),annotations:vc.optional(),_meta:Re(ei({}))}),$X=oe({...uc.shape,...Bu.shape,uriTemplate:L(),description:Re(L()),mimeType:Re(L()),annotations:vc.optional(),_meta:Re(ei({}))}),xx=Vu.extend({method:Oe("resources/list")}),EX=Hu.extend({resources:pt(r1)}),wx=Vu.extend({method:Oe("resources/templates/list")}),TX=Hu.extend({resourceTemplates:pt($X)}),aw=nn.extend({uri:L()}),CX=aw,Sx=Sr.extend({method:Oe("resources/read"),params:CX}),PX=Or.extend({contents:pt(Lt([e1,t1]))}),IX=jn.extend({method:Oe("notifications/resources/list_changed")}),RX=aw,OX=Sr.extend({method:Oe("resources/subscribe"),params:RX}),AX=aw,NX=Sr.extend({method:Oe("resources/unsubscribe"),params:AX}),jX=Ns.extend({uri:L()}),DX=jn.extend({method:Oe("notifications/resources/updated"),params:jX}),zX=oe({name:L(),description:Re(L()),required:Re(Ir())}),MX=oe({...uc.shape,...Bu.shape,description:Re(L()),arguments:Re(pt(zX)),_meta:Re(ei({}))}),kx=Vu.extend({method:Oe("prompts/list")}),UX=Hu.extend({prompts:pt(MX)}),LX=nn.extend({name:L(),arguments:ur(L(),L()).optional()}),$x=Sr.extend({method:Oe("prompts/get"),params:LX}),cw=oe({type:Oe("text"),text:L(),annotations:vc.optional(),_meta:ur(L(),lr()).optional()}),lw=oe({type:Oe("image"),data:sw,mimeType:L(),annotations:vc.optional(),_meta:ur(L(),lr()).optional()}),uw=oe({type:Oe("audio"),data:sw,mimeType:L(),annotations:vc.optional(),_meta:ur(L(),lr()).optional()}),FX=oe({type:Oe("tool_use"),name:L(),id:L(),input:oe({}).passthrough(),_meta:Re(oe({}).passthrough())}).passthrough(),qX=oe({type:Oe("resource"),resource:Lt([e1,t1]),annotations:vc.optional(),_meta:ur(L(),lr()).optional()}),ZX=r1.extend({type:Oe("resource_link")}),dw=Lt([cw,lw,uw,ZX,qX]),BX=oe({role:Rr(["user","assistant"]),content:dw}),VX=Or.extend({description:Re(L()),messages:pt(BX)}),HX=jn.extend({method:Oe("notifications/prompts/list_changed")}),WX=oe({title:L().optional(),readOnlyHint:Ir().optional(),destructiveHint:Ir().optional(),idempotentHint:Ir().optional(),openWorldHint:Ir().optional()}),GX=oe({taskSupport:Rr(["required","optional","forbidden"]).optional()}),n1=oe({...uc.shape,...Bu.shape,description:L().optional(),inputSchema:oe({type:Oe("object"),properties:ur(L(),ki).optional(),required:pt(L()).optional()}).catchall(lr()),outputSchema:oe({type:Oe("object"),properties:ur(L(),ki).optional(),required:pt(L()).optional()}).catchall(lr()).optional(),annotations:Re(WX),execution:Re(GX),_meta:ur(L(),lr()).optional()}),Ex=Vu.extend({method:Oe("tools/list")}),JX=Hu.extend({tools:pt(n1)}),pw=Or.extend({content:pt(dw).default([]),structuredContent:ur(L(),lr()).optional(),isError:Re(Ir())}),r$e=pw.or(Or.extend({toolResult:lr()})),KX=nn.extend({name:L(),arguments:Re(ur(L(),lr()))}),bm=Sr.extend({method:Oe("tools/call"),params:KX}),YX=jn.extend({method:Oe("notifications/tools/list_changed")}),_m=Rr(["debug","info","notice","warning","error","critical","alert","emergency"]),QX=nn.extend({level:_m}),i1=Sr.extend({method:Oe("logging/setLevel"),params:QX}),XX=Ns.extend({level:_m,logger:L().optional(),data:lr()}),eee=jn.extend({method:Oe("notifications/message"),params:XX}),tee=oe({name:L().optional()}),ree=oe({hints:Re(pt(tee)),costPriority:Re(Rt().min(0).max(1)),speedPriority:Re(Rt().min(0).max(1)),intelligencePriority:Re(Rt().min(0).max(1))}),nee=oe({mode:Re(Rr(["auto","required","none"]))}),iee=oe({type:Oe("tool_result"),toolUseId:L().describe("The unique identifier for the corresponding tool call."),content:pt(dw).default([]),structuredContent:oe({}).passthrough().optional(),isError:Re(Ir()),_meta:Re(oe({}).passthrough())}).passthrough(),oee=zN("type",[cw,lw,uw]),xm=zN("type",[cw,lw,uw,FX,iee]),see=oe({role:Rr(["user","assistant"]),content:Lt([xm,pt(xm)]),_meta:Re(oe({}).passthrough())}).passthrough(),aee=nn.extend({messages:pt(see),modelPreferences:ree.optional(),systemPrompt:L().optional(),includeContext:Rr(["none","thisServer","allServers"]).optional(),temperature:Rt().optional(),maxTokens:Rt().int(),stopSequences:pt(L()).optional(),metadata:ki.optional(),tools:Re(pt(n1)),toolChoice:Re(nee)}),cee=Sr.extend({method:Oe("sampling/createMessage"),params:aee}),o1=Or.extend({model:L(),stopReason:Re(Rr(["endTurn","stopSequence","maxTokens"]).or(L())),role:Rr(["user","assistant"]),content:oee}),s1=Or.extend({model:L(),stopReason:Re(Rr(["endTurn","stopSequence","maxTokens","toolUse"]).or(L())),role:Rr(["user","assistant"]),content:Lt([xm,pt(xm)])}),lee=oe({type:Oe("boolean"),title:L().optional(),description:L().optional(),default:Ir().optional()}),uee=oe({type:Oe("string"),title:L().optional(),description:L().optional(),minLength:Rt().optional(),maxLength:Rt().optional(),format:Rr(["email","uri","date","date-time"]).optional(),default:L().optional()}),dee=oe({type:Rr(["number","integer"]),title:L().optional(),description:L().optional(),minimum:Rt().optional(),maximum:Rt().optional(),default:Rt().optional()}),pee=oe({type:Oe("string"),title:L().optional(),description:L().optional(),enum:pt(L()),default:L().optional()}),fee=oe({type:Oe("string"),title:L().optional(),description:L().optional(),oneOf:pt(oe({const:L(),title:L()})),default:L().optional()}),mee=oe({type:Oe("string"),title:L().optional(),description:L().optional(),enum:pt(L()),enumNames:pt(L()).optional(),default:L().optional()}),hee=Lt([pee,fee]),gee=oe({type:Oe("array"),title:L().optional(),description:L().optional(),minItems:Rt().optional(),maxItems:Rt().optional(),items:oe({type:Oe("string"),enum:pt(L())}),default:pt(L()).optional()}),vee=oe({type:Oe("array"),title:L().optional(),description:L().optional(),minItems:Rt().optional(),maxItems:Rt().optional(),items:oe({anyOf:pt(oe({const:L(),title:L()}))}),default:pt(L()).optional()}),yee=Lt([gee,vee]),bee=Lt([mee,hee,yee]),_ee=Lt([bee,lee,uee,dee]),xee=nn.extend({mode:Oe("form").optional(),message:L(),requestedSchema:oe({type:Oe("object"),properties:ur(L(),_ee),required:pt(L()).optional()})}),wee=nn.extend({mode:Oe("url"),message:L(),elicitationId:L(),url:L().url()}),See=Lt([xee,wee]),kee=Sr.extend({method:Oe("elicitation/create"),params:See}),$ee=Ns.extend({elicitationId:L()}),Eee=jn.extend({method:Oe("notifications/elicitation/complete"),params:$ee}),Tx=Or.extend({action:Rr(["accept","decline","cancel"]),content:qN(t=>t===null?void 0:t,ur(L(),Lt([L(),Rt(),Ir(),pt(L())])).optional())}),Tee=oe({type:Oe("ref/resource"),uri:L()}),Cee=oe({type:Oe("ref/prompt"),name:L()}),Pee=nn.extend({ref:Lt([Cee,Tee]),argument:oe({name:L(),value:L()}),context:oe({arguments:ur(L(),L()).optional()}).optional()}),Cx=Sr.extend({method:Oe("completion/complete"),params:Pee});function Iee(t){if(t.params.ref.type!=="ref/prompt")throw TypeError(`Expected CompleteRequestPrompt, but got ${t.params.ref.type}`)}function Ree(t){if(t.params.ref.type!=="ref/resource")throw TypeError(`Expected CompleteRequestResourceTemplate, but got ${t.params.ref.type}`)}var Oee=Or.extend({completion:ei({values:pt(L()).max(100),total:Re(Rt().int()),hasMore:Re(Ir())})}),Aee=oe({uri:L().startsWith("file://"),name:L().optional(),_meta:ur(L(),lr()).optional()}),Nee=Sr.extend({method:Oe("roots/list")}),a1=Or.extend({roots:pt(Aee)}),jee=jn.extend({method:Oe("notifications/roots/list_changed")}),n$e=Lt([Xx,YN,Cx,i1,$x,kx,xx,wx,Sx,OX,NX,bm,Ex,tw,nw,iw]),i$e=Lt([Qx,ew,QN,jee,ym]),o$e=Lt([Yx,o1,s1,Tx,a1,rw,ow,Mm]),s$e=Lt([Xx,cee,kee,Nee,tw,nw,iw]),a$e=Lt([Qx,ew,eee,DX,IX,YX,HX,ym,Eee]),c$e=Lt([Yx,yX,Oee,VX,UX,EX,TX,PX,pw,JX,rw,ow,Mm]),Ae=class t extends Error{constructor(e,r,n){super(`MCP error ${e}: ${r}`),this.code=e,this.data=n,this.name="McpError"}static fromError(e,r,n){if(e===je.UrlElicitationRequired&&n){let i=n;if(i.elicitations)return new Px(i.elicitations,r)}return new t(e,r,n)}},Px=class extends Ae{constructor(e,r=`URL elicitation${e.length>1?"s":""} required`){super(je.UrlElicitationRequired,r,{elicitations:e})}get elicitations(){var e,r;return(r=(e=this.data)===null||e===void 0?void 0:e.elicitations)!==null&&r!==void 0?r:[]}};function Ps(t){return t==="completed"||t==="failed"||t==="cancelled"}var Dee=Symbol("Let zodToJsonSchema decide on which parser to use"),nA={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},zee=t=>typeof t=="string"?{...nA,name:t}:{...nA,...t},Mee=t=>{let e=zee(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}};function c1(t,e,r,n){n?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function St(t,e,r,n,i){t[e]=r,c1(t,e,n,i)}var l1=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")};function tn(t){if(t.target!=="openAi")return{};let e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?l1(e,t.currentPath):e.join("/")}}function Uee(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==Q.ZodAny&&(r.items=_t(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&St(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&St(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(St(r,"minItems",t.exactLength.value,t.exactLength.message,e),St(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function Lee(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?St(r,"minimum",n.value,n.message,e):St(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),St(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?St(r,"maximum",n.value,n.message,e):St(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),St(r,"maximum",n.value,n.message,e));break;case"multipleOf":St(r,"multipleOf",n.value,n.message,e);break}return r}function Fee(){return{type:"boolean"}}function u1(t,e){return _t(t.type._def,e)}var qee=(t,e)=>_t(t.innerType._def,e);function d1(t,e,r){let n=r??e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,o)=>d1(t,e,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Zee(t,e)}}var Zee=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let n of t.checks)switch(n.kind){case"min":St(r,"minimum",n.value,n.message,e);break;case"max":St(r,"maximum",n.value,n.message,e);break}return r};function Bee(t,e){return{..._t(t.innerType._def,e),default:t.defaultValue()}}function Vee(t,e){return e.effectStrategy==="input"?_t(t.schema._def,e):tn(e)}function Hee(t){return{type:"string",enum:Array.from(t.values)}}var Wee=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Gee(t,e){let r=[_t(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),_t(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o),n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(o=>{if(Wee(o))i.push(...o.allOf),o.unevaluatedProperties===void 0&&(n=void 0);else{let s=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:a,...c}=o;s=c}else n=void 0;i.push(s)}}),i.length?{allOf:i,...n}:void 0}function Jee(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var Q_=void 0,Jn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Q_===void 0&&(Q_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Q_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function p1(t,e){let r={type:"string"};if(t.checks)for(let n of t.checks)switch(n.kind){case"min":St(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e);break;case"max":St(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Kn(r,"email",n.message,e);break;case"format:idn-email":Kn(r,"idn-email",n.message,e);break;case"pattern:zod":Br(r,Jn.email,n.message,e);break}break;case"url":Kn(r,"uri",n.message,e);break;case"uuid":Kn(r,"uuid",n.message,e);break;case"regex":Br(r,n.regex,n.message,e);break;case"cuid":Br(r,Jn.cuid,n.message,e);break;case"cuid2":Br(r,Jn.cuid2,n.message,e);break;case"startsWith":Br(r,RegExp(`^${X_(n.value,e)}`),n.message,e);break;case"endsWith":Br(r,RegExp(`${X_(n.value,e)}$`),n.message,e);break;case"datetime":Kn(r,"date-time",n.message,e);break;case"date":Kn(r,"date",n.message,e);break;case"time":Kn(r,"time",n.message,e);break;case"duration":Kn(r,"duration",n.message,e);break;case"length":St(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e),St(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"includes":{Br(r,RegExp(X_(n.value,e)),n.message,e);break}case"ip":{n.version!=="v6"&&Kn(r,"ipv4",n.message,e),n.version!=="v4"&&Kn(r,"ipv6",n.message,e);break}case"base64url":Br(r,Jn.base64url,n.message,e);break;case"jwt":Br(r,Jn.jwt,n.message,e);break;case"cidr":{n.version!=="v6"&&Br(r,Jn.ipv4Cidr,n.message,e),n.version!=="v4"&&Br(r,Jn.ipv6Cidr,n.message,e);break}case"emoji":Br(r,Jn.emoji(),n.message,e);break;case"ulid":{Br(r,Jn.ulid,n.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Kn(r,"binary",n.message,e);break}case"contentEncoding:base64":{St(r,"contentEncoding","base64",n.message,e);break}case"pattern:zod":{Br(r,Jn.base64,n.message,e);break}}break}case"nanoid":Br(r,Jn.nanoid,n.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function X_(t,e){return e.patternStrategy==="escape"?Yee(t):t}var Kee=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Yee(t){let e="";for(let r=0;r<t.length;r++)Kee.has(t[r])||(e+="\\"),e+=t[r];return e}function Kn(t,e,r,n){t.format||t.anyOf?.some(i=>i.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&n.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&n.errorMessages&&{errorMessage:{format:r}}})):St(t,"format",e,r,n)}function Br(t,e,r,n){t.pattern||t.allOf?.some(i=>i.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&n.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:iA(e,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):St(t,"pattern",iA(e,n),r,n)}function iA(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},n=r.i?t.source.toLowerCase():t.source,i="",o=!1,s=!1,a=!1;for(let c=0;c<n.length;c++){if(o){i+=n[c],o=!1;continue}if(r.i){if(s){if(n[c].match(/[a-z]/)){a?(i+=n[c],i+=`${n[c-2]}-${n[c]}`.toUpperCase(),a=!1):n[c+1]==="-"&&n[c+2]?.match(/[a-z]/)?(i+=n[c],a=!0):i+=`${n[c]}${n[c].toUpperCase()}`;continue}}else if(n[c].match(/[a-z]/)){i+=`[${n[c]}${n[c].toUpperCase()}]`;continue}}if(r.m){if(n[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(n[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&n[c]==="."){i+=s?`${n[c]}\r
`:`[${n[c]}\r
]`;continue}i+=n[c],n[c]==="\\"?o=!0:s&&n[c]==="]"?s=!1:!s&&n[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function f1(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===Q.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((n,i)=>({...n,[i]:_t(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",i]})??tn(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:_t(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===Q.ZodString&&t.keyType._def.checks?.length){let{type:n,...i}=p1(t.keyType._def,e);return{...r,propertyNames:i}}else{if(t.keyType?._def.typeName===Q.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===Q.ZodBranded&&t.keyType._def.type._def.typeName===Q.ZodString&&t.keyType._def.type._def.checks?.length){let{type:n,...i}=u1(t.keyType._def,e);return{...r,propertyNames:i}}}return r}function Qee(t,e){if(e.mapStrategy==="record")return f1(t,e);let r=_t(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||tn(e),n=_t(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||tn(e);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function Xee(t){let e=t.values,r=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),n=Array.from(new Set(r.map(i=>typeof i)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:r}}function ete(t){return t.target==="openAi"?void 0:{not:tn({...t,currentPath:[...t.currentPath,"not"]})}}function tte(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var wm={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function rte(t,e){if(e.target==="openApi3")return oA(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(n=>n._def.typeName in wm&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((i,o)=>{let s=wm[o._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((i,o)=>{let s=typeof o._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(o._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){let i=n.filter((o,s,a)=>a.indexOf(o)===s);return{type:i.length>1?i:i[0],enum:r.reduce((o,s)=>o.includes(s._def.value)?o:[...o,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(o=>!n.includes(o))],[])};return oA(t,e)}var oA=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((n,i)=>_t(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function nte(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:wm[t.innerType._def.typeName],nullable:!0}:{type:[wm[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let n=_t(t.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=_t(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function ite(t,e){let r={type:"number"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"int":r.type="integer",c1(r,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?St(r,"minimum",n.value,n.message,e):St(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),St(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?St(r,"maximum",n.value,n.message,e):St(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),St(r,"maximum",n.value,n.message,e));break;case"multipleOf":St(r,"multipleOf",n.value,n.message,e);break}return r}function ote(t,e){let r=e.target==="openAi",n={type:"object",properties:{}},i=[],o=t.shape();for(let a in o){let c=o[a];if(c===void 0||c._def===void 0)continue;let l=ate(c);l&&r&&(c._def.typeName==="ZodOptional"&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),l=!1);let u=_t(c._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});u!==void 0&&(n.properties[a]=u,!l&&i.push(a))}i.length&&(n.required=i);let s=ste(t,e);return s!==void 0&&(n.additionalProperties=s),n}function ste(t,e){if(t.catchall._def.typeName!=="ZodNever")return _t(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function ate(t){try{return t.isOptional()}catch{return!0}}var cte=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return _t(t.innerType._def,e);let r=_t(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:tn(e)},r]}:tn(e)},lte=(t,e)=>{if(e.pipeStrategy==="input")return _t(t.in._def,e);if(e.pipeStrategy==="output")return _t(t.out._def,e);let r=_t(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=_t(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}};function ute(t,e){return _t(t.type._def,e)}function dte(t,e){let r={type:"array",uniqueItems:!0,items:_t(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&St(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&St(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function pte(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,n)=>_t(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:_t(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,n)=>_t(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function fte(t){return{not:tn(t)}}function mte(t){return tn(t)}var hte=(t,e)=>_t(t.innerType._def,e),gte=(t,e,r)=>{switch(e){case Q.ZodString:return p1(t,r);case Q.ZodNumber:return ite(t,r);case Q.ZodObject:return ote(t,r);case Q.ZodBigInt:return Lee(t,r);case Q.ZodBoolean:return Fee();case Q.ZodDate:return d1(t,r);case Q.ZodUndefined:return fte(r);case Q.ZodNull:return tte(r);case Q.ZodArray:return Uee(t,r);case Q.ZodUnion:case Q.ZodDiscriminatedUnion:return rte(t,r);case Q.ZodIntersection:return Gee(t,r);case Q.ZodTuple:return pte(t,r);case Q.ZodRecord:return f1(t,r);case Q.ZodLiteral:return Jee(t,r);case Q.ZodEnum:return Hee(t);case Q.ZodNativeEnum:return Xee(t);case Q.ZodNullable:return nte(t,r);case Q.ZodOptional:return cte(t,r);case Q.ZodMap:return Qee(t,r);case Q.ZodSet:return dte(t,r);case Q.ZodLazy:return()=>t.getter()._def;case Q.ZodPromise:return ute(t,r);case Q.ZodNaN:case Q.ZodNever:return ete(r);case Q.ZodEffects:return Vee(t,r);case Q.ZodAny:return tn(r);case Q.ZodUnknown:return mte(r);case Q.ZodDefault:return Bee(t,r);case Q.ZodBranded:return u1(t,r);case Q.ZodReadonly:return hte(t,r);case Q.ZodCatch:return qee(t,r);case Q.ZodPipeline:return lte(t,r);case Q.ZodFunction:case Q.ZodVoid:case Q.ZodSymbol:return;default:return(n=>{})(e)}};function _t(t,e,r=!1){let n=e.seen.get(t);if(e.override){let a=e.override?.(t,e,n,r);if(a!==Dee)return a}if(n&&!r){let a=vte(n,e);if(a!==void 0)return a}let i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);let o=gte(t,t.typeName,e),s=typeof o=="function"?_t(o(),e):o;if(s&&yte(t,e,s),e.postProcess){let a=e.postProcess(s,t,e);return i.jsonSchema=s,a}return i.jsonSchema=s,s}var vte=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:l1(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,n)=>e.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),tn(e)):e.$refStrategy==="seen"?tn(e):void 0}},yte=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r),bte=(t,e)=>{let r=Mee(e),n=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((c,[l,u])=>({...c,[l]:_t(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,l]},!0)??tn(r)}),{}):void 0,i=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,o=_t(t._def,i===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,i]},!1)??tn(r),s=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;s!==void 0&&(o.title=s),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let a=i===void 0?n?{...o,[r.definitionPath]:n}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:{...n,[i]:o}};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};function _te(t){return!t||t==="jsonSchema7"||t==="draft-7"?"draft-7":t==="jsonSchema2019-09"||t==="draft-2020-12"?"draft-2020-12":"draft-7"}function sA(t,e){var r,n,i;return Xn(t)?iQ(t,{target:_te(e?.target),io:(r=e?.pipeStrategy)!==null&&r!==void 0?r:"input"}):bte(t,{strictUnions:(n=e?.strictUnions)!==null&&n!==void 0?n:!0,pipeStrategy:(i=e?.pipeStrategy)!==null&&i!==void 0?i:"input"})}function aA(t){let e=Zu(t),r=e?.method;if(!r)throw Error("Schema is missing a method literal");let n=xN(r);if(typeof n!="string")throw Error("Schema method literal must be a string");return n}function cA(t,e){let r=Tu(t,e);if(!r.success)throw r.error;return r.data}var xte=6e4,Ix=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(Qx,r=>{this._oncancel(r)}),this.setNotificationHandler(ew,r=>{this._onprogress(r)}),this.setRequestHandler(Xx,r=>({})),this._taskStore=e?.taskStore,this._taskMessageQueue=e?.taskMessageQueue,this._taskStore&&(this.setRequestHandler(tw,async(r,n)=>{let i=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!i)throw new Ae(je.InvalidParams,"Failed to retrieve task: Task not found");return{...i}}),this.setRequestHandler(nw,async(r,n)=>{let i=async()=>{var o;let s=r.params.taskId;if(this._taskMessageQueue){let c;for(;c=await this._taskMessageQueue.dequeue(s,n.sessionId);){if(c.type==="response"||c.type==="error"){let l=c.message,u=l.id,d=this._requestResolvers.get(u);if(d)if(this._requestResolvers.delete(u),c.type==="response")d(l);else{let m=l,p=new Ae(m.error.code,m.error.message,m.error.data);d(p)}else{let m=c.type==="response"?"Response":"Error";this._onerror(Error(`${m} handler missing for request ${u}`))}continue}await((o=this._transport)===null||o===void 0?void 0:o.send(c.message,{relatedRequestId:n.requestId}))}}let a=await this._taskStore.getTask(s,n.sessionId);if(!a)throw new Ae(je.InvalidParams,`Task not found: ${s}`);if(!Ps(a.status))return await this._waitForTaskUpdate(s,n.signal),await i();if(Ps(a.status)){let c=await this._taskStore.getTaskResult(s,n.sessionId);return this._clearTaskQueue(s),{...c,_meta:{...c._meta,[Ji]:{taskId:s}}}}return await i()};return await i()}),this.setRequestHandler(iw,async(r,n)=>{var i;try{let{tasks:o,nextCursor:s}=await this._taskStore.listTasks((i=r.params)===null||i===void 0?void 0:i.cursor,n.sessionId);return{tasks:o,nextCursor:s,_meta:{}}}catch(o){throw new Ae(je.InvalidParams,`Failed to list tasks: ${o instanceof Error?o.message:String(o)}`)}}),this.setRequestHandler(SX,async(r,n)=>{try{let i=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!i)throw new Ae(je.InvalidParams,`Task not found: ${r.params.taskId}`);if(Ps(i.status))throw new Ae(je.InvalidParams,`Cannot cancel task in terminal status: ${i.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",n.sessionId),this._clearTaskQueue(r.params.taskId);let o=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!o)throw new Ae(je.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...o}}catch(i){throw i instanceof Ae?i:new Ae(je.InvalidRequest,`Failed to cancel task: ${i instanceof Error?i.message:String(i)}`)}}))}async _oncancel(e){let r=this._requestHandlerAbortControllers.get(e.params.requestId);r?.abort(e.params.reason)}_setupTimeout(e,r,n,i,o=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(i,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:o,onTimeout:i})}_resetTimeout(e){let r=this._timeoutInfo.get(e);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),Ae.fromError(je.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){let r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,n,i;this._transport=e;let o=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{o?.(),this._onclose()};let s=(n=this.transport)===null||n===void 0?void 0:n.onerror;this._transport.onerror=c=>{s?.(c),this._onerror(c)};let a=(i=this._transport)===null||i===void 0?void 0:i.onmessage;this._transport.onmessage=(c,l)=>{a?.(c,l),cm(c)||cX(c)?this._onresponse(c):rA(c)?this._onrequest(c,l):aX(c)?this._onnotification(c):this._onerror(Error(`Unknown message type: ${JSON.stringify(c)}`))},await this._transport.start()}_onclose(){var e;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();let n=Ae.fromError(je.ConnectionClosed,"Connection closed");this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);for(let i of r.values())i(n)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;let n=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(e)).catch(i=>this._onerror(Error(`Uncaught error in notification handler: ${i}`)))}_onrequest(e,r){var n,i,o,s,a,c;let l=(n=this._requestHandlers.get(e.method))!==null&&n!==void 0?n:this.fallbackRequestHandler,u=this._transport,d=(s=(o=(i=e.params)===null||i===void 0?void 0:i._meta)===null||o===void 0?void 0:o[Ji])===null||s===void 0?void 0:s.taskId;if(l===void 0){let g={jsonrpc:"2.0",id:e.id,error:{code:je.MethodNotFound,message:"Method not found"}};d&&this._taskMessageQueue?this._enqueueTaskMessage(d,{type:"error",message:g,timestamp:Date.now()},u?.sessionId).catch(h=>this._onerror(Error(`Failed to enqueue error response: ${h}`))):u?.send(g).catch(h=>this._onerror(Error(`Failed to send an error response: ${h}`)));return}let m=new AbortController;this._requestHandlerAbortControllers.set(e.id,m);let p=(a=e.params)===null||a===void 0?void 0:a.task,f=this._taskStore?this.requestTaskStore(e,u?.sessionId):void 0,v={signal:m.signal,sessionId:u?.sessionId,_meta:(c=e.params)===null||c===void 0?void 0:c._meta,sendNotification:async g=>{let h={relatedRequestId:e.id};d&&(h.relatedTask={taskId:d}),await this.notification(g,h)},sendRequest:async(g,h,b)=>{var y,_;let x={...b,relatedRequestId:e.id};d&&!x.relatedTask&&(x.relatedTask={taskId:d});let w=(_=(y=x.relatedTask)===null||y===void 0?void 0:y.taskId)!==null&&_!==void 0?_:d;return w&&f&&await f.updateTaskStatus(w,"input_required"),await this.request(g,h,x)},authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo,taskId:d,taskStore:f,taskRequestedTtl:p?.ttl,closeSSEStream:r?.closeSSEStream,closeStandaloneSSEStream:r?.closeStandaloneSSEStream};Promise.resolve().then(()=>{p&&this.assertTaskHandlerCapability(e.method)}).then(()=>l(e,v)).then(async g=>{if(m.signal.aborted)return;let h={result:g,jsonrpc:"2.0",id:e.id};d&&this._taskMessageQueue?await this._enqueueTaskMessage(d,{type:"response",message:h,timestamp:Date.now()},u?.sessionId):await u?.send(h)},async g=>{var h;if(m.signal.aborted)return;let b={jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(g.code)?g.code:je.InternalError,message:(h=g.message)!==null&&h!==void 0?h:"Internal error",...g.data!==void 0&&{data:g.data}}};d&&this._taskMessageQueue?await this._enqueueTaskMessage(d,{type:"error",message:b,timestamp:Date.now()},u?.sessionId):await u?.send(b)}).catch(g=>this._onerror(Error(`Failed to send response: ${g}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:r,...n}=e.params,i=Number(r),o=this._progressHandlers.get(i);if(!o){this._onerror(Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let s=this._responseHandlers.get(i),a=this._timeoutInfo.get(i);if(a&&s&&a.resetTimeoutOnProgress)try{this._resetTimeout(i)}catch(c){this._responseHandlers.delete(i),this._progressHandlers.delete(i),this._cleanupTimeout(i),s(c);return}o(n)}_onresponse(e){let r=Number(e.id),n=this._requestResolvers.get(r);if(n){if(this._requestResolvers.delete(r),cm(e))n(e);else{let s=new Ae(e.error.code,e.error.message,e.error.data);n(s)}return}let i=this._responseHandlers.get(r);if(i===void 0){this._onerror(Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let o=!1;if(cm(e)&&e.result&&typeof e.result=="object"){let s=e.result;if(s.task&&typeof s.task=="object"){let a=s.task;typeof a.taskId=="string"&&(o=!0,this._taskProgressTokens.set(a.taskId,r))}}if(o||this._progressHandlers.delete(r),cm(e))i(e);else{let s=Ae.fromError(e.error.code,e.error.message,e.error.data);i(s)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}async*requestStream(e,r,n){var i,o,s,a;let{task:c}=n??{};if(!c){try{yield{type:"result",result:await this.request(e,r,n)}}catch(u){yield{type:"error",error:u instanceof Ae?u:new Ae(je.InternalError,String(u))}}return}let l;try{let u=await this.request(e,Mm,n);if(u.task)l=u.task.taskId,yield{type:"taskCreated",task:u.task};else throw new Ae(je.InternalError,"Task creation did not return a task");for(;;){let d=await this.getTask({taskId:l},n);if(yield{type:"taskStatus",task:d},Ps(d.status)){d.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:l},r,n)}:d.status==="failed"?yield{type:"error",error:new Ae(je.InternalError,`Task ${l} failed`)}:d.status==="cancelled"&&(yield{type:"error",error:new Ae(je.InternalError,`Task ${l} was cancelled`)});return}if(d.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:l},r,n)};return}let m=(s=(i=d.pollInterval)!==null&&i!==void 0?i:(o=this._options)===null||o===void 0?void 0:o.defaultTaskPollInterval)!==null&&s!==void 0?s:1e3;await new Promise(p=>setTimeout(p,m)),(a=n?.signal)===null||a===void 0||a.throwIfAborted()}}catch(u){yield{type:"error",error:u instanceof Ae?u:new Ae(je.InternalError,String(u))}}}request(e,r,n){let{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s,task:a,relatedTask:c}=n??{};return new Promise((l,u)=>{var d,m,p,f,v,g,h;let b=E=>{u(E)};if(!this._transport){b(Error("Not connected"));return}if(((d=this._options)===null||d===void 0?void 0:d.enforceStrictCapabilities)===!0)try{this.assertCapabilityForMethod(e.method),a&&this.assertTaskCapability(e.method)}catch(E){b(E);return}(m=n?.signal)===null||m===void 0||m.throwIfAborted();let y=this._requestMessageId++,_={...e,jsonrpc:"2.0",id:y};n?.onprogress&&(this._progressHandlers.set(y,n.onprogress),_.params={...e.params,_meta:{...((p=e.params)===null||p===void 0?void 0:p._meta)||{},progressToken:y}}),a&&(_.params={..._.params,task:a}),c&&(_.params={..._.params,_meta:{...((f=_.params)===null||f===void 0?void 0:f._meta)||{},[Ji]:c}});let x=E=>{var N;this._responseHandlers.delete(y),this._progressHandlers.delete(y),this._cleanupTimeout(y),(N=this._transport)===null||N===void 0||N.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:y,reason:String(E)}},{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s}).catch(z=>this._onerror(Error(`Failed to send cancellation: ${z}`)));let P=E instanceof Ae?E:new Ae(je.RequestTimeout,String(E));u(P)};this._responseHandlers.set(y,E=>{var N;if(!(!((N=n?.signal)===null||N===void 0)&&N.aborted)){if(E instanceof Error)return u(E);try{let P=Tu(r,E.result);P.success?l(P.data):u(P.error)}catch(P){u(P)}}}),(v=n?.signal)===null||v===void 0||v.addEventListener("abort",()=>{var E;x((E=n?.signal)===null||E===void 0?void 0:E.reason)});let w=(g=n?.timeout)!==null&&g!==void 0?g:xte,S=()=>x(Ae.fromError(je.RequestTimeout,"Request timed out",{timeout:w}));this._setupTimeout(y,w,n?.maxTotalTimeout,S,(h=n?.resetTimeoutOnProgress)!==null&&h!==void 0?h:!1);let $=c?.taskId;if($){let E=N=>{let P=this._responseHandlers.get(y);P?P(N):this._onerror(Error(`Response handler missing for side-channeled request ${y}`))};this._requestResolvers.set(y,E),this._enqueueTaskMessage($,{type:"request",message:_,timestamp:Date.now()}).catch(N=>{this._cleanupTimeout(y),u(N)})}else this._transport.send(_,{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s}).catch(E=>{this._cleanupTimeout(y),u(E)})})}async getTask(e,r){return this.request({method:"tasks/get",params:e},rw,r)}async getTaskResult(e,r,n){return this.request({method:"tasks/result",params:e},r,n)}async listTasks(e,r){return this.request({method:"tasks/list",params:e},ow,r)}async cancelTask(e,r){return this.request({method:"tasks/cancel",params:e},kX,r)}async notification(e,r){var n,i,o,s,a;if(!this._transport)throw Error("Not connected");this.assertNotificationCapability(e.method);let c=(n=r?.relatedTask)===null||n===void 0?void 0:n.taskId;if(c){let u={...e,jsonrpc:"2.0",params:{...e.params,_meta:{...((i=e.params)===null||i===void 0?void 0:i._meta)||{},[Ji]:r.relatedTask}}};await this._enqueueTaskMessage(c,{type:"notification",message:u,timestamp:Date.now()});return}if(((s=(o=this._options)===null||o===void 0?void 0:o.debouncedNotificationMethods)!==null&&s!==void 0?s:[]).includes(e.method)&&!e.params&&!r?.relatedRequestId&&!r?.relatedTask){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var u,d;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let m={...e,jsonrpc:"2.0"};r?.relatedTask&&(m={...m,params:{...m.params,_meta:{...((u=m.params)===null||u===void 0?void 0:u._meta)||{},[Ji]:r.relatedTask}}}),(d=this._transport)===null||d===void 0||d.send(m,r).catch(p=>this._onerror(p))});return}let l={...e,jsonrpc:"2.0"};r?.relatedTask&&(l={...l,params:{...l.params,_meta:{...((a=l.params)===null||a===void 0?void 0:a._meta)||{},[Ji]:r.relatedTask}}}),await this._transport.send(l,r)}setRequestHandler(e,r){let n=aA(e);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(i,o)=>{let s=cA(e,i);return Promise.resolve(r(s,o))})}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){let n=aA(e);this._notificationHandlers.set(n,i=>{let o=cA(e,i);return Promise.resolve(r(o))})}removeNotificationHandler(e){this._notificationHandlers.delete(e)}_cleanupTaskProgressHandler(e){let r=this._taskProgressTokens.get(e);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(e))}async _enqueueTaskMessage(e,r,n){var i;if(!this._taskStore||!this._taskMessageQueue)throw Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");let o=(i=this._options)===null||i===void 0?void 0:i.maxTaskQueueSize;await this._taskMessageQueue.enqueue(e,r,n,o)}async _clearTaskQueue(e,r){if(this._taskMessageQueue){let n=await this._taskMessageQueue.dequeueAll(e,r);for(let i of n)if(i.type==="request"&&rA(i.message)){let o=i.message.id,s=this._requestResolvers.get(o);s?(s(new Ae(je.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(o)):this._onerror(Error(`Resolver missing for request ${o} during task ${e} cleanup`))}}}async _waitForTaskUpdate(e,r){var n,i,o;let s=(i=(n=this._options)===null||n===void 0?void 0:n.defaultTaskPollInterval)!==null&&i!==void 0?i:1e3;try{let a=await((o=this._taskStore)===null||o===void 0?void 0:o.getTask(e));a?.pollInterval&&(s=a.pollInterval)}catch{}return new Promise((a,c)=>{if(r.aborted){c(new Ae(je.InvalidRequest,"Request cancelled"));return}let l=setTimeout(a,s);r.addEventListener("abort",()=>{clearTimeout(l),c(new Ae(je.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(e,r){let n=this._taskStore;if(!n)throw Error("No task store configured");return{createTask:async i=>{if(!e)throw Error("No request provided");return await n.createTask(i,e.id,{method:e.method,params:e.params},r)},getTask:async i=>{let o=await n.getTask(i,r);if(!o)throw new Ae(je.InvalidParams,"Failed to retrieve task: Task not found");return o},storeTaskResult:async(i,o,s)=>{await n.storeTaskResult(i,o,s,r);let a=await n.getTask(i,r);if(a){let c=ym.parse({method:"notifications/tasks/status",params:a});await this.notification(c),Ps(a.status)&&this._cleanupTaskProgressHandler(i)}},getTaskResult:i=>n.getTaskResult(i,r),updateTaskStatus:async(i,o,s)=>{let a=await n.getTask(i,r);if(!a)throw new Ae(je.InvalidParams,`Task "${i}" not found - it may have been cleaned up`);if(Ps(a.status))throw new Ae(je.InvalidParams,`Cannot update task "${i}" from terminal status "${a.status}" to "${o}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(i,o,s,r);let c=await n.getTask(i,r);if(c){let l=ym.parse({method:"notifications/tasks/status",params:c});await this.notification(l),Ps(c.status)&&this._cleanupTaskProgressHandler(i)}},listTasks:i=>n.listTasks(i,r)}}};function lA(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function wte(t,e){let r={...t};for(let n in e){let i=n,o=e[i];if(o===void 0)continue;let s=r[i];lA(s)&&lA(o)?r[i]={...s,...o}:r[i]=o}return r}var Ste=mA(wA(),1),kte=mA(kJ(),1);function $te(){let t=new Ste.Ajv({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return kte.default(t),t}var Rx=class{constructor(e){this._ajv=e??$te()}getValidator(e){var r;let n="$id"in e&&typeof e.$id=="string"?(r=this._ajv.getSchema(e.$id))!==null&&r!==void 0?r:this._ajv.compile(e):this._ajv.compile(e);return i=>n(i)?{valid:!0,data:i,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(n.errors)}}},Ox=class{constructor(e){this._server=e}requestStream(e,r,n){return this._server.requestStream(e,r,n)}async getTask(e,r){return this._server.getTask({taskId:e},r)}async getTaskResult(e,r,n){return this._server.getTaskResult({taskId:e},r,n)}async listTasks(e,r){return this._server.listTasks(e?{cursor:e}:void 0,r)}async cancelTask(e,r){return this._server.cancelTask({taskId:e},r)}};function Ete(t,e,r){var n;if(!t)throw Error(`${r} does not support task creation (required for ${e})`);switch(e){case"tools/call":if(!(!((n=t.tools)===null||n===void 0)&&n.call))throw Error(`${r} does not support task creation for tools/call (required for ${e})`);break;default:break}}function Tte(t,e,r){var n,i;if(!t)throw Error(`${r} does not support task creation (required for ${e})`);switch(e){case"sampling/createMessage":if(!(!((n=t.sampling)===null||n===void 0)&&n.createMessage))throw Error(`${r} does not support task creation for sampling/createMessage (required for ${e})`);break;case"elicitation/create":if(!(!((i=t.elicitation)===null||i===void 0)&&i.create))throw Error(`${r} does not support task creation for elicitation/create (required for ${e})`);break;default:break}}var Ax=class extends Ix{constructor(e,r){var n,i;super(r),this._serverInfo=e,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(_m.options.map((o,s)=>[o,s])),this.isMessageIgnored=(o,s)=>{let a=this._loggingLevels.get(s);return a?this.LOG_LEVEL_SEVERITY.get(o)<this.LOG_LEVEL_SEVERITY.get(a):!1},this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{},this._instructions=r?.instructions,this._jsonSchemaValidator=(i=r?.jsonSchemaValidator)!==null&&i!==void 0?i:new Rx,this.setRequestHandler(YN,o=>this._oninitialize(o)),this.setNotificationHandler(QN,()=>{var o;return(o=this.oninitialized)===null||o===void 0?void 0:o.call(this)}),this._capabilities.logging&&this.setRequestHandler(i1,async(o,s)=>{var a;let c=s.sessionId||((a=s.requestInfo)===null||a===void 0?void 0:a.headers["mcp-session-id"])||void 0,{level:l}=o.params,u=_m.safeParse(l);return u.success&&this._loggingLevels.set(c,u.data),{}})}get experimental(){return this._experimental||(this._experimental={tasks:new Ox(this)}),this._experimental}registerCapabilities(e){if(this.transport)throw Error("Cannot register capabilities after connecting to transport");this._capabilities=wte(this._capabilities,e)}setRequestHandler(e,r){var n,i,o;let s=Zu(e),a=s?.method;if(!a)throw Error("Schema is missing a method literal");let c;if(Xn(a)){let l=a,u=(n=l._zod)===null||n===void 0?void 0:n.def;c=(i=u?.value)!==null&&i!==void 0?i:l.value}else{let l=a,u=l._def;c=(o=u?.value)!==null&&o!==void 0?o:l.value}if(typeof c!="string")throw Error("Schema method literal must be a string");if(c==="tools/call"){let l=async(u,d)=>{let m=Tu(bm,u);if(!m.success){let g=m.error instanceof Error?m.error.message:String(m.error);throw new Ae(je.InvalidParams,`Invalid tools/call request: ${g}`)}let{params:p}=m.data,f=await Promise.resolve(r(u,d));if(p.task){let g=Tu(Mm,f);if(!g.success){let h=g.error instanceof Error?g.error.message:String(g.error);throw new Ae(je.InvalidParams,`Invalid task creation result: ${h}`)}return g.data}let v=Tu(pw,f);if(!v.success){let g=v.error instanceof Error?v.error.message:String(v.error);throw new Ae(je.InvalidParams,`Invalid tools/call result: ${g}`)}return v.data};return super.setRequestHandler(e,l)}return super.setRequestHandler(e,r)}assertCapabilityForMethod(e){var r,n,i;switch(e){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((n=this._clientCapabilities)===null||n===void 0)&&n.elicitation))throw Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((i=this._clientCapabilities)===null||i===void 0)&&i.roots))throw Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){var r,n;switch(e){case"notifications/message":if(!this._capabilities.logging)throw Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/elicitation/complete":if(!(!((n=(r=this._clientCapabilities)===null||r===void 0?void 0:r.elicitation)===null||n===void 0)&&n.url))throw Error(`Client does not support URL elicitation (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){if(this._capabilities)switch(e){case"completion/complete":if(!this._capabilities.completions)throw Error(`Server does not support completions (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw Error(`Server does not support tools (required for ${e})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw Error(`Server does not support tasks capability (required for ${e})`);break;case"ping":case"initialize":break}}assertTaskCapability(e){var r,n;Tte((n=(r=this._clientCapabilities)===null||r===void 0?void 0:r.tasks)===null||n===void 0?void 0:n.requests,e,"Client")}assertTaskHandlerCapability(e){var r;this._capabilities&&Ete((r=this._capabilities.tasks)===null||r===void 0?void 0:r.requests,e,"Server")}async _oninitialize(e){let r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:iX.includes(r)?r:ZN,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},Yx)}async createMessage(e,r){var n,i;if((e.tools||e.toolChoice)&&!(!((i=(n=this._clientCapabilities)===null||n===void 0?void 0:n.sampling)===null||i===void 0)&&i.tools))throw Error("Client does not support sampling tools capability.");if(e.messages.length>0){let o=e.messages[e.messages.length-1],s=Array.isArray(o.content)?o.content:[o.content],a=s.some(d=>d.type==="tool_result"),c=e.messages.length>1?e.messages[e.messages.length-2]:void 0,l=c?Array.isArray(c.content)?c.content:[c.content]:[],u=l.some(d=>d.type==="tool_use");if(a){if(s.some(d=>d.type!=="tool_result"))throw Error("The last message must contain only tool_result content if any is present");if(!u)throw Error("tool_result blocks are not matching any tool_use from the previous message")}if(u){let d=new Set(l.filter(p=>p.type==="tool_use").map(p=>p.id)),m=new Set(s.filter(p=>p.type==="tool_result").map(p=>p.toolUseId));if(d.size!==m.size||![...d].every(p=>m.has(p)))throw Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}return e.tools?this.request({method:"sampling/createMessage",params:e},s1,r):this.request({method:"sampling/createMessage",params:e},o1,r)}async elicitInput(e,r){var n,i,o,s,a;switch((n=e.mode)!==null&&n!==void 0?n:"form"){case"url":{if(!(!((o=(i=this._clientCapabilities)===null||i===void 0?void 0:i.elicitation)===null||o===void 0)&&o.url))throw Error("Client does not support url elicitation.");let c=e;return this.request({method:"elicitation/create",params:c},Tx,r)}case"form":{if(!(!((a=(s=this._clientCapabilities)===null||s===void 0?void 0:s.elicitation)===null||a===void 0)&&a.form))throw Error("Client does not support form elicitation.");let c=e.mode==="form"?e:{...e,mode:"form"},l=await this.request({method:"elicitation/create",params:c},Tx,r);if(l.action==="accept"&&l.content&&c.requestedSchema)try{let u=this._jsonSchemaValidator.getValidator(c.requestedSchema)(l.content);if(!u.valid)throw new Ae(je.InvalidParams,`Elicitation response content does not match requested schema: ${u.errorMessage}`)}catch(u){throw u instanceof Ae?u:new Ae(je.InternalError,`Error validating elicitation response: ${u instanceof Error?u.message:String(u)}`)}return l}}}createElicitationCompletionNotifier(e,r){var n,i;if(!(!((i=(n=this._clientCapabilities)===null||n===void 0?void 0:n.elicitation)===null||i===void 0)&&i.url))throw Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:e}},r)}async listRoots(e,r){return this.request({method:"roots/list",params:e},a1,r)}async sendLoggingMessage(e,r){if(this._capabilities.logging&&!this.isMessageIgnored(e.level,r))return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}},m1=Symbol.for("mcp.completable");function Cte(t){return!!t&&typeof t=="object"&&m1 in t}function Pte(t){let e=t[m1];return e?.complete}var uA;(function(t){t.Completable="McpCompletable"})(uA||(uA={}));var Ite=/^[A-Za-z0-9._-]{1,128}$/;function Rte(t){let e=[];if(t.length===0)return{isValid:!1,warnings:["Tool name cannot be empty"]};if(t.length>128)return{isValid:!1,warnings:[`Tool name exceeds maximum length of 128 characters (current: ${t.length})`]};if(t.includes(" ")&&e.push("Tool name contains spaces, which may cause parsing issues"),t.includes(",")&&e.push("Tool name contains commas, which may cause parsing issues"),(t.startsWith("-")||t.endsWith("-"))&&e.push("Tool name starts or ends with a dash, which may cause parsing issues in some contexts"),(t.startsWith(".")||t.endsWith("."))&&e.push("Tool name starts or ends with a dot, which may cause parsing issues in some contexts"),!Ite.test(t)){let r=t.split("").filter(n=>!/[A-Za-z0-9._-]/.test(n)).filter((n,i,o)=>o.indexOf(n)===i);return e.push(`Tool name contains invalid characters: ${r.map(n=>`"${n}"`).join(", ")}`,"Allowed characters are: A-Z, a-z, 0-9, underscore (_), dash (-), and dot (.)"),{isValid:!1,warnings:e}}return{isValid:!0,warnings:e}}function Ote(t,e){if(e.length>0){console.warn(`Tool name validation warning for "${t}":`);for(let r of e)console.warn(`  - ${r}`);console.warn("Tool registration will proceed, but this may cause compatibility issues."),console.warn("Consider updating the tool name to conform to the MCP tool naming standard."),console.warn("See SEP: Specify Format for Tool Names (https://github.com/modelcontextprotocol/modelcontextprotocol/issues/986) for more details.")}}function dA(t){let e=Rte(t);return Ote(t,e.warnings),e.isValid}var Nx=class{constructor(e){this._mcpServer=e}registerToolTask(e,r,n){let i={taskSupport:"required",...r.execution};if(i.taskSupport==="forbidden")throw Error(`Cannot register task-based tool '${e}' with taskSupport 'forbidden'. Use registerTool() instead.`);return this._mcpServer._createRegisteredTool(e,r.title,r.description,r.inputSchema,r.outputSchema,r.annotations,i,r._meta,n)}},jx=class{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new Ax(e,r)}get experimental(){return this._experimental||(this._experimental={tasks:new Nx(this)}),this._experimental}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(jo(Ex)),this.server.assertCanSetRequestHandler(jo(bm)),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(Ex,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{let n={name:e,title:r.title,description:r.description,inputSchema:(()=>{let i=xu(r.inputSchema);return i?sA(i,{strictUnions:!0,pipeStrategy:"input"}):Ate})(),annotations:r.annotations,execution:r.execution,_meta:r._meta};if(r.outputSchema){let i=xu(r.outputSchema);i&&(n.outputSchema=sA(i,{strictUnions:!0,pipeStrategy:"output"}))}return n})})),this.server.setRequestHandler(bm,async(e,r)=>{var n;try{let i=this._registeredTools[e.params.name];if(!i)throw new Ae(je.InvalidParams,`Tool ${e.params.name} not found`);if(!i.enabled)throw new Ae(je.InvalidParams,`Tool ${e.params.name} disabled`);let o=!!e.params.task,s=(n=i.execution)===null||n===void 0?void 0:n.taskSupport,a="createTask"in i.handler;if((s==="required"||s==="optional")&&!a)throw new Ae(je.InternalError,`Tool ${e.params.name} has taskSupport '${s}' but was not registered with registerToolTask`);if(s==="required"&&!o)throw new Ae(je.MethodNotFound,`Tool ${e.params.name} requires task augmentation (taskSupport: 'required')`);if(s==="optional"&&!o&&a)return await this.handleAutomaticTaskPolling(i,e,r);let c=await this.validateToolInput(i,e.params.arguments,e.params.name),l=await this.executeToolHandler(i,c,r);return o||await this.validateToolOutput(i,l,e.params.name),l}catch(i){if(i instanceof Ae&&i.code===je.UrlElicitationRequired)throw i;return this.createToolError(i instanceof Error?i.message:String(i))}}),this._toolHandlersInitialized=!0)}createToolError(e){return{content:[{type:"text",text:e}],isError:!0}}async validateToolInput(e,r,n){if(!e.inputSchema)return;let i=xu(e.inputSchema),o=i??e.inputSchema,s=await K_(o,r);if(!s.success){let a="error"in s?s.error:"Unknown error",c=Y_(a);throw new Ae(je.InvalidParams,`Input validation error: Invalid arguments for tool ${n}: ${c}`)}return s.data}async validateToolOutput(e,r,n){if(!e.outputSchema||!("content"in r)||r.isError)return;if(!r.structuredContent)throw new Ae(je.InvalidParams,`Output validation error: Tool ${n} has an output schema but no structured content was provided`);let i=xu(e.outputSchema),o=await K_(i,r.structuredContent);if(!o.success){let s="error"in o?o.error:"Unknown error",a=Y_(s);throw new Ae(je.InvalidParams,`Output validation error: Invalid structured content for tool ${n}: ${a}`)}}async executeToolHandler(e,r,n){let i=e.handler;if("createTask"in i){if(!n.taskStore)throw Error("No task store provided.");let o={...n,taskStore:n.taskStore};return e.inputSchema?await Promise.resolve(i.createTask(r,o)):await Promise.resolve(i.createTask(o))}return e.inputSchema?await Promise.resolve(i(r,n)):await Promise.resolve(i(n))}async handleAutomaticTaskPolling(e,r,n){var i;if(!n.taskStore)throw Error("No task store provided for task-capable tool.");let o=await this.validateToolInput(e,r.params.arguments,r.params.name),s=e.handler,a={...n,taskStore:n.taskStore},c=o?await Promise.resolve(s.createTask(o,a)):await Promise.resolve(s.createTask(a)),l=c.task.taskId,u=c.task,d=(i=u.pollInterval)!==null&&i!==void 0?i:5e3;for(;u.status!=="completed"&&u.status!=="failed"&&u.status!=="cancelled";){await new Promise(p=>setTimeout(p,d));let m=await n.taskStore.getTask(l);if(!m)throw new Ae(je.InternalError,`Task ${l} not found during polling`);u=m}return await n.taskStore.getTaskResult(l)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(jo(Cx)),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(Cx,async e=>{switch(e.params.ref.type){case"ref/prompt":return Iee(e),this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return Ree(e),this.handleResourceCompletion(e,e.params.ref);default:throw new Ae(je.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){let n=this._registeredPrompts[r.name];if(!n)throw new Ae(je.InvalidParams,`Prompt ${r.name} not found`);if(!n.enabled)throw new Ae(je.InvalidParams,`Prompt ${r.name} disabled`);if(!n.argsSchema)return wu;let i=Zu(n.argsSchema),o=i?.[e.params.argument.name];if(!Cte(o))return wu;let s=Pte(o);if(!s)return wu;let a=await s(e.params.argument.value,e.params.context);return fA(a)}async handleResourceCompletion(e,r){let n=Object.values(this._registeredResourceTemplates).find(s=>s.resourceTemplate.uriTemplate.toString()===r.uri);if(!n){if(this._registeredResources[r.uri])return wu;throw new Ae(je.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let i=n.resourceTemplate.completeCallback(e.params.argument.name);if(!i)return wu;let o=await i(e.params.argument.value,e.params.context);return fA(o)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(jo(xx)),this.server.assertCanSetRequestHandler(jo(wx)),this.server.assertCanSetRequestHandler(jo(Sx)),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(xx,async(e,r)=>{let n=Object.entries(this._registeredResources).filter(([o,s])=>s.enabled).map(([o,s])=>({uri:o,name:s.name,...s.metadata})),i=[];for(let o of Object.values(this._registeredResourceTemplates)){if(!o.resourceTemplate.listCallback)continue;let s=await o.resourceTemplate.listCallback(r);for(let a of s.resources)i.push({...o.metadata,...a})}return{resources:[...n,...i]}}),this.server.setRequestHandler(wx,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([e,r])=>({name:e,uriTemplate:r.resourceTemplate.uriTemplate.toString(),...r.metadata}))})),this.server.setRequestHandler(Sx,async(e,r)=>{let n=new URL(e.params.uri),i=this._registeredResources[n.toString()];if(i){if(!i.enabled)throw new Ae(je.InvalidParams,`Resource ${n} disabled`);return i.readCallback(n,r)}for(let o of Object.values(this._registeredResourceTemplates)){let s=o.resourceTemplate.uriTemplate.match(n.toString());if(s)return o.readCallback(n,s,r)}throw new Ae(je.InvalidParams,`Resource ${n} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(jo(kx)),this.server.assertCanSetRequestHandler(jo($x)),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(kx,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?jte(r.argsSchema):void 0}))})),this.server.setRequestHandler($x,async(e,r)=>{let n=this._registeredPrompts[e.params.name];if(!n)throw new Ae(je.InvalidParams,`Prompt ${e.params.name} not found`);if(!n.enabled)throw new Ae(je.InvalidParams,`Prompt ${e.params.name} disabled`);if(n.argsSchema){let i=xu(n.argsSchema),o=await K_(i,e.params.arguments);if(!o.success){let c="error"in o?o.error:"Unknown error",l=Y_(c);throw new Ae(je.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${l}`)}let s=o.data,a=n.callback;return await Promise.resolve(a(s,r))}else{let i=n.callback;return await Promise.resolve(i(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,r,...n){let i;typeof n[0]=="object"&&(i=n.shift());let o=n[0];if(typeof r=="string"){if(this._registeredResources[r])throw Error(`Resource ${r} is already registered`);let s=this._createRegisteredResource(e,void 0,r,i,o);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}else{if(this._registeredResourceTemplates[e])throw Error(`Resource template ${e} is already registered`);let s=this._createRegisteredResourceTemplate(e,void 0,r,i,o);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}}registerResource(e,r,n,i){if(typeof r=="string"){if(this._registeredResources[r])throw Error(`Resource ${r} is already registered`);let o=this._createRegisteredResource(e,n.title,r,n,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}else{if(this._registeredResourceTemplates[e])throw Error(`Resource template ${e} is already registered`);let o=this._createRegisteredResourceTemplate(e,n.title,r,n,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}}_createRegisteredResource(e,r,n,i,o){let s={name:e,title:r,metadata:i,readCallback:o,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({uri:null}),update:a=>{typeof a.uri<"u"&&a.uri!==n&&(delete this._registeredResources[n],a.uri&&(this._registeredResources[a.uri]=s)),typeof a.name<"u"&&(s.name=a.name),typeof a.title<"u"&&(s.title=a.title),typeof a.metadata<"u"&&(s.metadata=a.metadata),typeof a.callback<"u"&&(s.readCallback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendResourceListChanged()}};return this._registeredResources[n]=s,s}_createRegisteredResourceTemplate(e,r,n,i,o){let s={resourceTemplate:n,title:r,metadata:i,readCallback:o,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({name:null}),update:a=>{typeof a.name<"u"&&a.name!==e&&(delete this._registeredResourceTemplates[e],a.name&&(this._registeredResourceTemplates[a.name]=s)),typeof a.title<"u"&&(s.title=a.title),typeof a.template<"u"&&(s.resourceTemplate=a.template),typeof a.metadata<"u"&&(s.metadata=a.metadata),typeof a.callback<"u"&&(s.readCallback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=s,s}_createRegisteredPrompt(e,r,n,i,o){let s={title:r,description:n,argsSchema:i===void 0?void 0:Eu(i),callback:o,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({name:null}),update:a=>{typeof a.name<"u"&&a.name!==e&&(delete this._registeredPrompts[e],a.name&&(this._registeredPrompts[a.name]=s)),typeof a.title<"u"&&(s.title=a.title),typeof a.description<"u"&&(s.description=a.description),typeof a.argsSchema<"u"&&(s.argsSchema=Eu(a.argsSchema)),typeof a.callback<"u"&&(s.callback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=s,s}_createRegisteredTool(e,r,n,i,o,s,a,c,l){dA(e);let u={title:r,description:n,inputSchema:pA(i),outputSchema:pA(o),annotations:s,execution:a,_meta:c,handler:l,enabled:!0,disable:()=>u.update({enabled:!1}),enable:()=>u.update({enabled:!0}),remove:()=>u.update({name:null}),update:d=>{typeof d.name<"u"&&d.name!==e&&(typeof d.name=="string"&&dA(d.name),delete this._registeredTools[e],d.name&&(this._registeredTools[d.name]=u)),typeof d.title<"u"&&(u.title=d.title),typeof d.description<"u"&&(u.description=d.description),typeof d.paramsSchema<"u"&&(u.inputSchema=Eu(d.paramsSchema)),typeof d.callback<"u"&&(u.handler=d.callback),typeof d.annotations<"u"&&(u.annotations=d.annotations),typeof d._meta<"u"&&(u._meta=d._meta),typeof d.enabled<"u"&&(u.enabled=d.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=u,this.setToolRequestHandlers(),this.sendToolListChanged(),u}tool(e,...r){if(this._registeredTools[e])throw Error(`Tool ${e} is already registered`);let n,i,o,s;if(typeof r[0]=="string"&&(n=r.shift()),r.length>1){let c=r[0];Dx(c)?(i=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!Dx(r[0])&&(s=r.shift())):typeof c=="object"&&c!==null&&(s=r.shift())}let a=r[0];return this._createRegisteredTool(e,void 0,n,i,o,s,{taskSupport:"forbidden"},void 0,a)}registerTool(e,r,n){if(this._registeredTools[e])throw Error(`Tool ${e} is already registered`);let{title:i,description:o,inputSchema:s,outputSchema:a,annotations:c,_meta:l}=r;return this._createRegisteredTool(e,i,o,s,a,c,{taskSupport:"forbidden"},l,n)}prompt(e,...r){if(this._registeredPrompts[e])throw Error(`Prompt ${e} is already registered`);let n;typeof r[0]=="string"&&(n=r.shift());let i;r.length>1&&(i=r.shift());let o=r[0],s=this._createRegisteredPrompt(e,void 0,n,i,o);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),s}registerPrompt(e,r,n){if(this._registeredPrompts[e])throw Error(`Prompt ${e} is already registered`);let{title:i,description:o,argsSchema:s}=r,a=this._createRegisteredPrompt(e,i,o,s,n);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),a}isConnected(){return this.server.transport!==void 0}async sendLoggingMessage(e,r){return this.server.sendLoggingMessage(e,r)}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}},Ate={type:"object",properties:{}};function h1(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function Nte(t){return"_def"in t||"_zod"in t||h1(t)}function Dx(t){return typeof t!="object"||t===null||Nte(t)?!1:Object.keys(t).length===0?!0:Object.values(t).some(h1)}function pA(t){if(t)return Dx(t)?Eu(t):t}function jte(t){let e=Zu(t);return e?Object.entries(e).map(([r,n])=>{let i=aQ(n),o=cQ(n);return{name:r,description:i,required:!o}}):[]}function jo(t){let e=Zu(t),r=e?.method;if(!r)throw Error("Schema is missing a method literal");let n=xN(r);if(typeof n=="string")return n;throw Error("Schema method literal must be a string")}function fA(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}var wu={completion:{values:[],hasMore:!1}};function Um(t){let e=new jx({name:t.name,version:t.version??"1.0.0"},{capabilities:{tools:t.tools?{}:void 0}});return t.tools&&t.tools.forEach(r=>{e.registerTool(r.name,{description:r.description,inputSchema:r.inputSchema,annotations:r.annotations},r.handler)}),{type:"sdk",name:t.name,instance:e}}function Lm({prompt:t,options:e}){let{systemPrompt:r,settingSources:n,sandbox:i,...o}=e??{},s,a;r===void 0?s="":typeof r=="string"?s=r:r.type==="preset"&&(a=r.append);let c=o.pathToClaudeCodeExecutable;if(!c){let X=(0,SA.fileURLToPath)(Dte.url),ke=(0,tx.join)(X,"..");c=(0,tx.join)(ke,"cli.js")}process.env.CLAUDE_AGENT_SDK_VERSION="0.2.29";let{abortController:l=$A(),additionalDirectories:u=[],agent:d,agents:m,allowedTools:p=[],betas:f,canUseTool:v,continue:g,cwd:h,disallowedTools:b=[],tools:y,env:_,executable:x=BA()?"bun":"node",executableArgs:w=[],extraArgs:S={},fallbackModel:$,enableFileCheckpointing:E,forkSession:N,hooks:P,includePartialMessages:z,persistSession:V,maxThinkingTokens:H,maxTurns:re,maxBudgetUsd:Pe,mcpServers:fe,model:we,outputFormat:Ne,permissionMode:G="default",allowDangerouslySkipPermissions:R=!1,permissionPromptToolName:U,plugins:j,resume:k,resumeSessionAt:T,stderr:F,strictMcpConfig:Se}=o,le=Ne?.type==="json_schema"?Ne.schema:void 0,nt=_;if(nt||(nt={...process.env}),nt.CLAUDE_CODE_ENTRYPOINT||(nt.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),E&&(nt.CLAUDE_CODE_ENABLE_SDK_FILE_CHECKPOINTING="true"),!c)throw Error("pathToClaudeCodeExecutable is required");let st={},Mt=new Map;if(fe)for(let[X,ke]of Object.entries(fe))ke.type==="sdk"&&"instance"in ke?(Mt.set(X,ke.instance),st[X]={type:"sdk",name:X}):st[X]=ke;let A=typeof t=="string",D=new ix({abortController:l,additionalDirectories:u,agent:d,betas:f,cwd:h,executable:x,executableArgs:w,extraArgs:S,pathToClaudeCodeExecutable:c,env:nt,forkSession:N,stderr:F,maxThinkingTokens:H,maxTurns:re,maxBudgetUsd:Pe,model:we,fallbackModel:$,jsonSchema:le,permissionMode:G,allowDangerouslySkipPermissions:R,permissionPromptToolName:U,continueConversation:g,resume:k,resumeSessionAt:T,settingSources:n??[],allowedTools:p,disallowedTools:b,tools:y,mcpServers:st,strictMcpConfig:Se,canUseTool:!!v,hooks:!!P,includePartialMessages:z,persistSession:V,plugins:j,sandbox:i,spawnClaudeCodeProcess:o.spawnClaudeCodeProcess}),B=new ax(D,A,v,P,l,Mt,le,{systemPrompt:s,appendSystemPrompt:a,agents:m});return typeof t=="string"?D.write(Si({type:"user",session_id:"",message:{role:"user",content:[{type:"text",text:t}]},parent_tool_use_id:null})+`
`):B.streamInput(t),B}var v1=require("child_process");var zte=`You suggest what a developer might want to do next based on their current work.

Study the diff carefully. What is this person actually building? What's the next meaningful piece of work?

Suggest real work, not tiny fixes:
- "Add error handling to the processOrder function" is a code review comment
- "Add error handling throughout the order processing flow" is real work
- Think about what would actually move the project forward, not just polish one line

Your suggestions should be honest and specific to THIS code:
- Reference actual function names, files, or patterns you see in the diff
- If something looks incomplete, offer to help finish it - not just point it out
- If you see a pattern emerging, offer to extend it to related areas

What makes a good suggestion:
- It's meaningful work that would actually help, not a nitpick
- It shows you understand what they're building
- The developer thinks "yes, that would be useful"

Think about the product, not just the code:
- What would make this feature better for users?
- Is there a related capability that would be natural to add?
- What might users expect that isn't there yet?

What to avoid:
- Tiny incremental fixes that read like code review line comments
- Generic suggestions that could apply to any codebase
- Suggesting "commit" just because there are changes
- Overpromising - be realistic about scope

Aim to delight:
- A suggestion that makes them think "oh, I hadn't thought of that but yes!"
- Noticing something clever they could do, not just the obvious next step
- Showing genuine insight into their work, not just pattern matching

If you see non-trivial changes, offering to review the approach can be valuable.

Respond with a JSON array (0-4 suggestions, fewer is fine, empty if nothing clearly helpful):
[
  {
    "title": "Short title (5-10 words)",
    "description": "What this involves, referencing their specific code",
    "prompt": "Direct prompt for this task"
  }
]

Only output the JSON array.`;async function Fo(t,e,r){return new Promise(n=>{let i="",o=(0,v1.spawn)(t,e,{cwd:r,shell:!1});o.stdout.on("data",s=>{i+=s.toString()}),o.on("close",s=>{n({stdout:i,exitCode:s??0})}),o.on("error",()=>{n({stdout:"",exitCode:1})})})}var Mte=8e3,Ute=2e3,Lte=2e3,g1=200;function Gu(t,e,r){return t.length<=e?t:t.slice(0,e)+`
... (${r} truncated)`}async function Fte(t){let r=(await Fo("git",["config","user.email"],t).catch(()=>({stdout:"",exitCode:1}))).stdout.trim(),[n,i,o,s,a]=await Promise.all([Fo("git",["status","--porcelain"],t).catch(()=>({stdout:"",exitCode:1})),Fo("git",["rev-parse","--abbrev-ref","HEAD"],t).catch(()=>({stdout:"",exitCode:1})),Fo("git",["log","--oneline","-10",...r?["--author",r]:[]],t).catch(()=>({stdout:"",exitCode:1})),(async()=>{if(!r)return Fo("git",["diff","--stat","HEAD~5..HEAD"],t);let m=(await Fo("git",["log","--oneline","-5","--author",r,"--format=%H"],t).catch(()=>({stdout:"",exitCode:1}))).stdout.trim().split(`
`).filter(Boolean);if(m.length===0)return{stdout:"",exitCode:0};let p=m[m.length-1];return Fo("git",["diff","--stat",`${p}^..HEAD`],t).catch(()=>({stdout:"",exitCode:1}))})(),Fo("git",["diff","HEAD"],t).catch(()=>({stdout:"",exitCode:1}))]),c=n.stdout.trim()||"No uncommitted changes",l=s.stdout.trim()||"No recent changes",u=a.stdout.trim();return{status:Gu(c,Ute,"status"),branch:i.stdout.trim()||"unknown",recentCommits:o.stdout.trim()||"No recent commits",diff:Gu(l,Lte,"diff stat"),workingTreeDiff:Gu(u,Mte,"diff")}}async function qte(t,e){try{let i=(await(await wi.load(t,e)).fetchSessions()).filter(a=>!a.isSidechain).sort((a,c)=>c.lastModified-a.lastModified).slice(0,5),o=i.map(a=>a.summary).filter(a=>a&&a!=="No prompt").map(a=>Gu(a,g1,"prompt")),s=i[0]?.summary?Gu(i[0].summary,g1,"summary"):null;return{recentPrompts:o,lastSessionSummary:s}}catch(r){return e.warn(`Failed to gather recent activity: ${r}`),{recentPrompts:[],lastSessionSummary:null}}}function Zte(t,e){let r=[];return r.push("## Current Git State"),r.push(`Branch: ${t.branch}`),r.push(`
Uncommitted changes:
${t.status}`),r.push(`
Recent commits by this user:
${t.recentCommits}`),t.diff&&r.push(`
Recent changes summary (this user's work):
${t.diff}`),t.workingTreeDiff&&(r.push(`
## Current Uncommitted Changes (diff)`),r.push("This shows the actual code changes in progress. Use this to understand what the developer is working on:"),r.push("```diff"),r.push(t.workingTreeDiff),r.push("```")),e.recentPrompts.length>0&&(r.push(`
## Recent Conversation Topics`),e.recentPrompts.forEach((n,i)=>{r.push(`${i+1}. ${n}`)})),r.push(`
## Task`),r.push("Based on this context, suggest up to 4 helpful next steps the developer is likely to want to take. Only include suggestions you are confident about - fewer is better."),r.join(`
`)}function Bte(t){try{let e=t.match(/\[[\s\S]*\]/);if(!e)return[];let r=JSON.parse(e[0]);return Array.isArray(r)?r.filter(n=>typeof n=="object"&&n!==null&&typeof n.title=="string"&&typeof n.description=="string"&&typeof n.prompt=="string").slice(0,4):[]}catch{return[]}}async function y1(t){let{cwd:e,logger:r,pathToClaudeCodeExecutable:n,executableArgs:i,env:o}=t;try{let[s,a]=await Promise.all([Fte(e),qte(e,r)]),c=Zte(s,a),l=Lm({prompt:c,options:{cwd:e,permissionMode:"default",model:"claude-haiku-4-5-20251001",systemPrompt:zte,maxThinkingTokens:0,pathToClaudeCodeExecutable:n,executableArgs:i,env:o,persistSession:!1,stderr:m=>{r.warn(`[Claude STDERR] ${m}`)}}}),u="";for await(let m of l)if(m.type==="assistant"&&m.message.content)for(let p of m.message.content)p.type==="text"&&(u+=p.text);return{suggestions:Bte(u)}}catch(s){return r.error(`Failed to generate suggestions: ${s}`),{suggestions:[]}}}var ee={};_i(ee,{BRAND:()=>gre,DIRTY:()=>js,EMPTY_PATH:()=>Gte,INVALID:()=>De,NEVER:()=>Xre,OK:()=>Ar,ParseStatus:()=>kr,Schema:()=>Ye,ZodAny:()=>Bo,ZodArray:()=>oo,ZodBigInt:()=>zs,ZodBoolean:()=>Ms,ZodBranded:()=>Ku,ZodCatch:()=>Js,ZodDate:()=>Us,ZodDefault:()=>Gs,ZodDiscriminatedUnion:()=>Zm,ZodEffects:()=>Mn,ZodEnum:()=>Hs,ZodError:()=>on,ZodFirstPartyTypeKind:()=>Y,ZodFunction:()=>Vm,ZodIntersection:()=>Zs,ZodIssueCode:()=>W,ZodLazy:()=>Bs,ZodLiteral:()=>Vs,ZodMap:()=>Sc,ZodNaN:()=>$c,ZodNativeEnum:()=>Ws,ZodNever:()=>ri,ZodNull:()=>Fs,ZodNullable:()=>Pi,ZodNumber:()=>Ds,ZodObject:()=>sn,ZodOptional:()=>Dn,ZodParsedType:()=>he,ZodPipeline:()=>Yu,ZodPromise:()=>Vo,ZodReadonly:()=>Ks,ZodRecord:()=>Bm,ZodSchema:()=>Ye,ZodSet:()=>kc,ZodString:()=>Zo,ZodSymbol:()=>xc,ZodTransformer:()=>Mn,ZodTuple:()=>Ci,ZodType:()=>Ye,ZodUndefined:()=>Ls,ZodUnion:()=>qs,ZodUnknown:()=>io,ZodVoid:()=>wc,addIssueToContext:()=>ue,any:()=>$re,array:()=>Pre,bigint:()=>_re,boolean:()=>P1,coerce:()=>Qre,custom:()=>E1,date:()=>xre,datetimeRegex:()=>k1,defaultErrorMap:()=>ro,discriminatedUnion:()=>Ore,effect:()=>Bre,enum:()=>Fre,function:()=>Mre,getErrorMap:()=>yc,getParsedType:()=>Ti,instanceof:()=>yre,intersection:()=>Are,isAborted:()=>Fm,isAsync:()=>bc,isDirty:()=>qm,isValid:()=>qo,late:()=>vre,lazy:()=>Ure,literal:()=>Lre,makeIssue:()=>Ju,map:()=>Dre,nan:()=>bre,nativeEnum:()=>qre,never:()=>Tre,null:()=>kre,nullable:()=>Hre,number:()=>C1,object:()=>gw,objectUtil:()=>fw,oboolean:()=>Yre,onumber:()=>Kre,optional:()=>Vre,ostring:()=>Jre,pipeline:()=>Gre,preprocess:()=>Wre,promise:()=>Zre,quotelessJson:()=>Vte,record:()=>jre,set:()=>zre,setErrorMap:()=>Wte,strictObject:()=>Ire,string:()=>T1,symbol:()=>wre,transformer:()=>Bre,tuple:()=>Nre,undefined:()=>Sre,union:()=>Rre,unknown:()=>Ere,util:()=>at,void:()=>Cre});var at;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(let s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(at||(at={}));var fw;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(fw||(fw={}));var he=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ti=t=>{switch(typeof t){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(t)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(t)?he.array:t===null?he.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?he.promise:typeof Map<"u"&&t instanceof Map?he.map:typeof Set<"u"&&t instanceof Set?he.set:typeof Date<"u"&&t instanceof Date?he.date:he.object;default:return he.unknown}};var W=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Vte=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),on=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,c=0;for(;c<s.path.length;){let l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let o=i.path[0];r[o]=r[o]||[],r[o].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};on.create=t=>new on(t);var Hte=(t,e)=>{let r;switch(t.code){case W.invalid_type:t.received===he.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case W.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:r=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case W.invalid_union:r="Invalid input";break;case W.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case W.invalid_enum_value:r=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case W.invalid_arguments:r="Invalid function arguments";break;case W.invalid_return_type:r="Invalid function return type";break;case W.invalid_date:r="Invalid date";break;case W.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case W.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case W.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case W.custom:r="Invalid input";break;case W.invalid_intersection_types:r="Intersection results could not be merged";break;case W.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case W.not_finite:r="Number must be finite";break;default:r=e.defaultError,at.assertNever(t)}return{message:r}},ro=Hte;var b1=ro;function Wte(t){b1=t}function yc(){return b1}var Ju=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)a=l(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},Gte=[];function ue(t,e){let r=yc(),n=Ju({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ro?void 0:ro].filter(i=>!!i)});t.common.issues.push(n)}var kr=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return De;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let o=await i.key,s=await i.value;n.push({key:o,value:s})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return De;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:e.value,value:n}}},De=Object.freeze({status:"aborted"}),js=t=>({status:"dirty",value:t}),Ar=t=>({status:"valid",value:t}),Fm=t=>t.status==="aborted",qm=t=>t.status==="dirty",qo=t=>t.status==="valid",bc=t=>typeof Promise<"u"&&t instanceof Promise;var $e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})($e||($e={}));var zn=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},_1=(t,e)=>{if(qo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new on(t.common.issues);return this._error=r,this._error}}};function Ge(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{let{message:c}=t;return s.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??n??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:i}}var Ye=class{get description(){return this._def.description}_getType(e){return Ti(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ti(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kr,ctx:{common:e.parent.common,data:e.data,parsedType:Ti(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(bc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ti(e)},i=this._parseSync({data:e,path:n.path,parent:n});return _1(n,i)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ti(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:r});return qo(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>qo(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ti(e)},i=this._parse({data:e,path:n.path,parent:n}),o=await(bc(i)?i:Promise.resolve(i));return _1(n,o)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{let s=e(i),a=()=>o.addIssue({code:W.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Mn({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Dn.create(this,this._def)}nullable(){return Pi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oo.create(this)}promise(){return Vo.create(this,this._def)}or(e){return qs.create([this,e],this._def)}and(e){return Zs.create(this,e,this._def)}transform(e){return new Mn({...Ge(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Gs({...Ge(this._def),innerType:this,defaultValue:r,typeName:Y.ZodDefault})}brand(){return new Ku({typeName:Y.ZodBranded,type:this,...Ge(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Js({...Ge(this._def),innerType:this,catchValue:r,typeName:Y.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Yu.create(this,e)}readonly(){return Ks.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Jte=/^c[^\s-]{8,}$/i,Kte=/^[0-9a-z]+$/,Yte=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xte=/^[a-z0-9_-]{21}$/i,ere=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tre=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rre=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nre="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",mw,ire=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ore=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sre=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,are=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cre=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lre=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,w1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ure=new RegExp(`^${w1}$`);function S1(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function dre(t){return new RegExp(`^${S1(t)}$`)}function k1(t){let e=`${w1}T${S1(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function pre(t,e){return!!((e==="v4"||!e)&&ire.test(t)||(e==="v6"||!e)&&sre.test(t))}function fre(t,e){if(!ere.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function mre(t,e){return!!((e==="v4"||!e)&&ore.test(t)||(e==="v6"||!e)&&are.test(t))}var Zo=class t extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==he.string){let o=this._getOrReturnCtx(e);return ue(o,{code:W.invalid_type,expected:he.string,received:o.parsedType}),De}let n=new kr,i;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:W.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:W.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?ue(i,{code:W.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&ue(i,{code:W.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")rre.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"email",code:W.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")mw||(mw=new RegExp(nre,"u")),mw.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"emoji",code:W.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")Qte.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"uuid",code:W.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")Xte.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"nanoid",code:W.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Jte.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"cuid",code:W.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Kte.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"cuid2",code:W.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Yte.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"ulid",code:W.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ue(i,{validation:"url",code:W.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"regex",code:W.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),ue(i,{code:W.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),ue(i,{code:W.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),ue(i,{code:W.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?k1(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:W.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?ure.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:W.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?dre(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:W.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?tre.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"duration",code:W.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?pre(e.data,o.version)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"ip",code:W.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?fre(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"jwt",code:W.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?mre(e.data,o.version)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"cidr",code:W.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?cre.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"base64",code:W.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?lre.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"base64url",code:W.invalid_string,message:o.message}),n.dirty()):at.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:W.invalid_string,...$e.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$e.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...$e.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...$e.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...$e.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...$e.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...$e.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...$e.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...$e.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...$e.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...$e.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...$e.errToObj(r)})}nonempty(e){return this.min(1,$e.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Zo.create=t=>new Zo({checks:[],typeName:Y.ZodString,coerce:t?.coerce??!1,...Ge(t)});function hre(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}var Ds=class t extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==he.number){let o=this._getOrReturnCtx(e);return ue(o,{code:W.invalid_type,expected:he.number,received:o.parsedType}),De}let n,i=new kr;for(let o of this._def.checks)o.kind==="int"?at.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:W.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:W.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:W.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?hre(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),ue(n,{code:W.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:W.not_finite,message:o.message}),i.dirty()):at.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,$e.toString(r))}gt(e,r){return this.setLimit("min",e,!1,$e.toString(r))}lte(e,r){return this.setLimit("max",e,!0,$e.toString(r))}lt(e,r){return this.setLimit("max",e,!1,$e.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:$e.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:$e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ds.create=t=>new Ds({checks:[],typeName:Y.ZodNumber,coerce:t?.coerce||!1,...Ge(t)});var zs=class t extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==he.bigint)return this._getInvalidInput(e);let n,i=new kr;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:W.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:W.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:W.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):at.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return ue(r,{code:W.invalid_type,expected:he.bigint,received:r.parsedType}),De}gte(e,r){return this.setLimit("min",e,!0,$e.toString(r))}gt(e,r){return this.setLimit("min",e,!1,$e.toString(r))}lte(e,r){return this.setLimit("max",e,!0,$e.toString(r))}lt(e,r){return this.setLimit("max",e,!1,$e.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:$e.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};zs.create=t=>new zs({checks:[],typeName:Y.ZodBigInt,coerce:t?.coerce??!1,...Ge(t)});var Ms=class extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==he.boolean){let n=this._getOrReturnCtx(e);return ue(n,{code:W.invalid_type,expected:he.boolean,received:n.parsedType}),De}return Ar(e.data)}};Ms.create=t=>new Ms({typeName:Y.ZodBoolean,coerce:t?.coerce||!1,...Ge(t)});var Us=class t extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==he.date){let o=this._getOrReturnCtx(e);return ue(o,{code:W.invalid_type,expected:he.date,received:o.parsedType}),De}if(Number.isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return ue(o,{code:W.invalid_date}),De}let n=new kr,i;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:W.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:W.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):at.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:$e.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:$e.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Us.create=t=>new Us({checks:[],coerce:t?.coerce||!1,typeName:Y.ZodDate,...Ge(t)});var xc=class extends Ye{_parse(e){if(this._getType(e)!==he.symbol){let n=this._getOrReturnCtx(e);return ue(n,{code:W.invalid_type,expected:he.symbol,received:n.parsedType}),De}return Ar(e.data)}};xc.create=t=>new xc({typeName:Y.ZodSymbol,...Ge(t)});var Ls=class extends Ye{_parse(e){if(this._getType(e)!==he.undefined){let n=this._getOrReturnCtx(e);return ue(n,{code:W.invalid_type,expected:he.undefined,received:n.parsedType}),De}return Ar(e.data)}};Ls.create=t=>new Ls({typeName:Y.ZodUndefined,...Ge(t)});var Fs=class extends Ye{_parse(e){if(this._getType(e)!==he.null){let n=this._getOrReturnCtx(e);return ue(n,{code:W.invalid_type,expected:he.null,received:n.parsedType}),De}return Ar(e.data)}};Fs.create=t=>new Fs({typeName:Y.ZodNull,...Ge(t)});var Bo=class extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return Ar(e.data)}};Bo.create=t=>new Bo({typeName:Y.ZodAny,...Ge(t)});var io=class extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ar(e.data)}};io.create=t=>new io({typeName:Y.ZodUnknown,...Ge(t)});var ri=class extends Ye{_parse(e){let r=this._getOrReturnCtx(e);return ue(r,{code:W.invalid_type,expected:he.never,received:r.parsedType}),De}};ri.create=t=>new ri({typeName:Y.ZodNever,...Ge(t)});var wc=class extends Ye{_parse(e){if(this._getType(e)!==he.undefined){let n=this._getOrReturnCtx(e);return ue(n,{code:W.invalid_type,expected:he.void,received:n.parsedType}),De}return Ar(e.data)}};wc.create=t=>new wc({typeName:Y.ZodVoid,...Ge(t)});var oo=class t extends Ye{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==he.array)return ue(r,{code:W.invalid_type,expected:he.array,received:r.parsedType}),De;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(ue(r,{code:s?W.too_big:W.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ue(r,{code:W.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ue(r,{code:W.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new zn(r,s,r.path,a)))).then(s=>kr.mergeArray(n,s));let o=[...r.data].map((s,a)=>i.type._parseSync(new zn(r,s,r.path,a)));return kr.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:$e.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:$e.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:$e.toString(r)}})}nonempty(e){return this.min(1,e)}};oo.create=(t,e)=>new oo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...Ge(e)});function _c(t){if(t instanceof sn){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Dn.create(_c(n))}return new sn({...t._def,shape:()=>e})}else return t instanceof oo?new oo({...t._def,type:_c(t.element)}):t instanceof Dn?Dn.create(_c(t.unwrap())):t instanceof Pi?Pi.create(_c(t.unwrap())):t instanceof Ci?Ci.create(t.items.map(e=>_c(e))):t}var sn=class t extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=at.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==he.object){let l=this._getOrReturnCtx(e);return ue(l,{code:W.invalid_type,expected:he.object,received:l.parsedType}),De}let{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof ri&&this._def.unknownKeys==="strip"))for(let l in i.data)s.includes(l)||a.push(l);let c=[];for(let l of s){let u=o[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new zn(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ri){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(ue(i,{code:W.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of a){let d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new zn(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let u of c){let d=await u.key,m=await u.value;l.push({key:d,value:m,alwaysSet:u.alwaysSet})}return l}).then(l=>kr.mergeObjectSync(n,l)):kr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return $e.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Y.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let n of at.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let n of at.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}deepPartial(){return _c(this)}partial(e){let r={};for(let n of at.objectKeys(this.shape)){let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let n of at.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Dn;)o=o._def.innerType;r[n]=o}return new t({...this._def,shape:()=>r})}keyof(){return $1(at.objectKeys(this.shape))}};sn.create=(t,e)=>new sn({shape:()=>t,unknownKeys:"strip",catchall:ri.create(),typeName:Y.ZodObject,...Ge(e)});sn.strictCreate=(t,e)=>new sn({shape:()=>t,unknownKeys:"strict",catchall:ri.create(),typeName:Y.ZodObject,...Ge(e)});sn.lazycreate=(t,e)=>new sn({shape:t,unknownKeys:"strip",catchall:ri.create(),typeName:Y.ZodObject,...Ge(e)});var qs=class extends Ye{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new on(a.ctx.common.issues));return ue(r,{code:W.invalid_union,unionErrors:s}),De}if(r.common.async)return Promise.all(n.map(async o=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o,s=[];for(let c of n){let l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(c=>new on(c));return ue(r,{code:W.invalid_union,unionErrors:a}),De}}get options(){return this._def.options}};qs.create=(t,e)=>new qs({options:t,typeName:Y.ZodUnion,...Ge(e)});var no=t=>t instanceof Bs?no(t.schema):t instanceof Mn?no(t.innerType()):t instanceof Vs?[t.value]:t instanceof Hs?t.options:t instanceof Ws?at.objectValues(t.enum):t instanceof Gs?no(t._def.innerType):t instanceof Ls?[void 0]:t instanceof Fs?[null]:t instanceof Dn?[void 0,...no(t.unwrap())]:t instanceof Pi?[null,...no(t.unwrap())]:t instanceof Ku||t instanceof Ks?no(t.unwrap()):t instanceof Js?no(t._def.innerType):[],Zm=class t extends Ye{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.object)return ue(r,{code:W.invalid_type,expected:he.object,received:r.parsedType}),De;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(ue(r,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let o of r){let s=no(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new t({typeName:Y.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Ge(n)})}};function hw(t,e){let r=Ti(t),n=Ti(e);if(t===e)return{valid:!0,data:t};if(r===he.object&&n===he.object){let i=at.objectKeys(e),o=at.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(let a of o){let c=hw(t[a],e[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(r===he.array&&n===he.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let s=t[o],a=e[o],c=hw(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===he.date&&n===he.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Zs=class extends Ye{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(o,s)=>{if(Fm(o)||Fm(s))return De;let a=hw(o.value,s.value);return a.valid?((qm(o)||qm(s))&&r.dirty(),{status:r.value,value:a.data}):(ue(n,{code:W.invalid_intersection_types}),De)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Zs.create=(t,e,r)=>new Zs({left:t,right:e,typeName:Y.ZodIntersection,...Ge(r)});var Ci=class t extends Ye{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.array)return ue(n,{code:W.invalid_type,expected:he.array,received:n.parsedType}),De;if(n.data.length<this._def.items.length)return ue(n,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&n.data.length>this._def.items.length&&(ue(n,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((s,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new zn(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>kr.mergeArray(r,s)):kr.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Ci.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ci({items:t,typeName:Y.ZodTuple,rest:null,...Ge(e)})};var Bm=class t extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.object)return ue(n,{code:W.invalid_type,expected:he.object,received:n.parsedType}),De;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new zn(n,a,n.path,a)),value:s._parse(new zn(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?kr.mergeObjectAsync(r,i):kr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ye?new t({keyType:e,valueType:r,typeName:Y.ZodRecord,...Ge(n)}):new t({keyType:Zo.create(),valueType:e,typeName:Y.ZodRecord,...Ge(r)})}},Sc=class extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.map)return ue(n,{code:W.invalid_type,expected:he.map,received:n.parsedType}),De;let i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new zn(n,a,n.path,[l,"key"])),value:o._parse(new zn(n,c,n.path,[l,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of s){let l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return De;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of s){let l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return De;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}};Sc.create=(t,e,r)=>new Sc({valueType:e,keyType:t,typeName:Y.ZodMap,...Ge(r)});var kc=class t extends Ye{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.set)return ue(n,{code:W.invalid_type,expected:he.set,received:n.parsedType}),De;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ue(n,{code:W.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ue(n,{code:W.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function s(c){let l=new Set;for(let u of c){if(u.status==="aborted")return De;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}let a=[...n.data.values()].map((c,l)=>o._parse(new zn(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:$e.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:$e.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};kc.create=(t,e)=>new kc({valueType:t,minSize:null,maxSize:null,typeName:Y.ZodSet,...Ge(e)});var Vm=class t extends Ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.function)return ue(r,{code:W.invalid_type,expected:he.function,received:r.parsedType}),De;function n(a,c){return Ju({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yc(),ro].filter(l=>!!l),issueData:{code:W.invalid_arguments,argumentsError:c}})}function i(a,c){return Ju({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yc(),ro].filter(l=>!!l),issueData:{code:W.invalid_return_type,returnTypeError:c}})}let o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Vo){let a=this;return Ar(async function(...c){let l=new on([]),u=await a._def.args.parseAsync(c,o).catch(p=>{throw l.addIssue(n(c,p)),l}),d=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(d,o).catch(p=>{throw l.addIssue(i(d,p)),l})})}else{let a=this;return Ar(function(...c){let l=a._def.args.safeParse(c,o);if(!l.success)throw new on([n(c,l.error)]);let u=Reflect.apply(s,this,l.data),d=a._def.returns.safeParse(u,o);if(!d.success)throw new on([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Ci.create(e).rest(io.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Ci.create([]).rest(io.create()),returns:r||io.create(),typeName:Y.ZodFunction,...Ge(n)})}},Bs=class extends Ye{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Bs.create=(t,e)=>new Bs({getter:t,typeName:Y.ZodLazy,...Ge(e)});var Vs=class extends Ye{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return ue(r,{received:r.data,code:W.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:e.data}}get value(){return this._def.value}};Vs.create=(t,e)=>new Vs({value:t,typeName:Y.ZodLiteral,...Ge(e)});function $1(t,e){return new Hs({values:t,typeName:Y.ZodEnum,...Ge(e)})}var Hs=class t extends Ye{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return ue(r,{expected:at.joinValues(n),received:r.parsedType,code:W.invalid_type}),De}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return ue(r,{received:r.data,code:W.invalid_enum_value,options:n}),De}return Ar(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Hs.create=$1;var Ws=class extends Ye{_parse(e){let r=at.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==he.string&&n.parsedType!==he.number){let i=at.objectValues(r);return ue(n,{expected:at.joinValues(i),received:n.parsedType,code:W.invalid_type}),De}if(this._cache||(this._cache=new Set(at.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let i=at.objectValues(r);return ue(n,{received:n.data,code:W.invalid_enum_value,options:i}),De}return Ar(e.data)}get enum(){return this._def.values}};Ws.create=(t,e)=>new Ws({values:t,typeName:Y.ZodNativeEnum,...Ge(e)});var Vo=class extends Ye{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.promise&&r.common.async===!1)return ue(r,{code:W.invalid_type,expected:he.promise,received:r.parsedType}),De;let n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return Ar(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Vo.create=(t,e)=>new Vo({type:t,typeName:Y.ZodPromise,...Ge(e)});var Mn=class extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{ue(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(n.data,o);if(n.common.async)return Promise.resolve(s).then(async a=>{if(r.value==="aborted")return De;let c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?De:c.status==="dirty"?js(c.value):r.value==="dirty"?js(c.value):c});{if(r.value==="aborted")return De;let a=this._def.schema._parseSync({data:s,path:n.path,parent:n});return a.status==="aborted"?De:a.status==="dirty"?js(a.value):r.value==="dirty"?js(a.value):a}}if(i.type==="refinement"){let s=a=>{let c=i.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?De:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?De:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qo(s))return De;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>qo(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):De);at.assertNever(i)}};Mn.create=(t,e,r)=>new Mn({schema:t,typeName:Y.ZodEffects,effect:e,...Ge(r)});Mn.createWithPreprocess=(t,e,r)=>new Mn({schema:e,effect:{type:"preprocess",transform:t},typeName:Y.ZodEffects,...Ge(r)});var Dn=class extends Ye{_parse(e){return this._getType(e)===he.undefined?Ar(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Dn.create=(t,e)=>new Dn({innerType:t,typeName:Y.ZodOptional,...Ge(e)});var Pi=class extends Ye{_parse(e){return this._getType(e)===he.null?Ar(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Pi.create=(t,e)=>new Pi({innerType:t,typeName:Y.ZodNullable,...Ge(e)});var Gs=class extends Ye{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Gs.create=(t,e)=>new Gs({innerType:t,typeName:Y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});var Js=class extends Ye{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bc(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new on(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new on(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Js.create=(t,e)=>new Js({innerType:t,typeName:Y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});var $c=class extends Ye{_parse(e){if(this._getType(e)!==he.nan){let n=this._getOrReturnCtx(e);return ue(n,{code:W.invalid_type,expected:he.nan,received:n.parsedType}),De}return{status:"valid",value:e.data}}};$c.create=t=>new $c({typeName:Y.ZodNaN,...Ge(t)});var gre=Symbol("zod_brand"),Ku=class extends Ye{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Yu=class t extends Ye{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?De:o.status==="dirty"?(r.dirty(),js(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?De:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:Y.ZodPipeline})}},Ks=class extends Ye{_parse(e){let r=this._def.innerType._parse(e),n=i=>(qo(i)&&(i.value=Object.freeze(i.value)),i);return bc(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Ks.create=(t,e)=>new Ks({innerType:t,typeName:Y.ZodReadonly,...Ge(e)});function x1(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function E1(t,e={},r){return t?Bo.create().superRefine((n,i)=>{let o=t(n);if(o instanceof Promise)return o.then(s=>{if(!s){let a=x1(e,n),c=a.fatal??r??!0;i.addIssue({code:"custom",...a,fatal:c})}});if(!o){let s=x1(e,n),a=s.fatal??r??!0;i.addIssue({code:"custom",...s,fatal:a})}}):Bo.create()}var vre={object:sn.lazycreate},Y;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Y||(Y={}));var yre=(t,e={message:`Input not instance of ${t.name}`})=>E1(r=>r instanceof t,e),T1=Zo.create,C1=Ds.create,bre=$c.create,_re=zs.create,P1=Ms.create,xre=Us.create,wre=xc.create,Sre=Ls.create,kre=Fs.create,$re=Bo.create,Ere=io.create,Tre=ri.create,Cre=wc.create,Pre=oo.create,gw=sn.create,Ire=sn.strictCreate,Rre=qs.create,Ore=Zm.create,Are=Zs.create,Nre=Ci.create,jre=Bm.create,Dre=Sc.create,zre=kc.create,Mre=Vm.create,Ure=Bs.create,Lre=Vs.create,Fre=Hs.create,qre=Ws.create,Zre=Vo.create,Bre=Mn.create,Vre=Dn.create,Hre=Pi.create,Wre=Mn.createWithPreprocess,Gre=Yu.create,Jre=()=>T1().optional(),Kre=()=>C1().optional(),Yre=()=>P1().optional(),Qre={string:t=>Zo.create({...t,coerce:!0}),number:t=>Ds.create({...t,coerce:!0}),boolean:t=>Ms.create({...t,coerce:!0}),bigint:t=>zs.create({...t,coerce:!0}),date:t=>Us.create({...t,coerce:!0})};var Xre=De;var ene=ee.object({method:ee.literal("experiment_gates"),params:ee.object({gates:ee.record(ee.string(),ee.boolean())})}),F$e=ee.object({method:ee.literal("file_updated"),params:ee.object({filePath:ee.string(),oldContent:ee.string().nullable(),newContent:ee.string().nullable()})});function I1(t,e){let r=Um({name:"claude-vscode",version:"2.1.29",tools:[]});return r.instance.server.setNotificationHandler(ene,async n=>{let{gates:i}=n.params;t(i)}),r}function R1(t,e,r){t.instance.server.notification({method:"log_event",params:{eventName:e,eventData:r}})}function Qu(t,e){return function(){return t.apply(e,arguments)}}var{toString:tne}=Object.prototype,{getPrototypeOf:yw}=Object,Wm=(t=>e=>{let r=tne.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ni=t=>(t=t.toLowerCase(),e=>Wm(e)===t),Gm=t=>e=>typeof e===t,{isArray:Ec}=Array,Xu=Gm("undefined");function rne(t){return t!==null&&!Xu(t)&&t.constructor!==null&&!Xu(t.constructor)&&xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var A1=ni("ArrayBuffer");function nne(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&A1(t.buffer),e}var ine=Gm("string"),xn=Gm("function"),N1=Gm("number"),Jm=t=>t!==null&&typeof t=="object",one=t=>t===!0||t===!1,Hm=t=>{if(Wm(t)!=="object")return!1;let e=yw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sne=ni("Date"),ane=ni("File"),cne=ni("Blob"),lne=ni("FileList"),une=t=>Jm(t)&&xn(t.pipe),dne=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xn(t.append)&&((e=Wm(t))==="formdata"||e==="object"&&xn(t.toString)&&t.toString()==="[object FormData]"))},pne=ni("URLSearchParams"),[fne,mne,hne,gne]=["ReadableStream","Request","Response","Headers"].map(ni),vne=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ed(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Ec(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function j1(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var Ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D1=t=>!Xu(t)&&t!==Ys;function vw(){let{caseless:t}=D1(this)&&this||{},e={},r=(n,i)=>{let o=t&&j1(e,i)||i;Hm(e[o])&&Hm(n)?e[o]=vw(e[o],n):Hm(n)?e[o]=vw({},n):Ec(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ed(arguments[n],r);return e}var yne=(t,e,r,{allOwnKeys:n}={})=>(ed(e,(i,o)=>{r&&xn(i)?t[o]=Qu(i,r):t[o]=i},{allOwnKeys:n}),t),bne=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_ne=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},xne=(t,e,r,n)=>{let i,o,s,a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&yw(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},wne=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},Sne=t=>{if(!t)return null;if(Ec(t))return t;let e=t.length;if(!N1(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kne=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yw(Uint8Array)),$ne=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1])}},Ene=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Tne=ni("HTMLFormElement"),Cne=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),O1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Pne=ni("RegExp"),z1=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};ed(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},Ine=t=>{z1(t,(e,r)=>{if(xn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(xn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Rne=(t,e)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Ec(t)?n(t):n(String(t).split(e)),r},One=()=>{},Ane=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Nne(t){return!!(t&&xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var jne=t=>{let e=new Array(10),r=(n,i)=>{if(Jm(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=Ec(n)?[]:{};return ed(n,(s,a)=>{let c=r(s,i+1);!Xu(c)&&(o[a]=c)}),e[i]=void 0,o}}return n};return r(t,0)},Dne=ni("AsyncFunction"),zne=t=>t&&(Jm(t)||xn(t))&&xn(t.then)&&xn(t.catch),M1=((t,e)=>t?setImmediate:e?((r,n)=>(Ys.addEventListener("message",({source:i,data:o})=>{i===Ys&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ys.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",xn(Ys.postMessage)),Mne=typeof queueMicrotask<"u"?queueMicrotask.bind(Ys):typeof process<"u"&&process.nextTick||M1,I={isArray:Ec,isArrayBuffer:A1,isBuffer:rne,isFormData:dne,isArrayBufferView:nne,isString:ine,isNumber:N1,isBoolean:one,isObject:Jm,isPlainObject:Hm,isReadableStream:fne,isRequest:mne,isResponse:hne,isHeaders:gne,isUndefined:Xu,isDate:sne,isFile:ane,isBlob:cne,isRegExp:Pne,isFunction:xn,isStream:une,isURLSearchParams:pne,isTypedArray:kne,isFileList:lne,forEach:ed,merge:vw,extend:yne,trim:vne,stripBOM:bne,inherits:_ne,toFlatObject:xne,kindOf:Wm,kindOfTest:ni,endsWith:wne,toArray:Sne,forEachEntry:$ne,matchAll:Ene,isHTMLForm:Tne,hasOwnProperty:O1,hasOwnProp:O1,reduceDescriptors:z1,freezeMethods:Ine,toObjectSet:Rne,toCamelCase:Cne,noop:One,toFiniteNumber:Ane,findKey:j1,global:Ys,isContextDefined:D1,isSpecCompliantForm:Nne,toJSONObject:jne,isAsyncFn:Dne,isThenable:zne,setImmediate:M1,asap:Mne};function Tc(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}I.inherits(Tc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});var U1=Tc.prototype,L1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{L1[t]={value:t}});Object.defineProperties(Tc,L1);Object.defineProperty(U1,"isAxiosError",{value:!0});Tc.from=(t,e,r,n,i,o)=>{let s=Object.create(U1);return I.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Tc.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var de=Tc;var BD=J(ZD(),1),oh=BD.default;function Uw(t){return I.isPlainObject(t)||I.isArray(t)}function HD(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function VD(t,e,r){return t?t.concat(e).map(function(i,o){return i=HD(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function woe(t){return I.isArray(t)&&!t.some(Uw)}var Soe=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function koe(t,e,r){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new(oh||FormData),r=I.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!I.isUndefined(g[v])});let n=r.metaTokens,i=r.visitor||u,o=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(i))throw new TypeError("visitor must be a function");function l(f){if(f===null)return"";if(I.isDate(f))return f.toISOString();if(!c&&I.isBlob(f))throw new de("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(f)||I.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,v,g){let h=f;if(f&&!g&&typeof f=="object"){if(I.endsWith(v,"{}"))v=n?v:v.slice(0,-2),f=JSON.stringify(f);else if(I.isArray(f)&&woe(f)||(I.isFileList(f)||I.endsWith(v,"[]"))&&(h=I.toArray(f)))return v=HD(v),h.forEach(function(y,_){!(I.isUndefined(y)||y===null)&&e.append(s===!0?VD([v],_,o):s===null?v:v+"[]",l(y))}),!1}return Uw(f)?!0:(e.append(VD(g,v,o),l(f)),!1)}let d=[],m=Object.assign(Soe,{defaultVisitor:u,convertValue:l,isVisitable:Uw});function p(f,v){if(!I.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(f),I.forEach(f,function(h,b){(!(I.isUndefined(h)||h===null)&&i.call(e,h,I.isString(b)?b.trim():b,v,m))===!0&&p(h,v?v.concat(b):[b])}),d.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return p(t),e}var Ho=koe;function WD(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function GD(t,e){this._pairs=[],t&&Ho(t,this,e)}var JD=GD.prototype;JD.append=function(e,r){this._pairs.push([e,r])};JD.toString=function(e){let r=e?function(n){return e.call(this,n,WD)}:WD;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var KD=GD;function $oe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xs(t,e,r){if(!e)return t;let n=r&&r.encode||$oe;I.isFunction(r)&&(r={serialize:r});let i=r&&r.serialize,o;if(i?o=i(e,r):o=I.isURLSearchParams(e)?e.toString():new KD(e,r).toString(n),o){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var Lw=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(n){n!==null&&e(n)})}},Fw=Lw;var Oc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var ez=J(require("crypto"),1);var YD=J(require("url"),1),QD=YD.default.URLSearchParams;var qw="abcdefghijklmnopqrstuvwxyz",XD="0123456789",tz={DIGIT:XD,ALPHA:qw,ALPHA_DIGIT:qw+qw.toUpperCase()+XD},Eoe=(t=16,e=tz.ALPHA_DIGIT)=>{let r="",{length:n}=e,i=new Uint32Array(t);ez.default.randomFillSync(i);for(let o=0;o<t;o++)r+=e[i[o]%n];return r},rz={isNode:!0,classes:{URLSearchParams:QD,FormData:oh,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:tz,generateString:Eoe,protocols:["http","https","file","data"]};var Vw={};_i(Vw,{hasBrowserEnv:()=>Bw,hasStandardBrowserEnv:()=>Toe,hasStandardBrowserWebWorkerEnv:()=>Coe,navigator:()=>Zw,origin:()=>Poe});var Bw=typeof window<"u"&&typeof document<"u",Zw=typeof navigator=="object"&&navigator||void 0,Toe=Bw&&(!Zw||["ReactNative","NativeScript","NS"].indexOf(Zw.product)<0),Coe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Poe=Bw&&window.location.href||"http://localhost";var bt={...Vw,...rz};function Hw(t,e){return Ho(t,new bt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return bt.isNode&&I.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Ioe(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Roe(t){let e={},r=Object.keys(t),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function Ooe(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),c=o>=r.length;return s=!s&&I.isArray(i)?i.length:s,c?(I.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!I.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&I.isArray(i[s])&&(i[s]=Roe(i[s])),!a)}if(I.isFormData(t)&&I.isFunction(t.entries)){let r={};return I.forEachEntry(t,(n,i)=>{e(Ioe(n),i,r,0)}),r}return null}var sh=Ooe;function Aoe(t,e,r){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Ww={transitional:Oc,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=I.isObject(e);if(o&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return i?JSON.stringify(sh(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Hw(e,this.formSerializer).toString();if((a=I.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Ho(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),Aoe(e)):e}],transformResponse:[function(e){let r=this.transitional||Ww.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(n&&!this.responseType||i)){let s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{Ww.headers[t]={}});var Ac=Ww;var Noe=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nz=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&Noe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};var iz=Symbol("internals");function od(t){return t&&String(t).trim().toLowerCase()}function ah(t){return t===!1||t==null?t:I.isArray(t)?t.map(ah):String(t)}function joe(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var Doe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gw(t,e,r,n,i){if(I.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!I.isString(e)){if(I.isString(n))return e.indexOf(n)!==-1;if(I.isRegExp(n))return n.test(e)}}function zoe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Moe(t,e){let r=I.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}var Nc=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function o(a,c,l){let u=od(c);if(!u)throw new Error("header name must be a non-empty string");let d=I.findKey(i,u);(!d||i[d]===void 0||l===!0||l===void 0&&i[d]!==!1)&&(i[d||c]=ah(a))}let s=(a,c)=>I.forEach(a,(l,u)=>o(l,u,c));if(I.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(I.isString(e)&&(e=e.trim())&&!Doe(e))s(nz(e),r);else if(I.isHeaders(e))for(let[a,c]of e.entries())o(c,a,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=od(e),e){let n=I.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return joe(i);if(I.isFunction(r))return r.call(this,i,n);if(I.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=od(e),e){let n=I.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Gw(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function o(s){if(s=od(s),s){let a=I.findKey(n,s);a&&(!r||Gw(n,n[a],a,r))&&(delete n[a],i=!0)}}return I.isArray(e)?e.forEach(o):o(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!e||Gw(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let r=this,n={};return I.forEach(this,(i,o)=>{let s=I.findKey(n,o);if(s){r[s]=ah(i),delete r[o];return}let a=e?zoe(o):String(o).trim();a!==o&&delete r[o],r[a]=ah(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return I.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&I.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[iz]=this[iz]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=od(s);n[a]||(Moe(i,s),n[a]=!0)}return I.isArray(e)?e.forEach(o):o(e),this}};Nc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Nc.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});I.freezeMethods(Nc);var Wt=Nc;function sd(t,e){let r=this||Ac,n=e||r,i=Wt.from(n.headers),o=n.data;return I.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function ad(t){return!!(t&&t.__CANCEL__)}function oz(t,e,r){de.call(this,t??"canceled",de.ERR_CANCELED,e,r),this.name="CanceledError"}I.inherits(oz,de,{__CANCEL__:!0});var wn=oz;function Ii(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new de("Request failed with status code "+r.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Jw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Kw(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ea(t,e,r){let n=!Jw(e);return t&&(n||r==!1)?Kw(t,e):e}var qz=J(az(),1),Zz=J(require("http"),1),Bz=J(require("https"),1),Vz=J(require("util"),1),Hz=J(Ez(),1),ao=J(require("zlib"),1);var ia="1.8.4";function pd(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var $se=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function p0(t,e,r){let n=r&&r.Blob||bt.classes.Blob,i=pd(t);if(e===void 0&&n&&(e=!0),i==="data"){t=i.length?t.slice(i.length+1):t;let o=$se.exec(t);if(!o)throw new de("Invalid URL",de.ERR_INVALID_URL);let s=o[1],a=o[2],c=o[3],l=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!n)throw new de("Blob is not supported",de.ERR_NOT_SUPPORT);return new n([l],{type:s})}return l}throw new de("Unsupported protocol "+i,de.ERR_NOT_SUPPORT)}var oa=J(require("stream"),1);var Tz=J(require("stream"),1);var f0=Symbol("internals"),m0=class extends Tz.default.Transform{constructor(e){e=I.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(n,i)=>!I.isUndefined(i[n])),super({readableHighWaterMark:e.chunkSize});let r=this[f0]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",n=>{n==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[f0];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,n){let i=this[f0],o=i.maxRate,s=this.readableHighWaterMark,a=i.timeWindow,c=1e3/a,l=o/c,u=i.minChunkSize!==!1?Math.max(i.minChunkSize,l*.01):0,d=(p,f)=>{let v=Buffer.byteLength(p);i.bytesSeen+=v,i.bytes+=v,i.isCaptured&&this.emit("progress",i.bytesSeen),this.push(p)?process.nextTick(f):i.onReadCallback=()=>{i.onReadCallback=null,process.nextTick(f)}},m=(p,f)=>{let v=Buffer.byteLength(p),g=null,h=s,b,y=0;if(o){let _=Date.now();(!i.ts||(y=_-i.ts)>=a)&&(i.ts=_,b=l-i.bytes,i.bytes=b<0?-b:0,y=0),b=l-i.bytes}if(o){if(b<=0)return setTimeout(()=>{f(null,p)},a-y);b<h&&(h=b)}h&&v>h&&v-h>u&&(g=p.subarray(h),p=p.subarray(0,h)),d(p,g?()=>{process.nextTick(f,null,g)}:f)};m(e,function p(f,v){if(f)return n(f);v?m(v,p):n(null)})}},h0=m0;var Wz=require("events");var Pz=J(require("util"),1),Iz=require("stream");var{asyncIterator:Cz}=Symbol,Ese=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[Cz]?yield*t[Cz]():yield t},fh=Ese;var Tse=bt.ALPHABET.ALPHA_DIGIT+"-_",fd=typeof TextEncoder=="function"?new TextEncoder:new Pz.default.TextEncoder,Wo=`\r
`,Cse=fd.encode(Wo),Pse=2,g0=class{constructor(e,r){let{escapeName:n}=this.constructor,i=I.isString(r),o=`Content-Disposition: form-data; name="${n(e)}"${!i&&r.name?`; filename="${n(r.name)}"`:""}${Wo}`;i?r=fd.encode(String(r).replace(/\r?\n|\r\n?/g,Wo)):o+=`Content-Type: ${r.type||"application/octet-stream"}${Wo}`,this.headers=fd.encode(o+Wo),this.contentLength=i?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+Pse,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;I.isTypedArray(e)?yield e:yield*fh(e),yield Cse}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},Ise=(t,e,r)=>{let{tag:n="form-data-boundary",size:i=25,boundary:o=n+"-"+bt.generateString(i,Tse)}=r||{};if(!I.isFormData(t))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let s=fd.encode("--"+o+Wo),a=fd.encode("--"+o+"--"+Wo+Wo),c=a.byteLength,l=Array.from(t.entries()).map(([d,m])=>{let p=new g0(d,m);return c+=p.size,p});c+=s.byteLength*l.length,c=I.toFiniteNumber(c);let u={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(c)&&(u["Content-Length"]=c),e&&e(u),Iz.Readable.from(async function*(){for(let d of l)yield s,yield*d.encode();yield a}())},Rz=Ise;var Oz=J(require("stream"),1),v0=class extends Oz.default.Transform{__transform(e,r,n){this.push(e),n()}_transform(e,r,n){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let i=Buffer.alloc(2);i[0]=120,i[1]=156,this.push(i,r)}this.__transform(e,r,n)}},Az=v0;var Rse=(t,e)=>I.isAsyncFn(t)?function(...r){let n=r.pop();t.apply(this,r).then(i=>{try{e?n(null,...e(i)):n(null,i)}catch(o){n(o)}},n)}:t,Nz=Rse;function Ose(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){let l=Date.now(),u=n[o];s||(s=l),r[i]=c,n[i]=l;let d=o,m=0;for(;d!==i;)m+=r[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),l-s<e)return;let p=u&&l-u;return p?Math.round(m*1e3/p):void 0}}var jz=Ose;function Ase(t,e){let r=0,n=1e3/e,i,o,s=(l,u=Date.now())=>{r=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,l)};return[(...l)=>{let u=Date.now(),d=u-r;d>=n?s(l,u):(i=l,o||(o=setTimeout(()=>{o=null,s(i)},n-d)))},()=>i&&s(i)]}var Dz=Ase;var so=(t,e,r=3)=>{let n=0,i=jz(50,250);return Dz(o=>{let s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-n,l=i(c),u=s<=a;n=s;let d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},Uc=(t,e)=>{let r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Lc=t=>(...e)=>I.asap(()=>t(...e));var zz={flush:ao.default.constants.Z_SYNC_FLUSH,finishFlush:ao.default.constants.Z_SYNC_FLUSH},Nse={flush:ao.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:ao.default.constants.BROTLI_OPERATION_FLUSH},Mz=I.isFunction(ao.default.createBrotliDecompress),{http:jse,https:Dse}=Hz.default,zse=/https:?/,Uz=bt.protocols.map(t=>t+":"),Lz=(t,[e,r])=>(t.on("end",r).on("error",r),e);function Mse(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function Gz(t,e,r){let n=e;if(!n&&n!==!1){let i=qz.default.getProxyForUrl(r);i&&(n=new URL(i))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let o=Buffer.from(n.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.headers.host=t.hostname+(t.port?":"+t.port:"");let i=n.hostname||n.host;t.hostname=i,t.host=i,t.port=n.port,t.path=r,n.protocol&&(t.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}t.beforeRedirects.proxy=function(o){Gz(o,e,o.href)}}var Use=typeof process<"u"&&I.kindOf(process)==="process",Lse=t=>new Promise((e,r)=>{let n,i,o=(c,l)=>{i||(i=!0,n&&n(c,l))},s=c=>{o(c),e(c)},a=c=>{o(c,!0),r(c)};t(s,a,c=>n=c).catch(a)}),Fse=({address:t,family:e})=>{if(!I.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},Fz=(t,e)=>Fse(I.isObject(t)?t:{address:t,family:e}),Jz=Use&&function(e){return Lse(async function(n,i,o){let{data:s,lookup:a,family:c}=e,{responseType:l,responseEncoding:u}=e,d=e.method.toUpperCase(),m,p=!1,f;if(a){let fe=Nz(a,we=>I.isArray(we)?we:[we]);a=(we,Ne,G)=>{fe(we,Ne,(R,U,j)=>{if(R)return G(R);let k=I.isArray(U)?U.map(T=>Fz(T)):[Fz(U,j)];Ne.all?G(R,k):G(R,k[0].address,k[0].family)})}}let v=new Wz.EventEmitter,g=()=>{e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h),v.removeAllListeners()};o((fe,we)=>{m=!0,we&&(p=!0,g())});function h(fe){v.emit("abort",!fe||fe.type?new wn(null,e,f):fe)}v.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h)));let b=ea(e.baseURL,e.url,e.allowAbsoluteUrls),y=new URL(b,bt.hasBrowserEnv?bt.origin:void 0),_=y.protocol||Uz[0];if(_==="data:"){let fe;if(d!=="GET")return Ii(n,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{fe=p0(e.url,l==="blob",{Blob:e.env&&e.env.Blob})}catch(we){throw de.from(we,de.ERR_BAD_REQUEST,e)}return l==="text"?(fe=fe.toString(u),(!u||u==="utf8")&&(fe=I.stripBOM(fe))):l==="stream"&&(fe=oa.default.Readable.from(fe)),Ii(n,i,{data:fe,status:200,statusText:"OK",headers:new Wt,config:e})}if(Uz.indexOf(_)===-1)return i(new de("Unsupported protocol "+_,de.ERR_BAD_REQUEST,e));let x=Wt.from(e.headers).normalize();x.set("User-Agent","axios/"+ia,!1);let{onUploadProgress:w,onDownloadProgress:S}=e,$=e.maxRate,E,N;if(I.isSpecCompliantForm(s)){let fe=x.getContentType(/boundary=([-_\w\d]{10,70})/i);s=Rz(s,we=>{x.set(we)},{tag:`axios-${ia}-boundary`,boundary:fe&&fe[1]||void 0})}else if(I.isFormData(s)&&I.isFunction(s.getHeaders)){if(x.set(s.getHeaders()),!x.hasContentLength())try{let fe=await Vz.default.promisify(s.getLength).call(s);Number.isFinite(fe)&&fe>=0&&x.setContentLength(fe)}catch{}}else if(I.isBlob(s)||I.isFile(s))s.size&&x.setContentType(s.type||"application/octet-stream"),x.setContentLength(s.size||0),s=oa.default.Readable.from(fh(s));else if(s&&!I.isStream(s)){if(!Buffer.isBuffer(s))if(I.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(I.isString(s))s=Buffer.from(s,"utf-8");else return i(new de("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",de.ERR_BAD_REQUEST,e));if(x.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return i(new de("Request body larger than maxBodyLength limit",de.ERR_BAD_REQUEST,e))}let P=I.toFiniteNumber(x.getContentLength());I.isArray($)?(E=$[0],N=$[1]):E=N=$,s&&(w||E)&&(I.isStream(s)||(s=oa.default.Readable.from(s,{objectMode:!1})),s=oa.default.pipeline([s,new h0({maxRate:I.toFiniteNumber(E)})],I.noop),w&&s.on("progress",Lz(s,Uc(P,so(Lc(w),!1,3)))));let z;if(e.auth){let fe=e.auth.username||"",we=e.auth.password||"";z=fe+":"+we}if(!z&&y.username){let fe=y.username,we=y.password;z=fe+":"+we}z&&x.delete("authorization");let V;try{V=Xs(y.pathname+y.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(fe){let we=new Error(fe.message);return we.config=e,we.url=e.url,we.exists=!0,i(we)}x.set("Accept-Encoding","gzip, compress, deflate"+(Mz?", br":""),!1);let H={path:V,method:d,headers:x.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:z,protocol:_,family:c,beforeRedirect:Mse,beforeRedirects:{}};!I.isUndefined(a)&&(H.lookup=a),e.socketPath?H.socketPath=e.socketPath:(H.hostname=y.hostname.startsWith("[")?y.hostname.slice(1,-1):y.hostname,H.port=y.port,Gz(H,e.proxy,_+"//"+y.hostname+(y.port?":"+y.port:"")+H.path));let re,Pe=zse.test(H.protocol);if(H.agent=Pe?e.httpsAgent:e.httpAgent,e.transport?re=e.transport:e.maxRedirects===0?re=Pe?Bz.default:Zz.default:(e.maxRedirects&&(H.maxRedirects=e.maxRedirects),e.beforeRedirect&&(H.beforeRedirects.config=e.beforeRedirect),re=Pe?Dse:jse),e.maxBodyLength>-1?H.maxBodyLength=e.maxBodyLength:H.maxBodyLength=1/0,e.insecureHTTPParser&&(H.insecureHTTPParser=e.insecureHTTPParser),f=re.request(H,function(we){if(f.destroyed)return;let Ne=[we],G=+we.headers["content-length"];if(S||N){let T=new h0({maxRate:I.toFiniteNumber(N)});S&&T.on("progress",Lz(T,Uc(G,so(Lc(S),!0,3)))),Ne.push(T)}let R=we,U=we.req||f;if(e.decompress!==!1&&we.headers["content-encoding"])switch((d==="HEAD"||we.statusCode===204)&&delete we.headers["content-encoding"],(we.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":Ne.push(ao.default.createUnzip(zz)),delete we.headers["content-encoding"];break;case"deflate":Ne.push(new Az),Ne.push(ao.default.createUnzip(zz)),delete we.headers["content-encoding"];break;case"br":Mz&&(Ne.push(ao.default.createBrotliDecompress(Nse)),delete we.headers["content-encoding"])}R=Ne.length>1?oa.default.pipeline(Ne,I.noop):Ne[0];let j=oa.default.finished(R,()=>{j(),g()}),k={status:we.statusCode,statusText:we.statusMessage,headers:new Wt(we.headers),config:e,request:U};if(l==="stream")k.data=R,Ii(n,i,k);else{let T=[],F=0;R.on("data",function(le){T.push(le),F+=le.length,e.maxContentLength>-1&&F>e.maxContentLength&&(p=!0,R.destroy(),i(new de("maxContentLength size of "+e.maxContentLength+" exceeded",de.ERR_BAD_RESPONSE,e,U)))}),R.on("aborted",function(){if(p)return;let le=new de("stream has been aborted",de.ERR_BAD_RESPONSE,e,U);R.destroy(le),i(le)}),R.on("error",function(le){f.destroyed||i(de.from(le,null,e,U))}),R.on("end",function(){try{let le=T.length===1?T[0]:Buffer.concat(T);l!=="arraybuffer"&&(le=le.toString(u),(!u||u==="utf8")&&(le=I.stripBOM(le))),k.data=le}catch(le){return i(de.from(le,null,e,k.request,k))}Ii(n,i,k)})}v.once("abort",T=>{R.destroyed||(R.emit("error",T),R.destroy())})}),v.once("abort",fe=>{i(fe),f.destroy(fe)}),f.on("error",function(we){i(de.from(we,null,e,f))}),f.on("socket",function(we){we.setKeepAlive(!0,1e3*60)}),e.timeout){let fe=parseInt(e.timeout,10);if(Number.isNaN(fe)){i(new de("error trying to parse `config.timeout` to int",de.ERR_BAD_OPTION_VALUE,e,f));return}f.setTimeout(fe,function(){if(m)return;let Ne=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",G=e.transitional||Oc;e.timeoutErrorMessage&&(Ne=e.timeoutErrorMessage),i(new de(Ne,G.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,e,f)),h()})}if(I.isStream(s)){let fe=!1,we=!1;s.on("end",()=>{fe=!0}),s.once("error",Ne=>{we=!0,f.destroy(Ne)}),s.on("close",()=>{!fe&&!we&&h(new wn("Request stream has been aborted",e,f))}),s.pipe(f)}else f.end(s)})};var Kz=bt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,bt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(bt.origin),bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent)):()=>!0;var Yz=bt.hasStandardBrowserEnv?{write(t,e,r,n,i,o){let s=[t+"="+encodeURIComponent(e)];I.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),I.isString(n)&&s.push("path="+n),I.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var Qz=t=>t instanceof Wt?{...t}:t;function oi(t,e){e=e||{};let r={};function n(l,u,d,m){return I.isPlainObject(l)&&I.isPlainObject(u)?I.merge.call({caseless:m},l,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function i(l,u,d,m){if(I.isUndefined(u)){if(!I.isUndefined(l))return n(void 0,l,d,m)}else return n(l,u,d,m)}function o(l,u){if(!I.isUndefined(u))return n(void 0,u)}function s(l,u){if(I.isUndefined(u)){if(!I.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,d){if(d in e)return n(l,u);if(d in t)return n(void 0,l)}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u,d)=>i(Qz(l),Qz(u),d,!0)};return I.forEach(Object.keys(Object.assign({},t,e)),function(u){let d=c[u]||i,m=d(t[u],e[u],u);I.isUndefined(m)&&d!==a||(r[u]=m)}),r}var mh=t=>{let e=oi({},t),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Wt.from(s),e.url=Xs(ea(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(I.isFormData(r)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){let[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(bt.hasStandardBrowserEnv&&(n&&I.isFunction(n)&&(n=n(e)),n||n!==!1&&Kz(e.url))){let l=i&&o&&Yz.read(o);l&&s.set(i,l)}return e};var qse=typeof XMLHttpRequest<"u",Xz=qse&&function(t){return new Promise(function(r,n){let i=mh(t),o=i.data,s=Wt.from(i.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:l}=i,u,d,m,p,f;function v(){p&&p(),f&&f(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function h(){if(!g)return;let y=Wt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:y,config:t,request:g};Ii(function(S){r(S),v()},function(S){n(S),v()},x),g=null}"onloadend"in g?g.onloadend=h:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(h)},g.onabort=function(){g&&(n(new de("Request aborted",de.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new de("Network Error",de.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",x=i.transitional||Oc;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new de(_,x.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,t,g)),g=null},o===void 0&&s.setContentType(null),"setRequestHeader"in g&&I.forEach(s.toJSON(),function(_,x){g.setRequestHeader(x,_)}),I.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),a&&a!=="json"&&(g.responseType=i.responseType),l&&([m,f]=so(l,!0),g.addEventListener("progress",m)),c&&g.upload&&([d,p]=so(c),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=y=>{g&&(n(!y||y.type?new wn(null,t,g):y),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));let b=pd(i.url);if(b&&bt.protocols.indexOf(b)===-1){n(new de("Unsupported protocol "+b+":",de.ERR_BAD_REQUEST,t));return}g.send(o||null)})};var Zse=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i,o=function(l){if(!i){i=!0,a();let u=l instanceof Error?l:this.reason;n.abort(u instanceof de?u:new wn(u instanceof Error?u.message:u))}},s=e&&setTimeout(()=>{s=null,o(new de(`timeout ${e} of ms exceeded`,de.ETIMEDOUT))},e),a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));let{signal:c}=n;return c.unsubscribe=()=>I.asap(a),c}},eM=Zse;var Bse=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Vse=async function*(t,e){for await(let r of Hse(t))yield*Bse(r,e)},Hse=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},y0=(t,e,r,n)=>{let i=Vse(t,e),o=0,s,a=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{let{done:l,value:u}=await i.next();if(l){a(),c.close();return}let d=u.byteLength;if(r){let m=o+=d;r(m)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),i.return()}},{highWaterMark:2})};var gh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rM=gh&&typeof ReadableStream=="function",Wse=gh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),nM=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Gse=rM&&nM(()=>{let t=!1,e=new Request(bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),tM=64*1024,b0=rM&&nM(()=>I.isReadableStream(new Response("").body)),hh={stream:b0&&(t=>t.body)};gh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hh[e]&&(hh[e]=I.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new de(`Response type '${e}' is not supported`,de.ERR_NOT_SUPPORT,n)})})})(new Response);var Jse=async t=>{if(t==null)return 0;if(I.isBlob(t))return t.size;if(I.isSpecCompliantForm(t))return(await new Request(bt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(I.isArrayBufferView(t)||I.isArrayBuffer(t))return t.byteLength;if(I.isURLSearchParams(t)&&(t=t+""),I.isString(t))return(await Wse(t)).byteLength},Kse=async(t,e)=>{let r=I.toFiniteNumber(t.getContentLength());return r??Jse(e)},iM=gh&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:m}=mh(t);l=l?(l+"").toLowerCase():"text";let p=eM([i,o&&o.toAbortSignal()],s),f,v=p&&p.unsubscribe&&(()=>{p.unsubscribe()}),g;try{if(c&&Gse&&r!=="get"&&r!=="head"&&(g=await Kse(u,n))!==0){let x=new Request(e,{method:"POST",body:n,duplex:"half"}),w;if(I.isFormData(n)&&(w=x.headers.get("content-type"))&&u.setContentType(w),x.body){let[S,$]=Uc(g,so(Lc(c)));n=y0(x.body,tM,S,$)}}I.isString(d)||(d=d?"include":"omit");let h="credentials"in Request.prototype;f=new Request(e,{...m,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:h?d:void 0});let b=await fetch(f),y=b0&&(l==="stream"||l==="response");if(b0&&(a||y&&v)){let x={};["status","statusText","headers"].forEach(E=>{x[E]=b[E]});let w=I.toFiniteNumber(b.headers.get("content-length")),[S,$]=a&&Uc(w,so(Lc(a),!0))||[];b=new Response(y0(b.body,tM,S,()=>{$&&$(),v&&v()}),x)}l=l||"text";let _=await hh[I.findKey(hh,l)||"text"](b,t);return!y&&v&&v(),await new Promise((x,w)=>{Ii(x,w,{data:_,headers:Wt.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:f})})}catch(h){throw v&&v(),h&&h.name==="TypeError"&&/fetch/i.test(h.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,t,f),{cause:h.cause||h}):de.from(h,h&&h.code,t,f)}});var _0={http:Jz,xhr:Xz,fetch:iM};I.forEach(_0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var oM=t=>`- ${t}`,Yse=t=>I.isFunction(t)||t===null||t===!1,vh={getAdapter:t=>{t=I.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!Yse(r)&&(n=_0[(s=String(r)).toLowerCase()],n===void 0))throw new de(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){let o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(oM).join(`
`):" "+oM(o[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:_0};function x0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wn(null,t)}function yh(t){return x0(t),t.headers=Wt.from(t.headers),t.data=sd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vh.getAdapter(t.adapter||Ac.adapter)(t).then(function(n){return x0(t),n.data=sd.call(t,t.transformResponse,n),n.headers=Wt.from(n.headers),n},function(n){return ad(n)||(x0(t),n&&n.response&&(n.response.data=sd.call(t,t.transformResponse,n.response),n.response.headers=Wt.from(n.response.headers))),Promise.reject(n)})}var bh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var sM={};bh.transitional=function(e,r,n){function i(o,s){return"[Axios v"+ia+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new de(i(s," has been removed"+(r?" in "+r:"")),de.ERR_DEPRECATED);return r&&!sM[s]&&(sM[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};bh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Qse(t,e,r){if(typeof t!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let o=n[i],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new de("option "+o+" must be "+c,de.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new de("Unknown option "+o,de.ERR_BAD_OPTION)}}var md={assertOptions:Qse,validators:bh};var Ri=md.validators,Fc=class{constructor(e){this.defaults=e,this.interceptors={request:new Fw,response:new Fw}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=oi(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&md.assertOptions(n,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean)},!1),i!=null&&(I.isFunction(i)?r.paramsSerializer={serialize:i}:md.assertOptions(i,{encode:Ri.function,serialize:Ri.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),md.assertOptions(r,{baseUrl:Ri.spelling("baseURL"),withXsrfToken:Ri.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&I.merge(o.common,o[r.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),r.headers=Wt.concat(s,o);let a=[],c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});let l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let u,d=0,m;if(!c){let f=[yh.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,l),m=f.length,u=Promise.resolve(r);d<m;)u=u.then(f[d++],f[d++]);return u}m=a.length;let p=r;for(d=0;d<m;){let f=a[d++],v=a[d++];try{p=f(p)}catch(g){v.call(this,g);break}}try{u=yh.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,m=l.length;d<m;)u=u.then(l[d++],l[d++]);return u}getUri(e){e=oi(this.defaults,e);let r=ea(e.baseURL,e.url,e.allowAbsoluteUrls);return Xs(r,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){Fc.prototype[e]=function(r,n){return this.request(oi(n||{},{method:e,url:r,data:(n||{}).data}))}});I.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(oi(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Fc.prototype[e]=r(),Fc.prototype[e+"Form"]=r(!0)});var hd=Fc;var w0=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new wn(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},aM=w0;function S0(t){return function(r){return t.apply(null,r)}}function k0(t){return I.isObject(t)&&t.isAxiosError===!0}var $0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($0).forEach(([t,e])=>{$0[e]=t});var cM=$0;function lM(t){let e=new hd(t),r=Qu(hd.prototype.request,e);return I.extend(r,hd.prototype,e,{allOwnKeys:!0}),I.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return lM(oi(t,i))},r}var nr=lM(Ac);nr.Axios=hd;nr.CanceledError=wn;nr.CancelToken=aM;nr.isCancel=ad;nr.VERSION=ia;nr.toFormData=Ho;nr.AxiosError=de;nr.Cancel=nr.CanceledError;nr.all=function(e){return Promise.all(e)};nr.spread=S0;nr.isAxiosError=k0;nr.mergeConfig=oi;nr.AxiosHeaders=Wt;nr.formToJSON=t=>sh(I.isHTMLForm(t)?new FormData(t):t);nr.getAdapter=vh.getAdapter;nr.HttpStatusCode=cM;nr.default=nr;var ln=nr;var{Axios:$Ie,AxiosError:EIe,CanceledError:TIe,isCancel:CIe,CancelToken:PIe,VERSION:IIe,all:RIe,Cancel:OIe,isAxiosError:AIe,spread:NIe,toFormData:jIe,AxiosHeaders:DIe,HttpStatusCode:zIe,formToJSON:MIe,getAdapter:UIe,mergeConfig:LIe}=ln;var uM=require("path"),dM=require("os");function qc(){return process.env.CLAUDE_CONFIG_DIR??(0,uM.join)((0,dM.homedir)(),".claude")}function sa(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}function Xse(){return"prod"}var eae="user:inference",tae="org:create_api_key",_h="oauth-2025-04-20",E0=[tae,"user:profile"],Zc=["user:profile",eae,"user:sessions:claude_code","user:mcp_servers"],VIe=Array.from(new Set([...E0,...Zc])),pM={BASE_API_URL:"https://api.anthropic.com",CONSOLE_AUTHORIZE_URL:"https://platform.claude.com/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"https://claude.ai/oauth/authorize",TOKEN_URL:"https://platform.claude.com/v1/oauth/token",API_KEY_URL:"https://api.anthropic.com/api/oauth/claude_cli/create_api_key",ROLES_URL:"https://api.anthropic.com/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"https://platform.claude.com/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"https://platform.claude.com/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://platform.claude.com/oauth/code/callback",CLIENT_ID:"9d1c250a-e61b-44d9-88ed-5944d1962f5e",OAUTH_FILE_SUFFIX:"",MCP_PROXY_URL:"https://mcp-proxy.anthropic.com",MCP_PROXY_PATH:"/v1/mcp/{server_id}"},rae=void 0,nae={BASE_API_URL:"http://localhost:3000",CONSOLE_AUTHORIZE_URL:"http://localhost:3000/oauth/authorize",CLAUDE_AI_AUTHORIZE_URL:"http://localhost:4000/oauth/authorize",TOKEN_URL:"http://localhost:3000/v1/oauth/token",API_KEY_URL:"http://localhost:3000/api/oauth/claude_cli/create_api_key",ROLES_URL:"http://localhost:3000/api/oauth/claude_cli/roles",CONSOLE_SUCCESS_URL:"http://localhost:3000/buy_credits?returnUrl=/oauth/code/success%3Fapp%3Dclaude-code",CLAUDEAI_SUCCESS_URL:"http://localhost:3000/oauth/code/success?app=claude-code",MANUAL_REDIRECT_URL:"https://console.staging.ant.dev/oauth/code/callback",CLIENT_ID:"22422756-60c9-4084-8eb7-27705fd5cf9a",OAUTH_FILE_SUFFIX:"-local-oauth",MCP_PROXY_URL:"http://localhost:8205",MCP_PROXY_PATH:"/v1/toolbox/shttp/mcp/{server_id}"};function gr(){let t=(()=>{switch(Xse()){case"local":return nae;case"staging":return rae??pM;case"prod":return pM}})(),e=process.env.CLAUDE_CODE_OAUTH_CLIENT_ID;return e?{...t,CLIENT_ID:e}:t}function T0(t){if(!(!t||t.utilization===null))return{utilization:t.utilization,resetsAt:t.resets_at??void 0}}function iae(t){let e={},r=T0(t.five_hour);r&&(e.fiveHour=r);let n=T0(t.seven_day);n&&(e.sevenDay=n);let i=T0(t.seven_day_sonnet);return i&&(e.sevenDaySonnet=i),t.extra_usage&&(e.extraUsage={isEnabled:t.extra_usage.is_enabled,monthlyLimit:t.extra_usage.monthly_limit??void 0,usedCredits:t.extra_usage.used_credits??void 0,utilization:t.extra_usage.utilization??void 0}),e}async function fM(t,e){if(t.getAuthStatus()?.authMethod!=="claudeai")return t.isAuthLoginDisabled()?{unavailableReason:'Usage tracking requires Claude AI authentication. Enable "claude-code.enableAuthLogin" in settings.'}:{unavailableReason:"Usage tracking is only available for Claude AI subscribers."};let n=await t.getAuthHeaders();if(!n)return;let i=`${gr().BASE_API_URL}/api/oauth/usage`;try{let o=await ln.get(i,{headers:{"Content-Type":"application/json",...n},timeout:5e3});return iae(o.data)}catch(o){throw e.error(`Failed to fetch utilization: ${o}`),o}}var bU=require("child_process");var vd=require("fs"),Oi=require("path");var oae=typeof global=="object"&&global&&global.Object===Object&&global,mM=oae;var sae=typeof self=="object"&&self&&self.Object===Object&&self,aae=mM||sae||Function("return this")(),Bc=aae;var cae=Bc.Symbol,Vc=cae;var hM=Object.prototype,lae=hM.hasOwnProperty,uae=hM.toString,gd=Vc?Vc.toStringTag:void 0;function dae(t){var e=lae.call(t,gd),r=t[gd];try{t[gd]=void 0;var n=!0}catch{}var i=uae.call(t);return n&&(e?t[gd]=r:delete t[gd]),i}var gM=dae;var pae=Object.prototype,fae=pae.toString;function mae(t){return fae.call(t)}var vM=mae;var hae="[object Null]",gae="[object Undefined]",yM=Vc?Vc.toStringTag:void 0;function vae(t){return t==null?t===void 0?gae:hae:yM&&yM in Object(t)?gM(t):vM(t)}var bM=vae;function yae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xh=yae;var bae="[object AsyncFunction]",_ae="[object Function]",xae="[object GeneratorFunction]",wae="[object Proxy]";function Sae(t){if(!xh(t))return!1;var e=bM(t);return e==_ae||e==xae||e==bae||e==wae}var _M=Sae;var kae=Bc["__core-js_shared__"],wh=kae;var xM=function(){var t=/[^.]+$/.exec(wh&&wh.keys&&wh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $ae(t){return!!xM&&xM in t}var wM=$ae;var Eae=Function.prototype,Tae=Eae.toString;function Cae(t){if(t!=null){try{return Tae.call(t)}catch{}try{return t+""}catch{}}return""}var SM=Cae;var Pae=/[\\^$.*+?()[\]{}|]/g,Iae=/^\[object .+?Constructor\]$/,Rae=Function.prototype,Oae=Object.prototype,Aae=Rae.toString,Nae=Oae.hasOwnProperty,jae=RegExp("^"+Aae.call(Nae).replace(Pae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dae(t){if(!xh(t)||wM(t))return!1;var e=_M(t)?jae:Iae;return e.test(SM(t))}var kM=Dae;function zae(t,e){return t?.[e]}var $M=zae;function Mae(t,e){var r=$M(t,e);return kM(r)?r:void 0}var Sh=Mae;var Uae=Sh(Object,"create"),co=Uae;function Lae(){this.__data__=co?co(null):{},this.size=0}var EM=Lae;function Fae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var TM=Fae;var qae="__lodash_hash_undefined__",Zae=Object.prototype,Bae=Zae.hasOwnProperty;function Vae(t){var e=this.__data__;if(co){var r=e[t];return r===qae?void 0:r}return Bae.call(e,t)?e[t]:void 0}var CM=Vae;var Hae=Object.prototype,Wae=Hae.hasOwnProperty;function Gae(t){var e=this.__data__;return co?e[t]!==void 0:Wae.call(e,t)}var PM=Gae;var Jae="__lodash_hash_undefined__";function Kae(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=co&&e===void 0?Jae:e,this}var IM=Kae;function Hc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hc.prototype.clear=EM;Hc.prototype.delete=TM;Hc.prototype.get=CM;Hc.prototype.has=PM;Hc.prototype.set=IM;var C0=Hc;function Yae(){this.__data__=[],this.size=0}var RM=Yae;function Qae(t,e){return t===e||t!==t&&e!==e}var OM=Qae;function Xae(t,e){for(var r=t.length;r--;)if(OM(t[r][0],e))return r;return-1}var Go=Xae;var ece=Array.prototype,tce=ece.splice;function rce(t){var e=this.__data__,r=Go(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():tce.call(e,r,1),--this.size,!0}var AM=rce;function nce(t){var e=this.__data__,r=Go(e,t);return r<0?void 0:e[r][1]}var NM=nce;function ice(t){return Go(this.__data__,t)>-1}var jM=ice;function oce(t,e){var r=this.__data__,n=Go(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var DM=oce;function Wc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wc.prototype.clear=RM;Wc.prototype.delete=AM;Wc.prototype.get=NM;Wc.prototype.has=jM;Wc.prototype.set=DM;var zM=Wc;var sce=Sh(Bc,"Map"),MM=sce;function ace(){this.size=0,this.__data__={hash:new C0,map:new(MM||zM),string:new C0}}var UM=ace;function cce(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var LM=cce;function lce(t,e){var r=t.__data__;return LM(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Jo=lce;function uce(t){var e=Jo(this,t).delete(t);return this.size-=e?1:0,e}var FM=uce;function dce(t){return Jo(this,t).get(t)}var qM=dce;function pce(t){return Jo(this,t).has(t)}var ZM=pce;function fce(t,e){var r=Jo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var BM=fce;function Gc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Gc.prototype.clear=UM;Gc.prototype.delete=FM;Gc.prototype.get=qM;Gc.prototype.has=ZM;Gc.prototype.set=BM;var P0=Gc;var mce="Expected a function";function I0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mce);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(I0.Cache||P0),r}I0.Cache=P0;var ir=I0;var GM=require("process"),R0=require("fs"),JM=require("crypto");function VM(t){return{name:t,default:3e4,validate:e=>{if(!e)return{effective:3e4,status:"valid"};let r=parseInt(e,10);return isNaN(r)||r<=0?{effective:3e4,status:"invalid",message:`Invalid value "${e}" (using default: 30000)`}:r>15e4?{effective:15e4,status:"capped",message:`Capped from ${r} to 150000`}:{effective:r,status:"valid"}}}}var HM=VM("BASH_MAX_OUTPUT_LENGTH"),AOe=VM("TASK_MAX_OUTPUT_LENGTH"),WM={name:"CLAUDE_CODE_MAX_OUTPUT_TOKENS",default:32e3,validate:t=>{if(!t)return{effective:32e3,status:"valid"};let n=parseInt(t,10);return isNaN(n)||n<=0?{effective:32e3,status:"invalid",message:`Invalid value "${t}" (using default: 32000)`}:n>64e3?{effective:64e3,status:"capped",message:`Capped from ${n} to 64000`}:{effective:n,status:"valid"}}};function hce(){let t="";return typeof process<"u"&&typeof process.cwd=="function"&&typeof R0.realpathSync=="function"&&(t=(0,R0.realpathSync)((0,GM.cwd)())),{originalCwd:t,projectRoot:t,totalCostUSD:0,totalAPIDuration:0,totalAPIDurationWithoutRetries:0,totalToolDuration:0,startTime:Date.now(),lastInteractionTime:Date.now(),totalLinesAdded:0,totalLinesRemoved:0,hasUnknownModelCost:!1,cwd:t,modelUsage:{},mainLoopModelOverride:void 0,initialMainLoopModel:null,modelStrings:null,isInteractive:!1,clientType:"cli",sessionIngressToken:void 0,oauthTokenFromFd:void 0,apiKeyFromFd:void 0,flagSettingsPath:void 0,allowedSettingSources:["userSettings","projectSettings","localSettings","flagSettings","policySettings"],meter:null,sessionCounter:null,locCounter:null,prCounter:null,commitCounter:null,costCounter:null,tokenCounter:null,codeEditToolDecisionCounter:null,activeTimeCounter:null,sessionId:(0,JM.randomUUID)(),parentSessionId:void 0,loggerProvider:null,eventLogger:null,meterProvider:null,tracerProvider:null,agentColorMap:new Map,agentColorIndex:0,envVarValidators:[HM,WM],lastAPIRequest:null,inMemoryErrorLog:[],inlinePlugins:[],useCoworkPlugins:!1,sessionBypassPermissionsMode:!1,sessionTrustAccepted:!1,sessionPersistenceDisabled:!1,hasExitedPlanMode:!1,needsPlanModeExitAttachment:!1,hasExitedDelegateMode:!1,needsDelegateModeExitAttachment:!1,lspRecommendationShownThisSession:!1,initJsonSchema:null,registeredHooks:null,planSlugCache:new Map,teleportedSessionInfo:null,invokedSkills:new Map,slowOperations:[],promptCacheBreaks:[],sdkBetas:void 0,mainThreadAgentType:void 0,isRemoteMode:!1,directConnectServerUrl:void 0,additionalDirectoriesForClaudeMd:[],resumedTranscriptPath:null}}var O0=hce();function KM(){return O0.sessionId}function YM(){return O0.originalCwd}function QM(){return O0.cwd}function gce(){return QM()}function Jc(){try{return gce()}catch{return YM()}}var Ft=J(require("node:path"),1),A0=J(require("node:os"),1),kh=J(require("node:process"),1),Ko=A0.default.homedir(),N0=A0.default.tmpdir(),{env:Kc}=kh.default,vce=t=>{let e=Ft.default.join(Ko,"Library");return{data:Ft.default.join(e,"Application Support",t),config:Ft.default.join(e,"Preferences",t),cache:Ft.default.join(e,"Caches",t),log:Ft.default.join(e,"Logs",t),temp:Ft.default.join(N0,t)}},yce=t=>{let e=Kc.APPDATA||Ft.default.join(Ko,"AppData","Roaming"),r=Kc.LOCALAPPDATA||Ft.default.join(Ko,"AppData","Local");return{data:Ft.default.join(r,t,"Data"),config:Ft.default.join(e,t,"Config"),cache:Ft.default.join(r,t,"Cache"),log:Ft.default.join(r,t,"Log"),temp:Ft.default.join(N0,t)}},bce=t=>{let e=Ft.default.basename(Ko);return{data:Ft.default.join(Kc.XDG_DATA_HOME||Ft.default.join(Ko,".local","share"),t),config:Ft.default.join(Kc.XDG_CONFIG_HOME||Ft.default.join(Ko,".config"),t),cache:Ft.default.join(Kc.XDG_CACHE_HOME||Ft.default.join(Ko,".cache"),t),log:Ft.default.join(Kc.XDG_STATE_HOME||Ft.default.join(Ko,".local","state"),t),temp:Ft.default.join(N0,e,t)}};function j0(t,{suffix:e="nodejs"}={}){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return e&&(t+=`-${e}`),kh.default.platform==="darwin"?vce(t):kh.default.platform==="win32"?yce(t):bce(t)}var Ze=J(require("fs"),1);var si=require("fs/promises");function _ce(t,e){t.destroyed||t.write(e)}function XM(t){_ce(process.stderr,t)}var eU=ir(t=>{if(!t||t.trim()==="")return null;let e=t.split(",").map(o=>o.trim()).filter(Boolean);if(e.length===0)return null;let r=e.some(o=>o.startsWith("!")),n=e.some(o=>!o.startsWith("!"));if(r&&n)return null;let i=e.map(o=>o.replace(/^!/,"").toLowerCase());return{include:r?[]:i,exclude:r?i:[],isExclusive:r}});function xce(t){let e=[],r=t.match(/^MCP server ["']([^"']+)["']/);if(r&&r[1])e.push("mcp"),e.push(r[1].toLowerCase());else{let o=t.match(/^([^:[]+):/);o&&o[1]&&e.push(o[1].trim().toLowerCase())}let n=t.match(/^\[([^\]]+)]/);n&&n[1]&&e.push(n[1].trim().toLowerCase()),t.toLowerCase().includes("statsig event:")&&e.push("statsig");let i=t.match(/:\s*([^:]+?)(?:\s+(?:type|mode|status|event))?:/);if(i&&i[1]){let o=i[1].trim().toLowerCase();o.length<30&&!o.includes(" ")&&e.push(o)}return Array.from(new Set(e))}function wce(t,e){return e?t.length===0?!1:e.isExclusive?!t.some(r=>e.exclude.includes(r)):t.some(r=>e.include.includes(r)):!0}function tU(t,e){if(!e)return!0;let r=xce(t);return wce(r,e)}var aa=require("path");function rU({writeFn:t,flushIntervalMs:e=1e3,maxBufferSize:r=100,immediateMode:n=!1}){let i=[],o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){i.length!==0&&(t(i.join("")),i=[],s())}function c(){o||(o=setTimeout(a,e))}return{write(l){if(n){t(l);return}i.push(l),c(),i.length>=r&&a()},flush:a,dispose(){a()}}}var nU=new Set;function iU(t){return nU.add(t),()=>nU.delete(t)}var lo=require("fs"),uo=process.env.NODE_ENV==="development"?20:1/0;function Sce(t){return t===null?"null":t===void 0?"undefined":Array.isArray(t)?`Array[${t.length}]`:typeof t=="object"?`Object{${Object.keys(t).length} keys}`:typeof t=="string"?`string(${t.length} chars)`:typeof t}function oU(t,e){let r=performance.now();try{return e()}finally{performance.now()-r>uo}}function Yo(t,e,r){let n=Sce(t);return oU(`JSON.stringify(${n})`,()=>JSON.stringify(t,e,r))}var Yc=(t,e)=>{let r=typeof t=="string"?t.length:0;return oU(`JSON.parse(${r} chars)`,()=>JSON.parse(t,e))};function sU(t,e,r){let n=performance.now();try{if(r!==null&&typeof r=="object"&&"flush"in r&&r.flush===!0){let o=typeof r=="object"&&"encoding"in r?r.encoding:void 0,s=typeof r=="object"&&"mode"in r?r.mode:void 0,a;try{a=(0,lo.openSync)(t,"w",s),(0,lo.writeFileSync)(a,e,{encoding:o??void 0}),(0,lo.fsyncSync)(a)}finally{a!==void 0&&(0,lo.closeSync)(a)}}else(0,lo.writeFileSync)(t,e,r)}finally{performance.now()-n>uo}}var kce=ir(()=>sa(process.env.DEBUG)||sa(process.env.DEBUG_SDK)||process.argv.includes("--debug")||process.argv.includes("-d")||D0()||process.argv.some(t=>t.startsWith("--debug="))||aU()!==null),$ce=ir(()=>{let t=process.argv.find(r=>r.startsWith("--debug="));if(!t)return null;let e=t.substring(8);return eU(e)}),D0=ir(()=>process.argv.includes("--debug-to-stderr")||process.argv.includes("-d2e")),aU=ir(()=>{for(let t=0;t<process.argv.length;t++){let e=process.argv[t];if(e.startsWith("--debug-file="))return e.substring(13);if(e==="--debug-file"&&t+1<process.argv.length)return process.argv[t+1]}return null});function Ece(t){if(process.env.NODE_ENV==="test"&&!D0()||typeof process>"u"||typeof process.versions>"u"||typeof process.versions.node>"u")return!1;let e=$ce();return tU(t,e)}var Tce=!1;var $h=null;function Cce(){return $h||($h=rU({writeFn:t=>{let e=cU();or().existsSync((0,aa.dirname)(e))||or().mkdirSync((0,aa.dirname)(e)),or().appendFileSync(e,t),Pce()},flushIntervalMs:1e3,maxBufferSize:100,immediateMode:kce()}),iU(async()=>$h?.dispose())),$h}function Eh(t,{level:e}={level:"debug"}){if(!Ece(t))return;Tce&&t.includes(`
`)&&(t=Yo(t));let n=`${new Date().toISOString()} [${e.toUpperCase()}] ${t.trim()}
`;if(D0()){XM(n);return}Cce().write(n)}function cU(){return aU()??process.env.CLAUDE_CODE_DEBUG_LOGS_DIR??(0,aa.join)(qc(),"debug",`${KM()}.txt`)}var Pce=ir(()=>{if(process.argv[2]!=="--ripgrep")try{let t=cU(),e=(0,aa.dirname)(t),r=(0,aa.join)(e,"latest");if(or().existsSync(e)||or().mkdirSync(e),or().existsSync(r))try{or().unlinkSync(r)}catch{}or().symlinkSync(t,r)}catch{}});var Ice=!1;function sr(t,e){let r=performance.now();try{return e()}finally{performance.now()-r>uo}}var Rce={cwd(){return process.cwd()},existsSync(t){return sr(`existsSync(${t})`,()=>Ze.existsSync(t))},async stat(t){return(0,si.stat)(t)},async readdir(t){return(0,si.readdir)(t,{withFileTypes:!0})},async unlink(t){return(0,si.unlink)(t)},async rmdir(t){return(0,si.rmdir)(t)},async rm(t,e){return(0,si.rm)(t,e)},statSync(t){return sr(`statSync(${t})`,()=>Ze.statSync(t))},lstatSync(t){return sr(`lstatSync(${t})`,()=>Ze.lstatSync(t))},readFileSync(t,e){return sr(`readFileSync(${t})`,()=>Ze.readFileSync(t,{encoding:e.encoding}))},readFileBytesSync(t){return sr(`readFileBytesSync(${t})`,()=>Ze.readFileSync(t))},readSync(t,e){return sr(`readSync(${t}, ${e.length} bytes)`,()=>{let r;try{r=Ze.openSync(t,"r");let n=Buffer.alloc(e.length),i=Ze.readSync(r,n,0,e.length,0);return{buffer:n,bytesRead:i}}finally{r&&Ze.closeSync(r)}})},appendFileSync(t,e,r){return sr(`appendFileSync(${t}, ${e.length} chars)`,()=>{if(!Ze.existsSync(t)&&r?.mode!==void 0){let n=Ze.openSync(t,"a",r.mode);try{Ze.appendFileSync(n,e)}finally{Ze.closeSync(n)}}else Ze.appendFileSync(t,e)})},copyFileSync(t,e){return sr(`copyFileSync(${t} \u2192 ${e})`,()=>Ze.copyFileSync(t,e))},unlinkSync(t){return sr(`unlinkSync(${t})`,()=>Ze.unlinkSync(t))},renameSync(t,e){return sr(`renameSync(${t} \u2192 ${e})`,()=>Ze.renameSync(t,e))},linkSync(t,e){return sr(`linkSync(${t} \u2192 ${e})`,()=>Ze.linkSync(t,e))},symlinkSync(t,e){return sr(`symlinkSync(${t} \u2192 ${e})`,()=>Ze.symlinkSync(t,e))},readlinkSync(t){return sr(`readlinkSync(${t})`,()=>Ze.readlinkSync(t))},realpathSync(t){return sr(`realpathSync(${t})`,()=>Ze.realpathSync(t))},mkdirSync(t,e){return sr(`mkdirSync(${t})`,()=>{if(!Ze.existsSync(t)){let r={recursive:!0};e?.mode!==void 0&&(r.mode=e.mode),Ze.mkdirSync(t,r)}})},readdirSync(t){return sr(`readdirSync(${t})`,()=>Ze.readdirSync(t,{withFileTypes:!0}))},readdirStringSync(t){return sr(`readdirStringSync(${t})`,()=>Ze.readdirSync(t))},isDirEmptySync(t){return sr(`isDirEmptySync(${t})`,()=>this.readdirSync(t).length===0)},rmdirSync(t){return sr(`rmdirSync(${t})`,()=>Ze.rmdirSync(t))},rmSync(t,e){return sr(`rmSync(${t})`,()=>Ze.rmSync(t,e))},createWriteStream(t){return Ze.createWriteStream(t)}},Oce=Rce;function or(){return Oce}var $Ae=j0("claude-cli");function lU(){return!1}var Ace=["ide_opened_file","ide_selection"],PAe=new RegExp(Ace.map(t=>`<${t}(?:\\s[^>]*)?>([\\s\\S]*?)<\\/${t}>\\n?`).join("|"),"g");var Nce=100,z0=[];function jce(t){z0.length>=Nce&&z0.shift(),z0.push(t)}var Dce=[],uU=null;var zce=ir(()=>process.argv.includes("--hard-fail"));function M0(t){lU("HARD_FAIL")&&zce()&&(console.error("[HARD FAIL] logError called with:",t.stack||t.message),process.exit(1));try{if(sa(process.env.CLAUDE_CODE_USE_BEDROCK)||sa(process.env.CLAUDE_CODE_USE_VERTEX)||sa(process.env.CLAUDE_CODE_USE_FOUNDRY)||process.env.DISABLE_ERROR_REPORTING||process.env.CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC)return;let r={error:t.stack||t.message,timestamp:new Date().toISOString()};if(jce(r),uU===null){Dce.push({type:"error",error:t});return}uU.logError(t)}catch{}}var dU=1e3,pU=60;function Th(t,e,r=10*pU*dU){let n;e===void 0?n={}:e instanceof AbortSignal?n={abortSignal:e,timeout:r}:n=e;let{abortSignal:i,timeout:o=10*pU*dU,input:s,stdio:a=["ignore","pipe","pipe"]}=n;i?.throwIfAborted();let c=performance.now();try{let l=yn(t,{env:process.env,maxBuffer:1e6,timeout:o,cwd:Jc(),stdio:a,shell:!0,reject:!1,input:s});return performance.now()-c>uo,l.stdout&&l.stdout.trim()||null}catch{return performance.now()-c>uo,null}}var U0=1e3,L0=60;function Ch(t,e,r={timeout:10*L0*U0,preserveOutputOnError:!0,useCwd:!0}){return fU(t,e,{abortSignal:r.abortSignal,timeout:r.timeout,preserveOutputOnError:r.preserveOutputOnError,cwd:r.useCwd?Jc():void 0,env:r.env,stdin:r.stdin})}function Mce(t,e){return t.shortMessage?t.shortMessage:typeof t.signal=="string"?t.signal:String(e)}function fU(t,e,{abortSignal:r,timeout:n=10*L0*U0,preserveOutputOnError:i=!0,cwd:o,env:s,maxBuffer:a,shell:c,stdin:l}={timeout:10*L0*U0,preserveOutputOnError:!0,maxBuffer:1e6}){return new Promise(u=>{qa(t,e,{maxBuffer:a,signal:r,timeout:n,cwd:o,env:s,shell:c,stdin:l,reject:!1}).then(d=>{if(d.failed)if(i){let m=d.exitCode??1;u({stdout:d.stdout||"",stderr:d.stderr||"",code:m,error:Mce(d,m)})}else u({stdout:"",stderr:"",code:d.exitCode??1});else u({stdout:d.stdout,stderr:d.stderr,code:0})}).catch(d=>{M0(d),u({stdout:"",stderr:"",code:1})})})}var F0=require("path");function ca(t,e,r={}){let n=Uce();if(!n)return;let i={timestamp:new Date().toISOString(),level:t,event:e,data:r},o=or();o.existsSync((0,F0.dirname)(n))||o.mkdirSync((0,F0.dirname)(n)),o.appendFileSync(n,Yo(i)+`
`)}function Uce(){return process.env.CLAUDE_CODE_DIAGNOSTICS_FILE}var mU=require("child_process");function Lce(t,e){performance.now()-e>uo}function q0(t,e){let r=`execSync: ${t.slice(0,100)}`,n=performance.now();try{return(0,mU.execSync)(t,e)}finally{Lce(r,n)}}var Fce=typeof Bun<"u"?Bun.which:void 0;function qce(t){if(process.platform==="win32")try{return q0(`where.exe ${t}`,{encoding:"utf-8"}).toString().trim().split(/\r?\n/)[0]||null}catch{return null}try{return q0(`which ${t}`,{encoding:"utf-8"}).toString().trim()||null}catch{return null}}var hU=typeof Bun<"u"?Fce:qce;var CNe=ir(t=>{let e=Date.now();ca("info","find_git_root_started");let r=(0,Oi.resolve)(t),n=r.substring(0,r.indexOf(Oi.sep)+1)||Oi.sep,i=0;for(;r!==n;){try{let s=(0,Oi.join)(r,".git");i++;let a=(0,vd.statSync)(s);if(a.isDirectory()||a.isFile())return ca("info","find_git_root_completed",{duration_ms:Date.now()-e,stat_count:i,found:!0}),r}catch{}let o=(0,Oi.dirname)(r);if(o===r)break;r=o}try{let o=(0,Oi.join)(n,".git");i++;let s=(0,vd.statSync)(o);if(s.isDirectory()||s.isFile())return ca("info","find_git_root_completed",{duration_ms:Date.now()-e,stat_count:i,found:!0}),n}catch{}return ca("info","find_git_root_completed",{duration_ms:Date.now()-e,stat_count:i,found:!1}),null}),Zce=ir(()=>hU("git")||"git"),PNe=ir(async()=>{let t=Date.now();ca("info","is_git_check_started");let{code:e}=await Ch(Zce(),["rev-parse","--is-inside-work-tree"]);return ca("info","is_git_check_completed",{duration_ms:Date.now()-t,is_git:e===0}),e===0});var INe=500*1024*1024,RNe=5*1024*1024*1024;function Ph(t){let e=t.trim(),r=/github\.com[:/]([^/]+)\/([^/]+)$/,n=e.match(r);if(n&&n[1]&&n[2]){let i=n[1],o=n[2].replace(/\.git$/,""),s=`${i}/${o}`;return Eh(`Parsed repository: ${s} from ${e}`),s}if(!e.includes("://")&&!e.includes("@")&&e.includes("/")){let i=e.split("/");if(i.length===2&&i[0]&&i[1]){let o=i[1].replace(/\.git$/,"");return`${i[0]}/${o}`}}return Eh(`Could not parse repository from: ${e}`),null}var _U=[2e3,4e3,8e3,16e3],gU=_U.length;function Bce(t){return ln.isAxiosError(t)?!t.response||t.response.status>=500:!1}async function Z0(t,e){let r;for(let n=0;n<=gU;n++)try{return await ln.get(t,e)}catch(i){if(r=i,!Bce(i)||n>=gU)throw i;let o=_U[n]??2e3;await new Promise(s=>setTimeout(s,o))}throw r}function vU(t){return{Authorization:`Bearer ${t}`,"Content-Type":"application/json","anthropic-version":"2023-06-01"}}function yU(t){return t.session_context.outcomes?.find(r=>r.type==="git_repository")?.git_info?.branches[0]}var Ih=class{constructor(e,r,n){this.authManager=e;this.logger=r;this.cwd=n}currentRepoCache=void 0;async detectCurrentRepository(){if(this.currentRepoCache!==void 0)return this.currentRepoCache;try{let e=await new Promise((n,i)=>{(0,bU.execFile)("git",["remote","get-url","origin"],{cwd:this.cwd},(o,s)=>{o?i(o):n(s.trim())})}),r=Ph(e);return this.currentRepoCache=r,r}catch{return this.currentRepoCache=null,null}}async prepareApiRequest(){let e=await this.authManager.getAuthHeaders();if(!e?.Authorization)return this.logger.warn("No OAuth token available for teleport"),null;let r=e.Authorization.replace("Bearer ",""),n=this.authManager.getOrganizationUUID();return n||(n=await this.authManager.fetchOrganizationUUID()),n?{accessToken:r,orgUUID:n}:(this.logger.error("No organization UUID available"),null)}async fetchRemoteSessions(){let e=await this.prepareApiRequest();if(!e)throw new Error("Failed to connect to remote server");let{accessToken:r,orgUUID:n}=e,i=`${gr().BASE_API_URL}/v1/sessions`;try{let o={...vU(r),"x-organization-uuid":n},s=await Z0(i,{headers:o,timeout:15e3,proxy:!1});if(s.status!==200)return this.logger.error(`Failed to fetch remote sessions: ${s.statusText}`),[];let a=await this.detectCurrentRepository(),c;a?c=s.data.data.filter(u=>{let d=u.session_context.sources.find(p=>p.type==="git_repository");return d?.url?Ph(d.url)===a:!1}):c=s.data.data;let l=c.map(u=>{let d=u.session_context.sources.find(f=>f.type==="git_repository"),m;if(d?.url){let f=Ph(d.url);if(f){let[v,g]=f.split("/");v&&g&&(m={owner:v,name:g,branch:d.revision||void 0})}}let p=yU(u);return m&&p&&!m.branch&&(m.branch=p),{id:u.id,lastModified:new Date(u.updated_at).getTime(),messageCount:0,summary:u.title||"Untitled",isRemote:!0,remoteRepo:m}});return this.logger.log(`Fetched ${l.length} remote sessions`),l}catch(o){return this.logger.error(`Error fetching remote sessions: ${o}`),[]}}async teleportSession(e){let r=await this.prepareApiRequest();if(!r)return null;let{accessToken:n,orgUUID:i}=r;try{let o=`${gr().BASE_API_URL}/v1/sessions/${e}`,s={...vU(n),"x-organization-uuid":i},a=await Z0(o,{headers:s,timeout:15e3,validateStatus:m=>m<500,proxy:!1});if(a.status!==200)return a.status===404?(this.logger.error(`Session not found: ${e}`),null):a.status===401?(this.logger.error("Session expired, please login again"),null):(this.logger.error(`Failed to fetch session: ${a.status}`),null);let c=a.data,l=yU(c),u=`${gr().BASE_API_URL}/v1/session_ingress/session/${e}`,d=await Z0(u,{headers:s,timeout:2e4,validateStatus:m=>m<500,proxy:!1});if(d.status===200){let m=d.data.loglines||[];return this.logger.log(`Fetched ${m.length} log entries for session ${e}`),{messages:m,branch:l,title:c.title||void 0}}return d.status===404?(this.logger.log(`No logs found for session ${e}`),{messages:[],branch:l,title:c.title||void 0}):(this.logger.error(`Failed to fetch session logs: ${d.status}`),null)}catch(o){return this.logger.error(`Error teleporting session ${e}: ${o}`),null}}};var Rh=class{constructor(e,r,n,i,o,s,a){this.cwd=e;this.logger=r;this.settings=n;this.openNewInTab=i;this.showTerminalBanner=o;this.experimentGates=s;this.authManager=a;this.pluginManager=new em(r,()=>this.getClaudeBinary()),this.teleportService=new Ih(a,r,this.cwd),this.readFromClient();try{wi.load(this.cwd,this.logger)}catch(c){this.logger.error(`Failed to load sessions at startup: ${c}`)}}channels=new Map;fromClientStream=new Va;abortControllers=new Map;config;showReviewUpsellBanner;outstandingRequests=new Map;pluginManager;teleportService;async fromClient(e){this.fromClientStream.enqueue(e)}async readFromClient(){for await(let e of this.fromClientStream)switch(e.type){case"launch_claude":await this.launchClaude(e.channelId,e.resume,e.cwd,e.model,e.permissionMode,e.thinkingLevel);break;case"close_channel":this.closeChannel(e.channelId,!1);break;case"interrupt_claude":this.interruptClaude(e.channelId);break;case"start_speech_to_text":await this.handleStartSpeechToText(e.channelId);break;case"stop_speech_to_text":this.handleStopSpeechToText(e.channelId);break;case"io_message":this.transportMessage(e.channelId,e.message,e.done);break;case"request":this.handleRequest(e);break;case"response":{let r=e.requestId,n=this.outstandingRequests.get(r);n?e.response.type==="error"?n.reject(new Error(e.response.error)):n.resolve(e.response):this.logger.warn(`No handler for response with requestId: ${r}`)}break;case"cancel_request":this.handleCancellation(e.targetRequestId);break;default:this.logger.error(`Unknown message: ${e}`)}}async launchClaude(e,r,n,i,o,s){if(this.logger.log(`Launching Claude on channel: ${e}`),this.channels.has(e))throw new Error(`Channel already exists: ${e}`);this.generateAndPushProactiveSuggestions(e);try{let a=new Va,c=I1(g=>{this.onExperimentGatesUpdated(g)},(g,h,b)=>{bu(g)||this.send({type:"file_updated",channelId:e,filePath:g,oldContent:h,newContent:b})}),l=this.getAdditionalMcpServers(),u={"claude-vscode":c,...l},d=new Set(await nm(process.pid)),m=await this.spawnClaude(a,r,async(g,h,b)=>this.requestToolPermission(e,g,h,b.suggestions||[]),i||null,n,o,this.settings.getAllowDangerouslySkipPermissions(),this.getMaxThinkingTokensForModel(s),u),f=(await nm(process.pid)).filter(g=>!d.has(g)),v;for(let g of f){let h=await V_(g);if(h.includes("cli.js")||h.includes("/claude")){v=parseInt(g,10);break}}v===void 0&&f.length>0&&(v=parseInt(f[0],10)),this.channels.set(e,{in:a,query:m,pid:v,vscodeMcpServer:c,mcpServers:{},chromeMcpState:{status:"disconnected"},debuggerMcpState:this.getInitialDebuggerState(),jupyterMcpState:this.getInitialJupyterState()}),this.logger.log(`Claude spawned on channel ${e} with PID: ${v??"unknown"}`),this.claudeLaunched(e),(async()=>{try{for await(let g of m)this.send({type:"io_message",channelId:e,message:g,done:!1}),EO(g);this.closeChannel(e,!0)}catch(g){this.closeChannel(e,!0,String(g)),this.logger.error(`Error from Claude (on channel ${e}): ${g}`)}})()}catch(a){this.closeChannel(e,!0,String(a)),this.logger.error(`Error spawning Claude (on channel ${e}): ${a}`)}}claudeLaunched(e){}async requestToolPermission(e,r,n,i){if(this.channels.get(e)?.chromeMcpState.status==="connected"&&r.startsWith("mcp__claude-in-chrome__"))return{behavior:"allow",updatedInput:n};let s=await this.sendRequest(e,{type:"tool_permission_request",toolName:r,inputs:n,suggestions:i});return $O(r,s),s.result}sendRequest(e,r){let n=Wi();return new Promise((i,o)=>{this.outstandingRequests.set(n,{resolve:s=>{i(s)},reject:o}),this.send({type:"request",channelId:e,requestId:n,request:r})}).finally(()=>{this.outstandingRequests.delete(n)})}async interruptClaude(e){let r=this.channels.get(e);if(!r){this.logger.warn(`Channel not found: ${e}`);return}try{await r.query.interrupt(),this.logger.log(`Interrupted Claude for requestId: ${e}`)}catch(n){this.logger.error(`Failed to interrupt Claude: ${n}`)}}logEvent(e,r,n){let i=this.channels.get(e);if(!i){this.logger.warn(`Channel not found for logEvent: ${e}`);return}R1(i.vscodeMcpServer,r,n)}async handleStartSpeechToText(e){throw new Error("Speech-to-text is not supported in this environment")}async handleStopSpeechToText(e){throw new Error("Speech-to-text is not supported in this environment")}async closeChannel(e,r,n){this.logger.log(`Closing Claude on channel: ${e}`),r&&this.send({type:"close_channel",channelId:e,error:n});let i=this.channels.get(e);if(i){i.in.done();try{await i.query.return()}catch(o){this.logger.warn(`Error cleaning up channel ${e}: ${o}`)}this.channels.delete(e)}}transportMessage(e,r,n){let i=this.channels.get(e);if(!i)throw new Error(`Channel not found: ${e}`);r.type==="user"&&i.in.enqueue(r),n&&i.in.done()}async shutdown(){await this.closeAllChannels(),this.fromClientStream.done()}async closeAllChannels(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!1));await Promise.all(e),this.channels.clear()}async closeAllChannelsWithCredentialChange(){this.invalidateConfigCache();let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!0));await Promise.all(e),this.channels.clear()}invalidateConfigCache(){this.config=void 0}loadConfig(){if(this.config)return this.config;this.logger.log("Loading config cache by launching Claude...");let e=(async()=>{let r=new Va,n=await this.spawnClaude(r,void 0,async()=>({behavior:"deny",message:"Config loading only"}),"default",this.cwd,"default",!1,0,void 0);r.done();let i={slashCommands:await n.supportedCommands(),models:await n.supportedModels(),accountInfo:await n.accountInfo()};return n.return(),i})().catch(r=>{throw this.logger.error(`Failed to load config cache: ${r}`),this.config=void 0,r});return this.config=e,e}async getMcpServers(e){let r=e?this.channels.get(e):void 0;if(!r)throw new Error(`Channel not found: ${e}`);try{return{type:"get_mcp_servers_response",mcpServers:(await r.query.mcpServerStatus()).filter(i=>i.name!=="claude-vscode")}}catch(n){return this.logger.error(`Error fetching MCP servers: ${n}`),{type:"get_mcp_servers_response",mcpServers:[]}}}async setMcpServerEnabled(e,r,n){let i=this.channels.get(e);if(!i)return{type:"set_mcp_server_enabled_response",success:!1,error:`Channel not found: ${e}`};try{return this.logger.log(`[MCP Management] ${n?"Enabling":"Disabling"} server: ${r}`),await i.query.toggleMcpServer(r,n),{type:"set_mcp_server_enabled_response",success:!0}}catch(o){return this.logger.error(`Error setting MCP server enabled state: ${o}`),{type:"set_mcp_server_enabled_response",success:!1,error:o instanceof Error?o.message:String(o)}}}async reconnectMcpServer(e,r){let n=this.channels.get(e);if(!n)return{type:"reconnect_mcp_server_response",success:!1,error:`Channel not found: ${e}`};try{return this.logger.log(`[MCP Management] Reconnecting server: ${r}`),await n.query.reconnectMcpServer(r),{type:"reconnect_mcp_server_response",success:!0}}catch(i){return this.logger.error(`Error reconnecting MCP server: ${i}`),{type:"reconnect_mcp_server_response",success:!1,error:i instanceof Error?i.message:String(i)}}}async ensureChromeMcpEnabled(e){let r=this.channels.get(e);if(!r)throw new Error(`Channel not found: ${e}`);let n=r.chromeMcpState.status==="disconnected";r.chromeMcpState={status:"connecting"},await this.pushChannelStateUpdate(e);try{let i=this.getChromeMcpServerConfig(),o={...r.mcpServers,"claude-in-chrome":i},s=await r.query.setMcpServers(o);if(s.errors&&Object.keys(s.errors).length>0){let a=Object.entries(s.errors).map(([c,l])=>`${c}: ${l}`).join(", ");throw new Error(a)}return r.mcpServers=o,r.chromeMcpState={status:"connected"},await this.pushChannelStateUpdate(e),{type:"ensure_chrome_mcp_enabled_response",wasDisabled:n}}catch(i){let o=i instanceof Error?i.message:"Unknown error";throw r.chromeMcpState={status:"error",error:o},await this.pushChannelStateUpdate(e),i}}async disableChromeMcp(e){let r=this.channels.get(e);if(!r)throw new Error(`Channel not found: ${e}`);let n=r.chromeMcpState.status==="connected",{"claude-in-chrome":i,...o}=r.mcpServers;if(await r.query.setMcpServers(o),r.mcpServers=o,r.chromeMcpState={status:"disconnected"},await this.pushChannelStateUpdate(e),n){let s={type:"user",session_id:"",parent_tool_use_id:null,isSynthetic:!0,message:{role:"user",content:"[Browser disconnected: The browser connection has been closed. Browser tools are no longer available.]"}};r.in.enqueue(s)}return{type:"disable_chrome_mcp_response",wasEnabled:n}}async createNewBrowserTab(){throw new Error("createNewBrowserTab must be implemented by subclass")}getChromeMcpServerConfig(){throw new Error("getChromeMcpServerConfig must be implemented by subclass")}async askDebuggerHelp(e){throw new Error("askDebuggerHelp must be implemented by subclass")}getAdditionalMcpServers(){return{}}getInitialDebuggerState(){return{status:"inactive"}}getInitialJupyterState(){return{status:"inactive"}}async enableJupyterMcp(e){throw new Error("enableJupyterMcp must be implemented by subclass")}async disableJupyterMcp(e){throw new Error("disableJupyterMcp must be implemented by subclass")}async handleRequest(e){let r=new AbortController;try{this.abortControllers.set(e.requestId,r);let n=await this.processRequest(e,r.signal);this.send({type:"response",requestId:e.requestId,response:n})}catch(n){this.logger.error(`Error processing client request: ${n}`),this.send({type:"response",requestId:e.requestId,response:{type:"error",error:n instanceof Error?n.message:String(n)}})}finally{this.abortControllers.delete(e.requestId)}}async processRequest(e,r){switch(e.request.type){case"init":{let n=this.authManager?.getAuthStatus(),i=e.channelId?this.channels.get(e.channelId):void 0;return{type:"init_response",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,showTerminalBanner:this.showTerminalBanner,showReviewUpsellBanner:this.showReviewUpsellBanner||!1,isOnboardingEnabled:this.experimentGates.tengu_vscode_onboarding||!1,isOnboardingDismissed:this.getIsOnboardingDismissed(),authStatus:n,modelSetting:this.settings.getModel(),thinkingLevel:this.settings.getThinkingLevel(),initialPermissionMode:this.settings.getInitialPermissionMode(),allowDangerouslySkipPermissions:this.settings.getAllowDangerouslySkipPermissions(),platform:this.getPlatform(),speechToTextEnabled:this.isSpeechToTextEnabled(),marketplaceType:this.getMarketplaceType(),useCtrlEnterToSend:this.settings.getUseCtrlEnterToSend(),chromeMcpState:i?.chromeMcpState??{status:"disconnected"},browserIntegrationSupported:this.isBrowserIntegrationSupported(),debuggerMcpState:i?.debuggerMcpState??this.getInitialDebuggerState(),jupyterMcpState:i?.jupyterMcpState??this.getInitialJupyterState(),spinnerVerbsConfig:this.settings.getSpinnerVerbsConfig()}}}case"get_claude_state":return{type:"get_claude_state_response",config:await this.loadConfig()};case"get_mcp_servers":return await this.getMcpServers(e.channelId);case"set_mcp_server_enabled":{if(!e.channelId)throw new Error("channelId is required for set_mcp_server_enabled");return await this.setMcpServerEnabled(e.channelId,e.request.serverName,e.request.enabled)}case"reconnect_mcp_server":{if(!e.channelId)throw new Error("channelId is required for reconnect_mcp_server");return await this.reconnectMcpServer(e.channelId,e.request.serverName)}case"ensure_chrome_mcp_enabled":{if(!e.channelId)throw new Error("channelId is required for ensure_chrome_mcp_enabled");return await this.ensureChromeMcpEnabled(e.channelId)}case"disable_chrome_mcp":{if(!e.channelId)throw new Error("channelId is required for disable_chrome_mcp");return await this.disableChromeMcp(e.channelId)}case"ask_debugger_help":{if(!e.channelId)throw new Error("channelId is required for ask_debugger_help");return await this.askDebuggerHelp(e.channelId)}case"enable_jupyter_mcp":{if(!e.channelId)throw new Error("channelId is required for enable_jupyter_mcp");return await this.enableJupyterMcp(e.channelId)}case"disable_jupyter_mcp":{if(!e.channelId)throw new Error("channelId is required for disable_jupyter_mcp");return await this.disableJupyterMcp(e.channelId)}case"create_new_browser_tab":return await this.createNewBrowserTab();case"list_sessions_request":return this.listSessions();case"list_remote_sessions":return this.listRemoteSessions();case"teleport_session":return this.teleportSession(e.request.sessionId);case"open_file":return this.openFile(e.request.filePath,e.request.location),{type:"open_file_response"};case"get_session_request":return this.getSession(e.request.sessionId);case"exec":return this.execCommand(e.request.command,e.request.params);case"list_files_request":return{type:"list_files_response",files:await this.findFiles(e.request.pattern)};case"get_terminal_contents":return{type:"get_terminal_contents_response",content:await this.getTerminalContents(e.request.terminalName)};case"open_diff":return this.openDiff(e.request.originalFilePath,e.request.newFilePath,e.request.edits,e.request.supportMultiEdits||!1,r);case"open_content":return this.openContent(e.request.content,e.request.fileName,e.request.editable,r);case"get_asset_uris":return{type:"asset_uris_response",assetUris:this.getAssetUris()};case"open_url":return await this.openURL(e.request.url),{type:"open_url_response"};case"set_permission_mode":return this.setPermissionMode(e.channelId,e.request.mode);case"set_model":return this.setModel(e.channelId,e.request.model);case"set_thinking_level":return this.setThinkingLevel(e.channelId,e.request.thinkingLevel);case"get_auth_status":return{type:"get_auth_status_response",status:this.authManager?.getAuthStatus()};case"login":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{method:n}=e.request,i=await this.authManager.login(n,async o=>{this.send({type:"request",channelId:"",requestId:Wi(),request:{type:"auth_url",url:o.manualRedirectUrl,method:n}});try{await this.openURL(o.automaticRedirectUrl)}catch(s){this.logger.warn(`Failed to open browser: ${s}`)}});return await this.closeAllChannelsWithCredentialChange(),{type:"login_response",auth:i}}case"submit_oauth_code":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{code:n}=e.request;return this.authManager.handleManualAuthCode(n),{type:"submit_oauth_code_response"}}case"open_config_file":return this.openConfigFile(e.request.configType),{type:"open_config_file_response"};case"open_claude_in_terminal":return await this.openClaudeInTerminal(e.request.prompt,e.request.args,e.request.location),{type:"open_claude_in_terminal_response"};case"open_terminal":return await this.openTerminal(e.request.executable,e.request.args,e.request.cwd,e.request.location,e.channelId),{type:"open_terminal_response"};case"show_claude_terminal_setting":return await this.showClaudeTerminalSetting(),{type:"show_claude_terminal_setting_response"};case"dismiss_terminal_banner":return await this.dismissTerminalBanner(),{type:"dismiss_terminal_banner_response"};case"dismiss_review_upsell_banner":return await this.dismissReviewUpsellBanner(e.request.metadata),{type:"dismiss_review_upsell_banner_response"};case"dismiss_onboarding":return await this.dismissOnboarding(e.request.dismissType),{type:"dismiss_onboarding_response"};case"log_event":{let n=e.channelId||"";return this.logEvent(n,e.request.eventName,e.request.eventData),{type:"log_event_response"}}case"open_config":return await this.openConfig(e.request.searchString),{type:"open_config_response"};case"open_help":return await this.openHelp(),{type:"open_help_response"};case"open_output_panel":return await this.openOutputPanel(),{type:"open_output_panel_response"};case"fork_conversation":return{type:"fork_conversation_response",sessionId:await(await wi.load(this.cwd,this.logger)).forkSession(e.request.forkedFromSession,e.request.resumeSessionAt)};case"rewind_code":{let n=e.channelId?this.channels.get(e.channelId):void 0;if(!n)throw new Error(`Channel not found: ${e.channelId}`);return{type:"rewind_code_response",...await n.query.rewindFiles(e.request.userMessageId,{dryRun:e.request.dryRun})}}case"open_file_diffs":return await this.openFileDiffs(e.request.fileDiffs),{type:"open_file_diffs_response"};case"request_usage_update":return await this.handleUsageUpdateRequest(),{type:"request_usage_update_response"};case"list_plugins":return await this.pluginManager.listPlugins(this.cwd,{includeAvailable:e.request.includeAvailable});case"list_marketplaces":return await this.pluginManager.listMarketplaces(this.cwd);case"install_plugin":return await this.pluginManager.installPlugin(e.request.pluginId,e.request.scope,this.cwd);case"uninstall_plugin":return await this.pluginManager.uninstallPlugin(e.request.pluginId,this.cwd);case"set_plugin_enabled":return await this.pluginManager.setPluginEnabled(e.request.pluginId,e.request.enabled,this.cwd);case"add_marketplace":return await this.pluginManager.addMarketplace(e.request.source,this.cwd);case"remove_marketplace":return await this.pluginManager.removeMarketplace(e.request.marketplaceId,this.cwd);case"refresh_marketplace":return await this.pluginManager.refreshMarketplace(e.request.marketplaceId,this.cwd);default:}throw new Error("Unknown request type.")}async loadSessionsFromPath(e,r,n){try{let o=(await(await wi.load(e,this.logger)).fetchSessions()).filter(a=>!a.isSidechain),s=new Map;for(let a of o){let c=s.get(a.id);if(!c)s.set(a.id,{id:a.id,lastModified:a.lastModified,messageCount:a.messageCount,summary:a.summary,worktree:r,isCurrentWorkspace:n,teleportedFromSessionId:a.teleportedFromSessionId});else{let l=a.lastModified>c.lastModified,u=c.summary!=="No prompt",m=a.summary!=="No prompt"&&!u?a.summary:c.summary;s.set(a.id,{id:a.id,lastModified:l?a.lastModified:c.lastModified,messageCount:l?a.messageCount:c.messageCount,summary:m,worktree:r,isCurrentWorkspace:n,teleportedFromSessionId:l?a.teleportedFromSessionId:c.teleportedFromSessionId})}}return[...s.values()]}catch(i){return this.logger.warn(`Failed to load sessions from ${e}: ${i}`),[]}}async listSessions(){let e=[],r=await this.loadSessionsFromPath(this.cwd,void 0,!0);return e.push(...r),kO(e),{type:"list_sessions_response",sessions:e}}async getSession(e){let r=await wi.load(this.cwd,this.logger),n=r.getSessionMessages(e),i=await r.getSessionDiffs(e,this.cwd,n);return{type:"get_session_response",messages:n,sessionDiffs:i}}async listRemoteSessions(){try{return{type:"list_remote_sessions_response",sessions:await this.teleportService.fetchRemoteSessions()}}catch(e){return this.logger.error(`Failed to list remote sessions: ${e}`),{type:"list_remote_sessions_response",sessions:[],error:e instanceof Error?e.message:String(e)}}}async teleportSession(e){this.logger.log(`Teleport started for session ${e}`);let r=Date.now();try{let o=function(u){let d=u.uuid;return u.type==="user"?{type:"user",message:u.message,uuid:d,session_id:u.sessionId,parent_tool_use_id:null}:u.type==="assistant"?{type:"assistant",message:u.message,uuid:d,session_id:u.sessionId,parent_tool_use_id:null}:null};var n=o;let i=await this.teleportService.teleportSession(e);if(!i)return this.logger.error(`Teleport failed for session ${e} after ${Date.now()-r}ms: failed to fetch session`),{type:"teleport_session_response",success:!1,error:"Failed to fetch session"};let s=i.messages.map(o).filter(u=>u!==null),{randomUUID:a}=await import("crypto"),c=a();return await(await wi.load(this.cwd,this.logger)).saveSession(c,s,i.title,e),this.logger.log(`Teleport succeeded for session ${e} in ${Date.now()-r}ms (${s.length} messages)`),{type:"teleport_session_response",success:!0,messages:s,branch:i.branch,localSessionId:c,summary:i.title||void 0}}catch(i){return this.logger.error(`Teleport failed for session ${e} after ${Date.now()-r}ms: ${i}`),{type:"teleport_session_response",success:!1,error:i instanceof Error?i.message:String(i)}}}handleCancellation(e){let r=this.abortControllers.get(e);r&&r.abort()}async execCommand(e,r){let n="",i="",o=(0,xU.spawn)(e,r,{cwd:this.cwd,shell:!1});o.stdout.on("data",a=>{n+=a.toString()}),o.stderr.on("data",a=>{i+=a.toString()});let s=await new Promise(a=>{o.on("close",c=>{a(c??0)}),o.on("error",c=>{i+=c.message,a(1)})});return{type:"exec_response",stdout:n,stderr:i,exitCode:s}}async createSpeechToTextStream(){throw new Error("Speech-to-text is not supported in this environment")}isSpeechToTextEnabled(){return!1}getAssetUris(){return yO()}async setPermissionMode(e,r){let n=e?this.channels.get(e):void 0;if(!n)throw new Error(`Channel not found: ${e}`);try{return await n.query.setPermissionMode(r),{type:"set_permission_mode_response",success:!0}}catch(i){return this.logger.error(`Failed to set permission mode: ${i}`),{type:"set_permission_mode_response",success:!1}}}async setModel(e,r){let n=e?this.channels.get(e):void 0;if(!n)throw new Error(`Channel not found: ${e}`);let i=this.settings.getModel();try{return await this.settings.setModel(r.value),await n.query.setModel(r.value),{type:"set_model_response",success:!0}}catch(o){this.logger.error(`Failed to set model: ${o}`);try{await this.settings.setModel(i)}catch{}return{type:"set_model_response",success:!1,error:o instanceof Error?o.message:String(o)}}}async setThinkingLevel(e,r){let n=e?this.channels.get(e):void 0;if(!n)throw new Error(`Channel not found: ${e}`);let i=this.getMaxThinkingTokensForModel(r);return await n.query.setMaxThinkingTokens(i),await this.settings.setThinkingLevel(r),{type:"set_thinking_level_response"}}getPlatform(){switch(process.platform){case"win32":return"windows";case"darwin":return"macos";default:return"linux"}}isBrowserIntegrationSupported(){return!1}async pushStateUpdate(){let e=await this.loadConfig(),r={type:"request",channelId:"",requestId:Wi(),request:{type:"update_state",state:this.getCurrentState(),config:e}};this.send(r)}getCurrentState(){let e=this.authManager?.getAuthStatus();return{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,showTerminalBanner:this.showTerminalBanner,showReviewUpsellBanner:this.showReviewUpsellBanner??!1,isOnboardingEnabled:this.experimentGates.tengu_vscode_onboarding??!1,isOnboardingDismissed:this.getIsOnboardingDismissed(),authStatus:e,modelSetting:this.settings.getModel(),thinkingLevel:this.settings.getThinkingLevel(),allowDangerouslySkipPermissions:this.settings.getAllowDangerouslySkipPermissions(),initialPermissionMode:this.settings.getInitialPermissionMode(),platform:this.getPlatform(),speechToTextEnabled:this.isSpeechToTextEnabled(),marketplaceType:this.getMarketplaceType(),useCtrlEnterToSend:this.settings.getUseCtrlEnterToSend(),chromeMcpState:{status:"disconnected"},browserIntegrationSupported:this.isBrowserIntegrationSupported(),debuggerMcpState:{status:"inactive"},jupyterMcpState:{status:"inactive"},spinnerVerbsConfig:this.settings.getSpinnerVerbsConfig()}}async pushChannelStateUpdate(e){let r=this.channels.get(e);if(!r)return;let n=await this.loadConfig(),i=this.getCurrentState();i.chromeMcpState=r.chromeMcpState,i.debuggerMcpState=r.debuggerMcpState,i.jupyterMcpState=r.jupyterMcpState;let o={type:"request",channelId:e,requestId:Wi(),request:{type:"update_state",state:i,config:n}};this.send(o)}async handleUsageUpdateRequest(){await this.onUsageUpdateRequested()}async onUsageUpdateRequested(){let{utilization:e,error:r}=await this.fetchUsageData();this.sendUsageUpdate(e,r)}async fetchUsageData(){try{return{utilization:await fM(this.authManager,this.logger)}}catch(e){return{error:e instanceof Error?e.message:String(e)}}}sendUsageUpdate(e,r){let n={type:"request",channelId:"",requestId:Wi(),request:{type:"usage_update",utilization:e,error:r}};this.send(n)}async generateAndPushProactiveSuggestions(e){if(process.env.CLAUDE_PROACTIVE_SUGGESTIONS==="true")try{let{pathToClaudeCodeExecutable:r,executableArgs:n,env:i}=this.getClaudeBinary(),o=await y1({cwd:this.cwd,logger:this.logger,pathToClaudeCodeExecutable:r,executableArgs:n,env:i});if(o.suggestions.length>0){let s={type:"request",channelId:e,requestId:Wi(),request:{type:"proactive_suggestions_update",suggestions:o.suggestions}};this.send(s)}}catch(r){this.logger.warn(`Failed to generate proactive suggestions: ${r}`)}}getMaxThinkingTokensForModel(e){return e==="off"?0:31999}};var ce=J(require("vscode"),1);var $n=J(require("vscode"),1),Qc=require("fs"),B0=require("os"),Ah=require("path"),Nh=require("child_process");var kn=J(require("vscode"),1),Oh=class{constructor(e){this.context=e}getModel(){let e=vr("selectedModel");return e||"default"}async setModel(e){await kn.workspace.getConfiguration("claudeCode").update("selectedModel",e,kn.ConfigurationTarget.Global)}getThinkingLevel(){let e=this.context.globalState.get("thinkingLevel");return e||"default_on"}async setThinkingLevel(e){this.context.globalState.update("thinkingLevel",e)}getInitialPermissionMode(){let r=vr("initialPermissionMode")||"default";return r==="bypassPermissions"&&!this.getAllowDangerouslySkipPermissions()?"default":r}getAllowDangerouslySkipPermissions(){return vr("allowDangerouslySkipPermissions")||!1}getUseCtrlEnterToSend(){return vr("useCtrlEnterToSend")||!1}getHideOnboarding(){return vr("hideOnboarding")||!1}async setHideOnboarding(e){await kn.workspace.getConfiguration("claudeCode").update("hideOnboarding",e,kn.ConfigurationTarget.Global)}getSpinnerVerbsConfig(){return vr("spinnerVerbs")}getPreferredLocation(){return vr("preferredLocation")==="sidebar"?"sidebar":"panel"}async setPreferredLocation(e){await kn.workspace.getConfiguration("claudeCode").update("preferredLocation",e,kn.ConfigurationTarget.Global)}migrateAllSettings(){this.migrateOldConfigSettings(),this.migrateLastClaudeLocation()}migrateOldConfigSettings(){if(this.context.globalState.get("settingsMigrated20251024"))return;let e=kn.workspace.getConfiguration("claude-code"),r=kn.workspace.getConfiguration("claudeCode"),n=["selectedModel","environmentVariables","useTerminal","allowDangerouslySkipPermissions","claudeProcessWrapper","respectGitIgnore"];for(let i of n){let o=e.get(i);o!==void 0&&(r.update(i,o,kn.ConfigurationTarget.Global),e.update(i,void 0,kn.ConfigurationTarget.Global))}this.context.globalState.update("settingsMigrated20251024",!0)}migrateLastClaudeLocation(){if(this.context.globalState.get("lastClaudeLocationMigrated"))return;let e=this.context.globalState.get("lastClaudeLocation");if(e!==void 0){let r=e===0?"sidebar":"panel";this.setPreferredLocation(r)}this.context.globalState.update("lastClaudeLocationMigrated",!0)}};function vr(t){return kn.workspace.getConfiguration("claudeCode").get(t)}function Hce(t){let e=t.trim();return e?/[*?{}[\]]/.test(e)?e:`**/*${e.split("").map(n=>{if(/[a-zA-Z]/.test(n)){let i=n.toLowerCase(),o=n.toUpperCase();return`[${i}${o}]`}return n}).join("")}*`:"**/*"}var SU=`{${["**/node_modules/**","**/.git/**","**/dist/**","**/build/**","**/.next/**","**/.nuxt/**","**/.DS_Store","**/Thumbs.db","**/*.log","**/.env","**/.env.*","**/yarn-error.log","**/npm-debug.log*"].join(",")}}`;async function V0(t){let e=t?Hce(t):"**/*",r=await kU(),n=100,i;try{i=await $n.workspace.findFiles(e,r,n)}catch{i=await $n.workspace.findFiles(e,SU,n)}let o=[];try{let s=[];for(let l of i){let u=$n.workspace.asRelativePath(l).replaceAll("\\","/"),d=l.path.split("/").pop()||"";o.push({path:u,name:d,type:"file"}),s.push(u)}let a=new Set;for(let l of s){let u=l.indexOf("/");for(;u!==-1;)a.add(l.substring(0,u)),u=l.indexOf("/",u+1)}let c=t?.toLowerCase();for(let l of a)(!c||l.toLowerCase().includes(c))&&o.push({path:l+"/",name:l.split("/").pop()||"",type:"directory"});o.sort((l,u)=>l.path.localeCompare(u.path))}catch{}return o}async function kU(){let t=[];try{let n=$n.workspace.getConfiguration("search"),i=$n.workspace.getConfiguration("files"),o=n.get("exclude")||{},s=i.get("exclude")||{};for(let[l,u]of Object.entries(o))u&&typeof l=="string"&&t.push(l);for(let[l,u]of Object.entries(s))u&&typeof l=="string"&&t.push(l);let a=n.get("useIgnoreFiles",!0),c=vr("respectGitIgnore")??!0;if(a&&c){let l=$n.workspace.workspaceFolders;if(l)for(let u of l){let d=Gce(u.uri.fsPath);t.push(...d)}}}catch{}let e=t.filter(n=>typeof n=="string"&&n.length>0);return e.length===0?SU:e.length===1?e[0]:`{${e.join(",")}}`}var Wce=ir(()=>{try{let t=(0,Nh.execFileSync)("git",["config","--global","core.excludesFile"],{encoding:"utf8",timeout:2e3}).trim();if(t)return t.startsWith("~/")?(0,Ah.join)((0,B0.homedir)(),t.slice(2)):t}catch{}return(0,Ah.join)((0,B0.homedir)(),".config","git","ignore")});function Gce(t){let e=[];try{let r=(0,Ah.join)(t,".gitignore");if((0,Qc.existsSync)(r)){let i=(0,Qc.readFileSync)(r,"utf8");e.push(...wU(i))}let n=Wce();if(n&&(0,Qc.existsSync)(n)){let i=(0,Qc.readFileSync)(n,"utf8");e.push(...wU(i))}}catch{}return e}function wU(t){let e=[];for(let r of t.split(`
`)){let n=r.trim();if(!n||n.startsWith("#")||n.startsWith("!"))continue;let i=n;i.endsWith("/")&&(i=i.slice(0,-1)+"/**"),i.startsWith("/")?i=i.slice(1):i="**/"+i,e.includes(i)||e.push(i)}return e}async function Jce(t){if(t.scheme==="comment"||t.scheme==="output")return!0;try{let e=$n.workspace.getWorkspaceFolder(t);if(!e)return!1;let r=$n.workspace.asRelativePath(t,!1),n=await kU();if((await $n.workspace.findFiles(new $n.RelativePattern(e,r),n,1)).length===0)return!0;let o=vr("respectGitIgnore")??!0;return!!($n.workspace.getConfiguration("search").get("useIgnoreFiles",!0)&&o&&await new Promise(l=>{(0,Nh.execFile)("git",["check-ignore",t.fsPath],{cwd:e.uri.fsPath},(u,d)=>{l(!u&&!!d)})}))}catch{return!1}}var jh=ir(Jce,t=>t.fsPath);var cS=J(require("vscode"),1),Qo=J(require("path"),1);function po(t){return Array.isArray?Array.isArray(t):OU(t)==="[object Array]"}var Kce=1/0;function Yce(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Kce?"-0":e}function Qce(t){return t==null?"":Yce(t)}function Ai(t){return typeof t=="string"}function IU(t){return typeof t=="number"}function Xce(t){return t===!0||t===!1||ele(t)&&OU(t)=="[object Boolean]"}function RU(t){return typeof t=="object"}function ele(t){return RU(t)&&t!==null}function En(t){return t!=null}function H0(t){return!t.trim().length}function OU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var tle="Incorrect 'index' type",rle=t=>`Invalid value for key ${t}`,nle=t=>`Pattern length exceeds max of ${t}.`,ile=t=>`Missing ${t} property in key`,ole=t=>`Property 'weight' in key '${t}' must be a positive integer`,$U=Object.prototype.hasOwnProperty,W0=class{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=AU(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function AU(t){let e=null,r=null,n=null,i=1,o=null;if(Ai(t)||po(t))n=t,e=EU(t),r=G0(t);else{if(!$U.call(t,"name"))throw new Error(ile("name"));let s=t.name;if(n=s,$U.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(ole(s));e=EU(s),r=G0(s),o=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:o}}function EU(t){return po(t)?t:t.split(".")}function G0(t){return po(t)?t.join("."):t}function sle(t,e){let r=[],n=!1,i=(o,s,a)=>{if(En(o))if(!s[a])r.push(o);else{let c=s[a],l=o[c];if(!En(l))return;if(a===s.length-1&&(Ai(l)||IU(l)||Xce(l)))r.push(Qce(l));else if(po(l)){n=!0;for(let u=0,d=l.length;u<d;u+=1)i(l[u],s,a+1)}else s.length&&i(l,s,a+1)}};return i(t,Ai(e)?e.split("."):e,0),n?r:r[0]}var ale={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},cle={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},lle={location:0,threshold:.6,distance:100},ule={useExtendedSearch:!1,getFn:sle,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},Ve={...cle,...ale,...lle,...ule},dle=/[^ ]+/g;function ple(t=1,e=3){let r=new Map,n=Math.pow(10,e);return{get(i){let o=i.match(dle).length;if(r.has(o))return r.get(o);let s=1/Math.pow(o,.5*t),a=parseFloat(Math.round(s*n)/n);return r.set(o,a),a},clear(){r.clear()}}}var yd=class{constructor({getFn:e=Ve.getFn,fieldNormWeight:r=Ve.fieldNormWeight}={}){this.norm=ple(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ai(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();Ai(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!En(e)||H0(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(e):this.getFn(e,i.path);if(En(s)){if(po(s)){let a=[],c=[{nestedArrIndex:-1,value:s}];for(;c.length;){let{nestedArrIndex:l,value:u}=c.pop();if(En(u))if(Ai(u)&&!H0(u)){let d={v:u,i:l,n:this.norm.get(u)};a.push(d)}else po(u)&&u.forEach((d,m)=>{c.push({nestedArrIndex:m,value:d})})}n.$[o]=a}else if(Ai(s)&&!H0(s)){let a={v:s,n:this.norm.get(s)};n.$[o]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function NU(t,e,{getFn:r=Ve.getFn,fieldNormWeight:n=Ve.fieldNormWeight}={}){let i=new yd({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(AU)),i.setSources(e),i.create(),i}function fle(t,{getFn:e=Ve.getFn,fieldNormWeight:r=Ve.fieldNormWeight}={}){let{keys:n,records:i}=t,o=new yd({getFn:e,fieldNormWeight:r});return o.setKeys(n),o.setIndexRecords(i),o}function Dh(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Ve.distance,ignoreLocation:o=Ve.ignoreLocation}={}){let s=e/t.length;if(o)return s;let a=Math.abs(n-r);return i?s+a/i:a?1:s}function mle(t=[],e=Ve.minMatchCharLength){let r=[],n=-1,i=-1,o=0;for(let s=t.length;o<s;o+=1){let a=t[o];a&&n===-1?n=o:!a&&n!==-1&&(i=o-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[o-1]&&o-n>=e&&r.push([n,o-1]),r}var la=32;function hle(t,e,r,{location:n=Ve.location,distance:i=Ve.distance,threshold:o=Ve.threshold,findAllMatches:s=Ve.findAllMatches,minMatchCharLength:a=Ve.minMatchCharLength,includeMatches:c=Ve.includeMatches,ignoreLocation:l=Ve.ignoreLocation}={}){if(e.length>la)throw new Error(nle(la));let u=e.length,d=t.length,m=Math.max(0,Math.min(n,d)),p=o,f=m,v=a>1||c,g=v?Array(d):[],h;for(;(h=t.indexOf(e,f))>-1;){let S=Dh(e,{currentLocation:h,expectedLocation:m,distance:i,ignoreLocation:l});if(p=Math.min(S,p),f=h+u,v){let $=0;for(;$<u;)g[h+$]=1,$+=1}}f=-1;let b=[],y=1,_=u+d,x=1<<u-1;for(let S=0;S<u;S+=1){let $=0,E=_;for(;$<E;)Dh(e,{errors:S,currentLocation:m+E,expectedLocation:m,distance:i,ignoreLocation:l})<=p?$=E:_=E,E=Math.floor((_-$)/2+$);_=E;let N=Math.max(1,m-E+1),P=s?d:Math.min(m+E,d)+u,z=Array(P+2);z[P+1]=(1<<S)-1;for(let H=P;H>=N;H-=1){let re=H-1,Pe=r[t.charAt(re)];if(v&&(g[re]=+!!Pe),z[H]=(z[H+1]<<1|1)&Pe,S&&(z[H]|=(b[H+1]|b[H])<<1|1|b[H+1]),z[H]&x&&(y=Dh(e,{errors:S,currentLocation:re,expectedLocation:m,distance:i,ignoreLocation:l}),y<=p)){if(p=y,f=re,f<=m)break;N=Math.max(1,2*m-f)}}if(Dh(e,{errors:S+1,currentLocation:m,expectedLocation:m,distance:i,ignoreLocation:l})>p)break;b=z}let w={isMatch:f>=0,score:Math.max(.001,y)};if(v){let S=mle(g,a);S.length?c&&(w.indices=S):w.isMatch=!1}return w}function gle(t){let e={};for(let r=0,n=t.length;r<n;r+=1){let i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}var zh=class{constructor(e,{location:r=Ve.location,threshold:n=Ve.threshold,distance:i=Ve.distance,includeMatches:o=Ve.includeMatches,findAllMatches:s=Ve.findAllMatches,minMatchCharLength:a=Ve.minMatchCharLength,isCaseSensitive:c=Ve.isCaseSensitive,ignoreLocation:l=Ve.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:l},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let u=(m,p)=>{this.chunks.push({pattern:m,alphabet:gle(m),startIndex:p})},d=this.pattern.length;if(d>la){let m=0,p=d%la,f=d-p;for(;m<f;)u(this.pattern.substr(m,la),m),m+=la;if(p){let v=d-la;u(this.pattern.substr(v),v)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let f={isMatch:!0,score:0};return n&&(f.indices=[[0,e.length-1]]),f}let{location:i,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:c,ignoreLocation:l}=this.options,u=[],d=0,m=!1;this.chunks.forEach(({pattern:f,alphabet:v,startIndex:g})=>{let{isMatch:h,score:b,indices:y}=hle(e,f,v,{location:i+g,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:c,includeMatches:n,ignoreLocation:l});h&&(m=!0),d+=b,h&&y&&(u=[...u,...y])});let p={isMatch:m,score:m?d/this.chunks.length:1};return m&&n&&(p.indices=u),p}},Ni=class{constructor(e){this.pattern=e}static isMultiMatch(e){return TU(e,this.multiRegex)}static isSingleMatch(e){return TU(e,this.singleRegex)}search(){}};function TU(t,e){let r=t.match(e);return r?r[1]:null}var J0=class extends Ni{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},K0=class extends Ni{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},Y0=class extends Ni{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Q0=class extends Ni{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},X0=class extends Ni{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},eS=class extends Ni{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},Mh=class extends Ni{constructor(e,{location:r=Ve.location,threshold:n=Ve.threshold,distance:i=Ve.distance,includeMatches:o=Ve.includeMatches,findAllMatches:s=Ve.findAllMatches,minMatchCharLength:a=Ve.minMatchCharLength,isCaseSensitive:c=Ve.isCaseSensitive,ignoreLocation:l=Ve.ignoreLocation}={}){super(e),this._bitapSearch=new zh(e,{location:r,threshold:n,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Uh=class extends Ni{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n,i=[],o=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+o,i.push([n,r-1]);let s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}},tS=[J0,Uh,Y0,Q0,eS,X0,K0,Mh],CU=tS.length,vle=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,yle="|";function ble(t,e={}){return t.split(yle).map(r=>{let n=r.trim().split(vle).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=n.length;o<s;o+=1){let a=n[o],c=!1,l=-1;for(;!c&&++l<CU;){let u=tS[l],d=u.isMultiMatch(a);d&&(i.push(new u(d,e)),c=!0)}if(!c)for(l=-1;++l<CU;){let u=tS[l],d=u.isSingleMatch(a);if(d){i.push(new u(d,e));break}}}return i})}var _le=new Set([Mh.type,Uh.type]),rS=class{constructor(e,{isCaseSensitive:r=Ve.isCaseSensitive,includeMatches:n=Ve.includeMatches,minMatchCharLength:i=Ve.minMatchCharLength,ignoreLocation:o=Ve.ignoreLocation,findAllMatches:s=Ve.findAllMatches,location:a=Ve.location,threshold:c=Ve.threshold,distance:l=Ve.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:a,threshold:c,distance:l},this.pattern=r?e:e.toLowerCase(),this.query=ble(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,s=[],a=0;for(let c=0,l=r.length;c<l;c+=1){let u=r[c];s.length=0,o=0;for(let d=0,m=u.length;d<m;d+=1){let p=u[d],{isMatch:f,indices:v,score:g}=p.search(e);if(f){if(o+=1,a+=g,n){let h=p.constructor.type;_le.has(h)?s=[...s,...v]:s.push(v)}}else{a=0,o=0,s.length=0;break}}if(o){let d={isMatch:!0,score:a/o};return n&&(d.indices=s),d}}return{isMatch:!1,score:1}}},nS=[];function xle(...t){nS.push(...t)}function iS(t,e){for(let r=0,n=nS.length;r<n;r+=1){let i=nS[r];if(i.condition(t,e))return new i(t,e)}return new zh(t,e)}var Lh={AND:"$and",OR:"$or"},oS={PATH:"$path",PATTERN:"$val"},sS=t=>!!(t[Lh.AND]||t[Lh.OR]),wle=t=>!!t[oS.PATH],Sle=t=>!po(t)&&RU(t)&&!sS(t),PU=t=>({[Lh.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function jU(t,e,{auto:r=!0}={}){let n=i=>{let o=Object.keys(i),s=wle(i);if(!s&&o.length>1&&!sS(i))return n(PU(i));if(Sle(i)){let c=s?i[oS.PATH]:o[0],l=s?i[oS.PATTERN]:i[c];if(!Ai(l))throw new Error(rle(c));let u={keyId:G0(c),pattern:l};return r&&(u.searcher=iS(l,e)),u}let a={children:[],operator:o[0]};return o.forEach(c=>{let l=i[c];po(l)&&l.forEach(u=>{a.children.push(n(u))})}),a};return sS(t)||(t=PU(t)),n(t)}function kle(t,{ignoreFieldNorm:e=Ve.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:o,score:s})=>{let a=i?i.weight:null;n*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(e?1:o))}),r.score=n})}function $le(t,e){let r=t.matches;e.matches=[],En(r)&&r.forEach(n=>{if(!En(n.indices)||!n.indices.length)return;let{indices:i,value:o}=n,s={indices:i,value:o};n.key&&(s.key=n.key.src),n.idx>-1&&(s.refIndex=n.idx),e.matches.push(s)})}function Ele(t,e){e.score=t.score}function Tle(t,e,{includeMatches:r=Ve.includeMatches,includeScore:n=Ve.includeScore}={}){let i=[];return r&&i.push($le),n&&i.push(Ele),t.map(o=>{let{idx:s}=o,a={item:e[s],refIndex:s};return i.length&&i.forEach(c=>{c(o,a)}),a})}var fo=class{constructor(e,r={},n){this.options={...Ve,...r},this.options.useExtendedSearch,this._keyStore=new W0(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof yd))throw new Error(tle);this._myIndex=r||NU(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){En(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let n=0,i=this._docs.length;n<i;n+=1){let o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,i-=1,r.push(o))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:n,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:a}=this.options,c=Ai(e)?Ai(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return kle(c,{ignoreFieldNorm:a}),o&&c.sort(s),IU(r)&&r>-1&&(c=c.slice(0,r)),Tle(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){let r=iS(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:o,i:s,n:a})=>{if(!En(o))return;let{isMatch:c,score:l,indices:u}=r.searchIn(o);c&&i.push({item:o,idx:s,matches:[{score:l,value:o,norm:a,indices:u}]})}),i}_searchLogical(e){let r=jU(e,this.options),n=(a,c,l)=>{if(!a.children){let{keyId:d,searcher:m}=a,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:m});return p&&p.length?[{idx:l,item:c,matches:p}]:[]}let u=[];for(let d=0,m=a.children.length;d<m;d+=1){let p=a.children[d],f=n(p,c,l);if(f.length)u.push(...f);else if(a.operator===Lh.AND)return[]}return u},i=this._myIndex.records,o={},s=[];return i.forEach(({$:a,i:c})=>{if(En(a)){let l=n(r,a,c);l.length&&(o[c]||(o[c]={idx:c,item:a,matches:[]},s.push(o[c])),l.forEach(({matches:u})=>{o[c].matches.push(...u)}))}}),s}_searchObjectList(e){let r=iS(e,this.options),{keys:n,records:i}=this._myIndex,o=[];return i.forEach(({$:s,i:a})=>{if(!En(s))return;let c=[];n.forEach((l,u)=>{c.push(...this._findMatches({key:l,value:s[u],searcher:r}))}),c.length&&o.push({idx:a,item:s,matches:c})}),o}_findMatches({key:e,value:r,searcher:n}){if(!En(r))return[];let i=[];if(po(r))r.forEach(({v:o,i:s,n:a})=>{if(!En(o))return;let{isMatch:c,score:l,indices:u}=n.searchIn(o);c&&i.push({score:l,key:e,value:o,idx:s,norm:a,indices:u})});else{let{v:o,n:s}=r,{isMatch:a,score:c,indices:l}=n.searchIn(o);a&&i.push({score:c,key:e,value:o,norm:s,indices:l})}return i}};fo.version="7.0.0";fo.createIndex=NU;fo.parseIndex=fle;fo.config=Ve;fo.parseQuery=jU;xle(rS);var Fh=require("child_process");var aS=100,Cle=2e7,Ple=1e4,Ile=ir(()=>{if(!process.env.USE_BUILTIN_RIPGREP||process.env.USE_BUILTIN_RIPGREP==="0"||process.env.USE_BUILTIN_RIPGREP==="false"){let i=process.platform==="win32"?"rg.exe":"rg";try{return(0,Fh.execFileSync)(i,["--version"],{stdio:"ignore"}),{mode:"system",command:i,args:[]}}catch{}}let e=Qo.resolve(__dirname,"..","..","..",".."),r=Qo.resolve(e,"vendor","ripgrep");return{mode:"builtin",command:process.platform==="win32"?Qo.resolve(r,"x64-win32","rg.exe"):Qo.resolve(r,`${process.arch}-${process.platform}`,"rg"),args:[]}});function Rle(){let t=Ile();return{rgPath:t.command,rgArgs:t.args}}async function Ole(t,e){return new Promise((r,n)=>{let{rgPath:i,rgArgs:o}=Rle();(0,Fh.execFile)(i,[...o,...t],{cwd:e,maxBuffer:Cle,timeout:Ple},(s,a)=>{if(!s){r(a.trim().split(`
`).filter(Boolean));return}if("code"in s&&s.code===1){r([]);return}let c=a&&a.trim().length>0,l="signal"in s&&s.signal==="SIGTERM"||"code"in s&&s.code==="ABORT_ERR",u="code"in s&&s.code==="ERR_CHILD_PROCESS_STDIO_MAXBUFFER";if((l||u)&&c){let d=a.trim().split(`
`).filter(Boolean);r(d.length>0?d.slice(0,-1):[]);return}n(s)})})}function DU(t){return t.replaceAll("\\","/")}function Ale(t,e){if(!e){let a=new Set;for(let c of t){let l=c.split("/")[0];if(l&&(a.add(l),a.size>=aS))break}return[...a].sort().map(c=>{let l=t.some(u=>u.startsWith(c+"/"));return{path:l?c+"/":c,filename:Qo.basename(c),isDirectory:l}})}let r=DU(e),n=t.map(a=>({path:a,filename:Qo.basename(a),testPenalty:a.includes("test")?1:0})),i=r.lastIndexOf("/");i>2&&(n=n.filter(a=>a.path.substring(0,i).startsWith(r.substring(0,i))));let s=new fo(n,{includeScore:!0,threshold:.5,keys:[{name:"path",weight:1},{name:"filename",weight:2}]}).search(r,{limit:aS});return s=s.sort((a,c)=>a.score===void 0||c.score===void 0?0:Math.abs(a.score-c.score)>.05?a.score-c.score:a.item.testPenalty-c.item.testPenalty),s.map(a=>({path:a.item.path,filename:a.item.filename,isDirectory:a.item.path.endsWith("/")})).slice(0,aS)}async function zU(t,e,r){try{let n=["--files","--follow","--hidden"];(vr("respectGitIgnore")??!0)||n.push("--no-ignore-vcs");try{let u=cS.workspace.getConfiguration("search"),d=cS.workspace.getConfiguration("files"),m=u.get("exclude")||{},p=d.get("exclude")||{};for(let[f,v]of Object.entries(m))v&&n.push("--glob",`!${f}`);for(let[f,v]of Object.entries(p))v&&!m[f]&&n.push("--glob",`!${f}`)}catch(u){r.warn("Failed to get VSCode exclude patterns",u)}let o=await Ole(n,e),s=process.platform==="win32"?o.map(DU):o,c=[...Nle(s),...s];return Ale(c,t).map(u=>({path:u.path,name:u.filename,type:u.isDirectory?"directory":"file"}))}catch(n){throw r.error("Ripgrep search failed",n),n}}function Nle(t){let e=new Set;for(let r of t){let n=r.indexOf("/");for(;n!==-1;)e.add(r.substring(0,n)),n=r.indexOf("/",n+1)}return[...e].map(r=>r+"/")}var Ur=require("path"),eC=J(pS(),1),z6=require("os");var es=J(require("vscode"),1);var Xo=J(require("vscode"),1);function Xc(){return Xo.window.tabGroups.all.flatMap(t=>t.tabs)}function el(t,e){return new Promise((r,n)=>{let i,o=setInterval(()=>{let s=t();s&&(clearInterval(o),i&&clearTimeout(i),r(s))},100);e&&(i=setTimeout(()=>{clearInterval(o),n(new Error(`Timeout waiting after ${e}ms`))},e))})}async function da(t,e){if(!t)return;let r=t.input;if(r instanceof Xo.TabInputTextDiff)try{let n=await Xo.workspace.openTextDocument(r.modified);if(n.isDirty){let i=new Promise(o=>{let s=Xo.workspace.onDidSaveTextDocument(a=>{a.uri.toString()===n.uri.toString()&&(s.dispose(),o())});setTimeout(()=>{s.dispose(),o()},2e3)});await n.save(),await i}}catch(n){e.error("Error saving modified file:",n)}try{await Xo.window.tabGroups.close(t)}catch{}}async function WU(t,e,r,n,i,o,s){let a=[],l=`${i||"Claude Code"} (${Math.random().toString(36).substring(2,8)})`,u=[],d;if(o){let f=`/temp/${l}`,g=r.createFile(f,n).uri;d=await es.workspace.openTextDocument(g),t.info("Editable uri: ",g.toString());let h=new Promise(y=>{a.push(es.workspace.onWillSaveTextDocument(_=>{if(_.document.uri.toString()===g.toString()){let x=_.document.getText();y(x)}}))});es.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),u.push(h)):t.info("files.autoSave is on, cannot save to exit");let b={preview:!1,preserveFocus:!0};await es.window.showTextDocument(d,b)}else{let f=`/temp/readonly/${l}`,v=e.createFile(f,n);d=await es.workspace.openTextDocument(v),await es.window.showTextDocument(d,{preview:!0})}let m=await el(()=>Xc().find(f=>f.label===l),1e3);s?.addEventListener("abort",()=>{da(m,t)});let p=el(()=>!Xc().some(f=>f.label===l)).then(()=>{if(t.info("Tab closed",l),o)return d.getText()});return u.push(p),await Promise.race(u).finally(()=>{a.forEach(f=>f.dispose())}).then(f=>(t.info("File save operation completed",f),f)).finally(()=>{da(m,t)})}var qh=J(require("vscode"),1),rs=J(require("path"),1),ts;async function Zle(){if(ts===null)return;if(ts)return ts;let t=qh.extensions.getExtension("ms-python.python");if(!t){ts=null;return}try{if(t.isActive||await t.activate(),!t.exports?.environments){console.warn("Python extension environments API not available"),ts=null;return}return ts=t.exports,ts}catch(e){console.warn("Failed to get Python extension API:",e),ts=null;return}}async function GU(t){let e=await Zle();if(!e)return t;let r=qh.workspace.workspaceFolders?.[0];if(!r)return t;try{let n=e.environments.getActiveEnvironmentPath(r.uri);if(!n?.path)return t;let i=await e.environments.resolveEnvironment(n);if(!i)return t;let o=i.executable?.sysPrefix||(i.executable?.uri?rs.dirname(rs.dirname(i.executable.uri.fsPath)):void 0);if(!o)return t;let s={...t};s.VIRTUAL_ENV=o;let a=process.platform==="win32"?rs.join(o,"Scripts"):rs.join(o,"bin"),c=s.PATH||process.env.PATH||"";return s.PATH=`${a}${rs.delimiter}${c}`,console.log(`Python environment activated: VIRTUAL_ENV=${o}`),s}catch(n){return console.warn("Failed to get Python environment variables:",n),t}}var Gt=J(require("vscode"),1),XU=J(require("fs"),1);var bd=class{diff(e,r,n={}){let i;typeof n=="function"?(i=n,n={}):"callback"in n&&(i=n.callback);let o=this.castInput(e,n),s=this.castInput(r,n),a=this.removeEmpty(this.tokenize(o,n)),c=this.removeEmpty(this.tokenize(s,n));return this.diffWithOptionsObj(a,c,n,i)}diffWithOptionsObj(e,r,n,i){var o;let s=b=>{if(b=this.postProcess(b,n),i){setTimeout(function(){i(b)},0);return}else return b},a=r.length,c=e.length,l=1,u=a+c;n.maxEditLength!=null&&(u=Math.min(u,n.maxEditLength));let d=(o=n.timeout)!==null&&o!==void 0?o:1/0,m=Date.now()+d,p=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(p[0],r,e,0,n);if(p[0].oldPos+1>=c&&f+1>=a)return s(this.buildValues(p[0].lastComponent,r,e));let v=-1/0,g=1/0,h=()=>{for(let b=Math.max(v,-l);b<=Math.min(g,l);b+=2){let y,_=p[b-1],x=p[b+1];_&&(p[b-1]=void 0);let w=!1;if(x){let $=x.oldPos-b;w=x&&0<=$&&$<a}let S=_&&_.oldPos+1<c;if(!w&&!S){p[b]=void 0;continue}if(!S||w&&_.oldPos<x.oldPos?y=this.addToPath(x,!0,!1,0,n):y=this.addToPath(_,!1,!0,1,n),f=this.extractCommon(y,r,e,b,n),y.oldPos+1>=c&&f+1>=a)return s(this.buildValues(y.lastComponent,r,e))||!0;p[b]=y,y.oldPos+1>=c&&(g=Math.min(g,b-1)),f+1>=a&&(v=Math.max(v,b+1))}l++};if(i)(function b(){setTimeout(function(){if(l>u||Date.now()>m)return i(void 0);h()||b()},0)})();else for(;l<=u&&Date.now()<=m;){let b=h();if(b)return b}}addToPath(e,r,n,i,o){let s=e.lastComponent;return s&&!o.oneChangePerToken&&s.added===r&&s.removed===n?{oldPos:e.oldPos+i,lastComponent:{count:s.count+1,added:r,removed:n,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:s}}}extractCommon(e,r,n,i,o){let s=r.length,a=n.length,c=e.oldPos,l=c-i,u=0;for(;l+1<s&&c+1<a&&this.equals(n[c+1],r[l+1],o);)l++,c++,u++,o.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return u&&!o.oneChangePerToken&&(e.lastComponent={count:u,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=c,l}equals(e,r,n){return n.comparator?n.comparator(e,r):e===r||!!n.ignoreCase&&e.toLowerCase()===r.toLowerCase()}removeEmpty(e){let r=[];for(let n=0;n<e.length;n++)e[n]&&r.push(e[n]);return r}castInput(e,r){return e}tokenize(e,r){return Array.from(e)}join(e){return e.join("")}postProcess(e,r){return e}get useLongestToken(){return!1}buildValues(e,r,n){let i=[],o;for(;e;)i.push(e),o=e.previousComponent,delete e.previousComponent,e=o;i.reverse();let s=i.length,a=0,c=0,l=0;for(;a<s;a++){let u=i[a];if(u.removed)u.value=this.join(n.slice(l,l+u.count)),l+=u.count;else{if(!u.added&&this.useLongestToken){let d=r.slice(c,c+u.count);d=d.map(function(m,p){let f=n[l+p];return f.length>m.length?f:m}),u.value=this.join(d)}else u.value=this.join(r.slice(c,c+u.count));c+=u.count,u.added||(l+=u.count)}}return i}};var fS=class extends bd{constructor(){super(...arguments),this.tokenize=Vle}equals(e,r,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!r.includes(`
`))&&(r=r.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),r.endsWith(`
`)&&(r=r.slice(0,-1))),super.equals(e,r,n)}},Ble=new fS;function mS(t,e,r){return Ble.diff(t,e,r)}function Vle(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));let r=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(let i=0;i<n.length;i++){let o=n[i];i%2&&!e.newlineIsToken?r[r.length-1]+=o:r.push(o)}return r}function hS(t,e,r,n,i,o,s){let a;s?typeof s=="function"?a={callback:s}:a=s:a={},typeof a.context>"u"&&(a.context=4);let c=a.context;if(a.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(a.callback){let{callback:u}=a;mS(r,n,Object.assign(Object.assign({},a),{callback:d=>{let m=l(d);u(m)}}))}else return l(mS(r,n,a));function l(u){if(!u)return;u.push({value:"",lines:[]});function d(b){return b.map(function(y){return" "+y})}let m=[],p=0,f=0,v=[],g=1,h=1;for(let b=0;b<u.length;b++){let y=u[b],_=y.lines||Hle(y.value);if(y.lines=_,y.added||y.removed){if(!p){let x=u[b-1];p=g,f=h,x&&(v=c>0?d(x.lines.slice(-c)):[],p-=v.length,f-=v.length)}for(let x of _)v.push((y.added?"+":"-")+x);y.added?h+=_.length:g+=_.length}else{if(p)if(_.length<=c*2&&b<u.length-2)for(let x of d(_))v.push(x);else{let x=Math.min(_.length,c);for(let S of d(_.slice(0,x)))v.push(S);let w={oldStart:p,oldLines:g-p+x,newStart:f,newLines:h-f+x,lines:v};m.push(w),p=0,f=0,v=[]}g+=_.length,h+=_.length}}for(let b of m)for(let y=0;y<b.lines.length;y++)b.lines[y].endsWith(`
`)?b.lines[y]=b.lines[y].slice(0,-1):(b.lines.splice(y+1,0,"\\ No newline at end of file"),y++);return{oldFileName:t,newFileName:e,oldHeader:i,newHeader:o,hunks:m}}}function Hle(t){let e=t.endsWith(`
`),r=t.split(`
`).map(n=>n+`
`);return e?r.pop():r.push(r.pop().slice(0,-1)),r}function KU(t,e){let r=t,n=[];if(!t&&e.length===1&&e[0]&&e[0].oldString===""&&e[0].newString==="")return"";for(let i of e){let o=i.oldString.replace(/\n+$/,"");for(let a of n)if(o!==""&&a.includes(o))throw new Error("Cannot edit file: old_string is a substring of a new_string from a previous edit.");let s=r;if(i.oldString===""?r=i.newString:r=Wle(r,i.oldString,i.newString,i.replaceAll),r===s)throw new Error("String not found in file. Failed to apply edit.");n.push(i.newString)}if(r===t)throw new Error("Original and edited file match exactly. Failed to apply edit.");return r}function Wle(t,e,r,n=!1){let i=n?(s,a,c)=>s.replaceAll(a,()=>c):(s,a,c)=>s.replace(a,()=>c);return r!==""?i(t,e,r):!e.endsWith(`
`)&&t.includes(e+`
`)?i(t,e+`
`,r):i(t,e,r)}function gS(t,e,r,n){let o=Yle({filePath:t,oldContent:e,newContent:r,singleHunk:n==="single"});return o.length===0?[]:Gle(o)}function Gle(t){return t.map(e=>{let r=[],n=[],i=[];for(let o of e.lines)o.startsWith(" ")?(r.push(o.slice(1)),n.push(o.slice(1)),i.push(o.slice(1))):o.startsWith("-")?n.push(o.slice(1)):o.startsWith("+")&&i.push(o.slice(1));return{oldString:n.join(`
`),newString:i.join(`
`),replaceAll:!1}})}var YU="<<:AMPERSAND_TOKEN:>>",QU="<<:DOLLAR_TOKEN:>>";function JU(t){return t.replaceAll("&",YU).replaceAll("$",QU)}function Jle(t){return t.replaceAll(YU,"&").replaceAll(QU,"$")}var Kle=3;function Yle({filePath:t,oldContent:e,newContent:r,ignoreWhitespace:n=!1,singleHunk:i=!1}){return hS(t,t,JU(e),JU(r),void 0,void 0,{ignoreWhitespace:n,context:i?1e5:Kle}).hunks.map(o=>({...o,lines:o.lines.map(Jle)}))}async function eL(t,e,r,n,i,o,s,a,c){let l=n.split("/").pop()||n,u=i.split("/").pop()||i,m=`\u273B [Claude Code] ${l===u?l:`${l} \u2192 ${u}`}`;t.info("diff from",n,"to",i,"as",m),tL.push(m);let p=Gt.Uri.file(n),f="";try{let Pe=await Gt.workspace.openTextDocument(p);Pe.isDirty?(f=XU.readFileSync(n,"utf8"),p=e.createFile(n,f).uri):f=Pe.getText()}catch{t.info("leftTempFileProvider.createFile",n),p=e.createFile(n,"").uri}let v=KU(f,o),h=r.createFile(i,v).uri,b=await Gt.workspace.openTextDocument(h);await Qle(t)>0&&await new Promise(Pe=>setTimeout(Pe,200));let _=v,x=v,w;Gt.workspace.onDidChangeTextDocument(Pe=>{Pe.document.uri.toString()===h.toString()&&(_=x,x=Pe.document.getText(),Pe.contentChanges.length>3&&Pe.reason!==Gt.TextDocumentChangeReason.Undo&&Pe.reason!==Gt.TextDocumentChangeReason.Redo&&(w={time:Date.now(),contents:_}))});let S=[],$=new Promise(Pe=>{S.push(Gt.workspace.onWillSaveTextDocument(fe=>{if(fe.document.uri.toString()===h.toString()){let we=fe.document.getText();w&&Date.now()-w.time<500&&(we=w.contents),Pe(we)}}))}),E=new Promise(Pe=>{S.push(a(fe=>{fe.activeTab&&fe.activeTab.label===m&&Pe(fe)}))}).then(Pe=>{if(Pe.accepted)return t.info("diff_accepted",m),gS(i,f,b.getText(),s?"multiple":"single")}),N={preview:!1,preserveFocus:!0},P=await Gt.commands.executeCommand("vscode.diff",p,h,m,N);t.info("diff result",P,m,p,h,N);let z=await el(()=>Xc().find(Pe=>Pe.label===m),1e3);c?.addEventListener("abort",()=>{da(z,t)});let V=el(()=>!Xc().some(Pe=>Pe.label===m)).then(()=>{t.info("tab_closed",m)}),H=$.then(async Pe=>gS(i,f,Pe,s?"multiple":"single")),re=[V,E];return Gt.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),re.push(H)):t.info("files.autoSave is on, need explicit accept"),await Promise.race(re).finally(()=>{S.forEach(Pe=>Pe.dispose())}).then(Pe=>(t.info("diff operation completed",Pe),Pe)).finally(()=>{da(z,t)})}var tL=[];async function Qle(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of Gt.window.tabGroups.all)for(let n of r.tabs)n.input instanceof Gt.TabInputTextDiff&&tL.includes(n.label)&&(await da(n,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function rL(t){let e=new Gt.EventEmitter;return t.push(Gt.commands.registerCommand("claude-vscode.acceptProposedDiff",async()=>{let r=Gt.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r})})),t.push(Gt.commands.registerCommand("claude-vscode.rejectProposedDiff",async()=>{let r=Gt.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r})})),e.event}var ns=J(require("vscode"),1);var Zh=J(require("vscode"),1);var nL=require("node:child_process");function iL(t){let e=t;if(t.startsWith("file://")&&(e=t.substring(7)),!e.startsWith("/")||/^\/[a-zA-Z]:/.test(e))return t;try{return(0,nL.execFileSync)("wsl.exe",["-e","wslpath","-w",e],{encoding:"utf8",stdio:["pipe","pipe","ignore"]}).trim()}catch{return t}}function Bh(t){if(process.platform==="win32"){let e=iL(t);return e.startsWith("file://")?Zh.Uri.parse(e):Zh.Uri.file(e)}else return Zh.Uri.parse(t)}function Xle(t){return t.map(e=>({message:e.message,severity:ns.DiagnosticSeverity[e.severity],range:{start:{line:e.range.start.line,character:e.range.start.character},end:{line:e.range.end.line,character:e.range.end.character}},source:e.source,code:e.code?.toString()}))}function _d(t){return(t?(()=>{let r=Bh(t);return[[r,ns.languages.getDiagnostics(r)]]})():ns.languages.getDiagnostics()).map(([r,n])=>({uri:r.toString(!0),linesInFile:eue(r),diagnostics:Xle(n)}))}function eue(t){try{return ns.workspace.textDocuments.find(r=>r.uri.toString()===t.toString())?.lineCount}catch{return}}var Vh=class t{static instance;listener;clients;clientCounter;output;constructor(e){this.clients=new Map,this.clientCounter=0,this.output=e}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}registerClient(e){let r=`client_${this.clientCounter++}`;return this.clients.set(r,e),this.startStreaming(),r}unregisterClient(e){this.clients.delete(e)&&(this.output.info(`[DiagnosticStreamManager] Unregistered client ${e}. Total clients: ${this.clients.size}`),this.clients.size===0&&this.stopStreaming())}startStreaming(){this.listener||(this.listener=ns.languages.onDidChangeDiagnostics(e=>{this.notifyDiagnosticsChanged(e.uris)}),this.output.info("[DiagnosticStreamManager] Started streaming diagnostics"))}stopStreaming(){this.listener&&(this.listener.dispose(),this.listener=void 0,this.output.info("[DiagnosticStreamManager] Stopped streaming diagnostics"))}notifyDiagnosticsChanged(e){if(this.clients.size===0)return;let r=e.map(n=>n.toString());this.output.info(`[DiagnosticStreamManager] Notifying ${this.clients.size} clients about diagnostics change for ${e.length} files`),this.clients.forEach((n,i)=>{try{n(r)}catch(o){this.output.error(`[DiagnosticStreamManager] Error notifying client ${i}: ${o}`)}})}dispose(){this.clients.clear(),this.stopStreaming()}};var Wh=J(require("vscode"),1),Hh=class{constructor(e){this.logger=e}baselineDiagnostics=new Map;async captureBaseline(e){try{if(e.hook_event_name!=="PreToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let n=_d(r);this.baselineDiagnostics.set(r,n),this.logger.log(`[DiagnosticTracking] Captured baseline diagnostics for ${r}: ${n.length} files`)}}catch(r){this.logger.error(`[DiagnosticTracking] Error capturing baseline diagnostics: ${r}`)}return{continue:!0}}async findDiagnosticsProblems(e){try{if(e.hook_event_name!=="PostToolUse")return{continue:!0};let r=this.extractFilePath(e);if(r&&typeof r=="string"){let n=Wh.Uri.file(r),i=Wh.window.visibleTextEditors.some(a=>a.document.uri.toString()===n.toString()),o=this.baselineDiagnostics.get(r)||[],s=i?[750,750]:[1e3];for(let a=0;a<s.length;a++){await new Promise(u=>setTimeout(u,s[a]));let c=_d(r),l=this.findNewDiagnostics(o,c);if(l.length>0){this.logger.log(`[DiagnosticTracking] Found ${l.length} new diagnostics for ${r} at ${a+1}s`);let u=this.formatDiagnosticsSummary(l);return this.baselineDiagnostics.delete(r),{continue:!0,hookSpecificOutput:{hookEventName:"PostToolUse",additionalContext:`<ide_diagnostics>${u}</ide_diagnostics>`}}}}this.logger.log(`[DiagnosticTracking] No new diagnostics found for ${r}`),this.baselineDiagnostics.delete(r)}}catch(r){this.logger.error(`[DiagnosticTracking] Error tracking post-tool diagnostics: ${r}`)}return{continue:!0}}extractFilePath(e){if((e.hook_event_name==="PreToolUse"||e.hook_event_name==="PostToolUse")&&(e.tool_name==="Edit"||e.tool_name==="MultiEdit"||e.tool_name==="Write"))return e.tool_input?.file_path}findNewDiagnostics(e,r){let n=[];for(let i of r){let o=e.find(s=>s.uri===i.uri);if(!o)n.push(i);else{let s=o.linesInFile!==void 0&&i.linesInFile!==void 0?Math.abs(o.linesInFile-i.linesInFile):0,a=i.diagnostics.filter(c=>!o.diagnostics.some(l=>this.areDiagnosticsEqual(c,l,s)));a.length>0&&n.push({uri:i.uri,linesInFile:i.linesInFile,diagnostics:a})}}return n}areDiagnosticsEqual(e,r,n){let i=Math.abs((e.range?.start?.line??0)-(r.range?.start?.line??0)),o=Math.abs((e.range?.end?.line??0)-(r.range?.end?.line??0));return e.message===r.message&&e.severity===r.severity&&e.source===r.source&&e.code===r.code&&i<=n&&o<=n&&e.range?.start?.character===r.range?.start?.character&&e.range?.end?.character===r.range?.end?.character}formatDiagnosticsSummary(e){let r=e.flatMap(n=>n.diagnostics.map(i=>({filePath:this.normalizeFileUri(n.uri),line:i.range?.start?.line!==void 0?i.range.start.line+1:0,column:i.range?.start?.character!==void 0?i.range.start.character+1:0,message:i.message,code:i.code||"",severity:i.severity||""})));return JSON.stringify(r,null,2)}normalizeFileUri(e){let r=["file://","_claude_fs_right:","_claude_fs_left:"];for(let n of r)if(e.startsWith(n))return e.slice(n.length);return e}};var Kh=J(require("path"),1),un=J(require("fs"),1);var xd=J(require("crypto"),1),oL=J(require("http"),1);var Gh=class{constructor(e){this.logger=e;this.codeVerifier=this.generateCodeVerifier()}codeVerifier;server=null;manualAuthCodeResolver=null;async startOAuthFlow(e,r){let n=await this.startCallbackServer(),i=this.generateCodeChallenge(this.codeVerifier),o=this.generateState(),s=this.buildAuthUrls({codeChallenge:i,state:o,port:n,loginWithClaudeAi:e});await r(s);let{code:a,isManualFlow:c}=await this.waitForAuthorizationCode(o,n,e);return await this.exchangeCodeForTokens(a,o,this.codeVerifier,c?void 0:n)}buildAuthUrls(e){let r=gr(),n=e.loginWithClaudeAi?r.CLAUDE_AI_AUTHORIZE_URL:r.CONSOLE_AUTHORIZE_URL,i=new URL(n);i.searchParams.set("code","true"),i.searchParams.set("client_id",r.CLIENT_ID),i.searchParams.set("response_type","code");let o=e.loginWithClaudeAi?Zc:E0;i.searchParams.set("scope",o.join(" ")),i.searchParams.set("code_challenge",e.codeChallenge),i.searchParams.set("code_challenge_method","S256"),i.searchParams.set("state",e.state),i.searchParams.set("redirect_uri",`http://localhost:${e.port}/callback`);let s=i.toString();i.searchParams.set("redirect_uri",r.MANUAL_REDIRECT_URL);let a=i.toString();return{automaticRedirectUrl:s,manualRedirectUrl:a}}async startCallbackServer(){return new Promise((e,r)=>{this.server=oL.createServer(),this.server.listen(0,"127.0.0.1",()=>{let n=this.server.address();if(!n||typeof n=="string"){r(new Error("Failed to get server address"));return}e(n.port)}),this.server.on("error",r)})}async waitForAuthorizationCode(e,r,n){return new Promise((i,o)=>{if(!this.server){o(new Error("Server not started"));return}this.manualAuthCodeResolver=s=>{let a=s.trim().split("#");if(a[1]!==e)throw new Error("Invalid state parameter");i({code:a[0],isManualFlow:!0})},this.server.on("request",(s,a)=>{let c=new URL(s.url,`http://localhost:${r}`);if(c.pathname==="/callback"){let l=c.searchParams.get("code");if(c.searchParams.get("state")!==e){a.writeHead(400),a.end("Invalid state parameter"),o(new Error("Invalid state parameter"));return}if(!l){a.writeHead(400),a.end("Missing authorization code"),o(new Error("Missing authorization code"));return}let d=n?gr().CLAUDEAI_SUCCESS_URL:gr().CONSOLE_SUCCESS_URL;a.writeHead(302,{Location:d}),a.end(),this.manualAuthCodeResolver=null,i({code:l,isManualFlow:!1})}})})}async exchangeCodeForTokens(e,r,n,i){let o=gr(),s={grant_type:"authorization_code",code:e,redirect_uri:i?`http://localhost:${i}/callback`:o.MANUAL_REDIRECT_URL,client_id:o.CLIENT_ID,code_verifier:n,state:r};try{let a=await ln.post(o.TOKEN_URL,s,{headers:{"Content-Type":"application/json"}});if(a.status!==200)throw new Error(`Token exchange failed: ${a.statusText}`);let c=a.data,l={accessToken:c.access_token,refreshToken:c.refresh_token||null,expiresAt:c.expires_in?Date.now()+c.expires_in*1e3:null,scopes:c.scope?c.scope.split(" "):[],subscriptionType:null,rateLimitTier:null};if(l.scopes.includes("user:profile")){let u=await this.fetchProfileInfo(l.accessToken);l.subscriptionType=u.subscriptionType,l.rateLimitTier=u.rateLimitTier}return l}catch(a){let c=a;throw new Error(`Token exchange failed: ${c.response?.data?.error||c.response?.data?.message||c.message||"Unknown error"}`)}}handleManualAuthCodeInput(e){this.manualAuthCodeResolver&&e&&(this.manualAuthCodeResolver(e),this.manualAuthCodeResolver=null,this.cleanup())}async createApiKey(e){let r=gr();try{return(await ln.post(r.API_KEY_URL,null,{headers:{Authorization:`Bearer ${e}`}})).data?.raw_key||null}catch{return null}}cleanup(){this.server&&(this.server.close(),this.server=null)}generateCodeVerifier(){return xd.randomBytes(32).toString("base64url")}generateCodeChallenge(e){return xd.createHash("sha256").update(e).digest("base64url")}generateState(){return xd.randomBytes(32).toString("base64url")}async fetchProfileInfo(e){try{let r=`${gr().BASE_API_URL}/api/claude_cli_profile`,n=await ln.get(r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),i=n.data?.organization?.organization_type,o=null;switch(i){case"claude_max":o="max";break;case"claude_pro":o="pro";break;case"claude_enterprise":o="enterprise";break;case"claude_team":o="team";break;default:o=null;break}return{subscriptionType:o,rateLimitTier:n.data?.organization?.rate_limit_tier??null}}catch(r){return this.logger.error(`Failed to fetch subscription: ${r}`),{subscriptionType:null,rateLimitTier:null}}}};var mL=require("fs");var aL=require("crypto");var cL=require("os");function mo(t=""){let e=qc(),n=!process.env.CLAUDE_CONFIG_DIR?"":`-${(0,aL.createHash)("sha256").update(e).digest("hex").substring(0,8)}`;return`Claude Code${gr().OAUTH_FILE_SUFFIX}${t}${n}`}function is(){try{return process.env.USER||(0,cL.userInfo)().username}catch{return"claude-code-user"}}var ai={data:null,valid:!1};function sL(){ai={data:null,valid:!1}}var lL={name:"keychain",read(){if(ai.valid)return ai.data;try{let t=mo("-credentials"),e=is(),r=Th(`security find-generic-password -a "${e}" -w -s "${t}"`);if(r){let n=Yc(r);return ai={data:n,valid:!0},n}}catch{return ai={data:null,valid:!0},null}return ai={data:null,valid:!0},null},async readAsync(){if(ai.valid)return ai.data;try{let t=mo("-credentials"),e=is(),{stdout:r,code:n}=await Ch("security",["find-generic-password","-a",e,"-w","-s",t],{useCwd:!1,preserveOutputOnError:!1});if(n===0&&r){let i=Yc(r.trim());return ai={data:i,valid:!0},i}}catch{}return ai={data:null,valid:!0},null},update(t){sL();try{let e=mo("-credentials"),r=is(),n=Yo(t),i=Buffer.from(n,"utf-8").toString("hex"),o=`add-generic-password -U -a "${r}" -s "${e}" -X "${i}"
`;return yn("security",["-i"],{input:o,stdio:["pipe","pipe","pipe"],reject:!1}).exitCode!==0?{success:!1}:(ai={data:t,valid:!0},{success:!0})}catch{return{success:!1}}},delete(){sL();try{let t=mo("-credentials"),e=is();return Th(`security delete-generic-password -a "${e}" -s "${t}"`),!0}catch{return!1}}};function uL(t,e){return{name:`${t.name}-with-${e.name}-fallback`,read(){let r=t.read();return r??(e.read()||{})},async readAsync(){let r=await t.readAsync();return r??(await e.readAsync()||{})},update(r){let n=t.read(),i=t.update(r);if(i.success)return n===null&&e.delete(),i;let o=e.update(r);return o.success?{success:!0,warning:o.warning}:{success:!1}},delete(){let r=t.delete(),n=e.delete();return r||n}}}var dL=require("path");var pL=require("fs");function vS(){let t=qc();return{storageDir:t,storagePath:(0,dL.join)(t,".credentials.json")}}var yS={name:"plaintext",read(){let{storagePath:t}=vS();if(or().existsSync(t))try{let e=or().readFileSync(t,{encoding:"utf8"});return Yc(e)}catch{return null}return null},async readAsync(){return this.read()},update(t){try{let{storageDir:e,storagePath:r}=vS();return or().existsSync(e)||or().mkdirSync(e),sU(r,Yo(t),{encoding:"utf8",flush:!1}),(0,pL.chmodSync)(r,384),{success:!0,warning:"Warning: Storing credentials in plaintext."}}catch{return{success:!1}}},delete(){let{storagePath:t}=vS();if(or().existsSync(t))try{return or().unlinkSync(t),!0}catch{return!1}return!0}};function tl(){return process.platform==="darwin"?uL(lL,yS):yS}function fL(t){return t.slice(-20)}var tue=5*60*1e3,rl=class{constructor(e,r,n=!1){this.logger=e;this.env=r;this.disableAuthLogin=n;this.logger.log("AuthManager initialized")}currentOAuthService=null;cachedOrgUUID=null;pendingRefresh=null;getOrganizationUUID(){if(this.cachedOrgUUID)return this.cachedOrgUUID;let r=tl().read()||{};return r.organizationUuid?(this.cachedOrgUUID=r.organizationUuid,this.cachedOrgUUID):null}async fetchOrganizationUUID(){if(this.cachedOrgUUID)return this.cachedOrgUUID;let e=this.getOAuthTokens();if(!e?.accessToken)return null;try{let r=`${gr().BASE_API_URL}/api/oauth/profile`,i=(await ln.get(r,{headers:{Authorization:`Bearer ${e.accessToken}`,"anthropic-beta":_h},timeout:1e4,proxy:!1})).data?.organization?.uuid;if(i){this.cachedOrgUUID=i;let o=tl(),s=o.read()||{};return s.organizationUuid=i,o.update(s),i}}catch(r){this.logger.error(`Failed to fetch organization UUID: ${r}`)}return null}isAuthLoginDisabled(){return this.disableAuthLogin}getAuthStatus(){if(this.logger.log("Getting authentication status"),this.disableAuthLogin)return{authMethod:"not-specified",email:null,subscriptionType:null};if(Jh(this.env.CLAUDE_CODE_USE_BEDROCK)||Jh(this.env.CLAUDE_CODE_USE_VERTEX)||Jh(this.env.CLAUDE_CODE_USE_FOUNDRY)||Jh(this.env.CLAUDE_CODE_SKIP_AUTH_LOGIN))return{authMethod:"3p",email:null,subscriptionType:null};let e=this.getOAuthTokens(),r=!!this.env.ANTHROPIC_API_KEY||!!this.env.ANTHROPIC_AUTH_TOKEN;if(e)return{authMethod:e.scopes.includes("user:inference")?"claudeai":"console",email:null,subscriptionType:e.subscriptionType||null};if(r)return{authMethod:"3p",email:null,subscriptionType:null};if(!this.getApiKey()){this.logger.log("No authentication found");return}return{authMethod:"api-key",email:null,subscriptionType:null}}async getAuthHeaders(){let e=this.getOAuthTokens();if(e?.accessToken){if(rue(e.expiresAt)){this.logger.log("OAuth token expired or expiring soon, refreshing");let n=await this.refreshOAuthToken(e);if(n)return{Authorization:`Bearer ${n.accessToken}`,"anthropic-beta":_h};this.logger.warn("OAuth token refresh failed, using potentially expired token")}return{Authorization:`Bearer ${e.accessToken}`,"anthropic-beta":_h}}let r=this.getApiKey();if(r)return{"x-api-key":r}}async refreshOAuthToken(e){if(!e.refreshToken)return this.logger.warn("No refresh token available"),null;if(this.pendingRefresh)return this.pendingRefresh;this.pendingRefresh=this.doRefreshOAuthToken(e.refreshToken);try{return await this.pendingRefresh}finally{this.pendingRefresh=null}}async doRefreshOAuthToken(e){try{let r=gr(),n=await ln.post(r.TOKEN_URL,{grant_type:"refresh_token",refresh_token:e,client_id:r.CLIENT_ID,scope:Zc.join(" ")},{headers:{"Content-Type":"application/json"},timeout:1e4,proxy:!1});if(n.status!==200)return this.logger.error(`Token refresh failed: ${n.statusText}`),null;let i=n.data,o={accessToken:i.access_token,refreshToken:i.refresh_token||e,expiresAt:Date.now()+i.expires_in*1e3,scopes:i.scope?i.scope.split(" "):Zc.slice(),subscriptionType:null,rateLimitTier:null};return this.saveOAuthTokens(o),this.logger.log("OAuth token refreshed successfully"),o}catch(r){return this.logger.error(`Failed to refresh OAuth token: ${r}`),null}}getOAuthTokens(){let n=(tl().read()||{})?.claudeAiOauth;return n?(this.logger.log("OAuth tokens found in secure storage"),{accessToken:n.accessToken,refreshToken:n.refreshToken||null,expiresAt:n.expiresAt||null,scopes:n.scopes,subscriptionType:n.subscriptionType,rateLimitTier:n.rateLimitTier}):null}getApiKey(){if(process.platform==="darwin")try{let n=yn("security",["find-generic-password","-a",is(),"-w","-s",mo()]);if(n.stdout)return this.logger.log("API key found in macOS keychain"),n.stdout.trim()}catch{this.logger.log("Keychain read failed, trying file fallback")}let e=this.getConfigPath(),r=Kh.join(e,"config.json");if(un.existsSync(r))try{let n=JSON.parse(un.readFileSync(r,"utf8"));if(n.primaryApiKey)return this.logger.log("API key found in config file"),n.primaryApiKey}catch{this.logger.warn("Failed to read config file")}return null}saveOAuthTokens(e){this.logger.log("Saving OAuth tokens to secure storage");let r=tl(),n=r.read()||{};n.claudeAiOauth={accessToken:e.accessToken,refreshToken:e.refreshToken||"",expiresAt:e.expiresAt||Date.now()+1*60*60*1e3,scopes:e.scopes,subscriptionType:e.subscriptionType,rateLimitTier:e.rateLimitTier},r.update(n)}async saveApiKey(e){this.logger.log("Saving API key");let r=this.getConfigPath();un.existsSync(r)||un.mkdirSync(r,{recursive:!0});let n=Kh.join(r,"config.json"),i={};if(un.existsSync(n))try{i=JSON.parse(un.readFileSync(n,"utf8"))}catch{}if(process.platform==="darwin")try{let s=mo(),a=is(),c=Buffer.from(e,"utf-8").toString("hex"),l=`add-generic-password -U -a "${a}" -s "${s}" -X "${c}"
`,u=yn("security",["-i"],{input:l,stdio:["pipe","pipe","pipe"],reject:!1});if(u.exitCode!==0)throw new Error(`security command failed with exit code ${u.exitCode}`);this.logger.log("API key saved to macOS keychain named ")}catch(s){throw this.logger.error(`Failed to save API key to keychain: ${s}`),new Error("Unable to save API key to macOS Keychain. Please ensure VS Code has keychain access permissions.")}else i.primaryApiKey=e;i.customApiKeyResponses||(i.customApiKeyResponses={}),i.customApiKeyResponses.approved||(i.customApiKeyResponses.approved=[]);let o=fL(e);i.customApiKeyResponses.approved.includes(o)||i.customApiKeyResponses.approved.push(o);try{un.writeFileSync(n,JSON.stringify(i,null,2),"utf8"),(0,mL.chmodSync)(n,384),this.logger.log("API key saved to config file")}catch(s){throw this.logger.error(`Failed to save API key: ${s}`),new Error(`Failed to save API key ${s}`)}}async logout(){this.logger.log("Logging out - clearing stored credentials");let e=!0;this.cachedOrgUUID=null,process.platform==="darwin"&&this.maybeRemoveApiKeyFromMacOSKeychain(),tl().delete();let n=this.getConfigPath(),i=Kh.join(n,"config.json");if(un.existsSync(i))try{let o=JSON.parse(un.readFileSync(i,"utf8"));delete o.primaryApiKey,un.writeFileSync(i,JSON.stringify(o,null,2),"utf8")}catch{e=!1}return this.logger.log(`Logout ${e?"successful":"failed"}`),e}getConfigPath(){return Ha()}handleManualAuthCode(e){this.currentOAuthService?(this.logger.log("Handling manual auth code input"),this.currentOAuthService.handleManualAuthCodeInput(e)):this.logger.warn("No active OAuth service to handle manual auth code")}async login(e,r){this.logger.log(`Starting OAuth login flow: method=${e}`),this.currentOAuthService=new Gh(this.logger);try{let n=await this.currentOAuthService.startOAuthFlow(e==="claudeai",r);if(e==="claudeai")this.saveOAuthTokens(n);else if(e==="console"){this.logger.log("Creating API key for Console user");let o=await this.currentOAuthService.createApiKey(n.accessToken);if(!o)throw this.logger.error("Failed to create API key"),new Error("Failed to create API key");await this.saveApiKey(o)}this.logger.log("Login successful");let i=this.getAuthStatus();if(!i)throw new Error("Failed to retrieve auth status after login");return i}finally{this.currentOAuthService&&(this.currentOAuthService.cleanup(),this.currentOAuthService=null)}}maybeRemoveApiKeyFromMacOSKeychain(){if(process.platform==="darwin")try{let e=mo();yn("security",["delete-generic-password","-a",is(),"-s",e])}catch(e){this.logger.error(`Failed to remove API key from keychain: ${e}`)}}};function Jh(t){if(!t)return!1;if(typeof t=="boolean")return t;let e=t.toLowerCase().trim();return["1","true","yes","on"].includes(e)}function rue(t){return t===null?!1:Date.now()+tue>=t}function hL(t){return t!==void 0&&Date.now()-t<864e5}function gL(){let t=SO();return!(t.totalSessions<=12||t.recentSessions<=4||t.editsAccepted<4&&t.editsAutoAccepted<10||t.editsDeclined>1)}var li={};_i(li,{$ZodAny:()=>Dg,$ZodArray:()=>ul,$ZodAsyncError:()=>ji,$ZodBase64:()=>Eg,$ZodBase64URL:()=>Tg,$ZodBigInt:()=>Ad,$ZodBigIntFormat:()=>Og,$ZodBoolean:()=>ll,$ZodCIDRv4:()=>kg,$ZodCIDRv6:()=>$g,$ZodCUID:()=>vg,$ZodCUID2:()=>yg,$ZodCatch:()=>ev,$ZodCheck:()=>qt,$ZodCheckBigIntFormat:()=>ak,$ZodCheckEndsWith:()=>bk,$ZodCheckGreaterThan:()=>cg,$ZodCheckIncludes:()=>vk,$ZodCheckLengthEquals:()=>fk,$ZodCheckLessThan:()=>ag,$ZodCheckLowerCase:()=>hk,$ZodCheckMaxLength:()=>dk,$ZodCheckMaxSize:()=>ck,$ZodCheckMimeType:()=>xk,$ZodCheckMinLength:()=>pk,$ZodCheckMinSize:()=>lk,$ZodCheckMultipleOf:()=>ok,$ZodCheckNumberFormat:()=>sk,$ZodCheckOverwrite:()=>wk,$ZodCheckProperty:()=>_k,$ZodCheckRegex:()=>mk,$ZodCheckSizeEquals:()=>uk,$ZodCheckStartsWith:()=>yk,$ZodCheckStringFormat:()=>cl,$ZodCheckUpperCase:()=>gk,$ZodCustom:()=>sv,$ZodCustomStringFormat:()=>Ig,$ZodDate:()=>Ug,$ZodDefault:()=>Kg,$ZodDiscriminatedUnion:()=>Lg,$ZodE164:()=>Cg,$ZodEmail:()=>fg,$ZodEmoji:()=>hg,$ZodEnum:()=>Vg,$ZodError:()=>Id,$ZodFile:()=>Wg,$ZodFunction:()=>jv,$ZodGUID:()=>dg,$ZodIPv4:()=>wg,$ZodIPv6:()=>Sg,$ZodISODate:()=>Ek,$ZodISODateTime:()=>$k,$ZodISODuration:()=>Ck,$ZodISOTime:()=>Tk,$ZodIntersection:()=>Fg,$ZodJWT:()=>Pg,$ZodKSUID:()=>xg,$ZodLazy:()=>ov,$ZodLiteral:()=>Hg,$ZodMap:()=>Zg,$ZodNaN:()=>tv,$ZodNanoID:()=>gg,$ZodNever:()=>zg,$ZodNonOptional:()=>Qg,$ZodNull:()=>jg,$ZodNullable:()=>Jg,$ZodNumber:()=>Od,$ZodNumberFormat:()=>Rg,$ZodObject:()=>Nd,$ZodOptional:()=>Gg,$ZodPipe:()=>pl,$ZodPrefault:()=>Yg,$ZodPromise:()=>iv,$ZodReadonly:()=>rv,$ZodRealError:()=>ol,$ZodRecord:()=>qg,$ZodRegistry:()=>ml,$ZodSet:()=>Bg,$ZodString:()=>ls,$ZodStringFormat:()=>Et,$ZodSuccess:()=>Xg,$ZodSymbol:()=>Ag,$ZodTemplateLiteral:()=>nv,$ZodTransform:()=>dl,$ZodTuple:()=>us,$ZodType:()=>Le,$ZodULID:()=>bg,$ZodURL:()=>mg,$ZodUUID:()=>pg,$ZodUndefined:()=>Ng,$ZodUnion:()=>jd,$ZodUnknown:()=>va,$ZodVoid:()=>Mg,$ZodXID:()=>_g,$brand:()=>Qh,$constructor:()=>O,$input:()=>lv,$output:()=>cv,Doc:()=>Rd,JSONSchema:()=>$F,JSONSchemaGenerator:()=>vp,NEVER:()=>Yh,TimePrecision:()=>dv,_any:()=>$v,_array:()=>gp,_base64:()=>ep,_base64url:()=>tp,_bigint:()=>bv,_boolean:()=>yv,_catch:()=>Nde,_cidrv4:()=>Qd,_cidrv6:()=>Xd,_coercedBigint:()=>zk,_coercedBoolean:()=>Dk,_coercedDate:()=>Mk,_coercedNumber:()=>jk,_coercedString:()=>Ik,_cuid:()=>Vd,_cuid2:()=>Hd,_custom:()=>Rv,_date:()=>Cv,_default:()=>Rde,_discriminatedUnion:()=>_de,_e164:()=>rp,_email:()=>zd,_emoji:()=>Zd,_endsWith:()=>up,_enum:()=>$de,_file:()=>Iv,_float32:()=>mv,_float64:()=>hv,_gt:()=>vo,_gte:()=>pn,_guid:()=>hl,_includes:()=>cp,_int:()=>fv,_int32:()=>gv,_int64:()=>_v,_intersection:()=>xde,_ipv4:()=>Kd,_ipv6:()=>Yd,_isoDate:()=>Ok,_isoDateTime:()=>Rk,_isoDuration:()=>Nk,_isoTime:()=>Ak,_jwt:()=>np,_ksuid:()=>Jd,_lazy:()=>Mde,_length:()=>yl,_literal:()=>Tde,_lowercase:()=>sp,_lt:()=>go,_lte:()=>Ln,_map:()=>Sde,_max:()=>Ln,_maxLength:()=>vl,_maxSize:()=>gl,_mime:()=>dp,_min:()=>pn,_minLength:()=>ds,_minSize:()=>_a,_multipleOf:()=>ba,_nan:()=>Pv,_nanoid:()=>Bd,_nativeEnum:()=>Ede,_negative:()=>Lk,_never:()=>Ev,_nonnegative:()=>qk,_nonoptional:()=>Ode,_nonpositive:()=>Fk,_normalize:()=>pp,_null:()=>kv,_nullable:()=>Ide,_number:()=>pv,_optional:()=>Pde,_overwrite:()=>yo,_parse:()=>rg,_parseAsync:()=>ng,_pipe:()=>jde,_positive:()=>Uk,_promise:()=>Ude,_property:()=>Zk,_readonly:()=>Dde,_record:()=>wde,_refine:()=>Ov,_regex:()=>op,_safeParse:()=>ig,_safeParseAsync:()=>og,_set:()=>kde,_size:()=>ip,_startsWith:()=>lp,_string:()=>uv,_stringFormat:()=>Nv,_stringbool:()=>Av,_success:()=>Ade,_symbol:()=>wv,_templateLiteral:()=>zde,_toLowerCase:()=>mp,_toUpperCase:()=>hp,_transform:()=>Cde,_trim:()=>fp,_tuple:()=>Bk,_uint32:()=>vv,_uint64:()=>xv,_ulid:()=>Wd,_undefined:()=>Sv,_union:()=>bde,_unknown:()=>ya,_uppercase:()=>ap,_url:()=>qd,_uuid:()=>Md,_uuidv4:()=>Ud,_uuidv6:()=>Ld,_uuidv7:()=>Fd,_void:()=>Tv,_xid:()=>Gd,clone:()=>Nr,config:()=>Qt,flattenError:()=>sl,formatError:()=>al,function:()=>Dv,globalConfig:()=>wd,globalRegistry:()=>ci,isValidBase64:()=>Pk,isValidBase64URL:()=>DL,isValidJWT:()=>zL,locales:()=>fl,parse:()=>ma,parseAsync:()=>ha,prettifyError:()=>tg,regexes:()=>cs,registry:()=>Dd,safeParse:()=>ss,safeParseAsync:()=>as,toDotPath:()=>yL,toJSONSchema:()=>bl,treeifyError:()=>eg,util:()=>ne,version:()=>Sk});var Yh=Object.freeze({status:"aborted"});function O(t,e,r){function n(a,c){var l;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(l=a._zod).traits??(l.traits=new Set),a._zod.traits.add(t),e(a,c);for(let u in s.prototype)u in a||Object.defineProperty(a,u,{value:s.prototype[u].bind(a)});a._zod.constr=s,a._zod.def=c}let i=r?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function s(a){var c;let l=r?.Parent?new o:this;n(l,a),(c=l._zod).deferred??(c.deferred=[]);for(let u of l._zod.deferred)u();return l}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}var Qh=Symbol("zod_brand"),ji=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},wd={};function Qt(t){return t&&Object.assign(wd,t),wd}var ne={};_i(ne,{BIGINT_FORMAT_RANGES:()=>CS,Class:()=>_S,NUMBER_FORMAT_RANGES:()=>TS,aborted:()=>fa,allowsEval:()=>kS,assert:()=>aue,assertEqual:()=>nue,assertIs:()=>oue,assertNever:()=>sue,assertNotEqual:()=>iue,assignProp:()=>SS,cached:()=>$d,captureStackTrace:()=>Xh,cleanEnum:()=>_ue,cleanRegex:()=>Ed,clone:()=>Nr,createTransparentProxy:()=>fue,defineLazy:()=>xt,esc:()=>pa,escapeRegex:()=>ho,extend:()=>gue,finalizeIssue:()=>Tn,floatSafeRemainder:()=>wS,getElementAtPath:()=>cue,getEnumValues:()=>kd,getLengthableOrigin:()=>Pd,getParsedType:()=>pue,getSizableOrigin:()=>Cd,isObject:()=>nl,isPlainObject:()=>il,issue:()=>PS,joinValues:()=>Z,jsonStringifyReplacer:()=>xS,merge:()=>vue,normalizeParams:()=>te,nullish:()=>os,numKeys:()=>due,omit:()=>hue,optionalKeys:()=>ES,partial:()=>yue,pick:()=>mue,prefixIssues:()=>dn,primitiveTypes:()=>$S,promiseAllObject:()=>lue,propertyKeyTypes:()=>Td,randomString:()=>uue,required:()=>bue,stringifyPrimitive:()=>se,unwrapMessage:()=>Sd});function nue(t){return t}function iue(t){return t}function oue(t){}function sue(t){throw new Error}function aue(t){}function kd(t){let e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,i])=>e.indexOf(+n)===-1).map(([n,i])=>i)}function Z(t,e="|"){return t.map(r=>se(r)).join(e)}function xS(t,e){return typeof e=="bigint"?e.toString():e}function $d(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function os(t){return t==null}function Ed(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function wS(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}function xt(t,e,r){Object.defineProperty(t,e,{get(){{let i=r();return t[e]=i,i}throw new Error("cached value already set")},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function SS(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function cue(t,e){return e?e.reduce((r,n)=>r?.[n],t):t}function lue(t){let e=Object.keys(t),r=e.map(n=>t[n]);return Promise.all(r).then(n=>{let i={};for(let o=0;o<e.length;o++)i[e[o]]=n[o];return i})}function uue(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function pa(t){return JSON.stringify(t)}var Xh=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function nl(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var kS=$d(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function il(t){if(nl(t)===!1)return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(nl(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function due(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var pue=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},Td=new Set(["string","number","symbol"]),$S=new Set(["string","number","bigint","boolean","symbol","undefined"]);function ho(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Nr(t,e,r){let n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function te(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function fue(t){let e;return new Proxy({},{get(r,n,i){return e??(e=t()),Reflect.get(e,n,i)},set(r,n,i,o){return e??(e=t()),Reflect.set(e,n,i,o)},has(r,n){return e??(e=t()),Reflect.has(e,n)},deleteProperty(r,n){return e??(e=t()),Reflect.deleteProperty(e,n)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,n){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,n)},defineProperty(r,n,i){return e??(e=t()),Reflect.defineProperty(e,n,i)}})}function se(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function ES(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var TS={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},CS={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function mue(t,e){let r={},n=t._zod.def;for(let i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(r[i]=n.shape[i])}return Nr(t,{...t._zod.def,shape:r,checks:[]})}function hue(t,e){let r={...t._zod.def.shape},n=t._zod.def;for(let i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete r[i]}return Nr(t,{...t._zod.def,shape:r,checks:[]})}function gue(t,e){if(!il(e))throw new Error("Invalid input to extend: expected a plain object");let r={...t._zod.def,get shape(){let n={...t._zod.def.shape,...e};return SS(this,"shape",n),n},checks:[]};return Nr(t,r)}function vue(t,e){return Nr(t,{...t._zod.def,get shape(){let r={...t._zod.def.shape,...e._zod.def.shape};return SS(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function yue(t,e,r){let n=e._zod.def.shape,i={...n};if(r)for(let o in r){if(!(o in n))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=t?new t({type:"optional",innerType:n[o]}):n[o])}else for(let o in n)i[o]=t?new t({type:"optional",innerType:n[o]}):n[o];return Nr(e,{...e._zod.def,shape:i,checks:[]})}function bue(t,e,r){let n=e._zod.def.shape,i={...n};if(r)for(let o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new t({type:"nonoptional",innerType:n[o]}))}else for(let o in n)i[o]=new t({type:"nonoptional",innerType:n[o]});return Nr(e,{...e._zod.def,shape:i,checks:[]})}function fa(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function dn(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Sd(t){return typeof t=="string"?t:t?.message}function Tn(t,e,r){let n={...t,path:t.path??[]};if(!t.message){let i=Sd(t.inst?._zod.def?.error?.(t))??Sd(e?.error?.(t))??Sd(r.customError?.(t))??Sd(r.localeError?.(t))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Cd(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function Pd(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function PS(...t){let[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}function _ue(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var _S=class{constructor(...e){}};var vL=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,xS,2)},enumerable:!0})},Id=O("$ZodError",vL),ol=O("$ZodError",vL,{Parent:Error});function sl(t,e=r=>r.message){let r={},n=[];for(let i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function al(t,e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(r(s));else{let a=n,c=0;for(;c<s.path.length;){let l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(t),n}function eg(t,e){let r=e||function(o){return o.message},n={errors:[]},i=(o,s=[])=>{var a,c;for(let l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>i({issues:u},l.path));else if(l.code==="invalid_key")i({issues:l.issues},l.path);else if(l.code==="invalid_element")i({issues:l.issues},l.path);else{let u=[...s,...l.path];if(u.length===0){n.errors.push(r(l));continue}let d=n,m=0;for(;m<u.length;){let p=u[m],f=m===u.length-1;typeof p=="string"?(d.properties??(d.properties={}),(a=d.properties)[p]??(a[p]={errors:[]}),d=d.properties[p]):(d.items??(d.items=[]),(c=d.items)[p]??(c[p]={errors:[]}),d=d.items[p]),f&&d.errors.push(r(l)),m++}}};return i(t),n}function yL(t){let e=[];for(let r of t)typeof r=="number"?e.push(`[${r}]`):typeof r=="symbol"?e.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?e.push(`[${JSON.stringify(r)}]`):(e.length&&e.push("."),e.push(r));return e.join("")}function tg(t){let e=[],r=[...t.issues].sort((n,i)=>n.path.length-i.path.length);for(let n of r)e.push(`\u2716 ${n.message}`),n.path?.length&&e.push(`  \u2192 at ${yL(n.path)}`);return e.join(`
`)}var rg=t=>(e,r,n,i)=>{let o=n?Object.assign(n,{async:!1}):{async:!1},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new ji;if(s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>Tn(c,o,Qt())));throw Xh(a,i?.callee),a}return s.value},ma=rg(ol),ng=t=>async(e,r,n,i)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>Tn(c,o,Qt())));throw Xh(a,i?.callee),a}return s.value},ha=ng(ol),ig=t=>(e,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new ji;return o.issues.length?{success:!1,error:new(t??Id)(o.issues.map(s=>Tn(s,i,Qt())))}:{success:!0,data:o.value}},ss=ig(ol),og=t=>async(e,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(s=>Tn(s,i,Qt())))}:{success:!0,data:o.value}},as=og(ol);var cs={};_i(cs,{_emoji:()=>bL,base64:()=>BS,base64url:()=>sg,bigint:()=>YS,boolean:()=>ek,browserEmail:()=>Pue,cidrv4:()=>qS,cidrv6:()=>ZS,cuid:()=>IS,cuid2:()=>RS,date:()=>WS,datetime:()=>JS,domain:()=>Iue,duration:()=>DS,e164:()=>HS,email:()=>MS,emoji:()=>US,extendedDuration:()=>wue,guid:()=>zS,hostname:()=>VS,html5Email:()=>Eue,integer:()=>QS,ipv4:()=>LS,ipv6:()=>FS,ksuid:()=>NS,lowercase:()=>nk,nanoid:()=>jS,null:()=>tk,number:()=>XS,rfc5322Email:()=>Tue,string:()=>KS,time:()=>GS,ulid:()=>OS,undefined:()=>rk,unicodeEmail:()=>Cue,uppercase:()=>ik,uuid:()=>ga,uuid4:()=>Sue,uuid6:()=>kue,uuid7:()=>$ue,xid:()=>AS});var IS=/^[cC][^\s-]{8,}$/,RS=/^[0-9a-z]+$/,OS=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,AS=/^[0-9a-vA-V]{20}$/,NS=/^[A-Za-z0-9]{27}$/,jS=/^[a-zA-Z0-9_-]{21}$/,DS=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,wue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zS=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ga=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Sue=ga(4),kue=ga(6),$ue=ga(7),MS=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Eue=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Tue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Cue=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Pue=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function US(){return new RegExp(bL,"u")}var LS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,qS=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ZS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BS=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,sg=/^[A-Za-z0-9_-]*$/,VS=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Iue=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,HS=/^\+(?:[0-9]){6,14}[0-9]$/,_L="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",WS=new RegExp(`^${_L}$`);function xL(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function GS(t){return new RegExp(`^${xL(t)}$`)}function JS(t){let e=xL({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");let n=`${e}(?:${r.join("|")})`;return new RegExp(`^${_L}T(?:${n})$`)}var KS=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},YS=/^\d+n?$/,QS=/^\d+$/,XS=/^-?\d+(?:\.\d+)?/i,ek=/true|false/i,tk=/null/i;var rk=/undefined/i;var nk=/^[^A-Z]*$/,ik=/^[^a-z]*$/;var qt=O("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),SL={number:"number",bigint:"bigint",object:"date"},ag=O("$ZodCheckLessThan",(t,e)=>{qt.init(t,e);let r=SL[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),cg=O("$ZodCheckGreaterThan",(t,e)=>{qt.init(t,e);let r=SL[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ok=O("$ZodCheckMultipleOf",(t,e)=>{qt.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):wS(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),sk=O("$ZodCheckNumberFormat",(t,e)=>{qt.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),n=r?"int":"number",[i,o]=TS[e.format];t._zod.onattach.push(s=>{let a=s._zod.bag;a.format=e.format,a.minimum=i,a.maximum=o,r&&(a.pattern=QS)}),t._zod.check=s=>{let a=s.value;if(r){if(!Number.isInteger(a)){s.issues.push({expected:n,format:e.format,code:"invalid_type",input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inst:t})}}),ak=O("$ZodCheckBigIntFormat",(t,e)=>{qt.init(t,e);let[r,n]=CS[e.format];t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,o.minimum=r,o.maximum=n}),t._zod.check=i=>{let o=i.value;o<r&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),o>n&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:n,inst:t})}}),ck=O("$ZodCheckMaxSize",(t,e)=>{qt.init(t,e),t._zod.when=r=>{let n=r.value;return!os(n)&&n.size!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{let n=r.value;n.size<=e.maximum||r.issues.push({origin:Cd(n),code:"too_big",maximum:e.maximum,input:n,inst:t,continue:!e.abort})}}),lk=O("$ZodCheckMinSize",(t,e)=>{qt.init(t,e),t._zod.when=r=>{let n=r.value;return!os(n)&&n.size!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{let n=r.value;n.size>=e.minimum||r.issues.push({origin:Cd(n),code:"too_small",minimum:e.minimum,input:n,inst:t,continue:!e.abort})}}),uk=O("$ZodCheckSizeEquals",(t,e)=>{qt.init(t,e),t._zod.when=r=>{let n=r.value;return!os(n)&&n.size!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag;n.minimum=e.size,n.maximum=e.size,n.size=e.size}),t._zod.check=r=>{let n=r.value,i=n.size;if(i===e.size)return;let o=i>e.size;r.issues.push({origin:Cd(n),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),dk=O("$ZodCheckMaxLength",(t,e)=>{qt.init(t,e),t._zod.when=r=>{let n=r.value;return!os(n)&&n.length!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{let n=r.value;if(n.length<=e.maximum)return;let o=Pd(n);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),pk=O("$ZodCheckMinLength",(t,e)=>{qt.init(t,e),t._zod.when=r=>{let n=r.value;return!os(n)&&n.length!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{let n=r.value;if(n.length>=e.minimum)return;let o=Pd(n);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),fk=O("$ZodCheckLengthEquals",(t,e)=>{qt.init(t,e),t._zod.when=r=>{let n=r.value;return!os(n)&&n.length!==void 0},t._zod.onattach.push(r=>{let n=r._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length}),t._zod.check=r=>{let n=r.value,i=n.length;if(i===e.length)return;let o=Pd(n),s=i>e.length;r.issues.push({origin:o,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),cl=O("$ZodCheckStringFormat",(t,e)=>{var r,n;qt.init(t,e),t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),mk=O("$ZodCheckRegex",(t,e)=>{cl.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),hk=O("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=nk),cl.init(t,e)}),gk=O("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=ik),cl.init(t,e)}),vk=O("$ZodCheckIncludes",(t,e)=>{qt.init(t,e);let r=ho(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{let o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),yk=O("$ZodCheckStartsWith",(t,e)=>{qt.init(t,e);let r=new RegExp(`^${ho(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),bk=O("$ZodCheckEndsWith",(t,e)=>{qt.init(t,e);let r=new RegExp(`.*${ho(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}});function wL(t,e,r){t.issues.length&&e.issues.push(...dn(r,t.issues))}var _k=O("$ZodCheckProperty",(t,e)=>{qt.init(t,e),t._zod.check=r=>{let n=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>wL(i,r,e.property));wL(n,r,e.property)}}),xk=O("$ZodCheckMimeType",(t,e)=>{qt.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(n=>{n._zod.bag.mime=e.mime}),t._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:e.mime,input:n.value.type,inst:t})}}),wk=O("$ZodCheckOverwrite",(t,e)=>{qt.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});var Rd=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let n=e.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(let s of o)this.content.push(s)}compile(){let e=Function,r=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,i.join(`
`))}};var Sk={major:4,minor:0,patch:0};var Le=O("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Sk;let n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(let i of n)for(let o of i._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let i=(o,s,a)=>{let c=fa(o),l;for(let u of s){if(u._zod.when){if(!u._zod.when(o))continue}else if(c)continue;let d=o.issues.length,m=u._zod.check(o);if(m instanceof Promise&&a?.async===!1)throw new ji;if(l||m instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await m,o.issues.length!==d&&(c||(c=fa(o,d)))});else{if(o.issues.length===d)continue;c||(c=fa(o,d))}}return l?l.then(()=>o):o};t._zod.run=(o,s)=>{let a=t._zod.parse(o,s);if(a instanceof Promise){if(s.async===!1)throw new ji;return a.then(c=>i(c,n,s))}return i(a,n,s)}}t["~standard"]={validate:i=>{try{let o=ss(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return as(t,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),ls=O("$ZodString",(t,e)=>{Le.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??KS(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Et=O("$ZodStringFormat",(t,e)=>{cl.init(t,e),ls.init(t,e)}),dg=O("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=zS),Et.init(t,e)}),pg=O("$ZodUUID",(t,e)=>{if(e.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=ga(n))}else e.pattern??(e.pattern=ga());Et.init(t,e)}),fg=O("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=MS),Et.init(t,e)}),mg=O("$ZodURL",(t,e)=>{Et.init(t,e),t._zod.check=r=>{try{let n=r.value,i=new URL(n),o=i.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:VS.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!n.endsWith("/")&&o.endsWith("/")?r.value=o.slice(0,-1):r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),hg=O("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=US()),Et.init(t,e)}),gg=O("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=jS),Et.init(t,e)}),vg=O("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=IS),Et.init(t,e)}),yg=O("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=RS),Et.init(t,e)}),bg=O("$ZodULID",(t,e)=>{e.pattern??(e.pattern=OS),Et.init(t,e)}),_g=O("$ZodXID",(t,e)=>{e.pattern??(e.pattern=AS),Et.init(t,e)}),xg=O("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=NS),Et.init(t,e)}),$k=O("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=JS(e)),Et.init(t,e)}),Ek=O("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=WS),Et.init(t,e)}),Tk=O("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=GS(e)),Et.init(t,e)}),Ck=O("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=DS),Et.init(t,e)}),wg=O("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=LS),Et.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),Sg=O("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=FS),Et.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),kg=O("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=qS),Et.init(t,e)}),$g=O("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=ZS),Et.init(t,e),t._zod.check=r=>{let[n,i]=r.value.split("/");try{if(!i)throw new Error;let o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function Pk(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var Eg=O("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=BS),Et.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{Pk(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function DL(t){if(!sg.test(t))return!1;let e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return Pk(r)}var Tg=O("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=sg),Et.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{DL(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Cg=O("$ZodE164",(t,e)=>{e.pattern??(e.pattern=HS),Et.init(t,e)});function zL(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}var Pg=O("$ZodJWT",(t,e)=>{Et.init(t,e),t._zod.check=r=>{zL(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),Ig=O("$ZodCustomStringFormat",(t,e)=>{Et.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort})}}),Od=O("$ZodNumber",(t,e)=>{Le.init(t,e),t._zod.pattern=t._zod.bag.pattern??XS,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),r}}),Rg=O("$ZodNumber",(t,e)=>{sk.init(t,e),Od.init(t,e)}),ll=O("$ZodBoolean",(t,e)=>{Le.init(t,e),t._zod.pattern=ek,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),Ad=O("$ZodBigInt",(t,e)=>{Le.init(t,e),t._zod.pattern=YS,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r}}),Og=O("$ZodBigInt",(t,e)=>{ak.init(t,e),Ad.init(t,e)}),Ag=O("$ZodSymbol",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:t}),r}}),Ng=O("$ZodUndefined",(t,e)=>{Le.init(t,e),t._zod.pattern=rk,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),r}}),jg=O("$ZodNull",(t,e)=>{Le.init(t,e),t._zod.pattern=tk,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),r}}),Dg=O("$ZodAny",(t,e)=>{Le.init(t,e),t._zod.parse=r=>r}),va=O("$ZodUnknown",(t,e)=>{Le.init(t,e),t._zod.parse=r=>r}),zg=O("$ZodNever",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),Mg=O("$ZodVoid",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:t}),r}}),Ug=O("$ZodDate",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:t}),r}});function $L(t,e,r){t.issues.length&&e.issues.push(...dn(r,t.issues)),e.value[r]=t.value}var ul=O("$ZodArray",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);let o=[];for(let s=0;s<i.length;s++){let a=i[s],c=e.element._zod.run({value:a,issues:[]},n);c instanceof Promise?o.push(c.then(l=>$L(l,r,s))):$L(c,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function lg(t,e,r){t.issues.length&&e.issues.push(...dn(r,t.issues)),e.value[r]=t.value}function EL(t,e,r,n){t.issues.length?n[r]===void 0?r in n?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...dn(r,t.issues)):t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}var Nd=O("$ZodObject",(t,e)=>{Le.init(t,e);let r=$d(()=>{let d=Object.keys(e.shape);for(let p of d)if(!(e.shape[p]instanceof Le))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);let m=ES(e.shape);return{shape:e.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(m)}});xt(t._zod,"propValues",()=>{let d=e.shape,m={};for(let p in d){let f=d[p]._zod;if(f.values){m[p]??(m[p]=new Set);for(let v of f.values)m[p].add(v)}}return m});let n=d=>{let m=new Rd(["shape","payload","ctx"]),p=r.value,f=b=>{let y=pa(b);return`shape[${y}]._zod.run({ value: input[${y}], issues: [] }, ctx)`};m.write("const input = payload.value;");let v=Object.create(null),g=0;for(let b of p.keys)v[b]=`key_${g++}`;m.write("const newResult = {}");for(let b of p.keys)if(p.optionalKeys.has(b)){let y=v[b];m.write(`const ${y} = ${f(b)};`);let _=pa(b);m.write(`
        if (${y}.issues.length) {
          if (input[${_}] === undefined) {
            if (${_} in input) {
              newResult[${_}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${y}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${_}, ...iss.path] : [${_}],
              }))
            );
          }
        } else if (${y}.value === undefined) {
          if (${_} in input) newResult[${_}] = undefined;
        } else {
          newResult[${_}] = ${y}.value;
        }
        `)}else{let y=v[b];m.write(`const ${y} = ${f(b)};`),m.write(`
          if (${y}.issues.length) payload.issues = payload.issues.concat(${y}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${pa(b)}, ...iss.path] : [${pa(b)}]
          })));`),m.write(`newResult[${pa(b)}] = ${y}.value`)}m.write("payload.value = newResult;"),m.write("return payload;");let h=m.compile();return(b,y)=>h(d,b,y)},i,o=nl,s=!wd.jitless,c=s&&kS.value,l=e.catchall,u;t._zod.parse=(d,m)=>{u??(u=r.value);let p=d.value;if(!o(p))return d.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),d;let f=[];if(s&&c&&m?.async===!1&&m.jitless!==!0)i||(i=n(e.shape)),d=i(d,m);else{d.value={};let y=u.shape;for(let _ of u.keys){let x=y[_],w=x._zod.run({value:p[_],issues:[]},m),S=x._zod.optin==="optional"&&x._zod.optout==="optional";w instanceof Promise?f.push(w.then($=>S?EL($,d,_,p):lg($,d,_))):S?EL(w,d,_,p):lg(w,d,_)}}if(!l)return f.length?Promise.all(f).then(()=>d):d;let v=[],g=u.keySet,h=l._zod,b=h.def.type;for(let y of Object.keys(p)){if(g.has(y))continue;if(b==="never"){v.push(y);continue}let _=h.run({value:p[y],issues:[]},m);_ instanceof Promise?f.push(_.then(x=>lg(x,d,y))):lg(_,d,y)}return v.length&&d.issues.push({code:"unrecognized_keys",keys:v,input:p,inst:t}),f.length?Promise.all(f).then(()=>d):d}});function TL(t,e,r,n){for(let i of t)if(i.issues.length===0)return e.value=i.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(i=>i.issues.map(o=>Tn(o,n,Qt())))}),e}var jd=O("$ZodUnion",(t,e)=>{Le.init(t,e),xt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),xt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),xt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),xt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){let r=e.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>Ed(n.source)).join("|")})$`)}}),t._zod.parse=(r,n)=>{let i=!1,o=[];for(let s of e.options){let a=s._zod.run({value:r.value,issues:[]},n);if(a instanceof Promise)o.push(a),i=!0;else{if(a.issues.length===0)return a;o.push(a)}}return i?Promise.all(o).then(s=>TL(s,r,t,n)):TL(o,r,t,n)}}),Lg=O("$ZodDiscriminatedUnion",(t,e)=>{jd.init(t,e);let r=t._zod.parse;xt(t._zod,"propValues",()=>{let i={};for(let o of e.options){let s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let[a,c]of Object.entries(s)){i[a]||(i[a]=new Set);for(let l of c)i[a].add(l)}}return i});let n=$d(()=>{let i=e.options,o=new Map;for(let s of i){let a=s._zod.propValues[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(let c of a){if(o.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);o.set(c,s)}}return o});t._zod.parse=(i,o)=>{let s=i.value;if(!nl(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:t}),i;let a=n.value.get(s?.[e.discriminator]);return a?a._zod.run(i,o):e.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:s,path:[e.discriminator],inst:t}),i)}}),Fg=O("$ZodIntersection",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value,o=e.left._zod.run({value:i,issues:[]},n),s=e.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,l])=>CL(r,c,l)):CL(r,o,s)}});function kk(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(il(t)&&il(e)){let r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(let o of n){let s=kk(t[o],e[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n],s=kk(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function CL(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),fa(t))return t;let n=kk(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}var us=O("$ZodTuple",(t,e)=>{Le.init(t,e);let r=e.items,n=r.length-[...r].reverse().findIndex(i=>i._zod.optin!=="optional");t._zod.parse=(i,o)=>{let s=i.value;if(!Array.isArray(s))return i.issues.push({input:s,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];let a=[];if(!e.rest){let l=s.length>r.length,u=s.length<n-1;if(l||u)return i.issues.push({input:s,inst:t,origin:"array",...l?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length}}),i}let c=-1;for(let l of r){if(c++,c>=s.length&&c>=n)continue;let u=l._zod.run({value:s[c],issues:[]},o);u instanceof Promise?a.push(u.then(d=>ug(d,i,c))):ug(u,i,c)}if(e.rest){let l=s.slice(r.length);for(let u of l){c++;let d=e.rest._zod.run({value:u,issues:[]},o);d instanceof Promise?a.push(d.then(m=>ug(m,i,c))):ug(d,i,c)}}return a.length?Promise.all(a).then(()=>i):i}});function ug(t,e,r){t.issues.length&&e.issues.push(...dn(r,t.issues)),e.value[r]=t.value}var qg=O("$ZodRecord",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!il(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;let o=[];if(e.keyType._zod.values){let s=e.keyType._zod.values;r.value={};for(let c of s)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){let l=e.valueType._zod.run({value:i[c],issues:[]},n);l instanceof Promise?o.push(l.then(u=>{u.issues.length&&r.issues.push(...dn(c,u.issues)),r.value[c]=u.value})):(l.issues.length&&r.issues.push(...dn(c,l.issues)),r.value[c]=l.value)}let a;for(let c in i)s.has(c)||(a=a??[],a.push(c));a&&a.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:a})}else{r.value={};for(let s of Reflect.ownKeys(i)){if(s==="__proto__")continue;let a=e.keyType._zod.run({value:s,issues:[]},n);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(l=>Tn(l,n,Qt())),input:s,path:[s],inst:t}),r.value[a.value]=a.value;continue}let c=e.valueType._zod.run({value:i[s],issues:[]},n);c instanceof Promise?o.push(c.then(l=>{l.issues.length&&r.issues.push(...dn(s,l.issues)),r.value[a.value]=l.value})):(c.issues.length&&r.issues.push(...dn(s,c.issues)),r.value[a.value]=c.value)}}return o.length?Promise.all(o).then(()=>r):r}}),Zg=O("$ZodMap",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:t}),r;let o=[];r.value=new Map;for(let[s,a]of i){let c=e.keyType._zod.run({value:s,issues:[]},n),l=e.valueType._zod.run({value:a,issues:[]},n);c instanceof Promise||l instanceof Promise?o.push(Promise.all([c,l]).then(([u,d])=>{PL(u,d,r,s,i,t,n)})):PL(c,l,r,s,i,t,n)}return o.length?Promise.all(o).then(()=>r):r}});function PL(t,e,r,n,i,o,s){t.issues.length&&(Td.has(typeof n)?r.issues.push(...dn(n,t.issues)):r.issues.push({origin:"map",code:"invalid_key",input:i,inst:o,issues:t.issues.map(a=>Tn(a,s,Qt()))})),e.issues.length&&(Td.has(typeof n)?r.issues.push(...dn(n,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:n,issues:e.issues.map(a=>Tn(a,s,Qt()))})),r.value.set(t.value,e.value)}var Bg=O("$ZodSet",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:t,expected:"set",code:"invalid_type"}),r;let o=[];r.value=new Set;for(let s of i){let a=e.valueType._zod.run({value:s,issues:[]},n);a instanceof Promise?o.push(a.then(c=>IL(c,r))):IL(a,r)}return o.length?Promise.all(o).then(()=>r):r}});function IL(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var Vg=O("$ZodEnum",(t,e)=>{Le.init(t,e);let r=kd(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(n=>Td.has(typeof n)).map(n=>typeof n=="string"?ho(n):n.toString()).join("|")})$`),t._zod.parse=(n,i)=>{let o=n.value;return t._zod.values.has(o)||n.issues.push({code:"invalid_value",values:r,input:o,inst:t}),n}}),Hg=O("$ZodLiteral",(t,e)=>{Le.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?ho(r):r?r.toString():String(r)).join("|")})$`),t._zod.parse=(r,n)=>{let i=r.value;return t._zod.values.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}}),Wg=O("$ZodFile",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:t}),r}}),dl=O("$ZodTransform",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new ji;return r.value=i,r}}),Gg=O("$ZodOptional",(t,e)=>{Le.init(t,e),t._zod.optin="optional",t._zod.optout="optional",xt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),xt(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Ed(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,n):r.value===void 0?r:e.innerType._zod.run(r,n)}),Jg=O("$ZodNullable",(t,e)=>{Le.init(t,e),xt(t._zod,"optin",()=>e.innerType._zod.optin),xt(t._zod,"optout",()=>e.innerType._zod.optout),xt(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Ed(r.source)}|null)$`):void 0}),xt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),Kg=O("$ZodDefault",(t,e)=>{Le.init(t,e),t._zod.optin="optional",xt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=e.defaultValue,r;let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>RL(o,e)):RL(i,e)}});function RL(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var Yg=O("$ZodPrefault",(t,e)=>{Le.init(t,e),t._zod.optin="optional",xt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),Qg=O("$ZodNonOptional",(t,e)=>{Le.init(t,e),xt(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>OL(o,t)):OL(i,t)}});function OL(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var Xg=O("$ZodSuccess",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),ev=O("$ZodCatch",(t,e)=>{Le.init(t,e),t._zod.optin="optional",xt(t._zod,"optout",()=>e.innerType._zod.optout),xt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(s=>Tn(s,n,Qt()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(o=>Tn(o,n,Qt()))},input:r.value}),r.issues=[]),r)}}),tv=O("$ZodNaN",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r)}),pl=O("$ZodPipe",(t,e)=>{Le.init(t,e),xt(t._zod,"values",()=>e.in._zod.values),xt(t._zod,"optin",()=>e.in._zod.optin),xt(t._zod,"optout",()=>e.out._zod.optout),t._zod.parse=(r,n)=>{let i=e.in._zod.run(r,n);return i instanceof Promise?i.then(o=>AL(o,e,n)):AL(i,e,n)}});function AL(t,e,r){return fa(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}var rv=O("$ZodReadonly",(t,e)=>{Le.init(t,e),xt(t._zod,"propValues",()=>e.innerType._zod.propValues),xt(t._zod,"values",()=>e.innerType._zod.values),xt(t._zod,"optin",()=>e.innerType._zod.optin),xt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(NL):NL(i)}});function NL(t){return t.value=Object.freeze(t.value),t}var nv=O("$ZodTemplateLiteral",(t,e)=>{Le.init(t,e);let r=[];for(let n of e.parts)if(n instanceof Le){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let o=i.startsWith("^")?1:0,s=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(o,s))}else if(n===null||$S.has(typeof n))r.push(ho(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:t,expected:"template_literal",code:"invalid_type"}),n):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:t,code:"invalid_format",format:"template_literal",pattern:t._zod.pattern.source}),n)}),iv=O("$ZodPromise",(t,e)=>{Le.init(t,e),t._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>e.innerType._zod.run({value:i,issues:[]},n))}),ov=O("$ZodLazy",(t,e)=>{Le.init(t,e),xt(t._zod,"innerType",()=>e.getter()),xt(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),xt(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),xt(t._zod,"optin",()=>t._zod.innerType._zod.optin),xt(t._zod,"optout",()=>t._zod.innerType._zod.optout),t._zod.parse=(r,n)=>t._zod.innerType._zod.run(r,n)}),sv=O("$ZodCustom",(t,e)=>{qt.init(t,e),Le.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{let n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(o=>jL(o,r,n,t));jL(i,r,n,t)}});function jL(t,e,r,n){if(!t){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(PS(i))}}var fl={};_i(fl,{ar:()=>UL,az:()=>LL,be:()=>qL,ca:()=>ZL,cs:()=>BL,de:()=>VL,en:()=>av,eo:()=>HL,es:()=>WL,fa:()=>GL,fi:()=>JL,fr:()=>KL,frCA:()=>YL,he:()=>QL,hu:()=>XL,id:()=>eF,it:()=>tF,ja:()=>rF,kh:()=>nF,ko:()=>iF,mk:()=>oF,ms:()=>sF,nl:()=>aF,no:()=>cF,ota:()=>lF,pl:()=>dF,ps:()=>uF,pt:()=>pF,ru:()=>mF,sl:()=>hF,sv:()=>gF,ta:()=>vF,th:()=>yF,tr:()=>bF,ua:()=>_F,ur:()=>xF,vi:()=>wF,zhCN:()=>SF,zhTW:()=>kF});var Rue=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return i=>{switch(i.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${i.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${se(i.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${i.prefix}"`:o.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${o.suffix}"`:o.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${o.includes}"`:o.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${o.pattern}`:`${n[o.format]??i.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${i.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${i.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${i.keys.length>1?"\u0629":""}: ${Z(i.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function UL(){return{localeError:Rue()}}var Oue=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${i.expected}, daxil olan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${se(i.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${o.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:o.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${o.suffix}" il\u0259 bitm\u0259lidir`:o.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${o.includes}" daxil olmal\u0131d\u0131r`:o.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${o.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${n[o.format]??i.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${i.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${i.keys.length>1?"lar":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${i.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function LL(){return{localeError:Oue()}}function FL(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var Aue=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(i))return"\u043C\u0430\u0441\u0456\u045E";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return i=>{switch(i.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${i.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${se(i.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=FL(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.maximum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=FL(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.minimum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${n[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${i.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${Z(i.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${i.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function qL(){return{localeError:Aue()}}var Nue=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${i.expected}, s'ha rebut ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Valor inv\xE0lid: s'esperava ${se(i.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${Z(i.values," o ")}`;case"too_big":{let o=i.inclusive?"com a m\xE0xim":"menys de",s=e(i.origin);return s?`Massa gran: s'esperava que ${i.origin??"el valor"} contingu\xE9s ${o} ${i.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"com a m\xEDnim":"m\xE9s de",s=e(i.origin);return s?`Massa petit: s'esperava que ${i.origin} contingu\xE9s ${o} ${i.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${o.prefix}"`:o.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${o.suffix}"`:o.format==="includes"?`Format inv\xE0lid: ha d'incloure "${o.includes}"`:o.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${o.pattern}`:`Format inv\xE0lid per a ${n[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${i.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${i.origin}`;default:return"Entrada inv\xE0lida"}}};function ZL(){return{localeError:Nue()}}var jue=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${i.expected}, obdr\u017Eeno ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${se(i.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${o.prefix}"`:o.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${o.suffix}"`:o.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${o.includes}"`:o.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${o.pattern}`:`Neplatn\xFD form\xE1t ${n[o.format]??i.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${i.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${Z(i.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${i.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${i.origin}`;default:return"Neplatn\xFD vstup"}}};function BL(){return{localeError:jue()}}var Due=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${i.expected}, erhalten ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ung\xFCltige Eingabe: erwartet ${se(i.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ist`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ist`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ung\xFCltiger String: muss mit "${o.prefix}" beginnen`:o.format==="ends_with"?`Ung\xFCltiger String: muss mit "${o.suffix}" enden`:o.format==="includes"?`Ung\xFCltiger String: muss "${o.includes}" enthalten`:o.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${o.pattern} entsprechen`:`Ung\xFCltig: ${n[o.format]??i.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${Z(i.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${i.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${i.origin}`;default:return"Ung\xFCltige Eingabe"}}};function VL(){return{localeError:Due()}}var zue=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},Mue=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(n){return t[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${zue(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${se(n.values[0])}`:`Invalid option: expected one of ${Z(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=e(n.origin);return o?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${o.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=e(n.origin);return o?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${o.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${Z(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function av(){return{localeError:Mue()}}var Uue=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},Lue=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(n){return t[n]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${n.expected}, ricevi\u011Dis ${Uue(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendi\u011Dis ${se(n.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${Z(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=e(n.origin);return o?`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()} ${o.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=e(n.origin);return o?`Tro malgranda: atendi\u011Dis ke ${n.origin} havu ${i}${n.minimum.toString()} ${o.unit}`:`Tro malgranda: atendi\u011Dis ke ${n.origin} estu ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${r[i.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} \u015Dlosilo${n.keys.length>1?"j":""}: ${Z(n.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}};function HL(){return{localeError:Lue()}}var Fue=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(i))return"arreglo";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype)return i.constructor.name}}return o},n={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${i.expected}, recibido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: se esperaba ${se(i.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Demasiado grande: se esperaba que ${i.origin??"valor"} tuviera ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${i.origin??"valor"} fuera ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Demasiado peque\xF1o: se esperaba que ${i.origin} tuviera ${o}${i.minimum.toString()} ${s.unit}`:`Demasiado peque\xF1o: se esperaba que ${i.origin} fuera ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${o.prefix}"`:o.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${o.suffix}"`:o.format==="includes"?`Cadena inv\xE1lida: debe incluir "${o.includes}"`:o.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${o.pattern}`:`Inv\xE1lido ${n[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Llave${i.keys.length>1?"s":""} desconocida${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${i.origin}`;default:return"Entrada inv\xE1lida"}}};function WL(){return{localeError:Fue()}}var que=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(i))return"\u0622\u0631\u0627\u06CC\u0647";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return i=>{switch(i.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${i.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${r(i.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return i.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${se(i.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${Z(i.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:o.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:o.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${o.includes}" \u0628\u0627\u0634\u062F`:o.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${o.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${n[o.format]??i.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${i.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${i.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${Z(i.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${i.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${i.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function GL(){return{localeError:que()}}var Zue=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${se(i.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${o}${i.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${o}${i.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${o.prefix}"`:o.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${o.suffix}"`:o.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${o.includes}"`:o.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${o.pattern}`:`Virheellinen ${n[o.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Z(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function JL(){return{localeError:Zue()}}var Bue=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return i=>{switch(i.code){case"invalid_type":return`Entr\xE9e invalide : ${i.expected} attendu, ${r(i.input)} re\xE7u`;case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : ${se(i.values[0])} attendu`:`Option invalide : une valeur parmi ${Z(i.values,"|")} attendue`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Trop grand : ${i.origin??"valeur"} doit ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit \xEAtre ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Trop petit : ${i.origin} doit ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : ${i.origin} doit \xEAtre ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${o.pattern}`:`${n[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Z(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function KL(){return{localeError:Bue()}}var Vue=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return i=>{switch(i.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${i.expected}, re\xE7u ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : attendu ${se(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u2264":"<",s=e(i.origin);return s?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${o}${i.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u2265":">",s=e(i.origin);return s?`Trop petit : attendu que ${i.origin} ait ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${i.origin} soit ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${o.pattern}`:`${n[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Z(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function YL(){return{localeError:Vue()}}var Hue=()=>{let t={string:{unit:"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u05E7\u05DC\u05D8",email:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",url:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",emoji:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",date:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",time:"\u05D6\u05DE\u05DF ISO",duration:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",ipv4:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",ipv6:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",cidrv4:"\u05D8\u05D5\u05D5\u05D7 IPv4",cidrv6:"\u05D8\u05D5\u05D5\u05D7 IPv6",base64:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",base64url:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",json_string:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",e164:"\u05DE\u05E1\u05E4\u05E8 E.164",jwt:"JWT",template_literal:"\u05E7\u05DC\u05D8"};return i=>{switch(i.code){case"invalid_type":return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${i.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${se(i.values[0])}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${i.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${o}${i.maximum.toString()} ${s.unit??"elements"}`:`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${i.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${i.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${o}${i.minimum.toString()} ${s.unit}`:`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${i.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${o.prefix}"`:o.format==="ends_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${o.suffix}"`:o.format==="includes"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${o.includes}"`:o.format==="regex"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${o.pattern}`:`${n[o.format]??i.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${i.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${i.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${i.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${Z(i.keys,", ")}`;case"invalid_key":return`\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${i.origin}`;case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${i.origin}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function QL(){return{localeError:Hue()}}var Wue=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(i))return"t\xF6mb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${i.expected}, a kapott \xE9rt\xE9k ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${se(i.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`T\xFAl nagy: ${i.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${o}${i.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${i.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} m\xE9rete t\xFAl kicsi ${o}${i.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} t\xFAl kicsi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\xC9rv\xE9nytelen string: "${o.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:o.format==="ends_with"?`\xC9rv\xE9nytelen string: "${o.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:o.format==="includes"?`\xC9rv\xE9nytelen string: "${o.includes}" \xE9rt\xE9ket kell tartalmaznia`:o.format==="regex"?`\xC9rv\xE9nytelen string: ${o.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${n[o.format]??i.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${i.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${i.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${i.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function XL(){return{localeError:Wue()}}var Gue=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${se(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: diharapkan ${i.origin} memiliki ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak valid: harus dimulai dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak valid: harus berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak valid: harus menyertakan "${o.includes}"`:o.format==="regex"?`String tidak valid: harus sesuai pola ${o.pattern}`:`${n[o.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function eF(){return{localeError:Gue()}}var Jue=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${se(i.values[0])}`:`Opzione non valida: atteso uno tra ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Troppo grande: ${i.origin??"valore"} deve avere ${o}${i.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Troppo piccolo: ${i.origin} deve avere ${o}${i.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${i.origin} deve essere ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Stringa non valida: deve iniziare con "${o.prefix}"`:o.format==="ends_with"?`Stringa non valida: deve terminare con "${o.suffix}"`:o.format==="includes"?`Stringa non valida: deve includere "${o.includes}"`:o.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${o.pattern}`:`Invalid ${n[o.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${Z(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function tF(){return{localeError:Jue()}}var Kue=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(i))return"\u914D\u5217";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return i=>{switch(i.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${i.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${r(i.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return i.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${se(i.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${Z(i.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let o=i.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=e(i.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${s.unit??"\u8981\u7D20"}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let o=i.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=e(i.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${s.unit}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${o.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${n[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${i.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${i.keys.length>1?"\u7FA4":""}: ${Z(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function rF(){return{localeError:Kue()}}var Yue=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(i))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(i===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return i=>{switch(i.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${se(i.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${o.prefix}"`:o.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${o.suffix}"`:o.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${o.includes}"`:o.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${o.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${n[o.format]??i.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${i.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${Z(i.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function nF(){return{localeError:Yue()}}var Que=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return i=>{switch(i.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${i.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${r(i.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return i.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${se(i.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${Z(i.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let o=i.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=o==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()} ${o}${s}`}case"too_small":{let o=i.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=o==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()} ${o}${s}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:o.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${o.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${n[o.format]??i.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${i.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${Z(i.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${i.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${i.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function iF(){return{localeError:Que()}}var Xue=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(i))return"\u043D\u0438\u0437\u0430";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return i=>{switch(i.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${se(i.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${o.pattern}`:`Invalid ${n[o.format]??i.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${Z(i.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${i.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${i.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function oF(){return{localeError:Xue()}}var ede=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${se(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: dijangka ${i.origin??"nilai"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: dijangka ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak sah: mesti bermula dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak sah: mesti mengandungi "${o.includes}"`:o.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${o.pattern}`:`${n[o.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Z(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function sF(){return{localeError:ede()}}var tde=()=>{let t={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${se(i.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Te lang: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} ${s.unit??"elementen"} bevat`:`Te lang: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} is`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Te kort: verwacht dat ${i.origin} ${o}${i.minimum.toString()} ${s.unit} bevat`:`Te kort: verwacht dat ${i.origin} ${o}${i.minimum.toString()} is`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ongeldige tekst: moet met "${o.prefix}" beginnen`:o.format==="ends_with"?`Ongeldige tekst: moet op "${o.suffix}" eindigen`:o.format==="includes"?`Ongeldige tekst: moet "${o.includes}" bevatten`:o.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${o.pattern}`:`Ongeldig: ${n[o.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function aF(){return{localeError:tde()}}var rde=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${se(i.values[0])}`:`Ugyldig valg: forventet en av ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${o.pattern}`:`Ugyldig ${n[o.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${Z(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function cF(){return{localeError:rde()}}var nde=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`F\xE2sit giren: umulan ${i.expected}, al\u0131nan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`F\xE2sit giren: umulan ${se(i.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let o=i;return o.format==="starts_with"?`F\xE2sit metin: "${o.prefix}" ile ba\u015Flamal\u0131.`:o.format==="ends_with"?`F\xE2sit metin: "${o.suffix}" ile bitmeli.`:o.format==="includes"?`F\xE2sit metin: "${o.includes}" ihtiv\xE2 etmeli.`:o.format==="regex"?`F\xE2sit metin: ${o.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${n[o.format]??i.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${i.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${i.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function lF(){return{localeError:nde()}}var ide=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(i))return"\u0627\u0631\u06D0";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return i=>{switch(i.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${i.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${r(i.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return i.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${se(i.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${Z(i.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0648\u064A`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0648\u064A`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:o.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:o.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${o.includes}" \u0648\u0644\u0631\u064A`:o.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${o.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${n[o.format]??i.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${i.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${i.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${Z(i.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${i.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${i.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function uF(){return{localeError:ide()}}var ode=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return i=>{switch(i.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${i.expected}, otrzymano ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${se(i.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${o.prefix}"`:o.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${o.suffix}"`:o.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${o.includes}"`:o.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${o.pattern}`:`Nieprawid\u0142ow(y/a/e) ${n[o.format]??i.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${i.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${i.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function dF(){return{localeError:ode()}}var sde=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${i.expected}, recebido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: esperado ${se(i.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Muito pequeno: esperado que ${i.origin} tivesse ${o}${i.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${o.prefix}"`:o.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${o.suffix}"`:o.format==="includes"?`Texto inv\xE1lido: deve incluir "${o.includes}"`:o.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${o.pattern}`:`${n[o.format]??i.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${i.origin}`;default:return"Campo inv\xE1lido"}}};function pF(){return{localeError:sde()}}function fF(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var ade=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(i))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return i=>{switch(i.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${se(i.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=fF(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.maximum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=fF(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.minimum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${n[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${i.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0438":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function mF(){return{localeError:ade()}}var cde=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${i.expected}, prejeto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${se(i.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} imelo ${o}${i.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${i.origin} imelo ${o}${i.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${o.prefix}"`:o.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${o.suffix}"`:o.format==="includes"?`Neveljaven niz: mora vsebovati "${o.includes}"`:o.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${o.pattern}`:`Neveljaven ${n[o.format]??i.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${Z(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function hF(){return{localeError:cde()}}var lde=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${i.expected}, fick ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${se(i.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${o.prefix}"`:o.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${o.suffix}"`:o.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${o.includes}"`:o.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${o.pattern}"`:`Ogiltig(t) ${n[o.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${Z(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${i.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function gF(){return{localeError:lde()}}var ude=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(i))return"\u0B85\u0BA3\u0BBF";if(i===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${se(i.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Z(i.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${o.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${n[o.format]??i.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${i.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${i.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function vF(){return{localeError:ude()}}var dde=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(i))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(i===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return i=>{switch(i.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${i.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${se(i.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${o.prefix}"`:o.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${o.suffix}"`:o.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${o.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:o.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${o.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${n[o.format]??i.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${i.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${Z(i.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function yF(){return{localeError:dde()}}var pde=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},fde=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(n){return t[n]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${n.expected}, al\u0131nan ${pde(n.input)}`;case"invalid_value":return n.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${se(n.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${Z(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",o=e(n.origin);return o?`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${i}${n.maximum.toString()} ${o.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",o=e(n.origin);return o?`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${i}${n.minimum.toString()} ${o.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Ge\xE7ersiz metin: "${i.prefix}" ile ba\u015Flamal\u0131`:i.format==="ends_with"?`Ge\xE7ersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Ge\xE7ersiz metin: "${i.includes}" i\xE7ermeli`:i.format==="regex"?`Ge\xE7ersiz metin: ${i.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[i.format]??n.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${n.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${n.keys.length>1?"lar":""}: ${Z(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${n.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function bF(){return{localeError:fde()}}var mde=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(i))return"\u043C\u0430\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return i=>{switch(i.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${i.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${se(i.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} \u0431\u0443\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${n[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0456":""}: ${Z(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${i.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function _F(){return{localeError:mde()}}var hde=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(i))return"\u0622\u0631\u06D2";if(i===null)return"\u0646\u0644";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return i=>{switch(i.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${i.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${r(i.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return i.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${se(i.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${Z(i.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${o}${i.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u06D2 ${o}${i.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u0627 ${o}${i.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${o.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${n[o.format]??i.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${i.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${i.keys.length>1?"\u0632":""}: ${Z(i.keys,"\u060C ")}`;case"invalid_key":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function xF(){return{localeError:hde()}}var gde=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(i))return"m\u1EA3ng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return i=>{switch(i.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${i.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${se(i.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${o.prefix}"`:o.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${o.suffix}"`:o.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${o.includes}"`:o.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${o.pattern}`:`${n[o.format]??i.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${i.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${Z(i.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function wF(){return{localeError:gde()}}var vde=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(i))return"\u6570\u7EC4";if(i===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return i=>{switch(i.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${i.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${se(i.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.prefix}" \u5F00\u5934`:o.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.suffix}" \u7ED3\u5C3E`:o.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${o.pattern}`:`\u65E0\u6548${n[o.format]??i.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${i.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${Z(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${i.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function SF(){return{localeError:vde()}}var yde=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(i){return t[i]??null}let r=i=>{let o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},n={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return i=>{switch(i.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${i.expected}\uFF0C\u4F46\u6536\u5230 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${se(i.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${Z(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.prefix}" \u958B\u982D`:o.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.suffix}" \u7D50\u5C3E`:o.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${o.pattern}`:`\u7121\u6548\u7684 ${n[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${i.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${i.keys.length>1?"\u5011":""}\uFF1A${Z(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function kF(){return{localeError:yde()}}var cv=Symbol("ZodOutput"),lv=Symbol("ZodInput"),ml=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){let n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}remove(e){return this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function Dd(){return new ml}var ci=Dd();function uv(t,e){return new t({type:"string",...te(e)})}function Ik(t,e){return new t({type:"string",coerce:!0,...te(e)})}function zd(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...te(e)})}function hl(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...te(e)})}function Md(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...te(e)})}function Ud(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...te(e)})}function Ld(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...te(e)})}function Fd(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...te(e)})}function qd(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...te(e)})}function Zd(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...te(e)})}function Bd(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...te(e)})}function Vd(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...te(e)})}function Hd(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...te(e)})}function Wd(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...te(e)})}function Gd(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...te(e)})}function Jd(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...te(e)})}function Kd(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...te(e)})}function Yd(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...te(e)})}function Qd(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...te(e)})}function Xd(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...te(e)})}function ep(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...te(e)})}function tp(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...te(e)})}function rp(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...te(e)})}function np(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...te(e)})}var dv={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Rk(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...te(e)})}function Ok(t,e){return new t({type:"string",format:"date",check:"string_format",...te(e)})}function Ak(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...te(e)})}function Nk(t,e){return new t({type:"string",format:"duration",check:"string_format",...te(e)})}function pv(t,e){return new t({type:"number",checks:[],...te(e)})}function jk(t,e){return new t({type:"number",coerce:!0,checks:[],...te(e)})}function fv(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...te(e)})}function mv(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...te(e)})}function hv(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...te(e)})}function gv(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...te(e)})}function vv(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...te(e)})}function yv(t,e){return new t({type:"boolean",...te(e)})}function Dk(t,e){return new t({type:"boolean",coerce:!0,...te(e)})}function bv(t,e){return new t({type:"bigint",...te(e)})}function zk(t,e){return new t({type:"bigint",coerce:!0,...te(e)})}function _v(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...te(e)})}function xv(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...te(e)})}function wv(t,e){return new t({type:"symbol",...te(e)})}function Sv(t,e){return new t({type:"undefined",...te(e)})}function kv(t,e){return new t({type:"null",...te(e)})}function $v(t){return new t({type:"any"})}function ya(t){return new t({type:"unknown"})}function Ev(t,e){return new t({type:"never",...te(e)})}function Tv(t,e){return new t({type:"void",...te(e)})}function Cv(t,e){return new t({type:"date",...te(e)})}function Mk(t,e){return new t({type:"date",coerce:!0,...te(e)})}function Pv(t,e){return new t({type:"nan",...te(e)})}function go(t,e){return new ag({check:"less_than",...te(e),value:t,inclusive:!1})}function Ln(t,e){return new ag({check:"less_than",...te(e),value:t,inclusive:!0})}function vo(t,e){return new cg({check:"greater_than",...te(e),value:t,inclusive:!1})}function pn(t,e){return new cg({check:"greater_than",...te(e),value:t,inclusive:!0})}function Uk(t){return vo(0,t)}function Lk(t){return go(0,t)}function Fk(t){return Ln(0,t)}function qk(t){return pn(0,t)}function ba(t,e){return new ok({check:"multiple_of",...te(e),value:t})}function gl(t,e){return new ck({check:"max_size",...te(e),maximum:t})}function _a(t,e){return new lk({check:"min_size",...te(e),minimum:t})}function ip(t,e){return new uk({check:"size_equals",...te(e),size:t})}function vl(t,e){return new dk({check:"max_length",...te(e),maximum:t})}function ds(t,e){return new pk({check:"min_length",...te(e),minimum:t})}function yl(t,e){return new fk({check:"length_equals",...te(e),length:t})}function op(t,e){return new mk({check:"string_format",format:"regex",...te(e),pattern:t})}function sp(t){return new hk({check:"string_format",format:"lowercase",...te(t)})}function ap(t){return new gk({check:"string_format",format:"uppercase",...te(t)})}function cp(t,e){return new vk({check:"string_format",format:"includes",...te(e),includes:t})}function lp(t,e){return new yk({check:"string_format",format:"starts_with",...te(e),prefix:t})}function up(t,e){return new bk({check:"string_format",format:"ends_with",...te(e),suffix:t})}function Zk(t,e,r){return new _k({check:"property",property:t,schema:e,...te(r)})}function dp(t,e){return new xk({check:"mime_type",mime:t,...te(e)})}function yo(t){return new wk({check:"overwrite",tx:t})}function pp(t){return yo(e=>e.normalize(t))}function fp(){return yo(t=>t.trim())}function mp(){return yo(t=>t.toLowerCase())}function hp(){return yo(t=>t.toUpperCase())}function gp(t,e,r){return new t({type:"array",element:e,...te(r)})}function bde(t,e,r){return new t({type:"union",options:e,...te(r)})}function _de(t,e,r,n){return new t({type:"union",options:r,discriminator:e,...te(n)})}function xde(t,e,r){return new t({type:"intersection",left:e,right:r})}function Bk(t,e,r,n){let i=r instanceof Le,o=i?n:r,s=i?r:null;return new t({type:"tuple",items:e,rest:s,...te(o)})}function wde(t,e,r,n){return new t({type:"record",keyType:e,valueType:r,...te(n)})}function Sde(t,e,r,n){return new t({type:"map",keyType:e,valueType:r,...te(n)})}function kde(t,e,r){return new t({type:"set",valueType:e,...te(r)})}function $de(t,e,r){let n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new t({type:"enum",entries:n,...te(r)})}function Ede(t,e,r){return new t({type:"enum",entries:e,...te(r)})}function Tde(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...te(r)})}function Iv(t,e){return new t({type:"file",...te(e)})}function Cde(t,e){return new t({type:"transform",transform:e})}function Pde(t,e){return new t({type:"optional",innerType:e})}function Ide(t,e){return new t({type:"nullable",innerType:e})}function Rde(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():r}})}function Ode(t,e,r){return new t({type:"nonoptional",innerType:e,...te(r)})}function Ade(t,e){return new t({type:"success",innerType:e})}function Nde(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function jde(t,e,r){return new t({type:"pipe",in:e,out:r})}function Dde(t,e){return new t({type:"readonly",innerType:e})}function zde(t,e,r){return new t({type:"template_literal",parts:e,...te(r)})}function Mde(t,e){return new t({type:"lazy",getter:e})}function Ude(t,e){return new t({type:"promise",innerType:e})}function Rv(t,e,r){let n=te(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function Ov(t,e,r){return new t({type:"custom",check:"custom",fn:e,...te(r)})}function Av(t,e){let r=te(e),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(f=>typeof f=="string"?f.toLowerCase():f),i=i.map(f=>typeof f=="string"?f.toLowerCase():f));let o=new Set(n),s=new Set(i),a=t.Pipe??pl,c=t.Boolean??ll,l=t.String??ls,u=t.Transform??dl,d=new u({type:"transform",transform:(f,v)=>{let g=f;return r.case!=="sensitive"&&(g=g.toLowerCase()),o.has(g)?!0:s.has(g)?!1:(v.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...s],input:v.value,inst:d}),{})},error:r.error}),m=new a({type:"pipe",in:new l({type:"string",error:r.error}),out:d,error:r.error});return new a({type:"pipe",in:m,out:new c({type:"boolean",error:r.error}),error:r.error})}function Nv(t,e,r,n={}){let i=te(n),o={...te(n),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:a=>r.test(a),...i};return r instanceof RegExp&&(o.pattern=r),new t(o)}var jv=class{constructor(e){this._def=e,this.def=e}implement(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let r=(...n)=>{let i=this._def.input?ma(this._def.input,n,void 0,{callee:r}):n;if(!Array.isArray(i))throw new Error("Invalid arguments schema: not an array or tuple schema.");let o=e(...i);return this._def.output?ma(this._def.output,o,void 0,{callee:r}):o};return r}implementAsync(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let r=async(...n)=>{let i=this._def.input?await ha(this._def.input,n,void 0,{callee:r}):n;if(!Array.isArray(i))throw new Error("Invalid arguments schema: not an array or tuple schema.");let o=await e(...i);return this._def.output?ha(this._def.output,o,void 0,{callee:r}):o};return r}input(...e){let r=this.constructor;return Array.isArray(e[0])?new r({type:"function",input:new us({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}):new r({type:"function",input:e[0],output:this._def.output})}output(e){let r=this.constructor;return new r({type:"function",input:this._def.input,output:e})}};function Dv(t){return new jv({type:"function",input:Array.isArray(t?.input)?Bk(us,t?.input):t?.input??gp(ul,ya(va)),output:t?.output??ya(va)})}var vp=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??ci,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,r={path:[],schemaPath:[]}){var n;let i=e._zod.def,o={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;let a={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(e,a);let c=e._zod.toJSONSchema?.();if(c)a.schema=c;else{let d={...r,schemaPath:[...r.schemaPath,e],path:r.path},m=e._zod.parent;if(m)a.ref=m,this.process(m,d),this.seen.get(m).isParent=!0;else{let p=a.schema;switch(i.type){case"string":{let f=p;f.type="string";let{minimum:v,maximum:g,format:h,patterns:b,contentEncoding:y}=e._zod.bag;if(typeof v=="number"&&(f.minLength=v),typeof g=="number"&&(f.maxLength=g),h&&(f.format=o[h]??h,f.format===""&&delete f.format),y&&(f.contentEncoding=y),b&&b.size>0){let _=[...b];_.length===1?f.pattern=_[0].source:_.length>1&&(a.schema.allOf=[..._.map(x=>({...this.target==="draft-7"?{type:"string"}:{},pattern:x.source}))])}break}case"number":{let f=p,{minimum:v,maximum:g,format:h,multipleOf:b,exclusiveMaximum:y,exclusiveMinimum:_}=e._zod.bag;typeof h=="string"&&h.includes("int")?f.type="integer":f.type="number",typeof _=="number"&&(f.exclusiveMinimum=_),typeof v=="number"&&(f.minimum=v,typeof _=="number"&&(_>=v?delete f.minimum:delete f.exclusiveMinimum)),typeof y=="number"&&(f.exclusiveMaximum=y),typeof g=="number"&&(f.maximum=g,typeof y=="number"&&(y<=g?delete f.maximum:delete f.exclusiveMaximum)),typeof b=="number"&&(f.multipleOf=b);break}case"boolean":{let f=p;f.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{p.type="null";break}case"any":break;case"unknown":break;case"undefined":case"never":{p.not={};break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let f=p,{minimum:v,maximum:g}=e._zod.bag;typeof v=="number"&&(f.minItems=v),typeof g=="number"&&(f.maxItems=g),f.type="array",f.items=this.process(i.element,{...d,path:[...d.path,"items"]});break}case"object":{let f=p;f.type="object",f.properties={};let v=i.shape;for(let b in v)f.properties[b]=this.process(v[b],{...d,path:[...d.path,"properties",b]});let g=new Set(Object.keys(v)),h=new Set([...g].filter(b=>{let y=i.shape[b]._zod;return this.io==="input"?y.optin===void 0:y.optout===void 0}));h.size>0&&(f.required=Array.from(h)),i.catchall?._zod.def.type==="never"?f.additionalProperties=!1:i.catchall?i.catchall&&(f.additionalProperties=this.process(i.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(f.additionalProperties=!1);break}case"union":{let f=p;f.anyOf=i.options.map((v,g)=>this.process(v,{...d,path:[...d.path,"anyOf",g]}));break}case"intersection":{let f=p,v=this.process(i.left,{...d,path:[...d.path,"allOf",0]}),g=this.process(i.right,{...d,path:[...d.path,"allOf",1]}),h=y=>"allOf"in y&&Object.keys(y).length===1,b=[...h(v)?v.allOf:[v],...h(g)?g.allOf:[g]];f.allOf=b;break}case"tuple":{let f=p;f.type="array";let v=i.items.map((b,y)=>this.process(b,{...d,path:[...d.path,"prefixItems",y]}));if(this.target==="draft-2020-12"?f.prefixItems=v:f.items=v,i.rest){let b=this.process(i.rest,{...d,path:[...d.path,"items"]});this.target==="draft-2020-12"?f.items=b:f.additionalItems=b}i.rest&&(f.items=this.process(i.rest,{...d,path:[...d.path,"items"]}));let{minimum:g,maximum:h}=e._zod.bag;typeof g=="number"&&(f.minItems=g),typeof h=="number"&&(f.maxItems=h);break}case"record":{let f=p;f.type="object",f.propertyNames=this.process(i.keyType,{...d,path:[...d.path,"propertyNames"]}),f.additionalProperties=this.process(i.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let f=p,v=kd(i.entries);v.every(g=>typeof g=="number")&&(f.type="number"),v.every(g=>typeof g=="string")&&(f.type="string"),f.enum=v;break}case"literal":{let f=p,v=[];for(let g of i.values)if(g===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof g=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");v.push(Number(g))}else v.push(g);if(v.length!==0)if(v.length===1){let g=v[0];f.type=g===null?"null":typeof g,f.const=g}else v.every(g=>typeof g=="number")&&(f.type="number"),v.every(g=>typeof g=="string")&&(f.type="string"),v.every(g=>typeof g=="boolean")&&(f.type="string"),v.every(g=>g===null)&&(f.type="null"),f.enum=v;break}case"file":{let f=p,v={type:"string",format:"binary",contentEncoding:"binary"},{minimum:g,maximum:h,mime:b}=e._zod.bag;g!==void 0&&(v.minLength=g),h!==void 0&&(v.maxLength=h),b?b.length===1?(v.contentMediaType=b[0],Object.assign(f,v)):f.anyOf=b.map(y=>({...v,contentMediaType:y})):Object.assign(f,v);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let f=this.process(i.innerType,d);p.anyOf=[f,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,d),a.ref=i.innerType;break}case"success":{let f=p;f.type="boolean";break}case"default":{this.process(i.innerType,d),a.ref=i.innerType,p.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,d),a.ref=i.innerType,this.io==="input"&&(p._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,d),a.ref=i.innerType;let f;try{f=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}p.default=f;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let f=p,v=e._zod.pattern;if(!v)throw new Error("Pattern not found in template literal");f.type="string",f.pattern=v.source;break}case"pipe":{let f=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(f,d),a.ref=f;break}case"readonly":{this.process(i.innerType,d),a.ref=i.innerType,p.readOnly=!0;break}case"promise":{this.process(i.innerType,d),a.ref=i.innerType;break}case"optional":{this.process(i.innerType,d),a.ref=i.innerType;break}case"lazy":{let f=e._zod.innerType;this.process(f,d),a.ref=f;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}default:}}}let l=this.metadataRegistry.get(e);return l&&Object.assign(a.schema,l),this.io==="input"&&dr(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");let o=u=>{let d=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let v=n.external.registry.get(u[0])?.id;if(v)return{ref:n.external.uri(v)};let g=u[1].defId??u[1].schema.id??`schema${this.counter++}`;return u[1].defId=g,{defId:g,ref:`${n.external.uri("__shared")}#/${d}/${g}`}}if(u[1]===i)return{ref:"#"};let p=`#/${d}/`,f=u[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:p+f}},s=u=>{if(u[1].schema.$ref)return;let d=u[1],{ref:m,defId:p}=o(u);d.def={...d.schema},p&&(d.defId=p);let f=d.schema;for(let v in f)delete f[v];f.$ref=m};for(let u of this.seen.entries()){let d=u[1];if(e===u[0]){s(u);continue}if(n.external){let p=n.external.registry.get(u[0])?.id;if(e!==u[0]&&p){s(u);continue}}if(this.metadataRegistry.get(u[0])?.id){s(u);continue}if(d.cycle){if(n.cycles==="throw")throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);n.cycles==="ref"&&s(u);continue}if(d.count>1&&n.reused==="ref"){s(u);continue}}let a=(u,d)=>{let m=this.seen.get(u),p=m.def??m.schema,f={...p};if(m.ref===null)return;let v=m.ref;if(m.ref=null,v){a(v,d);let g=this.seen.get(v).schema;g.$ref&&d.target==="draft-7"?(p.allOf=p.allOf??[],p.allOf.push(g)):(Object.assign(p,g),Object.assign(p,f))}m.isParent||this.override({zodSchema:u,jsonSchema:p,path:m.path??[]})};for(let u of[...this.seen.entries()].reverse())a(u[0],{target:this.target});let c={};this.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?c.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),Object.assign(c,i.def);let l=n.external?.defs??{};for(let u of this.seen.entries()){let d=u[1];d.def&&d.defId&&(l[d.defId]=d.def)}!n.external&&Object.keys(l).length>0&&(this.target==="draft-2020-12"?c.$defs=l:c.definitions=l);try{return JSON.parse(JSON.stringify(c))}catch{throw new Error("Error converting schema to JSON.")}}};function bl(t,e){if(t instanceof ml){let n=new vp(e),i={};for(let a of t._idmap.entries()){let[c,l]=a;n.process(l)}let o={},s={registry:t,uri:e?.uri||(a=>a),defs:i};for(let a of t._idmap.entries()){let[c,l]=a;o[c]=n.emit(l,{...e,external:s})}if(Object.keys(i).length>0){let a=n.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[a]:i}}return{schemas:o}}let r=new vp(e);return r.process(t),r.emit(t,e)}function dr(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let i=t._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return dr(i.element,r);case"object":{for(let o in i.shape)if(dr(i.shape[o],r))return!0;return!1}case"union":{for(let o of i.options)if(dr(o,r))return!0;return!1}case"intersection":return dr(i.left,r)||dr(i.right,r);case"tuple":{for(let o of i.items)if(dr(o,r))return!0;return!!(i.rest&&dr(i.rest,r))}case"record":return dr(i.keyType,r)||dr(i.valueType,r);case"map":return dr(i.keyType,r)||dr(i.valueType,r);case"set":return dr(i.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return dr(i.innerType,r);case"lazy":return dr(i.getter(),r);case"default":return dr(i.innerType,r);case"prefault":return dr(i.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return dr(i.in,r)||dr(i.out,r);case"success":return!1;case"catch":return!1;default:}throw new Error(`Unknown schema type: ${i.type}`)}var $F={};var Fde=O("ZodMiniType",(t,e)=>{if(!t._zod)throw new Error("Uninitialized schema in ZodMiniType.");Le.init(t,e),t.def=e,t.parse=(r,n)=>ma(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>ss(t,r,n),t.parseAsync=async(r,n)=>ha(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>as(t,r,n),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>Nr(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t)});var qde=O("ZodMiniObject",(t,e)=>{Nd.init(t,e),Fde.init(t,e),ne.defineLazy(t,"shape",()=>e.shape)});function Vk(t,e){let r={type:"object",get shape(){return ne.assignProp(this,"shape",{...t}),this.shape},...ne.normalizeParams(e)};return new qde(r)}function Hr(t){return!!t._zod}function _l(t){let e=Object.values(t);if(e.length===0)return Vk({});let r=e.every(Hr),n=e.every(i=>!Hr(i));if(r)return Vk(t);if(n)return gw(t);throw new Error("Mixed Zod versions detected in object shape.")}function Wr(t,e){return Hr(t)?ss(t,e):t.safeParse(e)}async function zv(t,e){return Hr(t)?await as(t,e):await t.safeParseAsync(e)}function Di(t){var e,r;if(!t)return;let n;if(Hr(t)?n=(r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.shape:n=t.shape,!!n){if(typeof n=="function")try{return n()}catch{return}return n}}function xl(t){var e;if(t){if(typeof t=="object"){let r=t,n=t;if(!r._def&&!n._zod){let i=Object.values(t);if(i.length>0&&i.every(o=>typeof o=="object"&&o!==null&&(o._def!==void 0||o._zod!==void 0||typeof o.parse=="function")))return _l(t)}}if(Hr(t)){let n=(e=t._zod)===null||e===void 0?void 0:e.def;if(n&&(n.type==="object"||n.shape!==void 0))return t}else if(t.shape!==void 0)return t}}function Mv(t){if(t&&typeof t=="object"){if("message"in t&&typeof t.message=="string")return t.message;if("issues"in t&&Array.isArray(t.issues)&&t.issues.length>0){let e=t.issues[0];if(e&&typeof e=="object"&&"message"in e)return String(e.message)}try{return JSON.stringify(t)}catch{return String(t)}}return String(t)}function EF(t){var e,r,n,i;if(Hr(t))return(r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.description;let o=t;return(n=t.description)!==null&&n!==void 0?n:(i=o._def)===null||i===void 0?void 0:i.description}function TF(t){var e,r,n;if(Hr(t))return((r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.type)==="optional";let i=t;return typeof t.isOptional=="function"?t.isOptional():((n=i._def)===null||n===void 0?void 0:n.typeName)==="ZodOptional"}function Uv(t){var e;if(Hr(t)){let s=(e=t._zod)===null||e===void 0?void 0:e.def;if(s){if(s.value!==void 0)return s.value;if(Array.isArray(s.values)&&s.values.length>0)return s.values[0]}}let n=t._def;if(n){if(n.value!==void 0)return n.value;if(Array.isArray(n.values)&&n.values.length>0)return n.values[0]}let i=t.value;if(i!==void 0)return i}var Je={};_i(Je,{$brand:()=>Qh,$input:()=>lv,$output:()=>cv,NEVER:()=>Yh,TimePrecision:()=>dv,ZodAny:()=>NF,ZodArray:()=>MF,ZodBase64:()=>h$,ZodBase64URL:()=>g$,ZodBigInt:()=>wp,ZodBigIntFormat:()=>b$,ZodBoolean:()=>xp,ZodCIDRv4:()=>f$,ZodCIDRv6:()=>m$,ZodCUID:()=>s$,ZodCUID2:()=>a$,ZodCatch:()=>XF,ZodCustom:()=>Yv,ZodCustomStringFormat:()=>IF,ZodDate:()=>Gv,ZodDefault:()=>WF,ZodDiscriminatedUnion:()=>UF,ZodE164:()=>v$,ZodEmail:()=>r$,ZodEmoji:()=>i$,ZodEnum:()=>yp,ZodError:()=>Vde,ZodFile:()=>VF,ZodGUID:()=>Bv,ZodIPv4:()=>d$,ZodIPv6:()=>p$,ZodISODate:()=>Fv,ZodISODateTime:()=>Lv,ZodISODuration:()=>Zv,ZodISOTime:()=>qv,ZodIntersection:()=>LF,ZodIssueCode:()=>Bpe,ZodJWT:()=>y$,ZodKSUID:()=>u$,ZodLazy:()=>oq,ZodLiteral:()=>BF,ZodMap:()=>qF,ZodNaN:()=>tq,ZodNanoID:()=>o$,ZodNever:()=>DF,ZodNonOptional:()=>$$,ZodNull:()=>AF,ZodNullable:()=>HF,ZodNumber:()=>_p,ZodNumberFormat:()=>kl,ZodObject:()=>Jv,ZodOptional:()=>k$,ZodPipe:()=>E$,ZodPrefault:()=>JF,ZodPromise:()=>aq,ZodReadonly:()=>rq,ZodRealError:()=>Sl,ZodRecord:()=>x$,ZodSet:()=>ZF,ZodString:()=>bp,ZodStringFormat:()=>At,ZodSuccess:()=>QF,ZodSymbol:()=>RF,ZodTemplateLiteral:()=>iq,ZodTransform:()=>w$,ZodTuple:()=>FF,ZodType:()=>tt,ZodULID:()=>c$,ZodURL:()=>n$,ZodUUID:()=>bo,ZodUndefined:()=>OF,ZodUnion:()=>_$,ZodUnknown:()=>jF,ZodVoid:()=>zF,ZodXID:()=>l$,_ZodString:()=>t$,_default:()=>GF,any:()=>$pe,array:()=>lt,base64:()=>dpe,base64url:()=>ppe,bigint:()=>_pe,boolean:()=>pr,catch:()=>eq,check:()=>cq,cidrv4:()=>lpe,cidrv6:()=>upe,clone:()=>Nr,coerce:()=>C$,config:()=>Qt,core:()=>li,cuid:()=>rpe,cuid2:()=>npe,custom:()=>T$,date:()=>Tpe,discriminatedUnion:()=>Kv,e164:()=>fpe,email:()=>Wde,emoji:()=>epe,endsWith:()=>up,enum:()=>yr,file:()=>jpe,flattenError:()=>sl,float32:()=>gpe,float64:()=>vpe,formatError:()=>al,function:()=>Dv,getErrorMap:()=>Hpe,globalRegistry:()=>ci,gt:()=>vo,gte:()=>pn,guid:()=>Gde,includes:()=>cp,instanceof:()=>Fpe,int:()=>e$,int32:()=>ype,int64:()=>xpe,intersection:()=>kp,ipv4:()=>ape,ipv6:()=>cpe,iso:()=>wl,json:()=>Zpe,jwt:()=>mpe,keyof:()=>Cpe,ksuid:()=>spe,lazy:()=>sq,length:()=>yl,literal:()=>Ce,locales:()=>fl,looseObject:()=>Cn,lowercase:()=>sp,lt:()=>go,lte:()=>Ln,map:()=>Ope,maxLength:()=>vl,maxSize:()=>gl,mime:()=>dp,minLength:()=>ds,minSize:()=>_a,multipleOf:()=>ba,nan:()=>Mpe,nanoid:()=>tpe,nativeEnum:()=>Npe,negative:()=>Lk,never:()=>Wv,nonnegative:()=>qk,nonoptional:()=>YF,nonpositive:()=>Fk,normalize:()=>pp,null:()=>Sp,nullable:()=>Vv,nullish:()=>Dpe,number:()=>kt,object:()=>ie,optional:()=>Te,overwrite:()=>yo,parse:()=>Kk,parseAsync:()=>Yk,partialRecord:()=>Rpe,pipe:()=>Hv,positive:()=>Uk,prefault:()=>KF,preprocess:()=>Qv,prettifyError:()=>tg,promise:()=>Lpe,property:()=>Zk,readonly:()=>nq,record:()=>Yt,refine:()=>lq,regex:()=>op,regexes:()=>cs,registry:()=>Dd,safeParse:()=>Qk,safeParseAsync:()=>Xk,set:()=>Ape,setErrorMap:()=>Vpe,size:()=>ip,startsWith:()=>lp,strictObject:()=>Ppe,string:()=>M,stringFormat:()=>hpe,stringbool:()=>qpe,success:()=>zpe,superRefine:()=>uq,symbol:()=>Spe,templateLiteral:()=>Upe,toJSONSchema:()=>bl,toLowerCase:()=>mp,toUpperCase:()=>hp,transform:()=>S$,treeifyError:()=>eg,trim:()=>fp,tuple:()=>Ipe,uint32:()=>bpe,uint64:()=>wpe,ulid:()=>ipe,undefined:()=>kpe,union:()=>Tt,unknown:()=>Xt,uppercase:()=>ap,url:()=>Xde,uuid:()=>Jde,uuidv4:()=>Kde,uuidv6:()=>Yde,uuidv7:()=>Qde,void:()=>Epe,xid:()=>ope});var wl={};_i(wl,{ZodISODate:()=>Fv,ZodISODateTime:()=>Lv,ZodISODuration:()=>Zv,ZodISOTime:()=>qv,date:()=>Wk,datetime:()=>Hk,duration:()=>Jk,time:()=>Gk});var Lv=O("ZodISODateTime",(t,e)=>{$k.init(t,e),At.init(t,e)});function Hk(t){return Rk(Lv,t)}var Fv=O("ZodISODate",(t,e)=>{Ek.init(t,e),At.init(t,e)});function Wk(t){return Ok(Fv,t)}var qv=O("ZodISOTime",(t,e)=>{Tk.init(t,e),At.init(t,e)});function Gk(t){return Ak(qv,t)}var Zv=O("ZodISODuration",(t,e)=>{Ck.init(t,e),At.init(t,e)});function Jk(t){return Nk(Zv,t)}var PF=(t,e)=>{Id.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>al(t,r)},flatten:{value:r=>sl(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},Vde=O("ZodError",PF),Sl=O("ZodError",PF,{Parent:Error});var Kk=rg(Sl),Yk=ng(Sl),Qk=ig(Sl),Xk=og(Sl);var tt=O("ZodType",(t,e)=>(Le.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>Nr(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>Kk(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>Qk(t,r,n),t.parseAsync=async(r,n)=>Yk(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>Xk(t,r,n),t.spa=t.safeParseAsync,t.refine=(r,n)=>t.check(lq(r,n)),t.superRefine=r=>t.check(uq(r)),t.overwrite=r=>t.check(yo(r)),t.optional=()=>Te(t),t.nullable=()=>Vv(t),t.nullish=()=>Te(Vv(t)),t.nonoptional=r=>YF(t,r),t.array=()=>lt(t),t.or=r=>Tt([t,r]),t.and=r=>kp(t,r),t.transform=r=>Hv(t,S$(r)),t.default=r=>GF(t,r),t.prefault=r=>KF(t,r),t.catch=r=>eq(t,r),t.pipe=r=>Hv(t,r),t.readonly=()=>nq(t),t.describe=r=>{let n=t.clone();return ci.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return ci.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return ci.get(t);let n=t.clone();return ci.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),t$=O("_ZodString",(t,e)=>{ls.init(t,e),tt.init(t,e);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(op(...n)),t.includes=(...n)=>t.check(cp(...n)),t.startsWith=(...n)=>t.check(lp(...n)),t.endsWith=(...n)=>t.check(up(...n)),t.min=(...n)=>t.check(ds(...n)),t.max=(...n)=>t.check(vl(...n)),t.length=(...n)=>t.check(yl(...n)),t.nonempty=(...n)=>t.check(ds(1,...n)),t.lowercase=n=>t.check(sp(n)),t.uppercase=n=>t.check(ap(n)),t.trim=()=>t.check(fp()),t.normalize=(...n)=>t.check(pp(...n)),t.toLowerCase=()=>t.check(mp()),t.toUpperCase=()=>t.check(hp())}),bp=O("ZodString",(t,e)=>{ls.init(t,e),t$.init(t,e),t.email=r=>t.check(zd(r$,r)),t.url=r=>t.check(qd(n$,r)),t.jwt=r=>t.check(np(y$,r)),t.emoji=r=>t.check(Zd(i$,r)),t.guid=r=>t.check(hl(Bv,r)),t.uuid=r=>t.check(Md(bo,r)),t.uuidv4=r=>t.check(Ud(bo,r)),t.uuidv6=r=>t.check(Ld(bo,r)),t.uuidv7=r=>t.check(Fd(bo,r)),t.nanoid=r=>t.check(Bd(o$,r)),t.guid=r=>t.check(hl(Bv,r)),t.cuid=r=>t.check(Vd(s$,r)),t.cuid2=r=>t.check(Hd(a$,r)),t.ulid=r=>t.check(Wd(c$,r)),t.base64=r=>t.check(ep(h$,r)),t.base64url=r=>t.check(tp(g$,r)),t.xid=r=>t.check(Gd(l$,r)),t.ksuid=r=>t.check(Jd(u$,r)),t.ipv4=r=>t.check(Kd(d$,r)),t.ipv6=r=>t.check(Yd(p$,r)),t.cidrv4=r=>t.check(Qd(f$,r)),t.cidrv6=r=>t.check(Xd(m$,r)),t.e164=r=>t.check(rp(v$,r)),t.datetime=r=>t.check(Hk(r)),t.date=r=>t.check(Wk(r)),t.time=r=>t.check(Gk(r)),t.duration=r=>t.check(Jk(r))});function M(t){return uv(bp,t)}var At=O("ZodStringFormat",(t,e)=>{Et.init(t,e),t$.init(t,e)}),r$=O("ZodEmail",(t,e)=>{fg.init(t,e),At.init(t,e)});function Wde(t){return zd(r$,t)}var Bv=O("ZodGUID",(t,e)=>{dg.init(t,e),At.init(t,e)});function Gde(t){return hl(Bv,t)}var bo=O("ZodUUID",(t,e)=>{pg.init(t,e),At.init(t,e)});function Jde(t){return Md(bo,t)}function Kde(t){return Ud(bo,t)}function Yde(t){return Ld(bo,t)}function Qde(t){return Fd(bo,t)}var n$=O("ZodURL",(t,e)=>{mg.init(t,e),At.init(t,e)});function Xde(t){return qd(n$,t)}var i$=O("ZodEmoji",(t,e)=>{hg.init(t,e),At.init(t,e)});function epe(t){return Zd(i$,t)}var o$=O("ZodNanoID",(t,e)=>{gg.init(t,e),At.init(t,e)});function tpe(t){return Bd(o$,t)}var s$=O("ZodCUID",(t,e)=>{vg.init(t,e),At.init(t,e)});function rpe(t){return Vd(s$,t)}var a$=O("ZodCUID2",(t,e)=>{yg.init(t,e),At.init(t,e)});function npe(t){return Hd(a$,t)}var c$=O("ZodULID",(t,e)=>{bg.init(t,e),At.init(t,e)});function ipe(t){return Wd(c$,t)}var l$=O("ZodXID",(t,e)=>{_g.init(t,e),At.init(t,e)});function ope(t){return Gd(l$,t)}var u$=O("ZodKSUID",(t,e)=>{xg.init(t,e),At.init(t,e)});function spe(t){return Jd(u$,t)}var d$=O("ZodIPv4",(t,e)=>{wg.init(t,e),At.init(t,e)});function ape(t){return Kd(d$,t)}var p$=O("ZodIPv6",(t,e)=>{Sg.init(t,e),At.init(t,e)});function cpe(t){return Yd(p$,t)}var f$=O("ZodCIDRv4",(t,e)=>{kg.init(t,e),At.init(t,e)});function lpe(t){return Qd(f$,t)}var m$=O("ZodCIDRv6",(t,e)=>{$g.init(t,e),At.init(t,e)});function upe(t){return Xd(m$,t)}var h$=O("ZodBase64",(t,e)=>{Eg.init(t,e),At.init(t,e)});function dpe(t){return ep(h$,t)}var g$=O("ZodBase64URL",(t,e)=>{Tg.init(t,e),At.init(t,e)});function ppe(t){return tp(g$,t)}var v$=O("ZodE164",(t,e)=>{Cg.init(t,e),At.init(t,e)});function fpe(t){return rp(v$,t)}var y$=O("ZodJWT",(t,e)=>{Pg.init(t,e),At.init(t,e)});function mpe(t){return np(y$,t)}var IF=O("ZodCustomStringFormat",(t,e)=>{Ig.init(t,e),At.init(t,e)});function hpe(t,e,r={}){return Nv(IF,t,e,r)}var _p=O("ZodNumber",(t,e)=>{Od.init(t,e),tt.init(t,e),t.gt=(n,i)=>t.check(vo(n,i)),t.gte=(n,i)=>t.check(pn(n,i)),t.min=(n,i)=>t.check(pn(n,i)),t.lt=(n,i)=>t.check(go(n,i)),t.lte=(n,i)=>t.check(Ln(n,i)),t.max=(n,i)=>t.check(Ln(n,i)),t.int=n=>t.check(e$(n)),t.safe=n=>t.check(e$(n)),t.positive=n=>t.check(vo(0,n)),t.nonnegative=n=>t.check(pn(0,n)),t.negative=n=>t.check(go(0,n)),t.nonpositive=n=>t.check(Ln(0,n)),t.multipleOf=(n,i)=>t.check(ba(n,i)),t.step=(n,i)=>t.check(ba(n,i)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function kt(t){return pv(_p,t)}var kl=O("ZodNumberFormat",(t,e)=>{Rg.init(t,e),_p.init(t,e)});function e$(t){return fv(kl,t)}function gpe(t){return mv(kl,t)}function vpe(t){return hv(kl,t)}function ype(t){return gv(kl,t)}function bpe(t){return vv(kl,t)}var xp=O("ZodBoolean",(t,e)=>{ll.init(t,e),tt.init(t,e)});function pr(t){return yv(xp,t)}var wp=O("ZodBigInt",(t,e)=>{Ad.init(t,e),tt.init(t,e),t.gte=(n,i)=>t.check(pn(n,i)),t.min=(n,i)=>t.check(pn(n,i)),t.gt=(n,i)=>t.check(vo(n,i)),t.gte=(n,i)=>t.check(pn(n,i)),t.min=(n,i)=>t.check(pn(n,i)),t.lt=(n,i)=>t.check(go(n,i)),t.lte=(n,i)=>t.check(Ln(n,i)),t.max=(n,i)=>t.check(Ln(n,i)),t.positive=n=>t.check(vo(BigInt(0),n)),t.negative=n=>t.check(go(BigInt(0),n)),t.nonpositive=n=>t.check(Ln(BigInt(0),n)),t.nonnegative=n=>t.check(pn(BigInt(0),n)),t.multipleOf=(n,i)=>t.check(ba(n,i));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null});function _pe(t){return bv(wp,t)}var b$=O("ZodBigIntFormat",(t,e)=>{Og.init(t,e),wp.init(t,e)});function xpe(t){return _v(b$,t)}function wpe(t){return xv(b$,t)}var RF=O("ZodSymbol",(t,e)=>{Ag.init(t,e),tt.init(t,e)});function Spe(t){return wv(RF,t)}var OF=O("ZodUndefined",(t,e)=>{Ng.init(t,e),tt.init(t,e)});function kpe(t){return Sv(OF,t)}var AF=O("ZodNull",(t,e)=>{jg.init(t,e),tt.init(t,e)});function Sp(t){return kv(AF,t)}var NF=O("ZodAny",(t,e)=>{Dg.init(t,e),tt.init(t,e)});function $pe(){return $v(NF)}var jF=O("ZodUnknown",(t,e)=>{va.init(t,e),tt.init(t,e)});function Xt(){return ya(jF)}var DF=O("ZodNever",(t,e)=>{zg.init(t,e),tt.init(t,e)});function Wv(t){return Ev(DF,t)}var zF=O("ZodVoid",(t,e)=>{Mg.init(t,e),tt.init(t,e)});function Epe(t){return Tv(zF,t)}var Gv=O("ZodDate",(t,e)=>{Ug.init(t,e),tt.init(t,e),t.min=(n,i)=>t.check(pn(n,i)),t.max=(n,i)=>t.check(Ln(n,i));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function Tpe(t){return Cv(Gv,t)}var MF=O("ZodArray",(t,e)=>{ul.init(t,e),tt.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(ds(r,n)),t.nonempty=r=>t.check(ds(1,r)),t.max=(r,n)=>t.check(vl(r,n)),t.length=(r,n)=>t.check(yl(r,n)),t.unwrap=()=>t.element});function lt(t,e){return gp(MF,t,e)}function Cpe(t){let e=t._zod.def.shape;return Ce(Object.keys(e))}var Jv=O("ZodObject",(t,e)=>{Nd.init(t,e),tt.init(t,e),ne.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>yr(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Xt()}),t.loose=()=>t.clone({...t._zod.def,catchall:Xt()}),t.strict=()=>t.clone({...t._zod.def,catchall:Wv()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>ne.extend(t,r),t.merge=r=>ne.merge(t,r),t.pick=r=>ne.pick(t,r),t.omit=r=>ne.omit(t,r),t.partial=(...r)=>ne.partial(k$,t,r[0]),t.required=(...r)=>ne.required($$,t,r[0])});function ie(t,e){let r={type:"object",get shape(){return ne.assignProp(this,"shape",{...t}),this.shape},...ne.normalizeParams(e)};return new Jv(r)}function Ppe(t,e){return new Jv({type:"object",get shape(){return ne.assignProp(this,"shape",{...t}),this.shape},catchall:Wv(),...ne.normalizeParams(e)})}function Cn(t,e){return new Jv({type:"object",get shape(){return ne.assignProp(this,"shape",{...t}),this.shape},catchall:Xt(),...ne.normalizeParams(e)})}var _$=O("ZodUnion",(t,e)=>{jd.init(t,e),tt.init(t,e),t.options=e.options});function Tt(t,e){return new _$({type:"union",options:t,...ne.normalizeParams(e)})}var UF=O("ZodDiscriminatedUnion",(t,e)=>{_$.init(t,e),Lg.init(t,e)});function Kv(t,e,r){return new UF({type:"union",options:e,discriminator:t,...ne.normalizeParams(r)})}var LF=O("ZodIntersection",(t,e)=>{Fg.init(t,e),tt.init(t,e)});function kp(t,e){return new LF({type:"intersection",left:t,right:e})}var FF=O("ZodTuple",(t,e)=>{us.init(t,e),tt.init(t,e),t.rest=r=>t.clone({...t._zod.def,rest:r})});function Ipe(t,e,r){let n=e instanceof Le,i=n?r:e,o=n?e:null;return new FF({type:"tuple",items:t,rest:o,...ne.normalizeParams(i)})}var x$=O("ZodRecord",(t,e)=>{qg.init(t,e),tt.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Yt(t,e,r){return new x$({type:"record",keyType:t,valueType:e,...ne.normalizeParams(r)})}function Rpe(t,e,r){return new x$({type:"record",keyType:Tt([t,Wv()]),valueType:e,...ne.normalizeParams(r)})}var qF=O("ZodMap",(t,e)=>{Zg.init(t,e),tt.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Ope(t,e,r){return new qF({type:"map",keyType:t,valueType:e,...ne.normalizeParams(r)})}var ZF=O("ZodSet",(t,e)=>{Bg.init(t,e),tt.init(t,e),t.min=(...r)=>t.check(_a(...r)),t.nonempty=r=>t.check(_a(1,r)),t.max=(...r)=>t.check(gl(...r)),t.size=(...r)=>t.check(ip(...r))});function Ape(t,e){return new ZF({type:"set",valueType:t,...ne.normalizeParams(e)})}var yp=O("ZodEnum",(t,e)=>{Vg.init(t,e),tt.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{let o={};for(let s of n)if(r.has(s))o[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new yp({...e,checks:[],...ne.normalizeParams(i),entries:o})},t.exclude=(n,i)=>{let o={...e.entries};for(let s of n)if(r.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new yp({...e,checks:[],...ne.normalizeParams(i),entries:o})}});function yr(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new yp({type:"enum",entries:r,...ne.normalizeParams(e)})}function Npe(t,e){return new yp({type:"enum",entries:t,...ne.normalizeParams(e)})}var BF=O("ZodLiteral",(t,e)=>{Hg.init(t,e),tt.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Ce(t,e){return new BF({type:"literal",values:Array.isArray(t)?t:[t],...ne.normalizeParams(e)})}var VF=O("ZodFile",(t,e)=>{Wg.init(t,e),tt.init(t,e),t.min=(r,n)=>t.check(_a(r,n)),t.max=(r,n)=>t.check(gl(r,n)),t.mime=(r,n)=>t.check(dp(Array.isArray(r)?r:[r],n))});function jpe(t){return Iv(VF,t)}var w$=O("ZodTransform",(t,e)=>{dl.init(t,e),tt.init(t,e),t._zod.parse=(r,n)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(ne.issue(o,r.value,e));else{let s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!0),r.issues.push(ne.issue(s))}};let i=e.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function S$(t){return new w$({type:"transform",transform:t})}var k$=O("ZodOptional",(t,e)=>{Gg.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Te(t){return new k$({type:"optional",innerType:t})}var HF=O("ZodNullable",(t,e)=>{Jg.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Vv(t){return new HF({type:"nullable",innerType:t})}function Dpe(t){return Te(Vv(t))}var WF=O("ZodDefault",(t,e)=>{Kg.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function GF(t,e){return new WF({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var JF=O("ZodPrefault",(t,e)=>{Yg.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function KF(t,e){return new JF({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var $$=O("ZodNonOptional",(t,e)=>{Qg.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function YF(t,e){return new $$({type:"nonoptional",innerType:t,...ne.normalizeParams(e)})}var QF=O("ZodSuccess",(t,e)=>{Xg.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function zpe(t){return new QF({type:"success",innerType:t})}var XF=O("ZodCatch",(t,e)=>{ev.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function eq(t,e){return new XF({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var tq=O("ZodNaN",(t,e)=>{tv.init(t,e),tt.init(t,e)});function Mpe(t){return Pv(tq,t)}var E$=O("ZodPipe",(t,e)=>{pl.init(t,e),tt.init(t,e),t.in=e.in,t.out=e.out});function Hv(t,e){return new E$({type:"pipe",in:t,out:e})}var rq=O("ZodReadonly",(t,e)=>{rv.init(t,e),tt.init(t,e)});function nq(t){return new rq({type:"readonly",innerType:t})}var iq=O("ZodTemplateLiteral",(t,e)=>{nv.init(t,e),tt.init(t,e)});function Upe(t,e){return new iq({type:"template_literal",parts:t,...ne.normalizeParams(e)})}var oq=O("ZodLazy",(t,e)=>{ov.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.getter()});function sq(t){return new oq({type:"lazy",getter:t})}var aq=O("ZodPromise",(t,e)=>{iv.init(t,e),tt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Lpe(t){return new aq({type:"promise",innerType:t})}var Yv=O("ZodCustom",(t,e)=>{sv.init(t,e),tt.init(t,e)});function cq(t,e){let r=new qt({check:"custom",...ne.normalizeParams(e)});return r._zod.check=t,r}function T$(t,e){return Rv(Yv,t??(()=>!0),e)}function lq(t,e={}){return Ov(Yv,t,e)}function uq(t,e){let r=cq(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(ne.issue(i,n.value,r._zod.def));else{let o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=r),o.continue??(o.continue=!r._zod.def.abort),n.issues.push(ne.issue(o))}},t(n.value,n)),e);return r}function Fpe(t,e={error:`Input not instance of ${t.name}`}){let r=new Yv({type:"custom",check:"custom",fn:n=>n instanceof t,abort:!0,...ne.normalizeParams(e)});return r._zod.bag.Class=t,r}var qpe=(...t)=>Av({Pipe:E$,Boolean:xp,String:bp,Transform:w$},...t);function Zpe(t){let e=sq(()=>Tt([M(t),kt(),pr(),Sp(),lt(e),Yt(M(),e)]));return e}function Qv(t,e){return Hv(S$(t),e)}var Bpe={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function Vpe(t){Qt({customError:t})}function Hpe(){return Qt().customError}var C$={};_i(C$,{bigint:()=>Kpe,boolean:()=>Jpe,date:()=>Ype,number:()=>Gpe,string:()=>Wpe});function Wpe(t){return Ik(bp,t)}function Gpe(t){return jk(_p,t)}function Jpe(t){return Dk(xp,t)}function Kpe(t){return zk(wp,t)}function Ype(t){return Mk(Gv,t)}Qt(av());var $p="2025-11-25";var ey=[$p,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],Mi="io.modelcontextprotocol/related-task",ty="2.0",zi=T$(t=>t!==null&&(typeof t=="object"||typeof t=="function")),dq=Tt([M(),kt().int()]),pq=M(),Qpe=Cn({ttl:Tt([kt(),Sp()]).optional(),pollInterval:kt().optional()}),I$=Cn({taskId:M()}),Xpe=Cn({progressToken:dq.optional(),[Mi]:I$.optional()}),fn=Cn({task:Qpe.optional(),_meta:Xpe.optional()}),$r=ie({method:M(),params:fn.optional()}),xa=Cn({_meta:ie({[Mi]:Te(I$)}).passthrough().optional()}),Fn=ie({method:M(),params:xa.optional()}),jr=Cn({_meta:Cn({[Mi]:I$.optional()}).optional()}),ry=Tt([M(),kt().int()]),fq=ie({jsonrpc:Ce(ty),id:ry,...$r.shape}).strict(),R$=t=>fq.safeParse(t).success,mq=ie({jsonrpc:Ce(ty),...Fn.shape}).strict(),hq=t=>mq.safeParse(t).success,gq=ie({jsonrpc:Ce(ty),id:ry,result:jr}).strict(),Ep=t=>gq.safeParse(t).success,ge;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(ge||(ge={}));var vq=ie({jsonrpc:Ce(ty),id:ry,error:ie({code:kt().int(),message:M(),data:Te(Xt())})}).strict(),yq=t=>vq.safeParse(t).success,ny=Tt([fq,mq,gq,vq]),_o=jr.strict(),efe=xa.extend({requestId:ry,reason:M().optional()}),iy=Fn.extend({method:Ce("notifications/cancelled"),params:efe}),tfe=ie({src:M(),mimeType:M().optional(),sizes:lt(M()).optional()}),Tp=ie({icons:lt(tfe).optional()}),$l=ie({name:M(),title:M().optional()}),bq=$l.extend({...$l.shape,...Tp.shape,version:M(),websiteUrl:M().optional()}),rfe=kp(ie({applyDefaults:pr().optional()}),Yt(M(),Xt())),nfe=Qv(t=>t&&typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length===0?{form:{}}:t,kp(ie({form:rfe.optional(),url:zi.optional()}),Yt(M(),Xt()).optional())),ife=ie({list:Te(ie({}).passthrough()),cancel:Te(ie({}).passthrough()),requests:Te(ie({sampling:Te(ie({createMessage:Te(ie({}).passthrough())}).passthrough()),elicitation:Te(ie({create:Te(ie({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),ofe=ie({list:Te(ie({}).passthrough()),cancel:Te(ie({}).passthrough()),requests:Te(ie({tools:Te(ie({call:Te(ie({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),sfe=ie({experimental:Yt(M(),zi).optional(),sampling:ie({context:zi.optional(),tools:zi.optional()}).optional(),elicitation:nfe.optional(),roots:ie({listChanged:pr().optional()}).optional(),tasks:Te(ife)}),afe=fn.extend({protocolVersion:M(),capabilities:sfe,clientInfo:bq}),O$=$r.extend({method:Ce("initialize"),params:afe});var cfe=ie({experimental:Yt(M(),zi).optional(),logging:zi.optional(),completions:zi.optional(),prompts:Te(ie({listChanged:Te(pr())})),resources:ie({subscribe:pr().optional(),listChanged:pr().optional()}).optional(),tools:ie({listChanged:pr().optional()}).optional(),tasks:Te(ofe)}).passthrough(),A$=jr.extend({protocolVersion:M(),capabilities:cfe,serverInfo:bq,instructions:M().optional()}),N$=Fn.extend({method:Ce("notifications/initialized")});var oy=$r.extend({method:Ce("ping")}),lfe=ie({progress:kt(),total:Te(kt()),message:Te(M())}),ufe=ie({...xa.shape,...lfe.shape,progressToken:dq}),sy=Fn.extend({method:Ce("notifications/progress"),params:ufe}),dfe=fn.extend({cursor:pq.optional()}),Cp=$r.extend({params:dfe.optional()}),Pp=jr.extend({nextCursor:Te(pq)}),Ip=ie({taskId:M(),status:yr(["working","input_required","completed","failed","cancelled"]),ttl:Tt([kt(),Sp()]),createdAt:M(),lastUpdatedAt:M(),pollInterval:Te(kt()),statusMessage:Te(M())}),xo=jr.extend({task:Ip}),pfe=xa.merge(Ip),Rp=Fn.extend({method:Ce("notifications/tasks/status"),params:pfe}),ay=$r.extend({method:Ce("tasks/get"),params:fn.extend({taskId:M()})}),cy=jr.merge(Ip),ly=$r.extend({method:Ce("tasks/result"),params:fn.extend({taskId:M()})}),uy=Cp.extend({method:Ce("tasks/list")}),dy=Pp.extend({tasks:lt(Ip)}),_q=$r.extend({method:Ce("tasks/cancel"),params:fn.extend({taskId:M()})}),xq=jr.merge(Ip),wq=ie({uri:M(),mimeType:Te(M()),_meta:Yt(M(),Xt()).optional()}),Sq=wq.extend({text:M()}),j$=M().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),kq=wq.extend({blob:j$}),El=ie({audience:lt(yr(["user","assistant"])).optional(),priority:kt().min(0).max(1).optional(),lastModified:wl.datetime({offset:!0}).optional()}),$q=ie({...$l.shape,...Tp.shape,uri:M(),description:Te(M()),mimeType:Te(M()),annotations:El.optional(),_meta:Te(Cn({}))}),ffe=ie({...$l.shape,...Tp.shape,uriTemplate:M(),description:Te(M()),mimeType:Te(M()),annotations:El.optional(),_meta:Te(Cn({}))}),py=Cp.extend({method:Ce("resources/list")}),D$=Pp.extend({resources:lt($q)}),fy=Cp.extend({method:Ce("resources/templates/list")}),z$=Pp.extend({resourceTemplates:lt(ffe)}),M$=fn.extend({uri:M()}),mfe=M$,my=$r.extend({method:Ce("resources/read"),params:mfe}),U$=jr.extend({contents:lt(Tt([Sq,kq]))}),hfe=Fn.extend({method:Ce("notifications/resources/list_changed")}),gfe=M$,vfe=$r.extend({method:Ce("resources/subscribe"),params:gfe}),yfe=M$,bfe=$r.extend({method:Ce("resources/unsubscribe"),params:yfe}),_fe=xa.extend({uri:M()}),xfe=Fn.extend({method:Ce("notifications/resources/updated"),params:_fe}),wfe=ie({name:M(),description:Te(M()),required:Te(pr())}),Sfe=ie({...$l.shape,...Tp.shape,description:Te(M()),arguments:Te(lt(wfe)),_meta:Te(Cn({}))}),hy=Cp.extend({method:Ce("prompts/list")}),L$=Pp.extend({prompts:lt(Sfe)}),kfe=fn.extend({name:M(),arguments:Yt(M(),M()).optional()}),gy=$r.extend({method:Ce("prompts/get"),params:kfe}),F$=ie({type:Ce("text"),text:M(),annotations:El.optional(),_meta:Yt(M(),Xt()).optional()}),q$=ie({type:Ce("image"),data:j$,mimeType:M(),annotations:El.optional(),_meta:Yt(M(),Xt()).optional()}),Z$=ie({type:Ce("audio"),data:j$,mimeType:M(),annotations:El.optional(),_meta:Yt(M(),Xt()).optional()}),$fe=ie({type:Ce("tool_use"),name:M(),id:M(),input:ie({}).passthrough(),_meta:Te(ie({}).passthrough())}).passthrough(),Efe=ie({type:Ce("resource"),resource:Tt([Sq,kq]),annotations:El.optional(),_meta:Yt(M(),Xt()).optional()}),Tfe=$q.extend({type:Ce("resource_link")}),B$=Tt([F$,q$,Z$,Tfe,Efe]),Cfe=ie({role:yr(["user","assistant"]),content:B$}),V$=jr.extend({description:Te(M()),messages:lt(Cfe)}),Pfe=Fn.extend({method:Ce("notifications/prompts/list_changed")}),Ife=ie({title:M().optional(),readOnlyHint:pr().optional(),destructiveHint:pr().optional(),idempotentHint:pr().optional(),openWorldHint:pr().optional()}),Rfe=ie({taskSupport:yr(["required","optional","forbidden"]).optional()}),Eq=ie({...$l.shape,...Tp.shape,description:M().optional(),inputSchema:ie({type:Ce("object"),properties:Yt(M(),zi).optional(),required:lt(M()).optional()}).catchall(Xt()),outputSchema:ie({type:Ce("object"),properties:Yt(M(),zi).optional(),required:lt(M()).optional()}).catchall(Xt()).optional(),annotations:Te(Ife),execution:Te(Rfe),_meta:Yt(M(),Xt()).optional()}),vy=Cp.extend({method:Ce("tools/list")}),H$=Pp.extend({tools:lt(Eq)}),ui=jr.extend({content:lt(B$).default([]),structuredContent:Yt(M(),Xt()).optional(),isError:Te(pr())}),eMe=ui.or(jr.extend({toolResult:Xt()})),Ofe=fn.extend({name:M(),arguments:Te(Yt(M(),Xt()))}),Tl=$r.extend({method:Ce("tools/call"),params:Ofe}),Afe=Fn.extend({method:Ce("notifications/tools/list_changed")}),Op=yr(["debug","info","notice","warning","error","critical","alert","emergency"]),Nfe=fn.extend({level:Op}),W$=$r.extend({method:Ce("logging/setLevel"),params:Nfe}),jfe=xa.extend({level:Op,logger:M().optional(),data:Xt()}),Dfe=Fn.extend({method:Ce("notifications/message"),params:jfe}),zfe=ie({name:M().optional()}),Mfe=ie({hints:Te(lt(zfe)),costPriority:Te(kt().min(0).max(1)),speedPriority:Te(kt().min(0).max(1)),intelligencePriority:Te(kt().min(0).max(1))}),Ufe=ie({mode:Te(yr(["auto","required","none"]))}),Lfe=ie({type:Ce("tool_result"),toolUseId:M().describe("The unique identifier for the corresponding tool call."),content:lt(B$).default([]),structuredContent:ie({}).passthrough().optional(),isError:Te(pr()),_meta:Te(ie({}).passthrough())}).passthrough(),Ffe=Kv("type",[F$,q$,Z$]),Xv=Kv("type",[F$,q$,Z$,$fe,Lfe]),qfe=ie({role:yr(["user","assistant"]),content:Tt([Xv,lt(Xv)]),_meta:Te(ie({}).passthrough())}).passthrough(),Zfe=fn.extend({messages:lt(qfe),modelPreferences:Mfe.optional(),systemPrompt:M().optional(),includeContext:yr(["none","thisServer","allServers"]).optional(),temperature:kt().optional(),maxTokens:kt().int(),stopSequences:lt(M()).optional(),metadata:zi.optional(),tools:Te(lt(Eq)),toolChoice:Te(Ufe)}),G$=$r.extend({method:Ce("sampling/createMessage"),params:Zfe}),Ap=jr.extend({model:M(),stopReason:Te(yr(["endTurn","stopSequence","maxTokens"]).or(M())),role:yr(["user","assistant"]),content:Ffe}),J$=jr.extend({model:M(),stopReason:Te(yr(["endTurn","stopSequence","maxTokens","toolUse"]).or(M())),role:yr(["user","assistant"]),content:Tt([Xv,lt(Xv)])}),Bfe=ie({type:Ce("boolean"),title:M().optional(),description:M().optional(),default:pr().optional()}),Vfe=ie({type:Ce("string"),title:M().optional(),description:M().optional(),minLength:kt().optional(),maxLength:kt().optional(),format:yr(["email","uri","date","date-time"]).optional(),default:M().optional()}),Hfe=ie({type:yr(["number","integer"]),title:M().optional(),description:M().optional(),minimum:kt().optional(),maximum:kt().optional(),default:kt().optional()}),Wfe=ie({type:Ce("string"),title:M().optional(),description:M().optional(),enum:lt(M()),default:M().optional()}),Gfe=ie({type:Ce("string"),title:M().optional(),description:M().optional(),oneOf:lt(ie({const:M(),title:M()})),default:M().optional()}),Jfe=ie({type:Ce("string"),title:M().optional(),description:M().optional(),enum:lt(M()),enumNames:lt(M()).optional(),default:M().optional()}),Kfe=Tt([Wfe,Gfe]),Yfe=ie({type:Ce("array"),title:M().optional(),description:M().optional(),minItems:kt().optional(),maxItems:kt().optional(),items:ie({type:Ce("string"),enum:lt(M())}),default:lt(M()).optional()}),Qfe=ie({type:Ce("array"),title:M().optional(),description:M().optional(),minItems:kt().optional(),maxItems:kt().optional(),items:ie({anyOf:lt(ie({const:M(),title:M()}))}),default:lt(M()).optional()}),Xfe=Tt([Yfe,Qfe]),eme=Tt([Jfe,Kfe,Xfe]),tme=Tt([eme,Bfe,Vfe,Hfe]),rme=fn.extend({mode:Ce("form").optional(),message:M(),requestedSchema:ie({type:Ce("object"),properties:Yt(M(),tme),required:lt(M()).optional()})}),nme=fn.extend({mode:Ce("url"),message:M(),elicitationId:M(),url:M().url()}),ime=Tt([rme,nme]),K$=$r.extend({method:Ce("elicitation/create"),params:ime}),ome=xa.extend({elicitationId:M()}),sme=Fn.extend({method:Ce("notifications/elicitation/complete"),params:ome}),Cl=jr.extend({action:yr(["accept","decline","cancel"]),content:Qv(t=>t===null?void 0:t,Yt(M(),Tt([M(),kt(),pr(),lt(M())])).optional())}),ame=ie({type:Ce("ref/resource"),uri:M()});var cme=ie({type:Ce("ref/prompt"),name:M()}),lme=fn.extend({ref:Tt([cme,ame]),argument:ie({name:M(),value:M()}),context:ie({arguments:Yt(M(),M()).optional()}).optional()}),yy=$r.extend({method:Ce("completion/complete"),params:lme});function Tq(t){if(t.params.ref.type!=="ref/prompt")throw new TypeError(`Expected CompleteRequestPrompt, but got ${t.params.ref.type}`)}function Cq(t){if(t.params.ref.type!=="ref/resource")throw new TypeError(`Expected CompleteRequestResourceTemplate, but got ${t.params.ref.type}`)}var Y$=jr.extend({completion:Cn({values:lt(M()).max(100),total:Te(kt().int()),hasMore:Te(pr())})}),ume=ie({uri:M().startsWith("file://"),name:M().optional(),_meta:Yt(M(),Xt()).optional()}),dme=$r.extend({method:Ce("roots/list")}),Q$=jr.extend({roots:lt(ume)}),pme=Fn.extend({method:Ce("notifications/roots/list_changed")}),tMe=Tt([oy,O$,yy,W$,gy,hy,py,fy,my,vfe,bfe,Tl,vy,ay,ly,uy]),rMe=Tt([iy,sy,N$,pme,Rp]),nMe=Tt([_o,Ap,J$,Cl,Q$,cy,dy,xo]),iMe=Tt([oy,G$,K$,dme,ay,ly,uy]),oMe=Tt([iy,sy,Dfe,xfe,hfe,Afe,Pfe,Rp,sme]),sMe=Tt([_o,A$,Y$,V$,L$,D$,z$,U$,ui,H$,cy,dy,xo]),ae=class t extends Error{constructor(e,r,n){super(`MCP error ${e}: ${r}`),this.code=e,this.data=n,this.name="McpError"}static fromError(e,r,n){if(e===ge.UrlElicitationRequired&&n){let i=n;if(i.elicitations)return new P$(i.elicitations,r)}return new t(e,r,n)}},P$=class extends ae{constructor(e,r=`URL elicitation${e.length>1?"s":""} required`){super(ge.UrlElicitationRequired,r,{elicitations:e})}get elicitations(){var e,r;return(r=(e=this.data)===null||e===void 0?void 0:e.elicitations)!==null&&r!==void 0?r:[]}};function ps(t){return t==="completed"||t==="failed"||t==="cancelled"}var Iq=Symbol("Let zodToJsonSchema decide on which parser to use");var Pq={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Rq=t=>typeof t=="string"?{...Pq,name:t}:{...Pq,...t};var Oq=t=>{let e=Rq(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}};function X$(t,e,r,n){n?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function ut(t,e,r,n,i){t[e]=r,X$(t,e,n,i)}var by=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")};function Zt(t){if(t.target!=="openAi")return{};let e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?by(e,t.currentPath):e.join("/")}}function Aq(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==Y.ZodAny&&(r.items=Me(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&ut(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&ut(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(ut(r,"minItems",t.exactLength.value,t.exactLength.message,e),ut(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function Nq(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?ut(r,"minimum",n.value,n.message,e):ut(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),ut(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?ut(r,"maximum",n.value,n.message,e):ut(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),ut(r,"maximum",n.value,n.message,e));break;case"multipleOf":ut(r,"multipleOf",n.value,n.message,e);break}return r}function jq(){return{type:"boolean"}}function _y(t,e){return Me(t.type._def,e)}var Dq=(t,e)=>Me(t.innerType._def,e);function eE(t,e,r){let n=r??e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,o)=>eE(t,e,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return fme(t,e)}}var fme=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let n of t.checks)switch(n.kind){case"min":ut(r,"minimum",n.value,n.message,e);break;case"max":ut(r,"maximum",n.value,n.message,e);break}return r};function zq(t,e){return{...Me(t.innerType._def,e),default:t.defaultValue()}}function Mq(t,e){return e.effectStrategy==="input"?Me(t.schema._def,e):Zt(e)}function Uq(t){return{type:"string",enum:Array.from(t.values)}}var mme=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Lq(t,e){let r=[Me(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Me(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o),n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(o=>{if(mme(o))i.push(...o.allOf),o.unevaluatedProperties===void 0&&(n=void 0);else{let s=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:a,...c}=o;s=c}else n=void 0;i.push(s)}}),i.length?{allOf:i,...n}:void 0}function Fq(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var tE,di={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(tE===void 0&&(tE=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),tE),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function xy(t,e){let r={type:"string"};if(t.checks)for(let n of t.checks)switch(n.kind){case"min":ut(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e);break;case"max":ut(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"email":switch(e.emailStrategy){case"format:email":pi(r,"email",n.message,e);break;case"format:idn-email":pi(r,"idn-email",n.message,e);break;case"pattern:zod":Gr(r,di.email,n.message,e);break}break;case"url":pi(r,"uri",n.message,e);break;case"uuid":pi(r,"uuid",n.message,e);break;case"regex":Gr(r,n.regex,n.message,e);break;case"cuid":Gr(r,di.cuid,n.message,e);break;case"cuid2":Gr(r,di.cuid2,n.message,e);break;case"startsWith":Gr(r,RegExp(`^${rE(n.value,e)}`),n.message,e);break;case"endsWith":Gr(r,RegExp(`${rE(n.value,e)}$`),n.message,e);break;case"datetime":pi(r,"date-time",n.message,e);break;case"date":pi(r,"date",n.message,e);break;case"time":pi(r,"time",n.message,e);break;case"duration":pi(r,"duration",n.message,e);break;case"length":ut(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e),ut(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"includes":{Gr(r,RegExp(rE(n.value,e)),n.message,e);break}case"ip":{n.version!=="v6"&&pi(r,"ipv4",n.message,e),n.version!=="v4"&&pi(r,"ipv6",n.message,e);break}case"base64url":Gr(r,di.base64url,n.message,e);break;case"jwt":Gr(r,di.jwt,n.message,e);break;case"cidr":{n.version!=="v6"&&Gr(r,di.ipv4Cidr,n.message,e),n.version!=="v4"&&Gr(r,di.ipv6Cidr,n.message,e);break}case"emoji":Gr(r,di.emoji(),n.message,e);break;case"ulid":{Gr(r,di.ulid,n.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{pi(r,"binary",n.message,e);break}case"contentEncoding:base64":{ut(r,"contentEncoding","base64",n.message,e);break}case"pattern:zod":{Gr(r,di.base64,n.message,e);break}}break}case"nanoid":Gr(r,di.nanoid,n.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function rE(t,e){return e.patternStrategy==="escape"?gme(t):t}var hme=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function gme(t){let e="";for(let r=0;r<t.length;r++)hme.has(t[r])||(e+="\\"),e+=t[r];return e}function pi(t,e,r,n){t.format||t.anyOf?.some(i=>i.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&n.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&n.errorMessages&&{errorMessage:{format:r}}})):ut(t,"format",e,r,n)}function Gr(t,e,r,n){t.pattern||t.allOf?.some(i=>i.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&n.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:qq(e,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):ut(t,"pattern",qq(e,n),r,n)}function qq(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},n=r.i?t.source.toLowerCase():t.source,i="",o=!1,s=!1,a=!1;for(let c=0;c<n.length;c++){if(o){i+=n[c],o=!1;continue}if(r.i){if(s){if(n[c].match(/[a-z]/)){a?(i+=n[c],i+=`${n[c-2]}-${n[c]}`.toUpperCase(),a=!1):n[c+1]==="-"&&n[c+2]?.match(/[a-z]/)?(i+=n[c],a=!0):i+=`${n[c]}${n[c].toUpperCase()}`;continue}}else if(n[c].match(/[a-z]/)){i+=`[${n[c]}${n[c].toUpperCase()}]`;continue}}if(r.m){if(n[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(n[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&n[c]==="."){i+=s?`${n[c]}\r
`:`[${n[c]}\r
]`;continue}i+=n[c],n[c]==="\\"?o=!0:s&&n[c]==="]"?s=!1:!s&&n[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function wy(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===Y.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((n,i)=>({...n,[i]:Me(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",i]})??Zt(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:Me(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===Y.ZodString&&t.keyType._def.checks?.length){let{type:n,...i}=xy(t.keyType._def,e);return{...r,propertyNames:i}}else{if(t.keyType?._def.typeName===Y.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===Y.ZodBranded&&t.keyType._def.type._def.typeName===Y.ZodString&&t.keyType._def.type._def.checks?.length){let{type:n,...i}=_y(t.keyType._def,e);return{...r,propertyNames:i}}}return r}function Zq(t,e){if(e.mapStrategy==="record")return wy(t,e);let r=Me(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||Zt(e),n=Me(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||Zt(e);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function Bq(t){let e=t.values,n=Object.keys(t.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),i=Array.from(new Set(n.map(o=>typeof o)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}function Vq(t){return t.target==="openAi"?void 0:{not:Zt({...t,currentPath:[...t.currentPath,"not"]})}}function Hq(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var Np={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Gq(t,e){if(e.target==="openApi3")return Wq(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(n=>n._def.typeName in Np&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((i,o)=>{let s=Np[o._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((i,o)=>{let s=typeof o._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(o._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){let i=n.filter((o,s,a)=>a.indexOf(o)===s);return{type:i.length>1?i:i[0],enum:r.reduce((o,s)=>o.includes(s._def.value)?o:[...o,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(o=>!n.includes(o))],[])};return Wq(t,e)}var Wq=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((n,i)=>Me(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function Jq(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Np[t.innerType._def.typeName],nullable:!0}:{type:[Np[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let n=Me(t.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=Me(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function Kq(t,e){let r={type:"number"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"int":r.type="integer",X$(r,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?ut(r,"minimum",n.value,n.message,e):ut(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),ut(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?ut(r,"maximum",n.value,n.message,e):ut(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),ut(r,"maximum",n.value,n.message,e));break;case"multipleOf":ut(r,"multipleOf",n.value,n.message,e);break}return r}function Yq(t,e){let r=e.target==="openAi",n={type:"object",properties:{}},i=[],o=t.shape();for(let a in o){let c=o[a];if(c===void 0||c._def===void 0)continue;let l=yme(c);l&&r&&(c._def.typeName==="ZodOptional"&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),l=!1);let u=Me(c._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});u!==void 0&&(n.properties[a]=u,l||i.push(a))}i.length&&(n.required=i);let s=vme(t,e);return s!==void 0&&(n.additionalProperties=s),n}function vme(t,e){if(t.catchall._def.typeName!=="ZodNever")return Me(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function yme(t){try{return t.isOptional()}catch{return!0}}var Qq=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return Me(t.innerType._def,e);let r=Me(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Zt(e)},r]}:Zt(e)};var Xq=(t,e)=>{if(e.pipeStrategy==="input")return Me(t.in._def,e);if(e.pipeStrategy==="output")return Me(t.out._def,e);let r=Me(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=Me(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}};function e4(t,e){return Me(t.type._def,e)}function t4(t,e){let n={type:"array",uniqueItems:!0,items:Me(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&ut(n,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&ut(n,"maxItems",t.maxSize.value,t.maxSize.message,e),n}function r4(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,n)=>Me(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Me(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,n)=>Me(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function n4(t){return{not:Zt(t)}}function i4(t){return Zt(t)}var o4=(t,e)=>Me(t.innerType._def,e);var s4=(t,e,r)=>{switch(e){case Y.ZodString:return xy(t,r);case Y.ZodNumber:return Kq(t,r);case Y.ZodObject:return Yq(t,r);case Y.ZodBigInt:return Nq(t,r);case Y.ZodBoolean:return jq();case Y.ZodDate:return eE(t,r);case Y.ZodUndefined:return n4(r);case Y.ZodNull:return Hq(r);case Y.ZodArray:return Aq(t,r);case Y.ZodUnion:case Y.ZodDiscriminatedUnion:return Gq(t,r);case Y.ZodIntersection:return Lq(t,r);case Y.ZodTuple:return r4(t,r);case Y.ZodRecord:return wy(t,r);case Y.ZodLiteral:return Fq(t,r);case Y.ZodEnum:return Uq(t);case Y.ZodNativeEnum:return Bq(t);case Y.ZodNullable:return Jq(t,r);case Y.ZodOptional:return Qq(t,r);case Y.ZodMap:return Zq(t,r);case Y.ZodSet:return t4(t,r);case Y.ZodLazy:return()=>t.getter()._def;case Y.ZodPromise:return e4(t,r);case Y.ZodNaN:case Y.ZodNever:return Vq(r);case Y.ZodEffects:return Mq(t,r);case Y.ZodAny:return Zt(r);case Y.ZodUnknown:return i4(r);case Y.ZodDefault:return zq(t,r);case Y.ZodBranded:return _y(t,r);case Y.ZodReadonly:return o4(t,r);case Y.ZodCatch:return Dq(t,r);case Y.ZodPipeline:return Xq(t,r);case Y.ZodFunction:case Y.ZodVoid:case Y.ZodSymbol:return;default:return(n=>{})(e)}};function Me(t,e,r=!1){let n=e.seen.get(t);if(e.override){let a=e.override?.(t,e,n,r);if(a!==Iq)return a}if(n&&!r){let a=bme(n,e);if(a!==void 0)return a}let i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);let o=s4(t,t.typeName,e),s=typeof o=="function"?Me(o(),e):o;if(s&&_me(t,e,s),e.postProcess){let a=e.postProcess(s,t,e);return i.jsonSchema=s,a}return i.jsonSchema=s,s}var bme=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:by(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,n)=>e.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),Zt(e)):e.$refStrategy==="seen"?Zt(e):void 0}},_me=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r);var nE=(t,e)=>{let r=Oq(e),n=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((c,[l,u])=>({...c,[l]:Me(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,l]},!0)??Zt(r)}),{}):void 0,i=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,o=Me(t._def,i===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,i]},!1)??Zt(r),s=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;s!==void 0&&(o.title=s),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let a=i===void 0?n?{...o,[r.definitionPath]:n}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:{...n,[i]:o}};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};function xme(t){return!t||t==="jsonSchema7"||t==="draft-7"?"draft-7":t==="jsonSchema2019-09"||t==="draft-2020-12"?"draft-2020-12":"draft-7"}function iE(t,e){var r,n,i;return Hr(t)?bl(t,{target:xme(e?.target),io:(r=e?.pipeStrategy)!==null&&r!==void 0?r:"input"}):nE(t,{strictUnions:(n=e?.strictUnions)!==null&&n!==void 0?n:!0,pipeStrategy:(i=e?.pipeStrategy)!==null&&i!==void 0?i:"input"})}function oE(t){let e=Di(t),r=e?.method;if(!r)throw new Error("Schema is missing a method literal");let n=Uv(r);if(typeof n!="string")throw new Error("Schema method literal must be a string");return n}function sE(t,e){let r=Wr(t,e);if(!r.success)throw r.error;return r.data}var wme=6e4,Pl=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(iy,r=>{this._oncancel(r)}),this.setNotificationHandler(sy,r=>{this._onprogress(r)}),this.setRequestHandler(oy,r=>({})),this._taskStore=e?.taskStore,this._taskMessageQueue=e?.taskMessageQueue,this._taskStore&&(this.setRequestHandler(ay,async(r,n)=>{let i=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!i)throw new ae(ge.InvalidParams,"Failed to retrieve task: Task not found");return{...i}}),this.setRequestHandler(ly,async(r,n)=>{let i=async()=>{var o;let s=r.params.taskId;if(this._taskMessageQueue){let c;for(;c=await this._taskMessageQueue.dequeue(s,n.sessionId);){if(c.type==="response"||c.type==="error"){let l=c.message,u=l.id,d=this._requestResolvers.get(u);if(d)if(this._requestResolvers.delete(u),c.type==="response")d(l);else{let m=l,p=new ae(m.error.code,m.error.message,m.error.data);d(p)}else{let m=c.type==="response"?"Response":"Error";this._onerror(new Error(`${m} handler missing for request ${u}`))}continue}await((o=this._transport)===null||o===void 0?void 0:o.send(c.message,{relatedRequestId:n.requestId}))}}let a=await this._taskStore.getTask(s,n.sessionId);if(!a)throw new ae(ge.InvalidParams,`Task not found: ${s}`);if(!ps(a.status))return await this._waitForTaskUpdate(s,n.signal),await i();if(ps(a.status)){let c=await this._taskStore.getTaskResult(s,n.sessionId);return this._clearTaskQueue(s),{...c,_meta:{...c._meta,[Mi]:{taskId:s}}}}return await i()};return await i()}),this.setRequestHandler(uy,async(r,n)=>{var i;try{let{tasks:o,nextCursor:s}=await this._taskStore.listTasks((i=r.params)===null||i===void 0?void 0:i.cursor,n.sessionId);return{tasks:o,nextCursor:s,_meta:{}}}catch(o){throw new ae(ge.InvalidParams,`Failed to list tasks: ${o instanceof Error?o.message:String(o)}`)}}),this.setRequestHandler(_q,async(r,n)=>{try{let i=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!i)throw new ae(ge.InvalidParams,`Task not found: ${r.params.taskId}`);if(ps(i.status))throw new ae(ge.InvalidParams,`Cannot cancel task in terminal status: ${i.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",n.sessionId),this._clearTaskQueue(r.params.taskId);let o=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!o)throw new ae(ge.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...o}}catch(i){throw i instanceof ae?i:new ae(ge.InvalidRequest,`Failed to cancel task: ${i instanceof Error?i.message:String(i)}`)}}))}async _oncancel(e){let r=this._requestHandlerAbortControllers.get(e.params.requestId);r?.abort(e.params.reason)}_setupTimeout(e,r,n,i,o=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(i,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:o,onTimeout:i})}_resetTimeout(e){let r=this._timeoutInfo.get(e);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),ae.fromError(ge.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){let r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,n,i;this._transport=e;let o=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{o?.(),this._onclose()};let s=(n=this.transport)===null||n===void 0?void 0:n.onerror;this._transport.onerror=c=>{s?.(c),this._onerror(c)};let a=(i=this._transport)===null||i===void 0?void 0:i.onmessage;this._transport.onmessage=(c,l)=>{a?.(c,l),Ep(c)||yq(c)?this._onresponse(c):R$(c)?this._onrequest(c,l):hq(c)?this._onnotification(c):this._onerror(new Error(`Unknown message type: ${JSON.stringify(c)}`))},await this._transport.start()}_onclose(){var e;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();let n=ae.fromError(ge.ConnectionClosed,"Connection closed");this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);for(let i of r.values())i(n)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;let n=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(e)).catch(i=>this._onerror(new Error(`Uncaught error in notification handler: ${i}`)))}_onrequest(e,r){var n,i,o,s,a,c;let l=(n=this._requestHandlers.get(e.method))!==null&&n!==void 0?n:this.fallbackRequestHandler,u=this._transport,d=(s=(o=(i=e.params)===null||i===void 0?void 0:i._meta)===null||o===void 0?void 0:o[Mi])===null||s===void 0?void 0:s.taskId;if(l===void 0){let g={jsonrpc:"2.0",id:e.id,error:{code:ge.MethodNotFound,message:"Method not found"}};d&&this._taskMessageQueue?this._enqueueTaskMessage(d,{type:"error",message:g,timestamp:Date.now()},u?.sessionId).catch(h=>this._onerror(new Error(`Failed to enqueue error response: ${h}`))):u?.send(g).catch(h=>this._onerror(new Error(`Failed to send an error response: ${h}`)));return}let m=new AbortController;this._requestHandlerAbortControllers.set(e.id,m);let p=(a=e.params)===null||a===void 0?void 0:a.task,f=this._taskStore?this.requestTaskStore(e,u?.sessionId):void 0,v={signal:m.signal,sessionId:u?.sessionId,_meta:(c=e.params)===null||c===void 0?void 0:c._meta,sendNotification:async g=>{let h={relatedRequestId:e.id};d&&(h.relatedTask={taskId:d}),await this.notification(g,h)},sendRequest:async(g,h,b)=>{var y,_;let x={...b,relatedRequestId:e.id};d&&!x.relatedTask&&(x.relatedTask={taskId:d});let w=(_=(y=x.relatedTask)===null||y===void 0?void 0:y.taskId)!==null&&_!==void 0?_:d;return w&&f&&await f.updateTaskStatus(w,"input_required"),await this.request(g,h,x)},authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo,taskId:d,taskStore:f,taskRequestedTtl:p?.ttl,closeSSEStream:r?.closeSSEStream,closeStandaloneSSEStream:r?.closeStandaloneSSEStream};Promise.resolve().then(()=>{p&&this.assertTaskHandlerCapability(e.method)}).then(()=>l(e,v)).then(async g=>{if(m.signal.aborted)return;let h={result:g,jsonrpc:"2.0",id:e.id};d&&this._taskMessageQueue?await this._enqueueTaskMessage(d,{type:"response",message:h,timestamp:Date.now()},u?.sessionId):await u?.send(h)},async g=>{var h;if(m.signal.aborted)return;let b={jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(g.code)?g.code:ge.InternalError,message:(h=g.message)!==null&&h!==void 0?h:"Internal error",...g.data!==void 0&&{data:g.data}}};d&&this._taskMessageQueue?await this._enqueueTaskMessage(d,{type:"error",message:b,timestamp:Date.now()},u?.sessionId):await u?.send(b)}).catch(g=>this._onerror(new Error(`Failed to send response: ${g}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:r,...n}=e.params,i=Number(r),o=this._progressHandlers.get(i);if(!o){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let s=this._responseHandlers.get(i),a=this._timeoutInfo.get(i);if(a&&s&&a.resetTimeoutOnProgress)try{this._resetTimeout(i)}catch(c){this._responseHandlers.delete(i),this._progressHandlers.delete(i),this._cleanupTimeout(i),s(c);return}o(n)}_onresponse(e){let r=Number(e.id),n=this._requestResolvers.get(r);if(n){if(this._requestResolvers.delete(r),Ep(e))n(e);else{let s=new ae(e.error.code,e.error.message,e.error.data);n(s)}return}let i=this._responseHandlers.get(r);if(i===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let o=!1;if(Ep(e)&&e.result&&typeof e.result=="object"){let s=e.result;if(s.task&&typeof s.task=="object"){let a=s.task;typeof a.taskId=="string"&&(o=!0,this._taskProgressTokens.set(a.taskId,r))}}if(o||this._progressHandlers.delete(r),Ep(e))i(e);else{let s=ae.fromError(e.error.code,e.error.message,e.error.data);i(s)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}async*requestStream(e,r,n){var i,o,s,a;let{task:c}=n??{};if(!c){try{yield{type:"result",result:await this.request(e,r,n)}}catch(u){yield{type:"error",error:u instanceof ae?u:new ae(ge.InternalError,String(u))}}return}let l;try{let u=await this.request(e,xo,n);if(u.task)l=u.task.taskId,yield{type:"taskCreated",task:u.task};else throw new ae(ge.InternalError,"Task creation did not return a task");for(;;){let d=await this.getTask({taskId:l},n);if(yield{type:"taskStatus",task:d},ps(d.status)){d.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:l},r,n)}:d.status==="failed"?yield{type:"error",error:new ae(ge.InternalError,`Task ${l} failed`)}:d.status==="cancelled"&&(yield{type:"error",error:new ae(ge.InternalError,`Task ${l} was cancelled`)});return}if(d.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:l},r,n)};return}let m=(s=(i=d.pollInterval)!==null&&i!==void 0?i:(o=this._options)===null||o===void 0?void 0:o.defaultTaskPollInterval)!==null&&s!==void 0?s:1e3;await new Promise(p=>setTimeout(p,m)),(a=n?.signal)===null||a===void 0||a.throwIfAborted()}}catch(u){yield{type:"error",error:u instanceof ae?u:new ae(ge.InternalError,String(u))}}}request(e,r,n){let{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s,task:a,relatedTask:c}=n??{};return new Promise((l,u)=>{var d,m,p,f,v,g,h;let b=E=>{u(E)};if(!this._transport){b(new Error("Not connected"));return}if(((d=this._options)===null||d===void 0?void 0:d.enforceStrictCapabilities)===!0)try{this.assertCapabilityForMethod(e.method),a&&this.assertTaskCapability(e.method)}catch(E){b(E);return}(m=n?.signal)===null||m===void 0||m.throwIfAborted();let y=this._requestMessageId++,_={...e,jsonrpc:"2.0",id:y};n?.onprogress&&(this._progressHandlers.set(y,n.onprogress),_.params={...e.params,_meta:{...((p=e.params)===null||p===void 0?void 0:p._meta)||{},progressToken:y}}),a&&(_.params={..._.params,task:a}),c&&(_.params={..._.params,_meta:{...((f=_.params)===null||f===void 0?void 0:f._meta)||{},[Mi]:c}});let x=E=>{var N;this._responseHandlers.delete(y),this._progressHandlers.delete(y),this._cleanupTimeout(y),(N=this._transport)===null||N===void 0||N.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:y,reason:String(E)}},{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s}).catch(z=>this._onerror(new Error(`Failed to send cancellation: ${z}`)));let P=E instanceof ae?E:new ae(ge.RequestTimeout,String(E));u(P)};this._responseHandlers.set(y,E=>{var N;if(!(!((N=n?.signal)===null||N===void 0)&&N.aborted)){if(E instanceof Error)return u(E);try{let P=Wr(r,E.result);P.success?l(P.data):u(P.error)}catch(P){u(P)}}}),(v=n?.signal)===null||v===void 0||v.addEventListener("abort",()=>{var E;x((E=n?.signal)===null||E===void 0?void 0:E.reason)});let w=(g=n?.timeout)!==null&&g!==void 0?g:wme,S=()=>x(ae.fromError(ge.RequestTimeout,"Request timed out",{timeout:w}));this._setupTimeout(y,w,n?.maxTotalTimeout,S,(h=n?.resetTimeoutOnProgress)!==null&&h!==void 0?h:!1);let $=c?.taskId;if($){let E=N=>{let P=this._responseHandlers.get(y);P?P(N):this._onerror(new Error(`Response handler missing for side-channeled request ${y}`))};this._requestResolvers.set(y,E),this._enqueueTaskMessage($,{type:"request",message:_,timestamp:Date.now()}).catch(N=>{this._cleanupTimeout(y),u(N)})}else this._transport.send(_,{relatedRequestId:i,resumptionToken:o,onresumptiontoken:s}).catch(E=>{this._cleanupTimeout(y),u(E)})})}async getTask(e,r){return this.request({method:"tasks/get",params:e},cy,r)}async getTaskResult(e,r,n){return this.request({method:"tasks/result",params:e},r,n)}async listTasks(e,r){return this.request({method:"tasks/list",params:e},dy,r)}async cancelTask(e,r){return this.request({method:"tasks/cancel",params:e},xq,r)}async notification(e,r){var n,i,o,s,a;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(e.method);let c=(n=r?.relatedTask)===null||n===void 0?void 0:n.taskId;if(c){let m={...e,jsonrpc:"2.0",params:{...e.params,_meta:{...((i=e.params)===null||i===void 0?void 0:i._meta)||{},[Mi]:r.relatedTask}}};await this._enqueueTaskMessage(c,{type:"notification",message:m,timestamp:Date.now()});return}if(((s=(o=this._options)===null||o===void 0?void 0:o.debouncedNotificationMethods)!==null&&s!==void 0?s:[]).includes(e.method)&&!e.params&&!r?.relatedRequestId&&!r?.relatedTask){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var m,p;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let f={...e,jsonrpc:"2.0"};r?.relatedTask&&(f={...f,params:{...f.params,_meta:{...((m=f.params)===null||m===void 0?void 0:m._meta)||{},[Mi]:r.relatedTask}}}),(p=this._transport)===null||p===void 0||p.send(f,r).catch(v=>this._onerror(v))});return}let d={...e,jsonrpc:"2.0"};r?.relatedTask&&(d={...d,params:{...d.params,_meta:{...((a=d.params)===null||a===void 0?void 0:a._meta)||{},[Mi]:r.relatedTask}}}),await this._transport.send(d,r)}setRequestHandler(e,r){let n=oE(e);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(i,o)=>{let s=sE(e,i);return Promise.resolve(r(s,o))})}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){let n=oE(e);this._notificationHandlers.set(n,i=>{let o=sE(e,i);return Promise.resolve(r(o))})}removeNotificationHandler(e){this._notificationHandlers.delete(e)}_cleanupTaskProgressHandler(e){let r=this._taskProgressTokens.get(e);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(e))}async _enqueueTaskMessage(e,r,n){var i;if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");let o=(i=this._options)===null||i===void 0?void 0:i.maxTaskQueueSize;await this._taskMessageQueue.enqueue(e,r,n,o)}async _clearTaskQueue(e,r){if(this._taskMessageQueue){let n=await this._taskMessageQueue.dequeueAll(e,r);for(let i of n)if(i.type==="request"&&R$(i.message)){let o=i.message.id,s=this._requestResolvers.get(o);s?(s(new ae(ge.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(o)):this._onerror(new Error(`Resolver missing for request ${o} during task ${e} cleanup`))}}}async _waitForTaskUpdate(e,r){var n,i,o;let s=(i=(n=this._options)===null||n===void 0?void 0:n.defaultTaskPollInterval)!==null&&i!==void 0?i:1e3;try{let a=await((o=this._taskStore)===null||o===void 0?void 0:o.getTask(e));a?.pollInterval&&(s=a.pollInterval)}catch{}return new Promise((a,c)=>{if(r.aborted){c(new ae(ge.InvalidRequest,"Request cancelled"));return}let l=setTimeout(a,s);r.addEventListener("abort",()=>{clearTimeout(l),c(new ae(ge.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(e,r){let n=this._taskStore;if(!n)throw new Error("No task store configured");return{createTask:async i=>{if(!e)throw new Error("No request provided");return await n.createTask(i,e.id,{method:e.method,params:e.params},r)},getTask:async i=>{let o=await n.getTask(i,r);if(!o)throw new ae(ge.InvalidParams,"Failed to retrieve task: Task not found");return o},storeTaskResult:async(i,o,s)=>{await n.storeTaskResult(i,o,s,r);let a=await n.getTask(i,r);if(a){let c=Rp.parse({method:"notifications/tasks/status",params:a});await this.notification(c),ps(a.status)&&this._cleanupTaskProgressHandler(i)}},getTaskResult:i=>n.getTaskResult(i,r),updateTaskStatus:async(i,o,s)=>{let a=await n.getTask(i,r);if(!a)throw new ae(ge.InvalidParams,`Task "${i}" not found - it may have been cleaned up`);if(ps(a.status))throw new ae(ge.InvalidParams,`Cannot update task "${i}" from terminal status "${a.status}" to "${o}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(i,o,s,r);let c=await n.getTask(i,r);if(c){let l=Rp.parse({method:"notifications/tasks/status",params:c});await this.notification(l),ps(c.status)&&this._cleanupTaskProgressHandler(i)}},listTasks:i=>n.listTasks(i,r)}}};function a4(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Sy(t,e){let r={...t};for(let n in e){let i=n,o=e[i];if(o===void 0)continue;let s=r[i];a4(s)&&a4(o)?r[i]={...s,...o}:r[i]=o}return r}var XZ=J(BT(),1),e6=J(QZ(),1);function d_e(){let t=new XZ.Ajv({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return(0,e6.default)(t),t}var Hl=class{constructor(e){this._ajv=e??d_e()}getValidator(e){var r;let n="$id"in e&&typeof e.$id=="string"?(r=this._ajv.getSchema(e.$id))!==null&&r!==void 0?r:this._ajv.compile(e):this._ajv.compile(e);return i=>n(i)?{valid:!0,data:i,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(n.errors)}}};var ob=class{constructor(e){this._client=e}async*callToolStream(e,r=ui,n){var i;let o=this._client,s={...n,task:(i=n?.task)!==null&&i!==void 0?i:o.isToolTask(e.name)?{}:void 0},a=o.requestStream({method:"tools/call",params:e},r,s),c=o.getToolOutputValidator(e.name);for await(let l of a){if(l.type==="result"&&c){let u=l.result;if(!u.structuredContent&&!u.isError){yield{type:"error",error:new ae(ge.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`)};return}if(u.structuredContent)try{let d=c(u.structuredContent);if(!d.valid){yield{type:"error",error:new ae(ge.InvalidParams,`Structured content does not match the tool's output schema: ${d.errorMessage}`)};return}}catch(d){if(d instanceof ae){yield{type:"error",error:d};return}yield{type:"error",error:new ae(ge.InvalidParams,`Failed to validate structured content: ${d instanceof Error?d.message:String(d)}`)};return}}yield l}}async getTask(e,r){return this._client.getTask({taskId:e},r)}async getTaskResult(e,r,n){return this._client.getTaskResult({taskId:e},r,n)}async listTasks(e,r){return this._client.listTasks(e?{cursor:e}:void 0,r)}async cancelTask(e,r){return this._client.cancelTask({taskId:e},r)}requestStream(e,r,n){return this._client.requestStream(e,r,n)}};function sb(t,e,r){var n;if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"tools/call":if(!(!((n=t.tools)===null||n===void 0)&&n.call))throw new Error(`${r} does not support task creation for tools/call (required for ${e})`);break;default:break}}function ab(t,e,r){var n,i;if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"sampling/createMessage":if(!(!((n=t.sampling)===null||n===void 0)&&n.createMessage))throw new Error(`${r} does not support task creation for sampling/createMessage (required for ${e})`);break;case"elicitation/create":if(!(!((i=t.elicitation)===null||i===void 0)&&i.create))throw new Error(`${r} does not support task creation for elicitation/create (required for ${e})`);break;default:break}}function cb(t,e){if(!(!t||e===null||typeof e!="object")){if(t.type==="object"&&t.properties&&typeof t.properties=="object"){let r=e,n=t.properties;for(let i of Object.keys(n)){let o=n[i];r[i]===void 0&&Object.prototype.hasOwnProperty.call(o,"default")&&(r[i]=o.default),r[i]!==void 0&&cb(o,r[i])}}if(Array.isArray(t.anyOf))for(let r of t.anyOf)cb(r,e);if(Array.isArray(t.oneOf))for(let r of t.oneOf)cb(r,e)}}function p_e(t){if(!t)return{supportsFormMode:!1,supportsUrlMode:!1};let e=t.form!==void 0,r=t.url!==void 0;return{supportsFormMode:e||!e&&!r,supportsUrlMode:r}}var lb=class extends Pl{constructor(e,r){var n,i;super(r),this._clientInfo=e,this._cachedToolOutputValidators=new Map,this._cachedKnownTaskTools=new Set,this._cachedRequiredTaskTools=new Set,this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{},this._jsonSchemaValidator=(i=r?.jsonSchemaValidator)!==null&&i!==void 0?i:new Hl}get experimental(){return this._experimental||(this._experimental={tasks:new ob(this)}),this._experimental}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=Sy(this._capabilities,e)}setRequestHandler(e,r){var n,i,o;let s=Di(e),a=s?.method;if(!a)throw new Error("Schema is missing a method literal");let c;if(Hr(a)){let u=a,d=(n=u._zod)===null||n===void 0?void 0:n.def;c=(i=d?.value)!==null&&i!==void 0?i:u.value}else{let u=a,d=u._def;c=(o=d?.value)!==null&&o!==void 0?o:u.value}if(typeof c!="string")throw new Error("Schema method literal must be a string");let l=c;if(l==="elicitation/create"){let u=async(d,m)=>{var p,f,v;let g=Wr(K$,d);if(!g.success){let E=g.error instanceof Error?g.error.message:String(g.error);throw new ae(ge.InvalidParams,`Invalid elicitation request: ${E}`)}let{params:h}=g.data,b=(p=h.mode)!==null&&p!==void 0?p:"form",{supportsFormMode:y,supportsUrlMode:_}=p_e(this._capabilities.elicitation);if(b==="form"&&!y)throw new ae(ge.InvalidParams,"Client does not support form-mode elicitation requests");if(b==="url"&&!_)throw new ae(ge.InvalidParams,"Client does not support URL-mode elicitation requests");let x=await Promise.resolve(r(d,m));if(h.task){let E=Wr(xo,x);if(!E.success){let N=E.error instanceof Error?E.error.message:String(E.error);throw new ae(ge.InvalidParams,`Invalid task creation result: ${N}`)}return E.data}let w=Wr(Cl,x);if(!w.success){let E=w.error instanceof Error?w.error.message:String(w.error);throw new ae(ge.InvalidParams,`Invalid elicitation result: ${E}`)}let S=w.data,$=b==="form"?h.requestedSchema:void 0;if(b==="form"&&S.action==="accept"&&S.content&&$&&!((v=(f=this._capabilities.elicitation)===null||f===void 0?void 0:f.form)===null||v===void 0)&&v.applyDefaults)try{cb($,S.content)}catch{}return S};return super.setRequestHandler(e,u)}if(l==="sampling/createMessage"){let u=async(d,m)=>{let p=Wr(G$,d);if(!p.success){let h=p.error instanceof Error?p.error.message:String(p.error);throw new ae(ge.InvalidParams,`Invalid sampling request: ${h}`)}let{params:f}=p.data,v=await Promise.resolve(r(d,m));if(f.task){let h=Wr(xo,v);if(!h.success){let b=h.error instanceof Error?h.error.message:String(h.error);throw new ae(ge.InvalidParams,`Invalid task creation result: ${b}`)}return h.data}let g=Wr(Ap,v);if(!g.success){let h=g.error instanceof Error?g.error.message:String(g.error);throw new ae(ge.InvalidParams,`Invalid sampling result: ${h}`)}return g.data};return super.setRequestHandler(e,u)}return super.setRequestHandler(e,r)}assertCapability(e,r){var n;if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n[e]))throw new Error(`Server does not support ${e} (required for ${r})`)}async connect(e,r){if(await super.connect(e),e.sessionId===void 0)try{let n=await this.request({method:"initialize",params:{protocolVersion:$p,capabilities:this._capabilities,clientInfo:this._clientInfo}},A$,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!ey.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,e.setProtocolVersion&&e.setProtocolVersion(n.protocolVersion),this._instructions=n.instructions,await this.notification({method:"notifications/initialized"})}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(e){var r,n,i,o,s;switch(e){case"logging/setLevel":if(!(!((r=this._serverCapabilities)===null||r===void 0)&&r.logging))throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n.prompts))throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(!((i=this._serverCapabilities)===null||i===void 0)&&i.resources))throw new Error(`Server does not support resources (required for ${e})`);if(e==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${e})`);break;case"tools/call":case"tools/list":if(!(!((o=this._serverCapabilities)===null||o===void 0)&&o.tools))throw new Error(`Server does not support tools (required for ${e})`);break;case"completion/complete":if(!(!((s=this._serverCapabilities)===null||s===void 0)&&s.completions))throw new Error(`Server does not support completions (required for ${e})`);break;case"initialize":break;case"ping":break}}assertNotificationCapability(e){var r;switch(e){case"notifications/roots/list_changed":if(!(!((r=this._capabilities.roots)===null||r===void 0)&&r.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${e})`);break;case"notifications/initialized":break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){if(this._capabilities)switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${e})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${e})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${e})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Client does not support tasks capability (required for ${e})`);break;case"ping":break}}assertTaskCapability(e){var r,n;sb((n=(r=this._serverCapabilities)===null||r===void 0?void 0:r.tasks)===null||n===void 0?void 0:n.requests,e,"Server")}assertTaskHandlerCapability(e){var r;this._capabilities&&ab((r=this._capabilities.tasks)===null||r===void 0?void 0:r.requests,e,"Client")}async ping(e){return this.request({method:"ping"},_o,e)}async complete(e,r){return this.request({method:"completion/complete",params:e},Y$,r)}async setLoggingLevel(e,r){return this.request({method:"logging/setLevel",params:{level:e}},_o,r)}async getPrompt(e,r){return this.request({method:"prompts/get",params:e},V$,r)}async listPrompts(e,r){return this.request({method:"prompts/list",params:e},L$,r)}async listResources(e,r){return this.request({method:"resources/list",params:e},D$,r)}async listResourceTemplates(e,r){return this.request({method:"resources/templates/list",params:e},z$,r)}async readResource(e,r){return this.request({method:"resources/read",params:e},U$,r)}async subscribeResource(e,r){return this.request({method:"resources/subscribe",params:e},_o,r)}async unsubscribeResource(e,r){return this.request({method:"resources/unsubscribe",params:e},_o,r)}async callTool(e,r=ui,n){if(this.isToolTaskRequired(e.name))throw new ae(ge.InvalidRequest,`Tool "${e.name}" requires task-based execution. Use client.experimental.tasks.callToolStream() instead.`);let i=await this.request({method:"tools/call",params:e},r,n),o=this.getToolOutputValidator(e.name);if(o){if(!i.structuredContent&&!i.isError)throw new ae(ge.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`);if(i.structuredContent)try{let s=o(i.structuredContent);if(!s.valid)throw new ae(ge.InvalidParams,`Structured content does not match the tool's output schema: ${s.errorMessage}`)}catch(s){throw s instanceof ae?s:new ae(ge.InvalidParams,`Failed to validate structured content: ${s instanceof Error?s.message:String(s)}`)}}return i}isToolTask(e){var r,n,i,o;return!((o=(i=(n=(r=this._serverCapabilities)===null||r===void 0?void 0:r.tasks)===null||n===void 0?void 0:n.requests)===null||i===void 0?void 0:i.tools)===null||o===void 0)&&o.call?this._cachedKnownTaskTools.has(e):!1}isToolTaskRequired(e){return this._cachedRequiredTaskTools.has(e)}cacheToolMetadata(e){var r;this._cachedToolOutputValidators.clear(),this._cachedKnownTaskTools.clear(),this._cachedRequiredTaskTools.clear();for(let n of e){if(n.outputSchema){let o=this._jsonSchemaValidator.getValidator(n.outputSchema);this._cachedToolOutputValidators.set(n.name,o)}let i=(r=n.execution)===null||r===void 0?void 0:r.taskSupport;(i==="required"||i==="optional")&&this._cachedKnownTaskTools.add(n.name),i==="required"&&this._cachedRequiredTaskTools.add(n.name)}}getToolOutputValidator(e){return this._cachedToolOutputValidators.get(e)}async listTools(e,r){let n=await this.request({method:"tools/list",params:e},H$,r);return this.cacheToolMetadata(n.tools),n}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}};var r6=J(Xb(),1),df=J(require("node:process"),1),n6=require("node:stream");var ub=class{append(e){this._buffer=this._buffer?Buffer.concat([this._buffer,e]):e}readMessage(){if(!this._buffer)return null;let e=this._buffer.indexOf(`
`);if(e===-1)return null;let r=this._buffer.toString("utf8",0,e).replace(/\r$/,"");return this._buffer=this._buffer.subarray(e+1),f_e(r)}clear(){this._buffer=void 0}};function f_e(t){return ny.parse(JSON.parse(t))}function t6(t){return JSON.stringify(t)+`
`}var m_e=df.default.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE","PROGRAMFILES"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];function h_e(){let t={};for(let e of m_e){let r=df.default.env[e];r!==void 0&&(r.startsWith("()")||(t[e]=r))}return t}var db=class{constructor(e){this._readBuffer=new ub,this._stderrStream=null,this._serverParams=e,(e.stderr==="pipe"||e.stderr==="overlapped")&&(this._stderrStream=new n6.PassThrough)}async start(){if(this._process)throw new Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((e,r)=>{var n,i,o,s,a;this._process=(0,r6.default)(this._serverParams.command,(n=this._serverParams.args)!==null&&n!==void 0?n:[],{env:{...h_e(),...this._serverParams.env},stdio:["pipe","pipe",(i=this._serverParams.stderr)!==null&&i!==void 0?i:"inherit"],shell:!1,windowsHide:df.default.platform==="win32"&&g_e(),cwd:this._serverParams.cwd}),this._process.on("error",c=>{var l;r(c),(l=this.onerror)===null||l===void 0||l.call(this,c)}),this._process.on("spawn",()=>{e()}),this._process.on("close",c=>{var l;this._process=void 0,(l=this.onclose)===null||l===void 0||l.call(this)}),(o=this._process.stdin)===null||o===void 0||o.on("error",c=>{var l;(l=this.onerror)===null||l===void 0||l.call(this,c)}),(s=this._process.stdout)===null||s===void 0||s.on("data",c=>{this._readBuffer.append(c),this.processReadBuffer()}),(a=this._process.stdout)===null||a===void 0||a.on("error",c=>{var l;(l=this.onerror)===null||l===void 0||l.call(this,c)}),this._stderrStream&&this._process.stderr&&this._process.stderr.pipe(this._stderrStream)})}get stderr(){var e,r;return this._stderrStream?this._stderrStream:(r=(e=this._process)===null||e===void 0?void 0:e.stderr)!==null&&r!==void 0?r:null}get pid(){var e,r;return(r=(e=this._process)===null||e===void 0?void 0:e.pid)!==null&&r!==void 0?r:null}processReadBuffer(){for(var e,r;;)try{let n=this._readBuffer.readMessage();if(n===null)break;(e=this.onmessage)===null||e===void 0||e.call(this,n)}catch(n){(r=this.onerror)===null||r===void 0||r.call(this,n)}}async close(){var e;if(this._process){let r=this._process;this._process=void 0;let n=new Promise(i=>{r.once("close",()=>{i()})});try{(e=r.stdin)===null||e===void 0||e.end()}catch{}if(await Promise.race([n,new Promise(i=>setTimeout(i,2e3).unref())]),r.exitCode===null){try{r.kill("SIGTERM")}catch{}await Promise.race([n,new Promise(i=>setTimeout(i,2e3).unref())])}if(r.exitCode===null)try{r.kill("SIGKILL")}catch{}}this._readBuffer.clear()}send(e){return new Promise(r=>{var n;if(!(!((n=this._process)===null||n===void 0)&&n.stdin))throw new Error("Not connected");let i=t6(e);this._process.stdin.write(i)?r():this._process.stdin.once("drain",r)})}};function g_e(){return"type"in df.default}var pf=class{constructor(e,r){this.output=e;this.getClaudeBinary=r}client=null;transport=null;async connect(){if(this.client)return!0;try{let{pathToClaudeCodeExecutable:e,executableArgs:r,env:n}=this.getClaudeBinary(),i,o;return r.length>0?(i=e,o=[...r,"--claude-in-chrome-mcp"]):e.endsWith(".js")?(i="node",o=[e,"--claude-in-chrome-mcp"]):(i=e,o=["--claude-in-chrome-mcp"]),this.output.info(`Chrome MCP: Connecting to server with command: ${i} ${o.join(" ")}`),this.transport=new db({command:i,args:o,env:{...n,USER_TYPE:"external"}}),this.client=new lb({name:"claude-vscode-chrome-mcp-client",version:"2.1.29"},{capabilities:{}}),await this.client.connect(this.transport),this.output.info("Chrome MCP: Successfully connected to server"),!0}catch(e){return this.output.error(`Chrome MCP: Failed to connect to server: ${e}`),this.client=null,this.transport=null,!1}}async disconnect(){if(this.client){try{await this.client.close(),this.output.info("Chrome MCP: Disconnected from server")}catch(e){this.output.error(`Chrome MCP: Error disconnecting: ${e}`)}this.client=null}if(this.transport){try{await this.transport.close()}catch{}this.transport=null}}async createNewBrowserTab(){if(!await this.connect()||!this.client)throw new Error("Failed to connect to Chrome MCP server");try{let r=await this.client.callTool({name:"tabs_context_mcp",arguments:{createIfEmpty:!0}},ui);if(r.isError){let i=i6(r.content);throw new Error(`Failed to create new tab: ${i}`)}let n=r.content;if(Array.isArray(n)&&n.length>0){let i=n.find(o=>o.type==="text");if(i&&"text"in i){let o=JSON.parse(i.text);return{tabGroupId:String(o.tabGroupId),tabId:o.tabId}}}throw new Error("Unexpected response format from tabs_create")}catch(r){throw this.output.error(`Chrome MCP: Error calling tabs_create: ${r}`),await this.disconnect(),r}}async getBrowserTabs(){if(!await this.connect()||!this.client)return[];try{let r=await this.client.callTool({name:"tabs_context_mcp",arguments:{createIfEmpty:!1}},ui),n={tabGroupId:"",tabId:0,title:"new tab",url:""};if(r.isError)return i6(r.content).includes("No tab available")?[n]:(this.output.warn(`Chrome MCP: tabs_context returned error: ${JSON.stringify(r.content)}`),[]);let i=r.content;if(Array.isArray(i)&&i.length>0){let o=i.find(s=>s.type==="text");if(o&&"text"in o)try{let s=JSON.parse(o.text),a=String(s.tabGroupId),c=(s.availableTabs||[]).map(l=>({...l,tabGroupId:a}));return c.push(n),c}catch(s){if(o.text.includes("No MCP tab groups found."))return[n];this.output.warn(`Chrome MCP: Failed to parse tabs_context response: ${s}`),this.output.warn(`Response text: ${o.text}`)}}return[]}catch(r){return this.output.error(`Chrome MCP: Error calling tabs_context: ${r}`),await this.disconnect(),[]}}};function i6(t){return typeof t=="string"?t:Array.isArray(t)?t.map(e=>{if(e&&typeof e=="object"&&"text"in e&&typeof e.text=="string")return e.text}).join(""):""}var QT=J(require("vscode"),1);var o6=ee.object({command:ee.literal("get_status")}),s6=ee.object({command:ee.literal("get_stack_trace"),threadId:ee.number().optional().describe("Thread ID to get stack trace for. Defaults to the main thread."),startFrame:ee.number().optional().describe("Index of the first frame to return (0-based)"),levels:ee.number().optional().describe("Maximum number of frames to return")}),a6=ee.object({command:ee.literal("get_scopes"),frameId:ee.number().optional().describe("The frame ID to get scopes for. Defaults to the current frame.")}),c6=ee.object({command:ee.literal("get_variables"),variablesReference:ee.number().describe("The reference ID for the variables scope. Use get_scopes first to get available scope references."),filter:ee.enum(["indexed","named"]).optional().describe("Filter to only indexed or named variables"),start:ee.number().optional().describe("Index of the first variable to return"),count:ee.number().optional().describe("Number of variables to return")}),l6=ee.object({command:ee.literal("evaluate"),expression:ee.string().describe("The expression to evaluate"),frameId:ee.number().optional().describe("The frame ID for context. Defaults to the current frame."),context:ee.enum(["watch","repl","hover","clipboard"]).optional().describe("The context in which the expression is evaluated. Affects formatting and side effects.")}),u6=ee.object({command:ee.literal("step_over"),threadId:ee.number().optional().describe("Thread ID to step. Defaults to the main thread.")}),d6=ee.object({command:ee.literal("step_into"),threadId:ee.number().optional().describe("Thread ID to step. Defaults to the main thread.")}),p6=ee.object({command:ee.literal("step_out"),threadId:ee.number().optional().describe("Thread ID to step. Defaults to the main thread.")}),f6=ee.object({command:ee.literal("continue"),threadId:ee.number().optional().describe("Thread ID to continue. Defaults to the main thread.")}),m6=ee.object({command:ee.literal("pause"),threadId:ee.number().optional().describe("Thread ID to pause. Defaults to the main thread.")}),h6=ee.object({command:ee.literal("set_breakpoint"),filePath:ee.string().describe("Absolute path to the source file"),line:ee.number().describe("Line number for the breakpoint (1-based)"),condition:ee.string().optional().describe("Optional condition expression that must be true for the breakpoint to trigger"),hitCondition:ee.string().optional().describe('Optional hit count expression (e.g., ">5" to break after 5 hits)'),logMessage:ee.string().optional().describe("Optional log message to print instead of breaking. Supports {} interpolation.")}),g6=ee.object({command:ee.literal("remove_breakpoints"),filePath:ee.string().describe("Absolute path to the source file")}),v6=ee.object({command:ee.literal("get_threads")}),y6=ee.object({command:ee.literal("get_loaded_sources")}),b6=ee.object({command:ee.literal("set_exception_breakpoints"),filters:ee.array(ee.string()).describe('Exception filter IDs to enable. Common values: "all" (all exceptions), "uncaught" (uncaught exceptions only)')}),v_e=[o6,s6,a6,c6,l6,u6,d6,p6,f6,m6,h6,g6,v6,y6,b6];function y_e(){let t=[],e={};for(let r of v_e)for(let[n,i]of Object.entries(r.shape))n==="command"?t.push(i.value):e[n]||(e[n]=i.isOptional()?i:i.optional());return e.command=ee.enum(t).describe("The debugger command to execute"),e}var Bqe=y_e(),Vqe=ee.discriminatedUnion("command",[o6,s6,a6,c6,l6,u6,d6,p6,f6,m6,h6,g6,v6,y6,b6]);var $6=require("path"),xe=J(require("vscode"),1);function E6(t){let e=t.metadata;return e?.id?e.id:`cell-${t.index}`}function b_e(t,e){for(let r of t.getCells())if(E6(r)===e)return{cell:r,index:r.index}}function pb(t,e,r){if(e!==void 0){let n=b_e(t,e);if(!n)throw new Error(`Cell with ID "${e}" not found in notebook.`);return n}if(r!==void 0){if(r<0||r>=t.cellCount)throw new Error(`Cell index ${r} out of range. Notebook has ${t.cellCount} cells (0-${t.cellCount-1}).`);return{cell:t.cellAt(r),index:r}}throw new Error("Either cell_id or cell_index must be provided.")}var T6=Je.strictObject({command:Je.literal("get_status")}),C6=Je.strictObject({command:Je.literal("execute_code"),notebook_path:Je.string().describe("Path to the notebook (from get_status output)"),code:Je.string().describe("Code to execute directly on the kernel")}),P6=Je.strictObject({command:Je.literal("execute_cell"),notebook_path:Je.string().describe("Path to the notebook (from get_status output)"),cell_id:Je.string().optional().describe("Stable cell ID (preferred, from get_cells output)"),cell_index:Je.number().optional().describe("Cell index (0-based, use if cell_id not available)")}),I6=Je.strictObject({command:Je.literal("get_cells"),notebook_path:Je.string().describe("Path to the notebook (from get_status output)"),includeOutputs:Je.boolean().optional().describe("Include cell outputs in the response")}),R6=Je.strictObject({command:Je.literal("add_cell"),notebook_path:Je.string().describe("Path to the notebook (from get_status output)"),content:Je.string().describe("Content for the new cell"),cell_type:Je.enum(["code","markdown"]).optional().describe("Type of cell to add. Defaults to code."),cell_id:Je.string().optional().describe("Reference cell ID (from get_cells output). Use with insert_position."),cell_index:Je.number().optional().describe("Reference cell index (0-based). Use with insert_position."),insert_position:Je.enum(["before","after"]).optional().describe("Insert before or after the reference cell. Defaults to after. If no cell reference provided, inserts at end of notebook.")}),O6=Je.strictObject({command:Je.literal("delete_cell"),notebook_path:Je.string().describe("Path to the notebook (from get_status output)"),cell_id:Je.string().optional().describe("Stable cell ID (preferred, from get_cells output)"),cell_index:Je.number().optional().describe("Cell index (0-based, use if cell_id not available)")}),A6=Je.strictObject({command:Je.literal("str_replace_cell"),notebook_path:Je.string().describe("Path to the notebook (from get_status output)"),cell_id:Je.string().optional().describe("Stable cell ID (preferred, from get_cells output)"),cell_index:Je.number().optional().describe("Cell index (0-based, use if cell_id not available)"),old_str:Je.string().describe("Text to find in the cell (must match exactly, including whitespace)"),new_str:Je.string().describe("Text to replace old_str with"),cell_type:Je.enum(["code","markdown"]).optional().describe("Optionally change the cell type")}),__e=Je.discriminatedUnion("command",[T6,C6,P6,I6,R6,O6,A6]),x_e=[T6,C6,P6,I6,R6,O6,A6];function w_e(){let t=[],e={};for(let r of x_e)for(let[n,i]of Object.entries(r.shape))n==="command"?t.push(i.value):e[n]||(e[n]=i.isOptional()?i:i.optional());return e.command=Je.enum(t).describe("The jupyter notebook command to execute"),e}var S_e=w_e();function fb(t){return{content:[{type:"text",text:t}]}}function _6(t){return{content:[{type:"text",text:JSON.stringify(t,null,2)}]}}async function Wl(t){let e=xe.workspace.notebookDocuments;for(let o of e)if(o.uri.fsPath===t)return o;for(let o of xe.workspace.workspaceFolders??[]){let s=xe.Uri.joinPath(o.uri,t).fsPath;for(let a of e)if(a.uri.fsPath===s)return a}let r=(0,$6.basename)(t),n=e.filter(o=>o.uri.fsPath.endsWith("/"+r)||o.uri.fsPath.endsWith("\\"+r));if(n.length===1&&n[0])return n[0];if(n.length>1)throw new Error(`Multiple notebooks match "${r}". Please use a more specific path:
`+n.map(o=>`  - ${o.uri.fsPath}`).join(`
`));let i=[t,...(xe.workspace.workspaceFolders??[]).map(o=>xe.Uri.joinPath(o.uri,t).fsPath)];for(let o of i)try{let s=xe.Uri.file(o),a=await xe.workspace.openNotebookDocument(s);return await xe.window.showNotebookDocument(a,{preserveFocus:!0}),a}catch{}if(e.length>0){let o=e.map(s=>s.uri.fsPath).join(`
  - `);throw new Error(`Notebook not found: "${t}"

Open notebooks:
  - ${o}`)}throw new Error(`Notebook not found: "${t}". No notebooks are currently open.`)}function x6(t){for(let e of t.getCells())if(e.kind===xe.NotebookCellKind.Code)return e.document.languageId;return"python"}var XT;async function w6(){if(!XT){let t=xe.extensions.getExtension("ms-toolsai.jupyter");if(!t)throw new Error("Jupyter extension not installed. Please install ms-toolsai.jupyter.");XT=Promise.resolve(t.activate())}return XT}var k_e={async get_status(t,e){let r=xe.workspace.notebookDocuments,n;try{n=await w6()}catch{}let i=await Promise.all(r.map(async o=>{let s=null;if(n)try{let a=await n.kernels.getKernel(o.uri);a&&(s={language:a.language,status:a.status})}catch{}return{path:o.uri.fsPath,cellCount:o.cellCount,kernel:s}}));return _6({hasNotebooks:i.length>0,notebookCount:i.length,notebooks:i})},async execute_code(t,e){let r=await Wl(t.notebook_path),{code:n}=t,o=await(await w6()).kernels.getKernel(r.uri);if(!o)throw new Error("No kernel connected to this notebook. Please select a kernel.");e.output.info(`[JupyterTool] Executing code: ${n.substring(0,100)}`);let s={content:[]},a=new TextDecoder,c=new xe.CancellationTokenSource;try{for await(let l of o.executeCode(n,c.token))for(let u of l.items)if(u.mime===S6){let d=JSON.parse(a.decode(u.data));s.content.push({type:"text",text:`Error: ${d.name}: ${d.message}
${d.stack}`})}else if(u.mime===k6){let d=Buffer.from(u.data).toString("base64");s.content.push({type:"image",data:d,mimeType:u.mime})}else s.content.push({type:"text",text:a.decode(u.data)})}finally{c.dispose()}return s.content.length===0&&s.content.push({type:"text",text:"Code executed (no output)"}),s},async execute_cell(t,e){let r=await Wl(t.notebook_path),{cell_id:n,cell_index:i}=t,{cell:o,index:s}=pb(r,n,i);if(o.kind!==xe.NotebookCellKind.Code)throw new Error(`Cell ${s} is a markdown cell, not a code cell. Only code cells can be executed.`);e.output.info(`[JupyterTool] Executing cell ${s}`),await xe.commands.executeCommand("notebook.cell.execute",{ranges:[{start:s,end:s+1}],document:r.uri});let a={content:[]},c=new TextDecoder;for(let l of o.outputs)for(let u of l.items)if(u.mime===S6){let d=JSON.parse(c.decode(u.data));a.content.push({type:"text",text:`Error: ${d.name}: ${d.message}
${d.stack}`})}else if(u.mime===k6){let d=Buffer.from(u.data).toString("base64");a.content.push({type:"image",data:d,mimeType:u.mime})}else a.content.push({type:"text",text:c.decode(u.data)});return a.content.length===0&&a.content.push({type:"text",text:"Cell executed (no output)"}),a},async get_cells(t,e){let r=await Wl(t.notebook_path),{includeOutputs:n}=t,i=new TextDecoder,o=r.getCells().map((s,a)=>{let c={cell_id:E6(s),index:a,type:s.kind===xe.NotebookCellKind.Code?"code":"markdown",content:s.document.getText()};if(n&&s.kind===xe.NotebookCellKind.Code){c.outputs=[];for(let l of s.outputs)for(let u of l.items)u.mime.startsWith("text/")||u.mime==="application/json"?c.outputs.push({mime:u.mime,text:i.decode(u.data)}):c.outputs.push({mime:u.mime})}return c});return _6({path:r.uri.fsPath,cellCount:o.length,cells:o})},async add_cell(t,e){let r=await Wl(t.notebook_path),{content:n,cell_type:i,cell_id:o,cell_index:s,insert_position:a}=t,c=i==="markdown"?xe.NotebookCellKind.Markup:xe.NotebookCellKind.Code,l=x6(r),u=new xe.NotebookCellData(c,n,l),d;if(o!==void 0||s!==void 0){let{index:v}=pb(r,o,s);d=a==="before"?v:v+1}else d=r.cellCount;let m=xe.NotebookEdit.insertCells(d,[u]),p=new xe.WorkspaceEdit;return p.set(r.uri,[m]),await xe.workspace.applyEdit(p),(await xe.window.showNotebookDocument(r,{preserveFocus:!0})).revealRange(new xe.NotebookRange(d,d+1),xe.NotebookEditorRevealType.InCenter),fb(`Added ${i??"code"} cell at index ${d}`)},async delete_cell(t,e){let r=await Wl(t.notebook_path),{cell_id:n,cell_index:i}=t,{index:o}=pb(r,n,i);if(r.cellCount===1)throw new Error("Cannot delete the last cell in a notebook. Notebooks must have at least one cell.");let s=new xe.WorkspaceEdit;return s.set(r.uri,[xe.NotebookEdit.deleteCells(new xe.NotebookRange(o,o+1))]),await xe.workspace.applyEdit(s),fb(`Deleted cell ${o}. Notebook now has ${r.cellCount} cells.`)},async str_replace_cell(t,e){let r=await Wl(t.notebook_path),{cell_id:n,cell_index:i,old_str:o,new_str:s,cell_type:a}=t,{cell:c,index:l}=pb(r,n,i),u=c.document.getText(),d=u.indexOf(o);if(d===-1)throw new Error(`String not found in cell ${l}. The old_str must match exactly (including whitespace and newlines).`);if(u.indexOf(o,d+1)!==-1)throw new Error(`Multiple occurrences of old_str found in cell ${l}. Please provide a more unique string to replace.`);let p=u.replace(o,s),f=new xe.WorkspaceEdit;if(a!==void 0){let g=a==="markdown"?xe.NotebookCellKind.Markup:xe.NotebookCellKind.Code;if(c.kind===xe.NotebookCellKind.Code&&a==="markdown"||c.kind===xe.NotebookCellKind.Markup&&a==="code"){let b=x6(r),y=new xe.NotebookCellData(g,p,b);return f.set(r.uri,[xe.NotebookEdit.deleteCells(new xe.NotebookRange(l,l+1)),xe.NotebookEdit.insertCells(l,[y])]),await xe.workspace.applyEdit(f),fb(`Replaced text in cell ${l} (changed type to ${a})`)}}let v=new xe.Range(c.document.positionAt(0),c.document.positionAt(u.length));return f.replace(c.document.uri,v,p),await xe.workspace.applyEdit(f),fb(`Replaced text in cell ${l}`)}},S6=xe.NotebookCellOutputItem.error(new Error("")).mime,k6="image/png",$_e="jupyter",E_e=`Tool for interacting with Jupyter notebooks in VS Code. Execute code, read cells, and manage notebook content.

Workflow:
1. Call get_status to see open notebooks and which is active
2. Use the notebook_path from get_status in other commands

Available commands:
- get_status: Get information about open notebooks (paths, cell counts, active notebook, kernel state)
- execute_code: Execute code directly on the kernel (without modifying the notebook)
- execute_cell: Execute an existing cell
- get_cells: Get the contents of cells in a notebook (includes cell_id for each cell)
- add_cell: Add a new cell (at end by default, or before/after a specific cell using cell_id/cell_index + insert_position)
- delete_cell: Remove a cell from the notebook
- str_replace_cell: Replace text within a cell (must match exactly once). Can also change cell type.

Notebook path: Required for all commands except get_status. Supports absolute paths, relative paths from workspace root, or just the filename if unique.

Cell identification: Use cell_id (stable, from get_cells output) or cell_index (0-based position).
Prefer cell_id when available as it remains stable when cells are inserted or deleted.`;function N6(t,e,r){let n={notebookEditors:[...xe.window.visibleNotebookEditors],activeNotebook:xe.window.activeNotebookEditor,notebookDocuments:[...xe.workspace.notebookDocuments]},i=new Set;function o(){let l=xe.window.tabGroups.activeTabGroup.activeTab;if(!l)return!1;let u=l.input;if(u&&typeof u=="object"&&"notebookType"in u){let d=u.notebookType;return d==="jupyter-notebook"||d==="interactive"}return!1}function s(){let l=Math.max(n.notebookEditors.length,n.notebookDocuments.length);return{hasNotebooks:l>0,notebookCount:l,isActiveEditorNotebook:o()}}function a(){let l=s();for(let u of i)u(l)}let c=s();return r.info(`[JupyterTool] Initialized with ${c.notebookCount} notebook(s) (${n.notebookEditors.length} visible, ${n.notebookDocuments.length} open)`),t&&t.tool($_e,E_e,S_e,async l=>{let u=__e.safeParse(l);if(!u.success)return{content:[{type:"text",text:`Validation error: ${u.error.issues.map(f=>`${f.path.join(".")}: ${f.message}`).join(", ")}`}],isError:!0};let d=u.data,m={state:n,output:r};try{let p=k_e[d.command];return await p(d,m)}catch(p){return r.error("[JupyterTool] Command failed:",p),{content:[{type:"text",text:`Error: ${p instanceof Error?p.message:String(p)}`}],isError:!0}}}),e.subscriptions.push(xe.window.onDidChangeVisibleNotebookEditors(l=>{n.notebookEditors=[...l],r.info(`[JupyterTool] Visible notebook editors changed: ${l.length}`),a()})),e.subscriptions.push(xe.window.onDidChangeActiveNotebookEditor(l=>{n.activeNotebook=l,r.info(`[JupyterTool] Active notebook: ${l?.notebook.uri.fsPath??"none"}`),a()})),e.subscriptions.push(xe.window.tabGroups.onDidChangeTabs(()=>{a()})),e.subscriptions.push(xe.workspace.onDidOpenNotebookDocument(l=>{n.notebookDocuments=[...xe.workspace.notebookDocuments],r.info(`[JupyterTool] Notebook opened: ${l.uri.fsPath} (${n.notebookDocuments.length} total)`),a()})),e.subscriptions.push(xe.workspace.onDidCloseNotebookDocument(l=>{n.notebookDocuments=[...xe.workspace.notebookDocuments],r.info(`[JupyterTool] Notebook closed: ${l.uri.fsPath} (${n.notebookDocuments.length} remaining)`),a()})),{getState:s,onStateChange:l=>(i.add(l),()=>i.delete(l))}}function j6(t,e){let r=Um({name:"claude-vscode-extension",version:"2.1.29",tools:[]}),n={getState:()=>({hasActiveSession:!1}),onStateChange:()=>()=>{}},i=N6(null,t,e);return{config:r,debuggerController:n,jupyterController:i}}var T_e=`
# VSCode Extension Context

You are running inside a VSCode native extension environment.

## Code References in Text
IMPORTANT: When referencing files or code locations, use markdown link syntax to make them clickable:
- For files: [filename.ts](src/filename.ts)
- For specific lines: [filename.ts:42](src/filename.ts#L42)
- For a range of lines: [filename.ts:42-51](src/filename.ts#L42-L51)
- For folders: [src/utils/](src/utils/)
Unless explicitly asked for by the user, DO NOT USE backtickets \` or HTML tags like code for file references - always use markdown [text](link) format.
The URL links should be relative paths from the root of  the user's workspace.

## User Selection Context
The user's IDE selection (if any) is included in the conversation context and marked with ide_selection tags. This represents code or text the user has highlighted in their editor and may or may not be relevant to their request.`,ff=class extends Rh{constructor(r,n,i,o,s,a,c,l,u,d,m,p,f,v,g,h){let b=r.globalState.get("experimentGates")||{},y=r.globalState.get("showTerminalBanner");super(n,Gl(s),i,!!g,y===void 0?!0:y,b,new rl(Gl(s),mb(),vr("disableLoginPrompt")));this.context=r;this.cwd=n;this.settings=i;this.webview=o;this.output=s;this.leftTempFileProvider=l;this.rightTempFileProvider=u;this.readOnlyTempFileProvider=d;this.acceptOrRejectDiffs=m;this.getCurrentSelection=p;this.isVisible=f;this.makeVisible=v;this.panelTab=g;this.requestUsageBroadcast=h;this.checkAndUpdateReviewUpsellBanner(),this.extensionMcpServer=j6(r,s),this.extensionMcpServer.debuggerController.onStateChange(_=>{this.updateDebuggerStateForAllChannels(_)}),this.extensionMcpServer.jupyterController.onStateChange(_=>{this.updateJupyterStateForAllChannels(_)}),a(_=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"insert_at_mention",text:_}}),this.panelTab&&this.panelTab.reveal()}),c(_=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"selection_changed",selection:_}})}),setTimeout(()=>{this.notifyVisibilityChange(this.isVisible())},100),r.subscriptions.push(ce.workspace.onDidChangeConfiguration(_=>{_.affectsConfiguration("claudeCode.hideOnboarding")&&this.pushStateUpdate()}))}sendQueue=Promise.resolve();speechToTextChannels=new Map;resolveClientReady;clientReady=new Promise(r=>{this.resolveClientReady=r});chromeMcpClient;extensionMcpServer;async fromClient(r){return this.resolveClientReady(),super.fromClient(r)}notifyVisibilityChange(r){this.send({type:"request",channelId:"",requestId:"",request:{type:"visibility_changed",isVisible:r}}),r&&this.checkAndUpdateReviewUpsellBanner()}notifyFontConfigurationChange(r){this.send({type:"request",channelId:"",requestId:"",request:{type:"font_configuration_changed",fontConfig:r}})}notifyCreateNewConversation(){this.send({type:"request",channelId:"",requestId:"",request:{type:"create_new_conversation"}})}async notifyOpenPluginsDialog(r,n){await this.clientReady,this.send({type:"request",channelId:"",requestId:"",request:{type:"open_plugins_dialog",pluginName:r,marketplaceSource:n}})}send(r){this.sendQueue=this.sendQueue.then(()=>this.webview.postMessage({type:"from-extension",message:r}).then(()=>{})),this.checkAndUpdateReviewUpsellBanner()}async processRequest(r,n){if(r.request.type==="get_current_selection")return{type:"get_current_selection_response",selection:this.getCurrentSelection()};if(r.request.type==="new_conversation_tab")return await ce.commands.executeCommand("claude-vscode.editor.open",r.request.sessionId,r.request.initialPrompt),{type:"new_conversation_tab_response"};if(r.request.type==="rename_tab"){if(this.panelTab){this.panelTab.title=r.request.title;let i;r.request.hasPendingPermissions?i="claude-logo-pending.svg":r.request.hasUnseenCompletion?i="claude-logo-done.svg":i="claude-logo.svg",this.panelTab.iconPath=ce.Uri.file((0,Ur.join)(this.context.extensionPath,"resources",i))}return{type:"rename_tab_response"}}else if(r.request.type==="show_notification"){let{message:i,severity:o,buttons:s,onlyIfNotVisible:a}=r.request;if(a&&this.isVisible())return{type:"show_notification_response"};let c;switch(o){case"error":c=await ce.window.showErrorMessage(i,...s||[]);break;case"warning":c=await ce.window.showWarningMessage(i,...s||[]);break;case"info":default:c=await ce.window.showInformationMessage(i,...s||[]);break}return c&&this.makeVisible(),{type:"show_notification_response",buttonValue:c}}return super.processRequest(r,n)}async spawnClaude(r,n,i,o,s,a,c,l,u={}){I_e();let d=new Hh(Gl(this.output)),m={cwd:s||this.cwd,resume:n,canUseTool:i,permissionMode:a,allowDangerouslySkipPermissions:c,model:o===null?"default":o,stderr:y=>{y.includes("An update to our Consumer Terms and Privacy Policy")&&ce.window.showErrorMessage("An update to our Consumer Terms and Privacy Policy has taken effect on October 8, 2025. You must run claude in the terminal to review the updated terms.","Resolve in Terminal").then(_=>{_==="Resolve in Terminal"&&this.openClaudeInTerminal()}),this.output.info(`From claude: ${y}`)},systemPrompt:{type:"preset",preset:"claude_code",append:T_e},enableFileCheckpointing:!0,maxThinkingTokens:l,includePartialMessages:!0,hooks:{PreToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[y=>d.captureBaseline(y)]},{matcher:"Edit|Write|Read",hooks:[y=>this.saveFileIfNeeded(y)]}],PostToolUse:[{matcher:"Edit|Write|MultiEdit",hooks:[y=>d.findDiagnosticsProblems(y)]}]},settingSources:["user","project","local"],extraArgs:{debug:null,"debug-to-stderr":null,"enable-auth-status":null,"no-chrome":null},mcpServers:u},{pathToClaudeCodeExecutable:p,executableArgs:f,env:v}=this.getClaudeBinary(),g=vr("usePythonEnvironment")??!0,h=g?await GU(v):v;if(g&&h!==v){let y=["PATH","VIRTUAL_ENV","CONDA_PREFIX","CONDA_DEFAULT_ENV"];for(let _ of y)h[_]!==v[_]&&this.output.info(`Python env: ${_}=${h[_]}`)}return m.pathToClaudeCodeExecutable=p,m.executableArgs=f,m.env=h,this.output.info(`Spawning Claude with SDK query function - cwd: ${m.cwd}, permission mode: ${a}, version: 2.1.29, ${m.pathToClaudeCodeExecutable}, resume: ${n}`),Lm({prompt:r,options:m})}getClaudeBinary(){let r,n=[],i=!1;{let s=P_e(this.context);s&&(r=s)}if(!r){let s=this.context.asAbsolutePath((0,Ur.join)("resources","claude-code","cli.js"));if(!Lr.existsSync(s))throw new Error(`Unsupported platform: ${process.platform}-${process.arch}. No compatible Claude Code binary found.`);R_e(),i=!0,r=s}let o=vr("claudeProcessWrapper");return o&&(n=[r],i&&n.unshift("node"),r=o),{pathToClaudeCodeExecutable:r,executableArgs:n,env:mb()}}getChromeMcpServerConfig(){let{pathToClaudeCodeExecutable:r}=this.getClaudeBinary();return r.endsWith(".js")?{type:"stdio",command:"node",args:[r,"--claude-in-chrome-mcp"]}:{type:"stdio",command:r,args:["--claude-in-chrome-mcp"]}}async onExperimentGatesUpdated(r){this.experimentGates=r,this.context.globalState.update("experimentGates",r),await this.checkAndUpdateReviewUpsellBanner()}async onUsageUpdateRequested(){await this.requestUsageBroadcast()}claudeLaunched(r){let n={appName:ce.env.appName,version:ce.version};this.logEvent(r,"claude_launched",{ide:n}),this.extensionMcpServer.debuggerController.getState().hasActiveSession&&this.addDebuggerMcpToChannel(r),this.pushChannelStateUpdate(r)}async openFile(r,n){let i=(0,Ur.isAbsolute)(r)?r:(0,Ur.join)(this.cwd,r);if(!Lr.existsSync(i)&&!(0,Ur.isAbsolute)(r)){let s=await V0(r);s.length>0&&(i=(0,Ur.join)(this.cwd,s[0].path))}let o=ce.Uri.file(i);if(Lr.existsSync(i)&&Lr.statSync(i).isDirectory()){ce.commands.executeCommand("revealInExplorer",o);return}ce.window.showTextDocument(o).then(s=>{if(n?.searchText){let a=s.document,l=a.getText().indexOf(n.searchText);if(l!==-1){let u=a.positionAt(l),d=a.positionAt(l+n.searchText.length),m=new ce.Range(u,d);s.revealRange(m,ce.TextEditorRevealType.InCenter),s.selection=new ce.Selection(u,d)}}else if(n){let a=new ce.Range(new ce.Position((n.startLine||1)-1,0),new ce.Position((n.endLine||n.startLine||1)-1,0));s.revealRange(a,ce.TextEditorRevealType.InCenter),s.selection=new ce.Selection(a.start,a.end)}})}openConfigFile(r){let n,i=`{
  "mcpServers": {}
}
`,o=(0,Ur.join)(process.env.CLAUDE_CONFIG_DIR||(0,z6.homedir)(),".claude.json");switch(r){case"mcp-local":case"mcp-user":n=o;break;case"mcp-project":n=(0,Ur.join)(this.cwd,".mcp.json");break;default:n=o;break}Lr.existsSync(n)||Lr.writeFileSync(n,i,"utf-8");let s=ce.Uri.file(n);ce.workspace.openTextDocument(s).then(a=>{ce.window.showTextDocument(a,{preview:!1})},a=>{this.output.error(`Failed to open config file ${n}: ${a}`)})}async openContent(r,n,i,o){return{type:"open_content_response",updatedContent:await WU(this.output,this.readOnlyTempFileProvider,this.rightTempFileProvider,r,n,i,o)}}async openDiff(r,n,i,o,s){return{type:"open_diff_response",newEdits:await eL(this.output,this.leftTempFileProvider,this.rightTempFileProvider,r,n,i,o,this.acceptOrRejectDiffs,s)}}async openURL(r){await ce.env.openExternal(ce.Uri.parse(r))}async openClaudeInTerminal(r,n,i){await ce.commands.executeCommand("claude-vscode.terminal.open",r,n,i)}async openTerminal(r,n=[],i,o,s){let a={...process.env},c="Claude Code",l=o==="beside"||o===void 0?{viewColumn:ce.ViewColumn.Beside}:o==="window"?{viewColumn:ce.ViewColumn.One}:void 0,u=ce.window.createTerminal({name:c,iconPath:ce.Uri.file((0,Ur.join)(this.context.extensionPath,"resources","claude-logo.svg")),cwd:i||this.cwd,location:l,isTransient:!0,env:a,strictEnv:!0}),d=[r,...n];u.show();let m,p;await new Promise(f=>{let v=!1;m=ce.window.onDidChangeTerminalShellIntegration(g=>{g.terminal===u&&!v&&(v=!0,p=ce.window.onDidStartTerminalShellExecution(h=>{h.terminal===u&&f()}),g.shellIntegration.executeCommand((0,eC.quote)(d)))}),setTimeout(()=>{!u.shellIntegration&&!v&&(v=!0,u.sendText((0,eC.quote)(d)),f())},3e3)}).finally(()=>{m?.dispose(),p?.dispose()}),o==="window"&&await ce.commands.executeCommand("workbench.action.moveEditorToNewWindow")}async showClaudeTerminalSetting(){await ce.commands.executeCommand("workbench.action.focusFirstEditorGroup"),await ce.commands.executeCommand("workbench.action.openSettings","claudeCode.useTerminal")}async dismissTerminalBanner(){this.showTerminalBanner=!1,await this.context.globalState.update("showTerminalBanner",!1)}async dismissReviewUpsellBanner(r){this.context.globalState.update("reviewUpsellDismissedMetadata",r),this.showReviewUpsellBanner=!1,await this.pushStateUpdate()}async dismissOnboarding(r){await this.settings.setHideOnboarding(!0),await this.pushStateUpdate()}getIsOnboardingDismissed(){return this.settings.getHideOnboarding()}async checkAndUpdateReviewUpsellBanner(){try{if(this.showReviewUpsellBanner!==void 0||!this.experimentGates.tengu_vscode_review_upsell)return;if(this.context.globalState.get("reviewUpsellDismissedMetadata")!==void 0){this.showReviewUpsellBanner=!1,await this.pushStateUpdate();return}let n=this.context.globalState.get("reviewUpsellLastShownTimestamp");if(hL(n)){this.showReviewUpsellBanner=!1,await this.pushStateUpdate();return}let i=gL();i&&this.showReviewUpsellBanner!==!0&&(this.showReviewUpsellBanner=i,i&&this.context.globalState.update("reviewUpsellLastShownTimestamp",Date.now()),await this.pushStateUpdate())}catch(r){this.output.warn(`Failed to check review upsell banner: ${r}`)}}async openConfig(r){await ce.commands.executeCommand("workbench.action.focusFirstEditorGroup"),await ce.commands.executeCommand("workbench.action.openSettings",r||"claudeCode")}async openHelp(){let r=ce.Uri.parse("https://code.claude.com/docs/en/vs-code");await ce.env.openExternal(r)}async openOutputPanel(){this.output.show()}async openFileDiffs(r){let n=[];for(let[i,o]of Object.entries(r.diffs)){if(o.oldContent===o.newContent)continue;let s=(0,Ur.isAbsolute)(i)?i:(0,Ur.join)(this.cwd,i),a=o.oldContent!==null?this.leftTempFileProvider.createFile(s,o.oldContent).uri:void 0,c;if(o.newContent!==null){let u;try{u=Lr.readFileSync(s,"utf8")}catch{}u===o.newContent?c=ce.Uri.file(s):c=this.readOnlyTempFileProvider.createFile(s,o.newContent)}let l=ce.Uri.file(s);n.push([l,a,c])}if(n.length>0){let i=r.title??"Review changes";await ce.commands.executeCommand("vscode.changes",i,n)}}isSpeechToTextEnabled(){return process.env.CLAUDE_SPEECH_TO_TEXT!=="true"?!1:ce.extensions.getExtension("ms-vscode.vscode-speech")!==void 0}async handleStartSpeechToText(r){if(this.output.info(`Starting speech-to-text on channel: ${r}`),this.speechToTextChannels.has(r))throw new Error(`Speech-to-text channel already exists: ${r}`);try{let{iterator:n,abort:i}=await this.createSpeechToTextStream();this.speechToTextChannels.set(r,{abort:i}),(async()=>{try{for await(let o of n)this.send({type:"speech_to_text_message",channelId:r,text:o,done:!1});this.closeSpeechToTextChannel(r,!0)}catch(o){this.closeSpeechToTextChannel(r,!0,String(o)),this.output.error(`Error from speech-to-text (on channel ${r}): ${o}`)}})()}catch(n){this.closeSpeechToTextChannel(r,!0,String(n)),this.output.error(`Error starting speech-to-text (on channel ${r}): ${n}`)}}async handleStopSpeechToText(r){let n=this.speechToTextChannels.get(r);if(!n){this.output.warn(`Speech-to-text channel not found: ${r}`);return}try{n.abort(),this.output.info(`Stopped speech-to-text for channel: ${r}`)}catch(i){this.output.error(`Failed to stop speech-to-text: ${i}`)}}closeSpeechToTextChannel(r,n,i){this.output.info(`Closing speech-to-text on channel: ${r}`),n&&this.send({type:"close_channel",channelId:r,error:i}),this.speechToTextChannels.delete(r)}async createSpeechToTextStream(){let r=ce.extensions.getExtension("ms-vscode.vscode-speech");if(!r)throw new Error("Speech extension not found. Please install ms-vscode.vscode-speech");r.isActive||await r.activate();let n=await ce.workspace.openTextDocument({content:"",language:"plaintext"});await ce.window.showTextDocument(n,{preview:!0,preserveFocus:!1});let i=!1,o="",s=[],a=null,c=ce.workspace.onDidChangeTextDocument(d=>{if(d.document===n&&d.contentChanges.length>0){let m=n.getText();this.output.info(`Speech document changed. Current text length: ${m.length}, Last text length: ${o.length}`),m!==o&&(o=m,s.push(m),this.output.info(`Enqueued speech text: "${m}"`),a&&(a(),a=null))}}),l=()=>{i=!0,ce.commands.executeCommand("workbench.action.editorDictation.stop"),c.dispose(),ce.commands.executeCommand("workbench.action.revertAndCloseActiveEditor"),a&&(a(),a=null)};await ce.commands.executeCommand("workbench.action.editorDictation.start"),this.panelTab?this.panelTab.reveal():await ce.commands.executeCommand("claudeVSCodeSidebar.focus");async function*u(){try{for(;!i;)s.length>0?yield s.shift():await new Promise(d=>{a=d,setTimeout(()=>{a===d&&(a=null,d())},100)})}finally{c.dispose(),ce.commands.executeCommand("workbench.action.revertAndCloseActiveEditor")}}return{iterator:u(),abort:l}}getAssetUris(){let r=bO(),n=i=>this.webview.asWebviewUri(ce.Uri.file(this.context.asAbsolutePath(i))).toString();for(let i of Object.keys(r))r[i]={light:n(r[i].light),dark:n(r[i].dark)};return r}async findFiles(r){let n=r?.toLowerCase()??"";if(n.startsWith("browser:"))return this.getMatchingBrowserTabs(r);if(process.env.AT_MENTION_TERMINAL==="true"&&n.startsWith("terminal:"))return this.getMatchingTerminals(r);let i="browser:",o="terminal:",s=n&&i.startsWith(n),a=n&&o.startsWith(n),c=[];process.env.AT_MENTION_TERMINAL==="true"&&(c=this.getMatchingTerminals(r));let l=await this.getMatchingBrowserTabs(r),u=ce.workspace.workspaceFolders;if(!u||u.length===0)return[...c,...l];let d;try{d=await zU(r,this.cwd,Gl(this.output))}catch(m){this.output.warn(`Ripgrep search failed, falling back to VSCode findFiles: ${m}`),d=await V0(r)}return s?[...l,...c,...d]:a?[...c,...l,...d]:[...d,...c,...l]}getMatchingTerminals(r){let n=r?.toLowerCase()??"";return ce.window.terminals.filter(i=>{let o=i.name.replace(/ /g,"_");return!r||`terminal:${o}`.toLowerCase().includes(n)}).map(i=>{let o=i.name.replace(/ /g,"_");return{path:`terminal:${o}`,name:`terminal:${o}`,type:"terminal"}})}async getMatchingBrowserTabs(r){try{this.chromeMcpClient||(this.chromeMcpClient=new pf(this.output,()=>this.getClaudeBinary()));let n=await this.chromeMcpClient.getBrowserTabs(),i=r?.toLowerCase()??"";return n.filter(o=>r?`browser:${o.title}`.toLowerCase().includes(i)||o.url.toLowerCase().includes(i):!0).map(o=>{let s=o.title.replace(/ /g,"_");return{path:o.tabGroupId===""&&o.tabId===0?"browser:new_tab":`browser:${o.tabGroupId}:${o.tabId}:${o.url}`,name:`browser:${s}`,type:"browser"}})}catch(n){return this.output.warn(`Failed to get browser tabs: ${n}`),[]}}async disableChromeMcp(r){return this.chromeMcpClient&&await this.chromeMcpClient.disconnect(),super.disableChromeMcp(r)}async createNewBrowserTab(){this.chromeMcpClient||(this.chromeMcpClient=new pf(this.output,()=>this.getClaudeBinary()));let{tabGroupId:r,tabId:n}=await this.chromeMcpClient.createNewBrowserTab();return{type:"create_new_browser_tab_response",tabGroupId:r,tabId:n}}getMarketplaceType(){let r=ce.env.appName.toLowerCase();return r.includes("vscodium")||r.includes("gitpod")||r.includes("code - oss")||r.includes("cursor")?"openvsx":"vscode"}isBrowserIntegrationSupported(){return this.authManager.getAuthStatus()?.authMethod==="claudeai"&&!!this.experimentGates.tengu_quiet_fern}async getTerminalContents(r){let n=ce.window.terminals.find(o=>o.name.replace(/ /g,"_")===r);if(!n)return null;let i=await ce.env.clipboard.readText();try{n.show(),await ce.commands.executeCommand("workbench.action.terminal.selectAll"),await ce.commands.executeCommand("workbench.action.terminal.copySelection"),await ce.commands.executeCommand("workbench.action.terminal.clearSelection");let o=await ce.env.clipboard.readText(),s=100,a=o.split(`
`);return a.length>s&&(o=a.slice(-s).join(`
`)),await ce.env.clipboard.writeText(i),o}catch(o){return await ce.env.clipboard.writeText(i),this.output.error(`Failed to get terminal contents: ${o}`),null}}async saveFileIfNeeded(r){if(!vr("autosave"))return{continue:!0};if(r.hook_event_name!=="PreToolUse")return{continue:!0};if(r.tool_name!=="Edit"&&r.tool_name!=="Write"&&r.tool_name!=="Read")return{continue:!0};let n=r.tool_input?.file_path,i=Bh(n);try{let o=await ce.workspace.openTextDocument(i);o.isDirty&&await o.save()}catch{}return{continue:!0}}getAdditionalMcpServers(){return{}}getInitialDebuggerState(){return this.extensionMcpServer.debuggerController.getState().hasActiveSession?{status:"active"}:{status:"inactive"}}async askDebuggerHelp(r){return{type:"ask_debugger_help_response"}}updateDebuggerStateForAllChannels(r){for(let[n,i]of this.channels){let o="claude-vscode-extension"in i.mcpServers;r.hasActiveSession&&!o?this.addDebuggerMcpToChannel(n):!r.hasActiveSession&&o&&this.removeDebuggerMcpFromChannel(n)}}async addDebuggerMcpToChannel(r){let n=this.channels.get(r);if(n)try{this.output.info(`[Debugger] Adding extension MCP server to channel ${r}`);let i={...n.mcpServers,"claude-vscode-extension":this.extensionMcpServer.config},o=await n.query.setMcpServers(i);if(o.errors&&Object.keys(o.errors).length>0){let s=Object.entries(o.errors).map(([a,c])=>`${a}: ${c}`).join(", ");throw new Error(s)}n.mcpServers=i,n.debuggerMcpState={status:"active"},await this.pushChannelStateUpdate(r)}catch(i){let o=i instanceof Error?i.message:"Unknown error";this.output.error(`[Debugger] Failed to add MCP server: ${o}`),n.debuggerMcpState={status:"error",error:o},await this.pushChannelStateUpdate(r)}}async removeDebuggerMcpFromChannel(r){let n=this.channels.get(r);if(n)try{this.output.info(`[Debugger] Removing extension MCP server from channel ${r}`);let{"claude-vscode-extension":i,...o}=n.mcpServers;await n.query.setMcpServers(o),n.mcpServers=o,n.debuggerMcpState={status:"inactive"},await this.pushChannelStateUpdate(r)}catch(i){let o=i instanceof Error?i.message:"Unknown error";this.output.error(`[Debugger] Failed to remove MCP server: ${o}`)}}getInitialJupyterState(){let r=this.extensionMcpServer.jupyterController.getState();return r.hasNotebooks?{status:"available",notebookCount:r.notebookCount,isActiveEditorNotebook:r.isActiveEditorNotebook}:{status:"inactive"}}async enableJupyterMcp(r){let n=this.channels.get(r);if(!n)throw new Error(`Channel not found: ${r}`);try{this.output.info(`[Jupyter] Adding extension MCP server to channel ${r}`);let i={...n.mcpServers,"claude-vscode-extension":this.extensionMcpServer.config},o=await n.query.setMcpServers(i);if(o.errors&&Object.keys(o.errors).length>0){let s=Object.entries(o.errors).map(([a,c])=>`${a}: ${c}`).join(", ");throw new Error(s)}return n.mcpServers=i,n.jupyterMcpState={status:"active"},await this.pushChannelStateUpdate(r),{type:"enable_jupyter_mcp_response"}}catch(i){let o=i instanceof Error?i.message:"Unknown error";throw this.output.error(`[Jupyter] Failed to add MCP server: ${o}`),n.jupyterMcpState={status:"error",error:o},await this.pushChannelStateUpdate(r),i}}async disableJupyterMcp(r){let n=this.channels.get(r);if(!n)throw new Error(`Channel not found: ${r}`);try{this.output.info(`[Jupyter] Removing extension MCP server from channel ${r}`);let{"claude-vscode-extension":i,...o}=n.mcpServers;await n.query.setMcpServers(o),n.mcpServers=o;let s=this.extensionMcpServer.jupyterController.getState();return s.hasNotebooks?n.jupyterMcpState={status:"available",notebookCount:s.notebookCount,isActiveEditorNotebook:s.isActiveEditorNotebook}:n.jupyterMcpState={status:"inactive"},await this.pushChannelStateUpdate(r),{type:"disable_jupyter_mcp_response"}}catch(i){let o=i instanceof Error?i.message:"Unknown error";throw this.output.error(`[Jupyter] Failed to remove MCP server: ${o}`),i}}updateJupyterStateForAllChannels(r){for(let[n,i]of this.channels){let o=i.jupyterMcpState.status;r.hasNotebooks?o==="inactive"?(i.jupyterMcpState={status:"available",notebookCount:r.notebookCount,isActiveEditorNotebook:r.isActiveEditorNotebook},this.pushChannelStateUpdate(n)):o==="available"&&(i.jupyterMcpState={status:"available",notebookCount:r.notebookCount,isActiveEditorNotebook:r.isActiveEditorNotebook},this.pushChannelStateUpdate(n)):o==="active"?(i.jupyterMcpState={status:"inactive"},this.pushChannelStateUpdate(n)):o==="available"&&(i.jupyterMcpState={status:"inactive"},this.pushChannelStateUpdate(n))}}async shutdown(){this.chromeMcpClient&&(await this.chromeMcpClient.disconnect(),this.chromeMcpClient=void 0),await super.shutdown()}};function Gl(t){return{log:(e,...r)=>t.info(e,...r),warn:(e,...r)=>t.warn(e,...r),error:(e,...r)=>t.error(e,...r)}}function C_e(){if(process.platform!=="linux")return!1;try{if(Lr.existsSync("/lib/libc.musl-x86_64.so.1")||Lr.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let t=yn("ldd /bin/ls 2>/dev/null",{env:process.env,maxBuffer:1e6,timeout:2e4,stdio:["ignore","pipe","pipe"],shell:!0,reject:!1});return t.stdout&&t.stdout.includes("musl")}catch{return!1}}function P_e(t){let e=process.platform==="win32"?"claude.exe":"claude",r=C_e()?`${process.arch}-musl`:process.arch,n=t.asAbsolutePath((0,Ur.join)("resources","native-binaries",`${process.platform}-${r}`,e));if(Lr.existsSync(n))return n;if(process.platform==="win32"&&process.arch==="arm64"){let o=t.asAbsolutePath((0,Ur.join)("resources","native-binaries","win32-x64",e));if(Lr.existsSync(o))return o}let i=t.asAbsolutePath((0,Ur.join)("resources","native-binary",e));if(Lr.existsSync(i))return i}function I_e(){if(process.platform==="win32")try{yn("where.exe",["git"],{stdio:"pipe",encoding:"utf8"})}catch{throw new Error("Claude Code on Windows requires git-bash (https://git-scm.com/downloads/win). If installed but not in PATH, set environment variable pointing to your bash.exe, similar to: CLAUDE_CODE_GIT_BASH_PATH=C:\\Program Files\\Git\\bin\\bash.exe")}}function R_e(){try{let t=process.platform==="win32"?"node.exe":"node",r=yn(t,["--version"],{stdio:"pipe",encoding:"utf8"}).stdout.trim();if(!D6.default.gte(r,"18.0.0"))throw new Error(`Claude Code requires Node.js version 18 or higher. Found version ${r}.`)}catch(t){throw t instanceof Error&&t.message.includes("requires Node.js")?t:new Error("Claude Code requires Node.js version 18 or higher to be installed.")}}function mb(){let t=vr("environmentVariables")||[],e={...process.env};for(let r of t)r.name&&(e[r.name]=r.value||"");return e.CLAUDE_CODE_ENTRYPOINT="claude-vscode",e}var hb=class{constructor(e,r,n,i,o,s,a,c,l,u,d){this.extensionUri=e;this.context=r;this.output=n;this.settings=i;this.leftTempFileProvider=o;this.rightTempFileProvider=s;this.readOnlyTempFileProvider=a;this.acceptOrRejectDiffs=c;this.atMentionEvents=l;this.selectionChangedEvents=u;this.getSelection=d}disposables=[];allComms=new Set;webviews=new Set;hasVisibleWebview(){for(let e of this.webviews)if(e.isVisible())return!0;return!1}resolveWebviewView(e,r,n){let i={isVisible:()=>e.visible};this.webviews.add(i),e.webview.options={enableScripts:!0,localResourceRoots:[wt.Uri.joinPath(this.extensionUri,"webview"),wt.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview,void 0,void 0,!0),e.show(!0);let s=(wt.workspace.workspaceFolders?.map(c=>c.uri.fsPath)||[])[0]||tC.homedir(),a=new ff(this.context,s,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.show(),void 0,()=>this.broadcastUsageUpdate());this.allComms.add(a),e.webview.onDidReceiveMessage(c=>{this.output.info(`Received message from webview: ${JSON.stringify(c)}`),a?.fromClient(c)},null,this.disposables),e.onDidDispose(()=>{a.shutdown(),this.allComms.delete(a),this.webviews.delete(i),this.updateSidebarActiveState()},null,this.disposables),e.onDidChangeVisibility(()=>{this.updateSidebarActiveState()},null,this.disposables),this.updateSidebarActiveState(),e.show(!0)}updateSidebarActiveState(){wt.commands.executeCommand("setContext","claude-vscode.sideBarActive",this.hasVisibleWebview())}dispose(){for(;this.disposables.length;){let e=this.disposables.pop();e&&e.dispose()}}async notifyLogout(){for(let e of this.allComms)e.invalidateConfigCache(),e.pushStateUpdate()}notifyCreateNewConversation(){for(let e of this.allComms)e.notifyCreateNewConversation()}async notifyOpenPluginsDialog(e,r){for(;this.allComms.size===0;)await new Promise(n=>setTimeout(n,100));for(let n of this.allComms)n.notifyOpenPluginsDialog(e,r)}notifyFontConfigurationChange(){let e=wt.workspace.getConfiguration("chat.editor"),r=e.get("fontFamily")||"default";r==="default"&&(r="monospace");let n=e.get("fontSize")||12,i=e.get("fontWeight")||"normal",o=wt.workspace.getConfiguration("chat"),s=o.get("fontSize")||13,a=o.get("fontFamily")||"default";a==="default"&&(a="-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif");for(let c of this.allComms)c.notifyFontConfigurationChange({editorFontFamily:r,editorFontSize:n,editorFontWeight:i,chatFontSize:s,chatFontFamily:a})}async broadcastUsageUpdate(){let e=this.allComms.values().next().value;if(!e)return;let{utilization:r,error:n}=await e.fetchUsageData();for(let i of this.allComms)i.sendUsageUpdate(r,n)}createPanel(e,r){let n=!1,i=wt.ViewColumn.Beside,o=wt.window.tabGroups.all.find(a=>a.tabs.length===0?!1:a.tabs.every(c=>c.input instanceof wt.TabInputWebview?c.input.viewType.includes("claudeVSCodePanel"):!1));o&&o.viewColumn?i=o.viewColumn:(i=this.findUnusedColumn(),n=!0);let s=wt.window.createWebviewPanel("claudeVSCodePanel","Claude Code",i,{enableScripts:!0,retainContextWhenHidden:!0,enableFindWidget:!0,localResourceRoots:[wt.Uri.joinPath(this.extensionUri,"webview"),wt.Uri.joinPath(this.extensionUri,"resources")]});return this.setupPanel(s,e,r),{startedInNewColumn:n}}findUnusedColumn(){let e=new Set;wt.window.tabGroups.all.forEach(r=>{r.viewColumn!==void 0&&e.add(r.viewColumn)});for(let r=wt.ViewColumn.One;r<=wt.ViewColumn.Nine;r++)if(!e.has(r))return r;return wt.ViewColumn.Beside}setupPanel(e,r,n){let i={isVisible:()=>e.visible};this.webviews.add(i);let s=(wt.workspace.workspaceFolders?.map(c=>c.uri.fsPath)||[])[0]||tC.homedir();e.iconPath=wt.Uri.file(M6.join(this.context.extensionPath,"resources","claude-logo.svg")),e.webview.options={enableScripts:!0,localResourceRoots:[wt.Uri.joinPath(this.extensionUri,"webview"),wt.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview,r,n);let a=new ff(this.context,s,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.reveal(),e,()=>this.broadcastUsageUpdate());this.allComms.add(a),e.webview.onDidReceiveMessage(c=>{this.output.info(`Received message from webview: ${JSON.stringify(c)}`),a?.fromClient(c)},null,this.disposables),e.onDidChangeViewState(()=>a.notifyVisibilityChange(e.visible),null,this.disposables),e.onDidDispose(()=>{a.shutdown(),this.allComms.delete(a),this.webviews.delete(i)},null,this.disposables),this.disposables.push(e)}getHtmlForWebview(e,r,n,i){let o=wt.Uri.joinPath(this.extensionUri,"webview","index.js"),s=e.asWebviewUri(o),a=wt.Uri.joinPath(this.extensionUri,"webview","index.css"),c=e.asWebviewUri(a),l=Wi(),u=`style-src ${e.cspSource} 'unsafe-inline'`,d=`font-src ${e.cspSource}`,m=`img-src ${e.cspSource} data:`,p=`worker-src ${e.cspSource}`,f=wt.workspace.getConfiguration("chat.editor"),v=f.get("fontFamily")||"default";v==="default"&&(v="monospace");let g=f.get("fontSize")||12,h=f.get("fontWeight")||"normal",b=wt.workspace.getConfiguration("chat"),y=b.get("fontSize")||13,_=b.get("fontFamily")||"default";return _==="default"&&(_="-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif"),`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">

        <!--
          Use a content security policy to only allow loading images from our extension directory or data URIs,
          and only allow scripts that have a specific nonce.
          Note: External https: URLs are blocked to prevent data exfiltration via markdown image URLs.
        -->
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; ${u}; ${d}; ${m}; script-src 'nonce-${l}'; ${p};">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="${c}" rel="stylesheet">
        <style>
          :root {
            --vscode-editor-font-family: ${v} !important;
            --vscode-editor-font-size: ${g}px !important;
            --vscode-editor-font-weight: ${h} !important;
            --vscode-chat-font-size: ${y}px;
            --vscode-chat-font-family: ${_};
          }
        </style>
      </head>
      <body>
        <pre id="claude-error"></pre>
        <div id="root"></div>
        <script nonce="${l}">
          window.initialConfiguration = {
            initialPrompt: ${n?JSON.stringify(n):"undefined"},
            initialSession: ${r?JSON.stringify(r):"undefined"},
          }
          window.IS_SIDEBAR = ${i?"true":"false"}
        </script>
        <script nonce="${l}" src="${s}" type="module"></script>
      </body>
      </html>`}};var gb=J(require("vscode"),1);var O_e=J(q_(),1);var U6=J(require("child_process"),1),L6=require("util"),_4e=(0,L6.promisify)(U6.execFile);var ar=J(require("vscode"),1);function rC(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var nC=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=ar.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new ar.EventEmitter;onDidSave=this.emitter.event},mf=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let n=e;process.platform==="win32"&&(n=rC(e));let i=ar.Uri.from({scheme:this.scheme,path:n}),o=this.documents.get(i.path);return o?(this.writeFile(i,new TextEncoder().encode(r)),o):(o=new nC(i,new TextEncoder().encode(r)),this.documents.set(i.path,o),o)}emitter=new ar.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new ar.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=rC(e.path));let n=this.documents.get(r);if(!n)throw ar.FileSystemError.FileNotFound(e);return n}readDirectory(e){throw ar.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw ar.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:ar.FileChangeType.Changed,uri:e}])}createDirectory(e){throw ar.FileSystemError.Unavailable()}delete(e){throw ar.FileSystemError.Unavailable()}rename(e,r,n){throw ar.FileSystemError.Unavailable()}},vb=class{constructor(e){this.scheme=e}documents=new Map;onDidChangeEmitter=new ar.EventEmitter;onDidChange=this.onDidChangeEmitter.event;createFile(e,r){let n=e;process.platform==="win32"&&(n=rC(e));let i=ar.Uri.from({scheme:this.scheme,path:n});return this.addDocument(i,r),i}provideTextDocumentContent(e){return this.documents.get(e.toString())||""}addDocument(e,r){this.documents.set(e.toString(),r),this.onDidChangeEmitter.fire(e)}};var Ao=J(require("vscode"),1);var br=J(require("vscode"),1);function F6(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var iC=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=br.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new br.EventEmitter;onDidSave=this.emitter.event},hf=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let n=e;process.platform==="win32"&&(n=F6(e));let i=br.Uri.from({scheme:this.scheme,path:n}),o=this.documents.get(i.path);return o?(this.writeFile(i,new TextEncoder().encode(r)),o):(o=new iC(i,new TextEncoder().encode(r)),this.documents.set(i.path,o),o)}emitter=new br.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new br.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=F6(e.path));let n=this.documents.get(r);if(!n)throw br.FileSystemError.FileNotFound(e);return n}readDirectory(e){throw br.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw br.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:br.FileChangeType.Changed,uri:e}])}createDirectory(e){throw br.FileSystemError.Unavailable()}delete(e){throw br.FileSystemError.Unavailable()}rename(e,r,n){throw br.FileSystemError.Unavailable()}};var za=J(require("vscode"),1),S9=require("crypto");var yb=class{constructor(e){this._server=e}requestStream(e,r,n){return this._server.requestStream(e,r,n)}async getTask(e,r){return this._server.getTask({taskId:e},r)}async getTaskResult(e,r,n){return this._server.getTaskResult({taskId:e},r,n)}async listTasks(e,r){return this._server.listTasks(e?{cursor:e}:void 0,r)}async cancelTask(e,r){return this._server.cancelTask({taskId:e},r)}};var bb=class extends Pl{constructor(e,r){var n,i;super(r),this._serverInfo=e,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(Op.options.map((o,s)=>[o,s])),this.isMessageIgnored=(o,s)=>{let a=this._loggingLevels.get(s);return a?this.LOG_LEVEL_SEVERITY.get(o)<this.LOG_LEVEL_SEVERITY.get(a):!1},this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{},this._instructions=r?.instructions,this._jsonSchemaValidator=(i=r?.jsonSchemaValidator)!==null&&i!==void 0?i:new Hl,this.setRequestHandler(O$,o=>this._oninitialize(o)),this.setNotificationHandler(N$,()=>{var o;return(o=this.oninitialized)===null||o===void 0?void 0:o.call(this)}),this._capabilities.logging&&this.setRequestHandler(W$,async(o,s)=>{var a;let c=s.sessionId||((a=s.requestInfo)===null||a===void 0?void 0:a.headers["mcp-session-id"])||void 0,{level:l}=o.params,u=Op.safeParse(l);return u.success&&this._loggingLevels.set(c,u.data),{}})}get experimental(){return this._experimental||(this._experimental={tasks:new yb(this)}),this._experimental}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=Sy(this._capabilities,e)}setRequestHandler(e,r){var n,i,o;let s=Di(e),a=s?.method;if(!a)throw new Error("Schema is missing a method literal");let c;if(Hr(a)){let u=a,d=(n=u._zod)===null||n===void 0?void 0:n.def;c=(i=d?.value)!==null&&i!==void 0?i:u.value}else{let u=a,d=u._def;c=(o=d?.value)!==null&&o!==void 0?o:u.value}if(typeof c!="string")throw new Error("Schema method literal must be a string");if(c==="tools/call"){let u=async(d,m)=>{let p=Wr(Tl,d);if(!p.success){let h=p.error instanceof Error?p.error.message:String(p.error);throw new ae(ge.InvalidParams,`Invalid tools/call request: ${h}`)}let{params:f}=p.data,v=await Promise.resolve(r(d,m));if(f.task){let h=Wr(xo,v);if(!h.success){let b=h.error instanceof Error?h.error.message:String(h.error);throw new ae(ge.InvalidParams,`Invalid task creation result: ${b}`)}return h.data}let g=Wr(ui,v);if(!g.success){let h=g.error instanceof Error?g.error.message:String(g.error);throw new ae(ge.InvalidParams,`Invalid tools/call result: ${h}`)}return g.data};return super.setRequestHandler(e,u)}return super.setRequestHandler(e,r)}assertCapabilityForMethod(e){var r,n,i;switch(e){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((n=this._clientCapabilities)===null||n===void 0)&&n.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((i=this._clientCapabilities)===null||i===void 0)&&i.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){var r,n;switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/elicitation/complete":if(!(!((n=(r=this._clientCapabilities)===null||r===void 0?void 0:r.elicitation)===null||n===void 0)&&n.url))throw new Error(`Client does not support URL elicitation (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){if(this._capabilities)switch(e){case"completion/complete":if(!this._capabilities.completions)throw new Error(`Server does not support completions (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Server does not support tasks capability (required for ${e})`);break;case"ping":case"initialize":break}}assertTaskCapability(e){var r,n;ab((n=(r=this._clientCapabilities)===null||r===void 0?void 0:r.tasks)===null||n===void 0?void 0:n.requests,e,"Client")}assertTaskHandlerCapability(e){var r;this._capabilities&&sb((r=this._capabilities.tasks)===null||r===void 0?void 0:r.requests,e,"Server")}async _oninitialize(e){let r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:ey.includes(r)?r:$p,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},_o)}async createMessage(e,r){var n,i;if((e.tools||e.toolChoice)&&!(!((i=(n=this._clientCapabilities)===null||n===void 0?void 0:n.sampling)===null||i===void 0)&&i.tools))throw new Error("Client does not support sampling tools capability.");if(e.messages.length>0){let o=e.messages[e.messages.length-1],s=Array.isArray(o.content)?o.content:[o.content],a=s.some(d=>d.type==="tool_result"),c=e.messages.length>1?e.messages[e.messages.length-2]:void 0,l=c?Array.isArray(c.content)?c.content:[c.content]:[],u=l.some(d=>d.type==="tool_use");if(a){if(s.some(d=>d.type!=="tool_result"))throw new Error("The last message must contain only tool_result content if any is present");if(!u)throw new Error("tool_result blocks are not matching any tool_use from the previous message")}if(u){let d=new Set(l.filter(p=>p.type==="tool_use").map(p=>p.id)),m=new Set(s.filter(p=>p.type==="tool_result").map(p=>p.toolUseId));if(d.size!==m.size||![...d].every(p=>m.has(p)))throw new Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}return e.tools?this.request({method:"sampling/createMessage",params:e},J$,r):this.request({method:"sampling/createMessage",params:e},Ap,r)}async elicitInput(e,r){var n,i,o,s,a;switch((n=e.mode)!==null&&n!==void 0?n:"form"){case"url":{if(!(!((o=(i=this._clientCapabilities)===null||i===void 0?void 0:i.elicitation)===null||o===void 0)&&o.url))throw new Error("Client does not support url elicitation.");let l=e;return this.request({method:"elicitation/create",params:l},Cl,r)}case"form":{if(!(!((a=(s=this._clientCapabilities)===null||s===void 0?void 0:s.elicitation)===null||a===void 0)&&a.form))throw new Error("Client does not support form elicitation.");let l=e.mode==="form"?e:{...e,mode:"form"},u=await this.request({method:"elicitation/create",params:l},Cl,r);if(u.action==="accept"&&u.content&&l.requestedSchema)try{let m=this._jsonSchemaValidator.getValidator(l.requestedSchema)(u.content);if(!m.valid)throw new ae(ge.InvalidParams,`Elicitation response content does not match requested schema: ${m.errorMessage}`)}catch(d){throw d instanceof ae?d:new ae(ge.InternalError,`Error validating elicitation response: ${d instanceof Error?d.message:String(d)}`)}return u}}}createElicitationCompletionNotifier(e,r){var n,i;if(!(!((i=(n=this._clientCapabilities)===null||n===void 0?void 0:n.elicitation)===null||i===void 0)&&i.url))throw new Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:e}},r)}async listRoots(e,r){return this.request({method:"roots/list",params:e},Q$,r)}async sendLoggingMessage(e,r){if(this._capabilities.logging&&!this.isMessageIgnored(e.level,r))return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};var Z6=Symbol.for("mcp.completable");function B6(t){return!!t&&typeof t=="object"&&Z6 in t}function V6(t){let e=t[Z6];return e?.complete}var q6;(function(t){t.Completable="McpCompletable"})(q6||(q6={}));var A_e=/^[A-Za-z0-9._-]{1,128}$/;function N_e(t){let e=[];if(t.length===0)return{isValid:!1,warnings:["Tool name cannot be empty"]};if(t.length>128)return{isValid:!1,warnings:[`Tool name exceeds maximum length of 128 characters (current: ${t.length})`]};if(t.includes(" ")&&e.push("Tool name contains spaces, which may cause parsing issues"),t.includes(",")&&e.push("Tool name contains commas, which may cause parsing issues"),(t.startsWith("-")||t.endsWith("-"))&&e.push("Tool name starts or ends with a dash, which may cause parsing issues in some contexts"),(t.startsWith(".")||t.endsWith("."))&&e.push("Tool name starts or ends with a dot, which may cause parsing issues in some contexts"),!A_e.test(t)){let r=t.split("").filter(n=>!/[A-Za-z0-9._-]/.test(n)).filter((n,i,o)=>o.indexOf(n)===i);return e.push(`Tool name contains invalid characters: ${r.map(n=>`"${n}"`).join(", ")}`,"Allowed characters are: A-Z, a-z, 0-9, underscore (_), dash (-), and dot (.)"),{isValid:!1,warnings:e}}return{isValid:!0,warnings:e}}function j_e(t,e){if(e.length>0){console.warn(`Tool name validation warning for "${t}":`);for(let r of e)console.warn(`  - ${r}`);console.warn("Tool registration will proceed, but this may cause compatibility issues."),console.warn("Consider updating the tool name to conform to the MCP tool naming standard."),console.warn("See SEP: Specify Format for Tool Names (https://github.com/modelcontextprotocol/modelcontextprotocol/issues/986) for more details.")}}function oC(t){let e=N_e(t);return j_e(t,e.warnings),e.isValid}var _b=class{constructor(e){this._mcpServer=e}registerToolTask(e,r,n){let i={taskSupport:"required",...r.execution};if(i.taskSupport==="forbidden")throw new Error(`Cannot register task-based tool '${e}' with taskSupport 'forbidden'. Use registerTool() instead.`);return this._mcpServer._createRegisteredTool(e,r.title,r.description,r.inputSchema,r.outputSchema,r.annotations,i,r._meta,n)}};var xb=class{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new bb(e,r)}get experimental(){return this._experimental||(this._experimental={tasks:new _b(this)}),this._experimental}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(xs(vy)),this.server.assertCanSetRequestHandler(xs(Tl)),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(vy,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{let n={name:e,title:r.title,description:r.description,inputSchema:(()=>{let i=xl(r.inputSchema);return i?iE(i,{strictUnions:!0,pipeStrategy:"input"}):D_e})(),annotations:r.annotations,execution:r.execution,_meta:r._meta};if(r.outputSchema){let i=xl(r.outputSchema);i&&(n.outputSchema=iE(i,{strictUnions:!0,pipeStrategy:"output"}))}return n})})),this.server.setRequestHandler(Tl,async(e,r)=>{var n;try{let i=this._registeredTools[e.params.name];if(!i)throw new ae(ge.InvalidParams,`Tool ${e.params.name} not found`);if(!i.enabled)throw new ae(ge.InvalidParams,`Tool ${e.params.name} disabled`);let o=!!e.params.task,s=(n=i.execution)===null||n===void 0?void 0:n.taskSupport,a="createTask"in i.handler;if((s==="required"||s==="optional")&&!a)throw new ae(ge.InternalError,`Tool ${e.params.name} has taskSupport '${s}' but was not registered with registerToolTask`);if(s==="required"&&!o)throw new ae(ge.MethodNotFound,`Tool ${e.params.name} requires task augmentation (taskSupport: 'required')`);if(s==="optional"&&!o&&a)return await this.handleAutomaticTaskPolling(i,e,r);let c=await this.validateToolInput(i,e.params.arguments,e.params.name),l=await this.executeToolHandler(i,c,r);return o||await this.validateToolOutput(i,l,e.params.name),l}catch(i){if(i instanceof ae&&i.code===ge.UrlElicitationRequired)throw i;return this.createToolError(i instanceof Error?i.message:String(i))}}),this._toolHandlersInitialized=!0)}createToolError(e){return{content:[{type:"text",text:e}],isError:!0}}async validateToolInput(e,r,n){if(!e.inputSchema)return;let i=xl(e.inputSchema),o=i??e.inputSchema,s=await zv(o,r);if(!s.success){let a="error"in s?s.error:"Unknown error",c=Mv(a);throw new ae(ge.InvalidParams,`Input validation error: Invalid arguments for tool ${n}: ${c}`)}return s.data}async validateToolOutput(e,r,n){if(!e.outputSchema||!("content"in r)||r.isError)return;if(!r.structuredContent)throw new ae(ge.InvalidParams,`Output validation error: Tool ${n} has an output schema but no structured content was provided`);let i=xl(e.outputSchema),o=await zv(i,r.structuredContent);if(!o.success){let s="error"in o?o.error:"Unknown error",a=Mv(s);throw new ae(ge.InvalidParams,`Output validation error: Invalid structured content for tool ${n}: ${a}`)}}async executeToolHandler(e,r,n){let i=e.handler;if("createTask"in i){if(!n.taskStore)throw new Error("No task store provided.");let s={...n,taskStore:n.taskStore};if(e.inputSchema){let a=i;return await Promise.resolve(a.createTask(r,s))}else{let a=i;return await Promise.resolve(a.createTask(s))}}if(e.inputSchema){let s=i;return await Promise.resolve(s(r,n))}else{let s=i;return await Promise.resolve(s(n))}}async handleAutomaticTaskPolling(e,r,n){var i;if(!n.taskStore)throw new Error("No task store provided for task-capable tool.");let o=await this.validateToolInput(e,r.params.arguments,r.params.name),s=e.handler,a={...n,taskStore:n.taskStore},c=o?await Promise.resolve(s.createTask(o,a)):await Promise.resolve(s.createTask(a)),l=c.task.taskId,u=c.task,d=(i=u.pollInterval)!==null&&i!==void 0?i:5e3;for(;u.status!=="completed"&&u.status!=="failed"&&u.status!=="cancelled";){await new Promise(p=>setTimeout(p,d));let m=await n.taskStore.getTask(l);if(!m)throw new ae(ge.InternalError,`Task ${l} not found during polling`);u=m}return await n.taskStore.getTaskResult(l)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(xs(yy)),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(yy,async e=>{switch(e.params.ref.type){case"ref/prompt":return Tq(e),this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return Cq(e),this.handleResourceCompletion(e,e.params.ref);default:throw new ae(ge.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){let n=this._registeredPrompts[r.name];if(!n)throw new ae(ge.InvalidParams,`Prompt ${r.name} not found`);if(!n.enabled)throw new ae(ge.InvalidParams,`Prompt ${r.name} disabled`);if(!n.argsSchema)return gf;let i=Di(n.argsSchema),o=i?.[e.params.argument.name];if(!B6(o))return gf;let s=V6(o);if(!s)return gf;let a=await s(e.params.argument.value,e.params.context);return W6(a)}async handleResourceCompletion(e,r){let n=Object.values(this._registeredResourceTemplates).find(s=>s.resourceTemplate.uriTemplate.toString()===r.uri);if(!n){if(this._registeredResources[r.uri])return gf;throw new ae(ge.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let i=n.resourceTemplate.completeCallback(e.params.argument.name);if(!i)return gf;let o=await i(e.params.argument.value,e.params.context);return W6(o)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(xs(py)),this.server.assertCanSetRequestHandler(xs(fy)),this.server.assertCanSetRequestHandler(xs(my)),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(py,async(e,r)=>{let n=Object.entries(this._registeredResources).filter(([o,s])=>s.enabled).map(([o,s])=>({uri:o,name:s.name,...s.metadata})),i=[];for(let o of Object.values(this._registeredResourceTemplates)){if(!o.resourceTemplate.listCallback)continue;let s=await o.resourceTemplate.listCallback(r);for(let a of s.resources)i.push({...o.metadata,...a})}return{resources:[...n,...i]}}),this.server.setRequestHandler(fy,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,n])=>({name:r,uriTemplate:n.resourceTemplate.uriTemplate.toString(),...n.metadata}))})),this.server.setRequestHandler(my,async(e,r)=>{let n=new URL(e.params.uri),i=this._registeredResources[n.toString()];if(i){if(!i.enabled)throw new ae(ge.InvalidParams,`Resource ${n} disabled`);return i.readCallback(n,r)}for(let o of Object.values(this._registeredResourceTemplates)){let s=o.resourceTemplate.uriTemplate.match(n.toString());if(s)return o.readCallback(n,s,r)}throw new ae(ge.InvalidParams,`Resource ${n} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(xs(hy)),this.server.assertCanSetRequestHandler(xs(gy)),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(hy,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?M_e(r.argsSchema):void 0}))})),this.server.setRequestHandler(gy,async(e,r)=>{let n=this._registeredPrompts[e.params.name];if(!n)throw new ae(ge.InvalidParams,`Prompt ${e.params.name} not found`);if(!n.enabled)throw new ae(ge.InvalidParams,`Prompt ${e.params.name} disabled`);if(n.argsSchema){let i=xl(n.argsSchema),o=await zv(i,e.params.arguments);if(!o.success){let c="error"in o?o.error:"Unknown error",l=Mv(c);throw new ae(ge.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${l}`)}let s=o.data,a=n.callback;return await Promise.resolve(a(s,r))}else{let i=n.callback;return await Promise.resolve(i(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,r,...n){let i;typeof n[0]=="object"&&(i=n.shift());let o=n[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let s=this._createRegisteredResource(e,void 0,r,i,o);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let s=this._createRegisteredResourceTemplate(e,void 0,r,i,o);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}}registerResource(e,r,n,i){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let o=this._createRegisteredResource(e,n.title,r,n,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let o=this._createRegisteredResourceTemplate(e,n.title,r,n,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}}_createRegisteredResource(e,r,n,i,o){let s={name:e,title:r,metadata:i,readCallback:o,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({uri:null}),update:a=>{typeof a.uri<"u"&&a.uri!==n&&(delete this._registeredResources[n],a.uri&&(this._registeredResources[a.uri]=s)),typeof a.name<"u"&&(s.name=a.name),typeof a.title<"u"&&(s.title=a.title),typeof a.metadata<"u"&&(s.metadata=a.metadata),typeof a.callback<"u"&&(s.readCallback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendResourceListChanged()}};return this._registeredResources[n]=s,s}_createRegisteredResourceTemplate(e,r,n,i,o){let s={resourceTemplate:n,title:r,metadata:i,readCallback:o,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({name:null}),update:a=>{typeof a.name<"u"&&a.name!==e&&(delete this._registeredResourceTemplates[e],a.name&&(this._registeredResourceTemplates[a.name]=s)),typeof a.title<"u"&&(s.title=a.title),typeof a.template<"u"&&(s.resourceTemplate=a.template),typeof a.metadata<"u"&&(s.metadata=a.metadata),typeof a.callback<"u"&&(s.readCallback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=s,s}_createRegisteredPrompt(e,r,n,i,o){let s={title:r,description:n,argsSchema:i===void 0?void 0:_l(i),callback:o,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({name:null}),update:a=>{typeof a.name<"u"&&a.name!==e&&(delete this._registeredPrompts[e],a.name&&(this._registeredPrompts[a.name]=s)),typeof a.title<"u"&&(s.title=a.title),typeof a.description<"u"&&(s.description=a.description),typeof a.argsSchema<"u"&&(s.argsSchema=_l(a.argsSchema)),typeof a.callback<"u"&&(s.callback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=s,s}_createRegisteredTool(e,r,n,i,o,s,a,c,l){oC(e);let u={title:r,description:n,inputSchema:H6(i),outputSchema:H6(o),annotations:s,execution:a,_meta:c,handler:l,enabled:!0,disable:()=>u.update({enabled:!1}),enable:()=>u.update({enabled:!0}),remove:()=>u.update({name:null}),update:d=>{typeof d.name<"u"&&d.name!==e&&(typeof d.name=="string"&&oC(d.name),delete this._registeredTools[e],d.name&&(this._registeredTools[d.name]=u)),typeof d.title<"u"&&(u.title=d.title),typeof d.description<"u"&&(u.description=d.description),typeof d.paramsSchema<"u"&&(u.inputSchema=_l(d.paramsSchema)),typeof d.callback<"u"&&(u.handler=d.callback),typeof d.annotations<"u"&&(u.annotations=d.annotations),typeof d._meta<"u"&&(u._meta=d._meta),typeof d.enabled<"u"&&(u.enabled=d.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=u,this.setToolRequestHandlers(),this.sendToolListChanged(),u}tool(e,...r){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let n,i,o,s;if(typeof r[0]=="string"&&(n=r.shift()),r.length>1){let c=r[0];sC(c)?(i=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!sC(r[0])&&(s=r.shift())):typeof c=="object"&&c!==null&&(s=r.shift())}let a=r[0];return this._createRegisteredTool(e,void 0,n,i,o,s,{taskSupport:"forbidden"},void 0,a)}registerTool(e,r,n){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let{title:i,description:o,inputSchema:s,outputSchema:a,annotations:c,_meta:l}=r;return this._createRegisteredTool(e,i,o,s,a,c,{taskSupport:"forbidden"},l,n)}prompt(e,...r){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let n;typeof r[0]=="string"&&(n=r.shift());let i;r.length>1&&(i=r.shift());let o=r[0],s=this._createRegisteredPrompt(e,void 0,n,i,o);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),s}registerPrompt(e,r,n){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let{title:i,description:o,argsSchema:s}=r,a=this._createRegisteredPrompt(e,i,o,s,n);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),a}isConnected(){return this.server.transport!==void 0}async sendLoggingMessage(e,r){return this.server.sendLoggingMessage(e,r)}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};var D_e={type:"object",properties:{}};function G6(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function z_e(t){return"_def"in t||"_zod"in t||G6(t)}function sC(t){return typeof t!="object"||t===null||z_e(t)?!1:Object.keys(t).length===0?!0:Object.values(t).some(G6)}function H6(t){if(t)return sC(t)?_l(t):t}function M_e(t){let e=Di(t);return e?Object.entries(e).map(([r,n])=>{let i=EF(n),o=TF(n);return{name:r,description:i,required:!o}}):[]}function xs(t){let e=Di(t),r=e?.method;if(!r)throw new Error("Schema is missing a method literal");let n=Uv(r);if(typeof n=="string")return n;throw new Error("Schema method literal must be a string")}function W6(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}var gf={completion:{values:[],hasMore:!1}};var k9=J(require("http"),1);var Fe=J(require("vscode"),1),ws=J(require("path"),1);async function J6(t={}){try{let e=_d(t.uri);return{content:[{type:"text",text:JSON.stringify(e,null,2)}]}}catch(e){throw console.error("Error getting diagnostics through MCP:",e),e}}async function K6({filePath:t,preview:e,startText:r,endText:n,selectToEndOfLine:i,makeFrontmost:o=!0}){try{if(!t)throw new Error("File path is required");let s;if(!ws.isAbsolute(t)&&Fe.workspace.workspaceFolders&&Fe.workspace.workspaceFolders.length>0){let a=Fe.workspace.workspaceFolders[0].uri.fsPath,c=ws.join(a,t);s=Fe.Uri.file(c),console.log(`Converted relative path '${t}' to absolute: '${c}'`)}else s=Fe.Uri.file(t);try{await Fe.workspace.fs.stat(s);let a=await Fe.workspace.openTextDocument(s),c=Fe.window.visibleTextEditors.some(d=>d.document.uri.toString()===s.toString()),l;if(o||!c?l=await Fe.window.showTextDocument(a,{preview:e,preserveFocus:!o}):l=Fe.window.visibleTextEditors.find(d=>d.document.uri.toString()===s.toString()),r&&l){let d=a.getText(),m={success:!0,filePath:s.fsPath,message:`Opened file: ${s.fsPath}`},p=d.indexOf(r);if(p!==-1){let f=a.positionAt(p),v;if(n){let h=d.substring(p+r.length).indexOf(n);if(h!==-1){let b=p+r.length+h+n.length;v=a.positionAt(b),i&&(v=new Fe.Position(v.line,Number.MAX_SAFE_INTEGER)),l.selection=new Fe.Selection(f,v),l.revealRange(new Fe.Range(f,v),Fe.TextEditorRevealType.InCenter),m.message=`Opened file and selected text from "${r}" to "${n}"`}else l.selection=new Fe.Selection(f,f),l.revealRange(new Fe.Range(f,f),Fe.TextEditorRevealType.InCenter),m.message=`Opened file and positioned at "${r}" (end text "${n}" not found)`}else v=a.positionAt(p+r.length),l.selection=new Fe.Selection(f,v),l.revealRange(new Fe.Range(f,v),Fe.TextEditorRevealType.InCenter),m.message=`Opened file and selected text "${r}"`}else m.message=`Opened file, but text "${r}" not found`;return{content:[{type:"text",text:m.message}]}}let u={success:!0,filePath:s.fsPath,fileUrl:a.uri.toString(),message:`Opened file: ${s.fsPath}`};return o||(u.languageId=a.languageId,u.lineCount=a.lineCount,u.isDirty=a.isDirty,u.isUntitled=a.isUntitled,u.isClosed=a.isClosed),{content:[{type:"text",text:o?u.message:JSON.stringify(u,null,2)}]}}catch{throw new Error(`File not found: ${s.fsPath}`)}}catch(s){throw console.error("Error opening file through MCP:",s),s}}async function Y6(){try{let t=Fe.window.activeTextEditor,e=[];for(let n of Fe.window.tabGroups.all)for(let i of n.tabs)if(i.input instanceof Fe.TabInputText){let o=i.input.uri,s=Fe.workspace.textDocuments.find(c=>c.uri.toString()===o.toString()),a={uri:o.toString(),isActive:i.isActive,isPinned:i.isPinned,isPreview:i.isPreview,isDirty:i.isDirty,label:i.label,groupIndex:n.viewColumn?n.viewColumn-1:0,viewColumn:n.viewColumn,isGroupActive:n.isActive};s&&(a.fileName=s.fileName,a.languageId=s.languageId,a.lineCount=s.lineCount,a.isUntitled=s.isUntitled,t&&t.document.uri.toString()===o.toString()&&(a.selection={start:{line:t.selection.start.line,character:t.selection.start.character},end:{line:t.selection.end.line,character:t.selection.end.character},isReversed:t.selection.isReversed})),e.push(a)}return{content:[{type:"text",text:JSON.stringify({tabs:e},null,2)}]}}catch(t){throw console.error("Error getting open editors through MCP:",t),t}}async function Q6(){try{let t=Fe.window.activeTextEditor;if(!t)return{content:[{type:"text",text:JSON.stringify({success:!1,message:"No active editor found"},null,2)}]};let e=t.selection,r=t.document,n=r.getText(e),i=r.uri.fsPath;return{content:[{type:"text",text:JSON.stringify({success:!0,text:n,filePath:i,fileUrl:r.uri.toString(),selection:{start:{line:e.start.line,character:e.start.character},end:{line:e.end.line,character:e.end.character},isEmpty:e.isEmpty}},null,2)}]}}catch(t){throw console.error("Error getting current selection through MCP:",t),t}}async function X6(){try{let e=(Fe.workspace.workspaceFolders||[]).map(r=>({name:r.name,uri:r.uri.toString(),path:r.uri.fsPath,index:r.index}));return{content:[{type:"text",text:JSON.stringify({success:!0,folders:e,rootPath:Fe.workspace.rootPath||null,workspaceFile:Fe.workspace.workspaceFile?.toString()||null},null,2)}]}}catch(t){throw console.error("Error getting workspace folders through MCP:",t),t}}async function eB({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!ws.isAbsolute(t)&&Fe.workspace.workspaceFolders&&Fe.workspace.workspaceFolders.length>0){let n=Fe.workspace.workspaceFolders[0].uri.fsPath,i=ws.join(n,t);e=Fe.Uri.file(i),console.log(`Converted relative path '${t}' to absolute: '${i}'`)}else e=Fe.Uri.file(t);let r=Fe.workspace.textDocuments.find(n=>n.uri.toString()===e.toString());return r?{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,isDirty:r.isDirty,isUntitled:r.isUntitled},null,2)}]}:{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]}}catch(e){throw console.error("Error checking document dirty state through MCP:",e),e}}async function tB({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!ws.isAbsolute(t)&&Fe.workspace.workspaceFolders&&Fe.workspace.workspaceFolders.length>0){let i=Fe.workspace.workspaceFolders[0].uri.fsPath,o=ws.join(i,t);e=Fe.Uri.file(o),console.log(`Converted relative path '${t}' to absolute: '${o}'`)}else e=Fe.Uri.file(t);let r=Fe.workspace.textDocuments.find(i=>i.uri.toString()===e.toString());if(!r)return{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]};let n=await r.save();return{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,saved:n,message:n?"Document saved successfully":"Document was not dirty or save failed"},null,2)}]}}catch(e){throw console.error("Error saving document through MCP:",e),e}}var Jt=J(require("vscode"),1),aC;async function U_e(){if(!aC){let t=Jt.extensions.getExtension("ms-toolsai.jupyter");if(!t)throw new Error("Jupyter extension not installed");aC=Promise.resolve(t.activate())}return aC}function Jl(t,e){return t.error(e),{content:[{type:"text",text:e}]}}async function rB(t,e){let r=Jt.window.activeNotebookEditor;if(!r)return Jl(t,"No active notebook editor found.");let n;try{n=await U_e()}catch{return Jl(t,"Unable to request Jupyter extension API. It is either not installed or not activated.")}let i=await n.kernels.getKernel(r.notebook.uri);if(!i)return Jl(t,"No kernel found for the active notebook. Please connect to a kernel.");if(i.language!=="python")return Jl(t,`Kernel language is ${i?.language}, not python.`);let o={content:[]};try{t.info(`Executing ${e}`);let s=new TextDecoder,a=await F_e(e,r.notebook),c=r.notebook.getCells().find(d=>d.metadata.id===a);if(!c)return Jl(t,"No cell found in the notebook.");let l=r.notebook.getCells().indexOf(c);if(r.revealRange(new Jt.NotebookRange(l,l+1),Jt.NotebookEditorRevealType.InCenter),!await L_e(t))return Jl(t,"Code execution cancelled by user. Ask the user how they would like to proceed.");await Jt.commands.executeCommand("notebook.cell.execute",{ranges:[{start:l,end:l+1}],document:r.notebook.uri});for(let d of c.outputs)for(let m of d.items)if(m.mime===q_e){let p=JSON.parse(s.decode(m.data));t.appendLine(`Error executing code ${p.name}: ${p.message},/n ${p.stack}`),o.content.push({type:"text",text:`Error: ${p.name}: ${p.message},/n ${p.stack}`})}else if(m.mime===Z_e){let p=Buffer.from(m.data).toString("base64");o.content.push({type:"image",data:p,mimeType:m.mime})}else o.content.push({type:"text",text:s.decode(m.data)});t.info("Code execution completed")}catch(s){t.error(`Code execution failed with an error '${s}'`)}return o}async function L_e(t){return(await Jt.window.showQuickPick([{label:"Execute",description:"Run the code in the notebook"},{label:"Cancel",description:"Do not execute the code"}],{title:"Claude Code Execution",placeHolder:"Choose whether to execute the code"}))?.label==="Execute"}async function F_e(t,e){let r=new Jt.NotebookCellData(Jt.NotebookCellKind.Code,t,"python"),n=Math.random().toString(36).substring(2,15);r.metadata={id:n};let i=e.getCells().length,o=Jt.NotebookEdit.insertCells(i,[r]),s=new Jt.WorkspaceEdit;return s.set(e.uri,[o]),await Jt.workspace.applyEdit(s),n}var q_e=Jt.NotebookCellOutputItem.error(new Error("")).mime,Z_e="image/png";var wb=J(require("vscode"),1),Vi=J(require("fs"),1),Sb=J(require("path"),1),nB=J(require("os"),1),iB=J(require("http"),1);function B_e(){return Math.floor(Math.random()*55536)+1e4}function oB(){let t=Sb.join(nB.homedir(),".claude","ide");return Vi.existsSync(t)||Vi.mkdirSync(t,{recursive:!0,mode:448}),t}function cC(t,e){let r=oB(),n=Sb.join(r,`${t}.lock`),i=Vi.existsSync(n),o=wb.workspace.workspaceFolders?.map(a=>a.uri.fsPath)||[],s={pid:process.ppid,workspaceFolders:o,ideName:wb.env.appName,transport:"ws",runningInWindows:process.platform==="win32",authToken:e};return Vi.writeFileSync(n,JSON.stringify(s),{mode:384}),i&&console.log(`Updated lock file with new workspace folders: ${n}`),n}function sB(t){let e=oB(),r=Sb.join(e,`${t}.lock`);if(Vi.existsSync(r))try{Vi.unlinkSync(r)}catch(n){console.error(`Failed to delete lock file ${r}:`,n)}}function V_e(t){return new Promise(e=>{let r=iB.createServer();r.once("error",()=>{e(!1)}),r.once("listening",()=>{r.close(),e(!0)}),r.listen(t)})}async function aB(){for(let t=0;t<50;t++){let e=B_e();if(await V_e(e))return e}throw new Error("Failed to find an available port after multiple attempts")}var tr=J(require("vscode"),1),pB=J(require("fs"),1);var cB=J(require("vscode"),1);function yi(){try{let t=cB.window.activeTerminal;t&&t.show()}catch(t){console.error("Error focusing terminal:",t)}}var To=J(require("vscode"),1);async function lB(t,e){let r=t.input;if(r instanceof To.TabInputTextDiff)try{await(await To.workspace.openTextDocument(r.modified)).save()}catch(n){e.error("Error saving modified file:",n)}await To.window.tabGroups.close(t)}async function kb(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of To.window.tabGroups.all)for(let n of r.tabs)n.input instanceof To.TabInputTextDiff&&n.label.includes("[Claude Code]")&&(await lB(n,t),e++);return t.info(`Closed ${e} diff tabs.`),e}async function uB(t,e){for(let r of To.window.tabGroups.all)for(let n of r.tabs)if(n.label===t)return await lB(n,e),!0;return!1}var Ss;async function fB(t,e,r,n,i,o,s,a,c){t.info("diff from",n,"to",i,"as",s);let l=tr.Uri.file(n);try{if((await tr.workspace.openTextDocument(l)).isDirty){let z=pB.readFileSync(n,"utf8");l=e.createFile(n,z).uri}}catch{t.info("leftTempFileProvider.createFile",n),l=e.createFile(n,"").uri}let d=r.createFile(i,o).uri,m=await tr.workspace.openTextDocument(d),p=P=>P.input instanceof tr.TabInputTextDiff&&P.input.modified.toString()===d.toString();await kb(t)>0&&await new Promise(P=>setTimeout(P,200));let v={preview:!1},g=o,h=o,b;tr.workspace.onDidChangeTextDocument(P=>{P.document.uri.toString()===d.toString()&&(g=h,h=P.document.getText(),P.contentChanges.length>3&&P.reason!==tr.TextDocumentChangeReason.Undo&&P.reason!==tr.TextDocumentChangeReason.Redo&&(b={time:Date.now(),contents:g}))});let y=new Promise(P=>{c.push(tr.workspace.onWillSaveTextDocument(z=>{if(z.document.uri.toString()===d.toString()){let V=z.document.getText();b&&Date.now()-b.time<500&&(V=b.contents),P(V)}}))}),_=!0;Ss&&(Ss.dispose(),Ss=void 0);try{Ss=tr.commands.registerCommand("type",P=>{if(!(_&&tr.window.activeTextEditor?.document.uri.toString()===d.toString()))return tr.commands.executeCommand("default:type",P)}),setTimeout(()=>{_=!1,Ss&&(Ss.dispose(),Ss=void 0)},1e3),c.push(Ss)}catch(P){t.warn("Could not register type command interceptor:",P)}let x=$b(),w=await tr.commands.executeCommand("vscode.diff",l,d,s,v);t.info("diff result",w,s,l,d,v);try{await dB(()=>$b().some(P=>P.label===s),1e3)}catch(P){let z=$b().filter(V=>!x.some(H=>H.label===V.label)).map(V=>({label:V.label,isDiff:V.isDiff}));throw t.error(`Failed to open diff tab, possibly new tabs: ${JSON.stringify(z)}`),P}yi();let S=new Promise(P=>{c.push(a(z=>{z.activeTab&&p(z.activeTab)&&P(z)}))}).then(P=>P.accepted?(t.info("diff_accepted",s),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:m.getText()}]}):{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:s}]}),$=dB(()=>!$b().some(P=>P.label===s)).then(()=>(t.info("tab_closed",s),{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:s}]})),E=y.then(async P=>(t.info("file_saved",s),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:P}]})),N=[$,S];return tr.workspace.getConfiguration("files").get("autoSave")==="off"&&N.push(E),await Promise.race(N)}function $b(){return tr.window.tabGroups.all.flatMap(t=>t.tabs.map(e=>({tab:e,label:e.label,isDiff:e.input instanceof tr.TabInputTextDiff,viewColumn:t.viewColumn,isActive:e.isActive})))}function dB(t,e){return new Promise((r,n)=>{let i,o=setInterval(()=>{t()&&(clearInterval(o),i&&clearTimeout(i),r())},100);e&&(i=setTimeout(()=>{clearInterval(o),n(new Error(`Timeout waiting after ${e}ms`))},e))})}async function mB(t,e,r){if(t.environmentVariableCollection.get(e)?.value===r)return;t.environmentVariableCollection.replace(e,r);let o=["KEY","TOKEN","SECRET","PASSWORD","CREDENTIAL"].some(s=>e.toUpperCase().includes(s));console.log(`Set ${e}=${o?"[REDACTED]":r} in terminal environment (in-memory)`)}var uwe=J(l9(),1),dwe=J(bC(),1),pwe=J(wC(),1),b9=J(zb(),1),IC=J(y9(),1);var nu=b9.default;var Ub=class{constructor(e){this.ws=e;this.opened=new Promise((r,n)=>{this.ws.readyState===nu.OPEN?r():(this.ws.on("open",()=>{r()}),this.ws.on("error",i=>{n(i)}))}),this.ws.on("message",this.onMessageHandler),this.ws.on("error",this.onErrorHandler),this.ws.on("close",this.onCloseHandler)}started=!1;opened;onclose;onerror;onmessage;onMessageHandler=e=>{try{let r=JSON.parse(e.toString("utf-8")),n=ny.parse(r);this.onmessage?.(n)}catch(r){this.onErrorHandler(r)}};onErrorHandler=e=>{this.onerror?.(e instanceof Error?e:new Error("Failed to process message"))};onCloseHandler=()=>{this.onclose?.(),this.ws.off("message",this.onMessageHandler),this.ws.off("error",this.onErrorHandler),this.ws.off("close",this.onCloseHandler)};async start(){if(this.started)throw new Error("Start can only be called once per transport.");if(await this.opened,this.ws.readyState!==nu.OPEN)throw new Error("WebSocket is not open. Cannot start transport.");this.started=!0}async close(){(this.ws.readyState===nu.OPEN||this.ws.readyState===nu.CONNECTING)&&this.ws.close(),this.onCloseHandler()}async send(e){if(this.ws.readyState!==nu.OPEN)throw new Error("WebSocket is not open. Cannot send message.");let r=JSON.stringify(e);try{await new Promise((n,i)=>{this.ws.send(r,o=>{o?i(o):n()})})}catch(n){throw this.onErrorHandler(n),n}}};var RC=J(require("vscode"),1);async function Lb(t,e){try{e.send({jsonrpc:"2.0",method:"selection_changed",params:t}).catch(r=>{console.error("Error sending selection change notification:",r)})}catch(r){console.error("Error sending selection change notification:",r)}}async function _9(t,e){try{e.send({jsonrpc:"2.0",method:"at_mentioned",params:t}).catch(r=>{console.error("Error sending at-mentioned notification:",r)})}catch(r){console.error("Error sending at-mentioned notification:",r)}}var Oo=null;function OC(){return Oo}function x9(t,e){let r=null,n=RC.window.onDidChangeTextEditorSelection(i=>{let o=i.textEditor,s=o.selection,a=o.document,c=a.getText(s);if(a.uri.scheme==="comment"||a.uri.scheme==="output")return;let l={text:c,filePath:a.uri.fsPath,fileUrl:a.uri.toString(),selection:{start:{line:s.start.line,character:s.start.character},end:{line:s.end.line,character:s.end.character},isEmpty:s.isEmpty}},u=!Oo||Oo.text!==l.text||Oo.filePath!==l.filePath||Oo.selection.start.line!==l.selection.start.line||Oo.selection.start.character!==l.selection.start.character||Oo.selection.end.line!==l.selection.end.line||Oo.selection.end.character!==l.selection.end.character;Oo=l;let d=e();u&&d&&t.server&&(r&&clearTimeout(r),r=setTimeout(()=>{let m=e();m&&Lb(l,m)},300))});return{dispose:()=>{n.dispose(),r&&clearTimeout(r)}}}function w9(t,e,r){t(()=>{let n=RC.window.activeTextEditor;if(!n)return;let i=n.selection,o={filePath:n.document.uri.fsPath};i.isEmpty||(o.lineStart=i.start.line,o.lineEnd=i.end.line);let s=r();s&&e.server&&(_9(o,s),yi())})}function fwe(){let t=za.env.appName,e;switch(t.toLowerCase()){case"visual studio code":e="Claude Code VSCode MCP";break;case"cursor":e="Claude Code Cursor MCP";break;case"windsurf":e="Claude Code Windsurf MCP";break;default:e=`Claude Code ${t} MCP`}return e}function mwe(t,e,r,n){t.logged.event(i=>{let o=n();o&&e.server?T9(r,i,o):AC.push(i)})}function $9(t,e,r,n,i,o,s){let a=new xb({name:fwe(),version:t.extension.packageJSON.version||"0.0.1"});a.tool("openDiff","Open a git diff for the file",{old_file_path:ee.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_path:ee.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_contents:ee.string().describe("Contents of the new file. If not provided then the current file contents of new_file_path will be used."),tab_name:ee.string().describe("Path to the file to show diff for. If not provided, uses active editor.")},async({old_file_path:b,new_file_path:y,new_file_contents:_,tab_name:x})=>{let w=[];try{return await fB(n,e,r,b,y,_,x,i,w)}catch(S){throw n.error(`Error opening diff: ${S}`),S}finally{for(let S of w)S.dispose()}}),a.tool("getDiagnostics","Get language diagnostics from VS Code",{uri:ee.string().optional().describe("Optional file URI to get diagnostics for. If not provided, gets diagnostics for all files.")},J6),a.tool("close_tab",{tab_name:ee.string()},async({tab_name:b})=>(await uB(b,n),setTimeout(()=>{yi()},500),{content:[{type:"text",text:"TAB_CLOSED"}]})),a.tool("closeAllDiffTabs","Close all diff tabs in the editor",{},async()=>{let b=await kb(n);return setTimeout(()=>{yi()},500),{content:[{type:"text",text:`CLOSED_${b}_DIFF_TABS`}]}}),a.tool("openFile","Open a file in the editor and optionally select a range of text",{filePath:ee.string().describe("Path to the file to open"),preview:ee.boolean().describe("Whether to open the file in preview mode").default(!1),startText:ee.string().describe("Text pattern to find the start of the selection range. Selects from the beginning of this match."),endText:ee.string().describe("Text pattern to find the end of the selection range. Selects up to the end of this match. If not provided, only the startText match will be selected."),selectToEndOfLine:ee.boolean().describe("If true, selection will extend to the end of the line containing the endText match.").default(!1),makeFrontmost:ee.boolean().describe("Whether to make the file the active editor tab. If false, the file will be opened in the background without changing focus.").default(!0)},{readOnlyHint:!0},K6),a.tool("getOpenEditors","Get information about currently open editors",{},Y6),a.tool("getWorkspaceFolders","Get all workspace folders currently open in the IDE",{},X6),a.tool("getCurrentSelection","Get the current text selection in the active editor",{},Q6),a.tool("checkDocumentDirty","Check if a document has unsaved changes (is dirty)",{filePath:ee.string().describe("Path to the file to check")},eB),a.tool("saveDocument","Save a document with unsaved changes",{filePath:ee.string().describe("Path to the file to save")},tB),a.tool("getLatestSelection","Get the most recent text selection (even if not in the active editor)",{},async()=>({content:[{type:"text",text:JSON.stringify(OC()||{success:!1,message:"No selection available"},null,2)}]})),a.tool("executeCode",`Execute python code in the Jupyter kernel for the current notebook file.
    
    All code will be executed in the current Jupyter kernel.
    
    Avoid declaring variables or modifying the state of the kernel unless the user
    explicitly asks for it.
    
    Any code executed will persist across calls to this tool, unless the kernel
    has been restarted.`,{code:ee.string().describe("The code to be executed on the kernel.")},({code:b})=>rB(n,b));let c=k9.createServer(),l=new IC.default({server:c}),u=null,d=null,m=Vh.getInstance(n),p=(0,S9.randomUUID)();l.on("connection",function(b,y){if(y.headers["x-claude-code-ide-authorization"]!==p){n.error("Unauthorized WebSocket connection attempt"),b.close(1008,"Unauthorized");return}if(n.info("New WS connection from:",y.url||"unknown"),u){n.info("Disconnecting previous WebSocket client"),d&&(m.unregisterClient(d),n.info(`Unregistered previous diagnostic client: ${d}`),d=null);try{u.close()}catch(w){n.error("Error closing previous transport:",w)}}let _=new Ub(b);u=_;let x=null;a.connect(_).then(()=>{n.info("MCP server connected to transport"),x=m.registerClient(w=>{_.send({jsonrpc:"2.0",method:"diagnostics_changed",params:{uris:w}}).catch(S=>{n.error("Error sending diagnostics notification:",S.message)})}),d=x,n.info(`Registered diagnostic client: ${x}`),setTimeout(()=>{let w=OC();w&&Lb(w,_);let S=[...AC];AC.length=0;for(let $ of S)T9(n,$,_)},500)}).catch(w=>{console.error("Error connecting transport:",w),u=null;try{b.close()}catch(S){n.error("Error closing WebSocket:",S)}}),b.on("close",()=>{n.info("WS client disconnected"),u===_&&(u=null,x&&d===x&&(m.unregisterClient(x),n.info(`Unregistered diagnostic client: ${x}`),d=null))})});let f=()=>u;mwe(s,a,n,f),w9(o,a,f);let v=x9(a,f),g=null;c.on("listening",()=>{let b=c.address();b&&typeof b!="string"&&(g=b.port)});let h=za.workspace.onDidChangeWorkspaceFolders(()=>{g!==null&&(cC(g,p),n.info(`Updated lock file for port ${g} with new workspace folders`))});return{httpServer:c,authToken:p,dispose:async()=>{g!==null&&(sB(g),n.info(`Deleted lock file for port ${g}`)),v.dispose(),h.dispose(),m.dispose(),c.close(),typeof a.close=="function"&&await a.close()}}}async function E9(t,e,r,n){try{let i=await aB(),o=null;return new Promise((s,a)=>{t.listen(i,"127.0.0.1",async()=>{n.info(`MCP Server running on port ${i} (localhost only)`),o=cC(i,e),console.log(`Created lock file at ${o}`);try{await mB(r,"CLAUDE_CODE_SSE_PORT",String(i)),s(i)}catch(c){console.error("Failed to set environment variables:",c),a(c)}}).on("error",c=>{console.error("Failed to start MCP server:",c),za.window.showErrorMessage(`Failed to start MCP server: ${c}`),a(c)})})}catch(i){throw console.error("Failed to start MCP server:",i),za.window.showErrorMessage(`Failed to start MCP server: ${i}`),i}}function T9(t,e,r){t.info("Logging event:",e.eventName,e.eventData);let n={eventName:e.eventName,eventData:e.eventData??{}};r.send({jsonrpc:"2.0",method:"log_event",params:n}).catch(i=>{t.error("Error sending log event:",i)})}var AC=[];var Pt=J(require("vscode"),1),C9=J(require("path"),1);var NC=J(pS(),1);function hwe(t){return typeof t=="string"&&["bottom","window","beside"].includes(t)}async function gwe(t,e,r=!0,n,i=[],o){t.info("Creating new Claude terminal"),r&&Pt.window.withProgress({location:Pt.ProgressLocation.Notification,title:"Claude Code launching...",cancellable:!1},async l=>new Promise(u=>setTimeout(u,2e3)));let s=o==="beside"||o===void 0?{viewColumn:Pt.ViewColumn.Beside}:o==="window"?{viewColumn:Pt.ViewColumn.One}:void 0,a=Pt.window.createTerminal({name:process.env.CLAUDE_CODE_TERMINAL_TITLE||"Claude Code",iconPath:Pt.Uri.file(C9.join(e.extensionPath,"resources","claude-logo.svg")),location:s,isTransient:!0});Pt.window.onDidEndTerminalShellExecution(l=>{l.terminal===a&&l.execution.commandLine.value.startsWith("claude ")&&(t.info(`Claude terminal closed after executing ${l.execution.commandLine.value}`),a.dispose())});let c=!1;return Pt.window.onDidChangeTerminalShellIntegration(async l=>{let u=["claude",...i];n&&u.push(n),l.terminal===a&&!c&&(c=!0,t.info("Terminal shell integration available"),l.shellIntegration.executeCommand((0,NC.quote)(u)))}),setTimeout(()=>{if(!a.shellIntegration&&!c){c=!0;let l=["claude",...i];n&&l.push(n),a.sendText((0,NC.quote)(l))}},3e3),a.show(),o==="window"&&await Pt.commands.executeCommand("workbench.action.moveEditorToNewWindow"),{terminal:a,claudeRunning:!0}}function P9(t,e,r){let n=async(i,o,s)=>{try{await gwe(t,e,!0,i,o,s)}catch(a){t.error("Error running Claude Code:",a),Pt.window.showErrorMessage(`Failed to run Claude Code: ${a}`)}};e.subscriptions.push(Pt.commands.registerCommand("claude-vscode.terminal.open",(i,o,s)=>{r.logEvent("run_claude_command");let a=typeof i=="string"?i:void 0,c=Array.isArray(o)?o:void 0,l=hwe(s)?s:void 0;n(a,c,l)})),e.subscriptions.push(Pt.commands.registerCommand("claude-vscode.terminal.open.keyboard",()=>{r.logEvent("run_claude_command_keyboard"),n()}))}function I9(t){let e=new Pt.EventEmitter;return t.push(Pt.commands.registerCommand("claude-code.acceptProposedDiff",async()=>{let r=Pt.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r}),yi()})),t.push(Pt.commands.registerCommand("claude-code.rejectProposedDiff",async()=>{let r=Pt.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r}),yi()})),e.event}function R9(t,e){let r=new Pt.EventEmitter;return t.push(Pt.commands.registerCommand("claude-code.insertAtMentioned",async()=>{if(e?.nativeAtMentionCallback){let n=Pt.window.activeTextEditor;if(!n)return;let i=n.document,o=Pt.workspace.asRelativePath(i.fileName),s=n.selection,a;if(s.isEmpty)a=`@${o}`;else{let l=s.start.line+1,u=s.end.line+1;a=l!==u?`@${o}#L${l}-${u}`:`@${o}#L${l}`}e.nativeAtMentionCallback(a)||r.fire({})}else r.fire({}),yi()})),r.event}var O9=J(require("vscode"),1),Fb=class{logged=new O9.EventEmitter;logEvent(e,r){this.logged.fire({eventName:e,eventData:r})}};function A9(t,e,r){t.subscriptions.push(e);let n=new Fb;e.info("Claude code extension is now active?");let i=new hf("_claude_fs_left");t.subscriptions.push(Ao.workspace.registerFileSystemProvider(i.scheme,i));let o=new hf("_claude_fs_right");t.subscriptions.push(Ao.workspace.registerFileSystemProvider(o.scheme,o)),t.subscriptions.push(vwe(o.scheme));let s=I9(t.subscriptions),a=R9(t.subscriptions,{output:e,context:t,nativeAtMentionCallback:r.nativeAtMentionCallback});P9(e,t,n);try{let{httpServer:c,authToken:l,dispose:u}=$9(t,i,o,e,s,a,n);E9(c,l,t,e).catch(d=>{e.error("Failed to start MCP server:",d),Ao.window.showErrorMessage(`Failed to start MCP server: ${d}`)}),t.subscriptions.push({dispose:async()=>{await u()}})}catch(c){e.error("Error during extension activation:",c),Ao.window.showErrorMessage(`Failed to activate Claude Code extension: ${c}`)}}function vwe(t){return Ao.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(n=>n?.document.uri.scheme===t);Ao.commands.executeCommand("setContext","claude-code.viewingProposedDiff",r)})}function jC(t,e){let r=t.document,n=r.fileName,i=t.selection;if(i.isEmpty)return{filePath:n,startLine:i.start.line+1,endLine:i.start.line+1};{let o;return e||(o=r.getText(i)),{filePath:n,startLine:i.start.line+1,endLine:i.end.line+1,startColumn:i.start.character,endColumn:i.end.character,selectedText:o}}}var DC=require("fs/promises"),N9=require("os"),iu=require("path"),j9="https://claude.ai/chrome",ywe="fcoeoabgfenejglbffodgkkbkcdhcgfn";function bwe(){return[ywe]}var _we=["chrome","brave","arc","edge","chromium","vivaldi","opera"],xwe={chrome:{macos:["Library","Application Support","Google","Chrome"],linux:[".config","google-chrome"],windows:{path:["Google","Chrome","User Data"]}},brave:{macos:["Library","Application Support","BraveSoftware","Brave-Browser"],linux:[".config","BraveSoftware","Brave-Browser"],windows:{path:["BraveSoftware","Brave-Browser","User Data"]}},arc:{macos:["Library","Application Support","Arc","User Data"],linux:[],windows:{path:["Arc","User Data"]}},chromium:{macos:["Library","Application Support","Chromium"],linux:[".config","chromium"],windows:{path:["Chromium","User Data"]}},edge:{macos:["Library","Application Support","Microsoft Edge"],linux:[".config","microsoft-edge"],windows:{path:["Microsoft","Edge","User Data"]}},vivaldi:{macos:["Library","Application Support","Vivaldi"],linux:[".config","vivaldi"],windows:{path:["Vivaldi","User Data"]}},opera:{macos:["Library","Application Support","com.operasoftware.Opera"],linux:[".config","opera"],windows:{path:["Opera Software","Opera Stable"],useRoaming:!0}}};function wwe(){let t=(0,N9.homedir)(),e=[];for(let r of _we){let n=xwe[r],i;switch(process.platform){case"darwin":i=n.macos;break;case"linux":i=n.linux;break;case"win32":{if(n.windows.path.length>0){let o=n.windows.useRoaming?(0,iu.join)(t,"AppData","Roaming"):(0,iu.join)(t,"AppData","Local");e.push({browser:r,path:(0,iu.join)(o,...n.windows.path)})}continue}}i&&i.length>0&&e.push({browser:r,path:(0,iu.join)(t,...i)})}return e}async function Swe(t,e){if(t.length===0)return e?.("[Claude in Chrome] No browser paths to check"),{isInstalled:!1,browser:null};let r=bwe();for(let{browser:n,path:i}of t){let o=[];try{o=await(0,DC.readdir)(i,{withFileTypes:!0})}catch(a){let c=a.code;if(c==="ENOENT"||c==="EACCES"||c==="EPERM")continue;throw a}let s=o.filter(a=>a.isDirectory()).filter(a=>a.name==="Default"||a.name.startsWith("Profile ")).map(a=>a.name);s.length>0&&e?.(`[Claude in Chrome] Found ${n} profiles: ${s.join(", ")}`);for(let a of s)for(let c of r){let l=(0,iu.join)(i,a,"Extensions",c);try{return await(0,DC.readdir)(l),e?.(`[Claude in Chrome] Extension ${c} found in ${n} ${a}`),{isInstalled:!0,browser:n}}catch{}}}return e?.("[Claude in Chrome] Extension not found in any browser"),{isInstalled:!1,browser:null}}async function kwe(t,e){return(await Swe(t,e)).isInstalled}async function D9(t){let e=wwe();return kwe(e,t)}var z9=!1;function $we(t){z9=!0;let e=_e.window.createOutputChannel("Claude VSCode",{log:!0});t.subscriptions.push(e),_e.commands.executeCommand("setContext","claude-vscode.updateSupported",!1);let r=new Oh(t);r.migrateAllSettings(),t.subscriptions.push(_e.workspace.onDidChangeConfiguration(h=>{h.affectsConfiguration("claudeCode.respectGitIgnore")&&jh.cache.clear?.()}));let n=new mf("_claude_vscode_fs_left");t.subscriptions.push(_e.workspace.registerFileSystemProvider(n.scheme,n));let i=new mf("_claude_vscode_fs_right");t.subscriptions.push(_e.workspace.registerFileSystemProvider(i.scheme,i));let o=new vb("_claude_vscode_fs_readonly");t.subscriptions.push(_e.workspace.registerTextDocumentContentProvider(o.scheme,o)),t.subscriptions.push(Iwe(i.scheme));let s=rL(t.subscriptions),a=new _e.EventEmitter;t.subscriptions.push(a);let c=a.event,l=Pwe(t.subscriptions),u=new hb(t.extensionUri,t,e,r,n,i,o,s,c,l,()=>$f);t.subscriptions.push(u),t.subscriptions.push(_e.workspace.onDidChangeConfiguration(h=>{(h.affectsConfiguration("chat.fontSize")||h.affectsConfiguration("chat.fontFamily")||h.affectsConfiguration("chat.editor.fontSize")||h.affectsConfiguration("chat.editor.fontFamily")||h.affectsConfiguration("chat.editor.fontWeight"))&&u.notifyFontConfigurationChange()})),Cwe(t.subscriptions,a,u),A9(t,e,{nativeAtMentionCallback:h=>u.hasVisibleWebview()?(a.fire(h),!0):!1});let d=_e.version.split(".").map(Number),m=d[0]??0,p=d[1]??0,f=m>1||m===1&&p>=106;f||_e.commands.executeCommand("setContext","claude-code:doesNotSupportSecondarySidebar",!0),t.subscriptions.push(_e.window.registerWebviewViewProvider("claudeVSCodeSidebar",u,{webviewOptions:{retainContextWhenHidden:!0}})),t.subscriptions.push(_e.window.registerWebviewViewProvider("claudeVSCodeSidebarSecondary",u,{webviewOptions:{retainContextWhenHidden:!0}})),_e.window.registerWebviewPanelSerializer("claudeVSCodePanel",{async deserializeWebviewPanel(h,b){u.setupPanel(h,void 0,void 0)}}),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.editor.open",async(h,b)=>{r.setPreferredLocation("panel");let{startedInNewColumn:y}=u.createPanel(h,b);y&&await _e.commands.executeCommand("workbench.action.lockEditorGroup")})),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.editor.openLast",async()=>{if(r.getPreferredLocation()==="sidebar"){await _e.commands.executeCommand("claude-vscode.sidebar.open");return}await _e.commands.executeCommand("claude-vscode.editor.open")})),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.newConversation",async()=>{u.notifyCreateNewConversation()}));let v=_e.window.createStatusBarItem(_e.StatusBarAlignment.Right);v.text="\u273B Claude Code",v.command="claude-vscode.editor.openLast",v.tooltip="Open Claude Code",t.subscriptions.push(v),r.getPreferredLocation()==="sidebar"&&f&&v.show(),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.sidebar.open",async()=>{if(r.setPreferredLocation("sidebar"),!f){_e.window.showWarningMessage("Secondary Sidebar not supported in this version of VSCode. Please update your VSCode to use. Opening in Activity Bar instead."),await _e.commands.executeCommand("claudeVSCodeSidebar.focus");return}await _e.commands.executeCommand("claudeVSCodeSidebarSecondary.focus"),v.show()})),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.window.open",async()=>{u.createPanel(void 0,void 0),await _e.commands.executeCommand("workbench.action.moveEditorToNewWindow"),v.hide()})),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.logout",async()=>{await new rl(Gl(e),mb()).logout()?(await u.notifyLogout(),_e.window.showInformationMessage("Successfully logged out from Claude")):_e.window.showErrorMessage("Failed to logout completely. Some credentials may remain.")})),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.showLogs",()=>{e.show()})),t.subscriptions.push(_e.commands.registerCommand("claude-vscode.openWalkthrough",()=>{let h=t.extension.id;_e.commands.executeCommand("workbench.action.openWalkthrough",`${h}#claude-code-walkthrough`,!1)})),t.subscriptions.push(_e.window.registerUriHandler({handleUri(h){if(h.path==="/install-plugin"){let b=new URLSearchParams(h.query),y=b.get("plugin"),_=b.get("marketplace")??"anthropics/claude-plugins-official";if(!y){_e.window.showErrorMessage("Invalid plugin installation URL. The plugin parameter is required.");return}_e.commands.executeCommand("claude-vscode.editor.openLast").then(()=>{u.notifyOpenPluginsDialog(y,_)})}}})),process.env.ENABLE_INSTALL_PLUGIN==="true"&&t.subscriptions.push(_e.commands.registerCommand("claude-vscode.installPlugin",async()=>{let h=await _e.window.showInputBox({prompt:"plugin@marketplace (e.g. my-plugin@https://github.com/org/repo)",placeHolder:"plugin@marketplace"});if(!h)return;let[b,...y]=h.split("@"),_=y.join("@")||"anthropics/claude-plugins-official";b&&(await _e.commands.executeCommand("claude-vscode.editor.openLast"),u.notifyOpenPluginsDialog(b,_))})),Twe(t),Ewe(t,e)}async function Ewe(t,e){}async function Twe(t){t.globalState.get("lastClaudeLocationMigrated")||t.globalState.get("walkthroughShown")!==void 0||(await t.globalState.update("walkthroughShown",Date.now()),setTimeout(()=>{_e.commands.executeCommand("claude-vscode.openWalkthrough")},1e3))}function Cwe(t,e,r){t.push(_e.commands.registerCommand("claude-vscode.insertAtMention",async()=>{let n=_e.window.activeTextEditor;if(!n)return;let i=n.document,o=_e.workspace.asRelativePath(i.fileName),s=n.selection;if(s.isEmpty){e.fire(`@${o}`);return}let a=s.start.line+1,c=s.end.line+1,l=a!==c?`@${o}#${a}-${c}`:`@${o}#${a}`;e.fire(l)})),t.push(_e.commands.registerCommand("claude-vscode.blur",async()=>{_e.commands.executeCommand("workbench.action.focusFirstEditorGroup")})),t.push(_e.commands.registerCommand("claude-vscode.focus",async()=>{r.hasVisibleWebview()||await _e.commands.executeCommand("claude-vscode.editor.openLast");let n=_e.window.activeTextEditor;if(!n){e.fire("");return}let i=n.document,o=_e.workspace.asRelativePath(i.fileName),s=n.selection;if(s.isEmpty){e.fire("");return}let a=s.start.line+1,c=s.end.line+1,l=a!==c?`@${o}#${a}-${c}`:`@${o}#${a}`;e.fire(l)}))}var $f;function Pwe(t){let e=new _e.EventEmitter;return t.push(_e.window.onDidChangeTextEditorSelection(async r=>{if(r.textEditor!==_e.window.activeTextEditor)return;let n=await jh(r.textEditor.document.uri);if(!(r.textEditor.document.uri.scheme==="comment"||r.textEditor.document.uri.scheme==="output")){if(r.selections.length===0){e.fire(void 0);return}$f=jC(r.textEditor,n),e.fire($f)}})),t.push(_e.window.onDidChangeActiveTextEditor(async r=>{if(!r)return;let n=await jh(r.document.uri);$f=jC(r,n),e.fire($f)})),e.event}function Iwe(t){return _e.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(n=>n?.document.uri.scheme===t);_e.commands.executeCommand("setContext","claude-vscode.viewingProposedDiff",r)})}function Rwe(){console.log("Claude code extension is now deactivated"),z9=!1}function Owe(){return _e.window.tabGroups.all.flatMap(t=>t.tabs)}0&&(module.exports={activate,deactivate,openTabs});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
